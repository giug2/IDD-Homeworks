<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2406.14898] Safely Learning with Private Data: A Federated Learning Framework for Large Language Model</title><meta property="og:description" content="Private data, being larger and quality-higher than public data, can greatly improve large language models (LLM). However, due to privacy concerns, this data is often dispersed in multiple silos, making its secure utili…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Safely Learning with Private Data: A Federated Learning Framework for Large Language Model">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Safely Learning with Private Data: A Federated Learning Framework for Large Language Model">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2406.14898">

<!--Generated on Sat Jul  6 00:41:26 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Safely Learning with Private Data: 
<br class="ltx_break">A Federated Learning Framework for Large Language Model</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<span id="id3.1.id1" class="ltx_text ltx_font_bold">JiaYing Zheng<sup id="id3.1.id1.1" class="ltx_sup"><span id="id3.1.id1.1.1" class="ltx_text ltx_font_medium">1</span></sup></span>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<span id="id1.1.1" class="ltx_text ltx_font_bold">HaiNan Zhang<sup id="id1.1.1.1" class="ltx_sup"><span id="id1.1.1.1.1" class="ltx_text ltx_font_medium">1 </span><math id="id1.1.1.1.m1.1" class="ltx_Math" alttext="*" display="inline"><semantics id="id1.1.1.1.m1.1a"><mo id="id1.1.1.1.m1.1.1" xref="id1.1.1.1.m1.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="id1.1.1.1.m1.1b"><times id="id1.1.1.1.m1.1.1.cmml" xref="id1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.1.m1.1c">*</annotation></semantics></math></sup></span>
</span><span class="ltx_author_notes"><math id="id2.2.m1.1" class="ltx_Math" alttext="*" display="inline"><semantics id="id2.2.m1.1a"><mo id="id2.2.m1.1.1" xref="id2.2.m1.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="id2.2.m1.1b"><times id="id2.2.m1.1.1.cmml" xref="id2.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id2.2.m1.1c">*</annotation></semantics></math><span id="id4.3.id1" class="ltx_text ltx_font_italic"> Corresponding author.</span>
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> <span id="id5.1.id1" class="ltx_text ltx_font_bold">LingXiang Wang<sup id="id5.1.id1.1" class="ltx_sup"><span id="id5.1.id1.1.1" class="ltx_text ltx_font_medium">1</span></sup></span>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<span id="id6.1.id1" class="ltx_text ltx_font_bold">WangJie Qiu<sup id="id6.1.id1.1" class="ltx_sup"><span id="id6.1.id1.1.1" class="ltx_text ltx_font_medium">1</span></sup></span>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<br class="ltx_break"><span id="id7.1.id1" class="ltx_text ltx_font_bold">HongWei Zheng<sup id="id7.1.id1.1" class="ltx_sup"><span id="id7.1.id1.1.1" class="ltx_text ltx_font_medium">2</span></sup></span>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<span id="id8.1.id1" class="ltx_text ltx_font_bold">ZhiMing Zheng<sup id="id8.1.id1.1" class="ltx_sup"></sup></span>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id9.id1" class="ltx_p">Private data, being larger and quality-higher than public data, can greatly improve large language models (LLM). However, due to privacy concerns, this data is often dispersed in multiple silos, making its secure utilization for LLM training a challenge.
Federated learning (FL) is an ideal solution for training models with distributed private data, but traditional frameworks like FedAvg are unsuitable for LLM due to their high computational demands on clients. An alternative, split learning, offloads most training parameters to the server while training embedding and output layers locally, making it more suitable for LLM. Nonetheless, it faces significant challenges in security and efficiency. Firstly, the gradients of embeddings are prone to attacks, leading to potential reverse engineering of private data. Furthermore, the server’s limitation of handle only one client’s training request at a time hinders parallel training, severely impacting training efficiency.
In this paper, we propose a Federated Learning framework for LLM, named FL-GLM, which prevents data leakage caused by both server-side and peer-client attacks while improving training efficiency.
Specifically, we first place the input block and output block on local client to prevent embedding gradient attacks from server. Secondly, we employ key-encryption during client-server communication to prevent reverse engineering attacks from peer-clients. Lastly, we employ optimization methods like client-batching or server-hierarchical, adopting different acceleration methods based on the actual computational capabilities of the server.
Experimental results on NLU and generation tasks demonstrate that FL-GLM achieves comparable metrics to centralized chatGLM model, validating the effectiveness of our federated learning framework.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The code is avaliable at: <a target="_blank" href="https://github.com/TAP-LLM/SplitFedLLM" title="" class="ltx_ref ltx_href">https://github.com/TAP-LLM/SplitFedLLM</a></span></span></span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Existing large language models (LLM) have achieved astonishing results by utilizing vast amounts of public data and massive parameters. In comparison to public data, private data holds advantages in both quantity and quality, because private datasets typically encompass more comprehensive and detailed information about individuals or organizations, and the data production process is more rigorous. Therefore, private data can undoubtedly further enhance the performance of LLM.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2406.14898/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="462" height="543" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Model architecture of FedBert and FL-GLM. </figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">However, private data is often stored in isolated data silos. For example, mobile users’ data is kept locally, involving a significant amount of personal privacy. Considering privacy and security, LLM cannot store private data in a centralized manner for training. Hence, securely leveraging private data for language model training remains a challenging problem.
An ideal solution is to utilize the Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib15" title="" class="ltx_ref">2020a</a>)</cite> framework, which allows data to be retained on the user device for local training and only passes the model parameters to server for model aggregation. This approach achieves the goal of keeping the data stationary while making the model updates. By using FL for LLM training, data privacy can be preserved, and the performance of LLM can be further improved.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Unfortunately, traditional FL frameworks, such as FedAvg <cite class="ltx_cite ltx_citemacro_citep">(Stremmel and Singh, <a href="#bib.bib28" title="" class="ltx_ref">2021</a>)</cite> and FedProx<cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib16" title="" class="ltx_ref">2020b</a>)</cite>, are not suitable for LLMs because they require each client to have sufficient computational resources to train the entire LLM. As an alternative method, transformer with split learning, represented by FedBERT <cite class="ltx_cite ltx_citemacro_citep">(Tian et al., <a href="#bib.bib31" title="" class="ltx_ref">2022</a>)</cite> in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(a), focuses most of the parameters on the server while continuously training the embedding layer and output layer on the local client, making it more suitable for LLM. The process involves the client using the embedding layer for data input and forwarding it to the server, which then computes and returns the output states. The client calculates loss, sends gradients back for server updates, and receives updated gradients for the embedding layer. However, this method presents security risks. Embedding gradients are vulnerable to attacks <cite class="ltx_cite ltx_citemacro_citep">(Yaldiz et al., <a href="#bib.bib33" title="" class="ltx_ref">2023</a>)</cite>, potentially allowing attackers to reconstruct private data through beam search <cite class="ltx_cite ltx_citemacro_citep">(Gupta et al., <a href="#bib.bib9" title="" class="ltx_ref">2022</a>)</cite> or reverse-engineered <cite class="ltx_cite ltx_citemacro_citep">(Asnani et al., <a href="#bib.bib3" title="" class="ltx_ref">2023</a>)</cite>. Additionally, since the server processes one client at a time, it hinders parallel training and reduces efficiency.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this paper, we propose a FL framework called FL-GLM for LLM, as shown in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(b). We partition the transformers of the chatGLM into three parts: input and output blocks are stored on the client (shared with peers), while the remaining large parameters are kept on the server. During the training process, the client first performs forward propagation on the input data to obtain hidden states. Then, these hidden states are encrypted with a secure key and sent to the server. Subsequently, the server, either in a client-batch or server-layered approach, receives more client hidden states at a training time and executes forward propagation to send output hidden states back to each client.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">It is clear that our FL-GLM framework can effectively prevent data leakage attacks from both servers and peer-clients while enhancing training efficiency. Clients and servers jointly own and utilize the entire model, with certain input and output blocks placed on local clients to thwart embedding gradient attacks from the server. Although sharing input and output blocks between all clients can improve results, interception by peers poses risks, which can be resolved through key encryption during client-server communication. To overcome server capacity limitations, we propose various training acceleration methods. For clusters with multiple machines and GPUs, a hierarchical server architecture initializes sub-servers for parallel client training, with central server aggregating and distributing models. With single machines and multiple GPUs, the client-batch method concatenates client information for training, enabling parallel execution and enhanced efficiency compared to traditional serial execution in split learning.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Experimental results on NLU and generation tasks demonstrate that FL-GLM achieves performance comparable to centralized chatGLM-6B models, validating the effectiveness of our framework. Further analysis of training costs indicates that our client-batch and server-hierarchical mechanisms can save more than 48% of training time.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">The innovations in this paper are as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">To the best of our knowledge, we are the first to design a federated learning framework specifically tailored for LLMs. Starting from user privacy concerns and considering the computational demands of LLMs, we improve split learning to adapt to LLMs, and develop a reasonable, effective, and secure federated LLM framework.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We propose client-batch and server-hierarchical acceleration optimization methods based on the server’s computational capacity to address the issue of low training efficiency in split learning.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Experimental results on SuperGLUE and abstractive summarization datasets demonstrate that the proposed FL-GLM model can obtain comparable performance to centralized chatGLM models, validating the effectiveness of our FL framework.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Federated Learning in LM</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Federated Learning (FL) has emerged as a promising approach to train language models (LM) in a decentralized manner while respecting user privacy and data safety.
Federated Averaging (FedAvg) <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib24" title="" class="ltx_ref">2017</a>)</cite> is a popular federated optimization algorithm used in language models <cite class="ltx_cite ltx_citemacro_citep">(Hard et al., <a href="#bib.bib10" title="" class="ltx_ref">2018</a>; Chen et al., <a href="#bib.bib6" title="" class="ltx_ref">2019</a>; Stremmel and Singh, <a href="#bib.bib28" title="" class="ltx_ref">2021</a>)</cite>. In FedAvg, each client trains its model on locally stored data and communicates updates to the server. The server then performs weighted aggregation of these updates to create a new global model. To reduce local training rounds and accelerate the learning process,  <cite class="ltx_cite ltx_citemacro_citep">(Stremmel and Singh, <a href="#bib.bib28" title="" class="ltx_ref">2021</a>)</cite> proposes to utilize the pre-trained global models on FedAvg.  <cite class="ltx_cite ltx_citemacro_citep">(Ji et al., <a href="#bib.bib13" title="" class="ltx_ref">2019</a>)</cite> proposes Attentive Federated Aggregation (FedAtt) and applies a layer-wise soft attention mechanism to the trained parameters of the neural network model.
Previous works <cite class="ltx_cite ltx_citemacro_citep">(Jalalirad et al., <a href="#bib.bib12" title="" class="ltx_ref">2019</a>; Thakkar et al., <a href="#bib.bib29" title="" class="ltx_ref">2020</a>)</cite> have integrated DP mechanisms into FedAvg and FedAtt, respectively.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">Split learning, represented by SplitFed <cite class="ltx_cite ltx_citemacro_citep">(Thapa et al., <a href="#bib.bib30" title="" class="ltx_ref">2022</a>)</cite>, has emerged as a distributed and collaborative training approach to enable efficient training on resource-constrained devices <cite class="ltx_cite ltx_citemacro_citep">(Abedi and Khan, <a href="#bib.bib1" title="" class="ltx_ref">2020</a>; Abuadbba et al., <a href="#bib.bib2" title="" class="ltx_ref">2020</a>; Rahman et al., <a href="#bib.bib27" title="" class="ltx_ref">2020</a>; Matsubara and Levorato, <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite>, such as mobile devices or small clients without GPU resources.
To address sequential data training in language models, FedBERT <cite class="ltx_cite ltx_citemacro_citep">(Tian et al., <a href="#bib.bib31" title="" class="ltx_ref">2022</a>)</cite> introduces a novel federated learning framework. It splits language model pre-training, easing limited computing resources on client devices. FedBERT segments the BERT model into Embedding, Transformer, and Output layers. It trains the Transformer layer on a powerful server, while less demanding layers (Embedding and Output) train on client devices. However, this setup incurs high communication costs and risks data leakage via embedding gradient attacks.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Attacks and Defenses</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">In federated learning, various eavesdroppers threaten client privacy, including servers attempting data recovery and peer-clients intercepting data sent to servers.In NLP, attacks from embedding gradients can easily recover users’s private data.  <cite class="ltx_cite ltx_citemacro_citep">(Gupta et al., <a href="#bib.bib9" title="" class="ltx_ref">2022</a>)</cite> proposes to infer which words the client used by observing the non-zero values in embedding gradients. They then use beam search and resort to arrange these words, thereby reconstructing private data.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">To counter this, they recommend freezing embedding layers during training.  <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al., <a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite> briefly mentions defending by adding differentially private noise or setting small gradients to zero (gradient clipping).  <cite class="ltx_cite ltx_citemacro_citep">(Huang et al., <a href="#bib.bib11" title="" class="ltx_ref">2020</a>)</cite> propose MixUp data augmentation on the BERT model’s [CLS] token.  <cite class="ltx_cite ltx_citemacro_citep">(Yaldiz et al., <a href="#bib.bib33" title="" class="ltx_ref">2023</a>)</cite> suggest server-side cosine similarity checks on client-uploaded weights to filter out malicious clients. However, these defenses often reduce model accuracy <cite class="ltx_cite ltx_citemacro_citep">(Yu et al., <a href="#bib.bib34" title="" class="ltx_ref">2021</a>; Li et al., <a href="#bib.bib17" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">In order to retain the model structure and minimize the performance loss caused by model changes, we propose to move some head layers to the client and use a key-encryption mechanism to protect data privacy during client-server communication. This not only prevents gradient attacks from the server but also prevents information eavesdropping from peers.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Model</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we provide the details of the FL-GLM framework, as shown in Figure  <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(b). FL-GLM consists of three parts: model split, encrypted transmission, and parallel acceleration. Firstly, we split LLM into three parts, saving the first block 0 and the last block N-1 on the local client and placing the remaining parameters on the server. Then, the smashed data is encrypted using keys during client-server transmission. Finally, the server employs either client-batch or hierarchical-server methods to achieve parallel acceleration.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2406.14898/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="369" height="156" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Model Split with p-tuning v2 fine-tuning by training a prefix encoder to adjust LLM-Block outputs.
</figcaption>
</figure>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Model Split</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.3" class="ltx_p">For protecting data privacy, the FL-GLM framework splits LLM into three parts for deployment. During forward operations, the client-side model processes private data to generate smashed data, which is then sent to the server-side model for computation. Encrypting the smashed data ensures its security.
Given the input data <math id="S3.SS1.p1.1.m1.3" class="ltx_Math" alttext="x=\left\{x_{1},\dots,x_{L}\right\}" display="inline"><semantics id="S3.SS1.p1.1.m1.3a"><mrow id="S3.SS1.p1.1.m1.3.3" xref="S3.SS1.p1.1.m1.3.3.cmml"><mi id="S3.SS1.p1.1.m1.3.3.4" xref="S3.SS1.p1.1.m1.3.3.4.cmml">x</mi><mo id="S3.SS1.p1.1.m1.3.3.3" xref="S3.SS1.p1.1.m1.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.3.3.2.2" xref="S3.SS1.p1.1.m1.3.3.2.3.cmml"><mo id="S3.SS1.p1.1.m1.3.3.2.2.3" xref="S3.SS1.p1.1.m1.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.1.m1.3.3.2.2.4" xref="S3.SS1.p1.1.m1.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">…</mi><mo id="S3.SS1.p1.1.m1.3.3.2.2.5" xref="S3.SS1.p1.1.m1.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.1.m1.3.3.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.3.3.2.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml">x</mi><mi id="S3.SS1.p1.1.m1.3.3.2.2.2.3" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml">L</mi></msub><mo id="S3.SS1.p1.1.m1.3.3.2.2.6" xref="S3.SS1.p1.1.m1.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.3b"><apply id="S3.SS1.p1.1.m1.3.3.cmml" xref="S3.SS1.p1.1.m1.3.3"><eq id="S3.SS1.p1.1.m1.3.3.3.cmml" xref="S3.SS1.p1.1.m1.3.3.3"></eq><ci id="S3.SS1.p1.1.m1.3.3.4.cmml" xref="S3.SS1.p1.1.m1.3.3.4">𝑥</ci><set id="S3.SS1.p1.1.m1.3.3.2.3.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2"><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2">𝑥</ci><cn type="integer" id="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">…</ci><apply id="S3.SS1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2">𝑥</ci><ci id="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3">𝐿</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.3c">x=\left\{x_{1},\dots,x_{L}\right\}</annotation></semantics></math> and the next output <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">y</annotation></semantics></math>, the smashed data <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="h_{0}" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">h</mi><mn id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">ℎ</ci><cn type="integer" id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">h_{0}</annotation></semantics></math> of the client is defined as:</p>
<table id="S3.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex1.m1.2" class="ltx_Math" alttext="h_{0}=Block_{0}\left(Embedding\left(x\right)\right)," display="block"><semantics id="S3.Ex1.m1.2a"><mrow id="S3.Ex1.m1.2.2.1" xref="S3.Ex1.m1.2.2.1.1.cmml"><mrow id="S3.Ex1.m1.2.2.1.1" xref="S3.Ex1.m1.2.2.1.1.cmml"><msub id="S3.Ex1.m1.2.2.1.1.3" xref="S3.Ex1.m1.2.2.1.1.3.cmml"><mi id="S3.Ex1.m1.2.2.1.1.3.2" xref="S3.Ex1.m1.2.2.1.1.3.2.cmml">h</mi><mn id="S3.Ex1.m1.2.2.1.1.3.3" xref="S3.Ex1.m1.2.2.1.1.3.3.cmml">0</mn></msub><mo id="S3.Ex1.m1.2.2.1.1.2" xref="S3.Ex1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.Ex1.m1.2.2.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.3.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.4" xref="S3.Ex1.m1.2.2.1.1.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.2a" xref="S3.Ex1.m1.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.5" xref="S3.Ex1.m1.2.2.1.1.1.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.2b" xref="S3.Ex1.m1.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.6" xref="S3.Ex1.m1.2.2.1.1.1.6.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.2c" xref="S3.Ex1.m1.2.2.1.1.1.2.cmml">​</mo><msub id="S3.Ex1.m1.2.2.1.1.1.7" xref="S3.Ex1.m1.2.2.1.1.1.7.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.7.2" xref="S3.Ex1.m1.2.2.1.1.1.7.2.cmml">k</mi><mn id="S3.Ex1.m1.2.2.1.1.1.7.3" xref="S3.Ex1.m1.2.2.1.1.1.7.3.cmml">0</mn></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.2d" xref="S3.Ex1.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1a" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.4" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1b" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.5" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1c" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.6" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1d" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.7" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.7.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1e" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.8" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1f" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.9" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1g" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.1.10" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.10.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1h" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1.1.1.11.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.1.11.2.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">x</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.1.11.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.2.2.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.Ex1.m1.2.2.1.2" xref="S3.Ex1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.2b"><apply id="S3.Ex1.m1.2.2.1.1.cmml" xref="S3.Ex1.m1.2.2.1"><eq id="S3.Ex1.m1.2.2.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.2"></eq><apply id="S3.Ex1.m1.2.2.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.3.2">ℎ</ci><cn type="integer" id="S3.Ex1.m1.2.2.1.1.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.3.3">0</cn></apply><apply id="S3.Ex1.m1.2.2.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1"><times id="S3.Ex1.m1.2.2.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2"></times><ci id="S3.Ex1.m1.2.2.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.3">𝐵</ci><ci id="S3.Ex1.m1.2.2.1.1.1.4.cmml" xref="S3.Ex1.m1.2.2.1.1.1.4">𝑙</ci><ci id="S3.Ex1.m1.2.2.1.1.1.5.cmml" xref="S3.Ex1.m1.2.2.1.1.1.5">𝑜</ci><ci id="S3.Ex1.m1.2.2.1.1.1.6.cmml" xref="S3.Ex1.m1.2.2.1.1.1.6">𝑐</ci><apply id="S3.Ex1.m1.2.2.1.1.1.7.cmml" xref="S3.Ex1.m1.2.2.1.1.1.7"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.7.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.7">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.7.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.7.2">𝑘</ci><cn type="integer" id="S3.Ex1.m1.2.2.1.1.1.7.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.7.3">0</cn></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1"><times id="S3.Ex1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.1"></times><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.2">𝐸</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.3">𝑚</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.4.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.4">𝑏</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.5.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.5">𝑒</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.6.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.6">𝑑</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.7.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.7">𝑑</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.8.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.8">𝑖</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.9.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.9">𝑛</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.1.10.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.1.10">𝑔</ci><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.2c">h_{0}=Block_{0}\left(Embedding\left(x\right)\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.6" class="ltx_p">where <math id="S3.SS1.p1.4.m1.1" class="ltx_Math" alttext="Block_{0}" display="inline"><semantics id="S3.SS1.p1.4.m1.1a"><mrow id="S3.SS1.p1.4.m1.1.1" xref="S3.SS1.p1.4.m1.1.1.cmml"><mi id="S3.SS1.p1.4.m1.1.1.2" xref="S3.SS1.p1.4.m1.1.1.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.4.m1.1.1.1" xref="S3.SS1.p1.4.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.4.m1.1.1.3" xref="S3.SS1.p1.4.m1.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.4.m1.1.1.1a" xref="S3.SS1.p1.4.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.4.m1.1.1.4" xref="S3.SS1.p1.4.m1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.4.m1.1.1.1b" xref="S3.SS1.p1.4.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.4.m1.1.1.5" xref="S3.SS1.p1.4.m1.1.1.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.4.m1.1.1.1c" xref="S3.SS1.p1.4.m1.1.1.1.cmml">​</mo><msub id="S3.SS1.p1.4.m1.1.1.6" xref="S3.SS1.p1.4.m1.1.1.6.cmml"><mi id="S3.SS1.p1.4.m1.1.1.6.2" xref="S3.SS1.p1.4.m1.1.1.6.2.cmml">k</mi><mn id="S3.SS1.p1.4.m1.1.1.6.3" xref="S3.SS1.p1.4.m1.1.1.6.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m1.1b"><apply id="S3.SS1.p1.4.m1.1.1.cmml" xref="S3.SS1.p1.4.m1.1.1"><times id="S3.SS1.p1.4.m1.1.1.1.cmml" xref="S3.SS1.p1.4.m1.1.1.1"></times><ci id="S3.SS1.p1.4.m1.1.1.2.cmml" xref="S3.SS1.p1.4.m1.1.1.2">𝐵</ci><ci id="S3.SS1.p1.4.m1.1.1.3.cmml" xref="S3.SS1.p1.4.m1.1.1.3">𝑙</ci><ci id="S3.SS1.p1.4.m1.1.1.4.cmml" xref="S3.SS1.p1.4.m1.1.1.4">𝑜</ci><ci id="S3.SS1.p1.4.m1.1.1.5.cmml" xref="S3.SS1.p1.4.m1.1.1.5">𝑐</ci><apply id="S3.SS1.p1.4.m1.1.1.6.cmml" xref="S3.SS1.p1.4.m1.1.1.6"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m1.1.1.6.1.cmml" xref="S3.SS1.p1.4.m1.1.1.6">subscript</csymbol><ci id="S3.SS1.p1.4.m1.1.1.6.2.cmml" xref="S3.SS1.p1.4.m1.1.1.6.2">𝑘</ci><cn type="integer" id="S3.SS1.p1.4.m1.1.1.6.3.cmml" xref="S3.SS1.p1.4.m1.1.1.6.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m1.1c">Block_{0}</annotation></semantics></math> is the <math id="S3.SS1.p1.5.m2.1" class="ltx_Math" alttext="0^{th}" display="inline"><semantics id="S3.SS1.p1.5.m2.1a"><msup id="S3.SS1.p1.5.m2.1.1" xref="S3.SS1.p1.5.m2.1.1.cmml"><mn id="S3.SS1.p1.5.m2.1.1.2" xref="S3.SS1.p1.5.m2.1.1.2.cmml">0</mn><mrow id="S3.SS1.p1.5.m2.1.1.3" xref="S3.SS1.p1.5.m2.1.1.3.cmml"><mi id="S3.SS1.p1.5.m2.1.1.3.2" xref="S3.SS1.p1.5.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.5.m2.1.1.3.1" xref="S3.SS1.p1.5.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p1.5.m2.1.1.3.3" xref="S3.SS1.p1.5.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m2.1b"><apply id="S3.SS1.p1.5.m2.1.1.cmml" xref="S3.SS1.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m2.1.1.1.cmml" xref="S3.SS1.p1.5.m2.1.1">superscript</csymbol><cn type="integer" id="S3.SS1.p1.5.m2.1.1.2.cmml" xref="S3.SS1.p1.5.m2.1.1.2">0</cn><apply id="S3.SS1.p1.5.m2.1.1.3.cmml" xref="S3.SS1.p1.5.m2.1.1.3"><times id="S3.SS1.p1.5.m2.1.1.3.1.cmml" xref="S3.SS1.p1.5.m2.1.1.3.1"></times><ci id="S3.SS1.p1.5.m2.1.1.3.2.cmml" xref="S3.SS1.p1.5.m2.1.1.3.2">𝑡</ci><ci id="S3.SS1.p1.5.m2.1.1.3.3.cmml" xref="S3.SS1.p1.5.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m2.1c">0^{th}</annotation></semantics></math> block of LLM, and <math id="S3.SS1.p1.6.m3.1" class="ltx_Math" alttext="Embedding" display="inline"><semantics id="S3.SS1.p1.6.m3.1a"><mrow id="S3.SS1.p1.6.m3.1.1" xref="S3.SS1.p1.6.m3.1.1.cmml"><mi id="S3.SS1.p1.6.m3.1.1.2" xref="S3.SS1.p1.6.m3.1.1.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.3" xref="S3.SS1.p1.6.m3.1.1.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1a" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.4" xref="S3.SS1.p1.6.m3.1.1.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1b" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.5" xref="S3.SS1.p1.6.m3.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1c" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.6" xref="S3.SS1.p1.6.m3.1.1.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1d" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.7" xref="S3.SS1.p1.6.m3.1.1.7.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1e" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.8" xref="S3.SS1.p1.6.m3.1.1.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1f" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.9" xref="S3.SS1.p1.6.m3.1.1.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m3.1.1.1g" xref="S3.SS1.p1.6.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p1.6.m3.1.1.10" xref="S3.SS1.p1.6.m3.1.1.10.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m3.1b"><apply id="S3.SS1.p1.6.m3.1.1.cmml" xref="S3.SS1.p1.6.m3.1.1"><times id="S3.SS1.p1.6.m3.1.1.1.cmml" xref="S3.SS1.p1.6.m3.1.1.1"></times><ci id="S3.SS1.p1.6.m3.1.1.2.cmml" xref="S3.SS1.p1.6.m3.1.1.2">𝐸</ci><ci id="S3.SS1.p1.6.m3.1.1.3.cmml" xref="S3.SS1.p1.6.m3.1.1.3">𝑚</ci><ci id="S3.SS1.p1.6.m3.1.1.4.cmml" xref="S3.SS1.p1.6.m3.1.1.4">𝑏</ci><ci id="S3.SS1.p1.6.m3.1.1.5.cmml" xref="S3.SS1.p1.6.m3.1.1.5">𝑒</ci><ci id="S3.SS1.p1.6.m3.1.1.6.cmml" xref="S3.SS1.p1.6.m3.1.1.6">𝑑</ci><ci id="S3.SS1.p1.6.m3.1.1.7.cmml" xref="S3.SS1.p1.6.m3.1.1.7">𝑑</ci><ci id="S3.SS1.p1.6.m3.1.1.8.cmml" xref="S3.SS1.p1.6.m3.1.1.8">𝑖</ci><ci id="S3.SS1.p1.6.m3.1.1.9.cmml" xref="S3.SS1.p1.6.m3.1.1.9">𝑛</ci><ci id="S3.SS1.p1.6.m3.1.1.10.cmml" xref="S3.SS1.p1.6.m3.1.1.10">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m3.1c">Embedding</annotation></semantics></math> is the embedding layer of LLM.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.5" class="ltx_p">The server-side model contains the <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="1^{th}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msup id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mn id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">1</mn><mrow id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml"><mi id="S3.SS1.p2.1.m1.1.1.3.2" xref="S3.SS1.p2.1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.1.1.3.1" xref="S3.SS1.p2.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.1.m1.1.1.3.3" xref="S3.SS1.p2.1.m1.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">superscript</csymbol><cn type="integer" id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">1</cn><apply id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3"><times id="S3.SS1.p2.1.m1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.1.1.3.1"></times><ci id="S3.SS1.p2.1.m1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.1.1.3.2">𝑡</ci><ci id="S3.SS1.p2.1.m1.1.1.3.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">1^{th}</annotation></semantics></math> to the <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\text{N-2}^{th}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><msup id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mtext id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2a.cmml">N-2</mtext><mrow id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml"><mi id="S3.SS1.p2.2.m2.1.1.3.2" xref="S3.SS1.p2.2.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.2.m2.1.1.3.1" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.2.m2.1.1.3.3" xref="S3.SS1.p2.2.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2a.cmml" xref="S3.SS1.p2.2.m2.1.1.2"><mtext id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">N-2</mtext></ci><apply id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><times id="S3.SS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.1.1.3.1"></times><ci id="S3.SS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.1.1.3.2">𝑡</ci><ci id="S3.SS1.p2.2.m2.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\text{N-2}^{th}</annotation></semantics></math> blocks of LLM, denoted as <math id="S3.SS1.p2.3.m3.2" class="ltx_Math" alttext="Block_{(1,\text{N-2})}" display="inline"><semantics id="S3.SS1.p2.3.m3.2a"><mrow id="S3.SS1.p2.3.m3.2.3" xref="S3.SS1.p2.3.m3.2.3.cmml"><mi id="S3.SS1.p2.3.m3.2.3.2" xref="S3.SS1.p2.3.m3.2.3.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.3.m3.2.3.1" xref="S3.SS1.p2.3.m3.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.3.m3.2.3.3" xref="S3.SS1.p2.3.m3.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.3.m3.2.3.1a" xref="S3.SS1.p2.3.m3.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.3.m3.2.3.4" xref="S3.SS1.p2.3.m3.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.3.m3.2.3.1b" xref="S3.SS1.p2.3.m3.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.3.m3.2.3.5" xref="S3.SS1.p2.3.m3.2.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.3.m3.2.3.1c" xref="S3.SS1.p2.3.m3.2.3.1.cmml">​</mo><msub id="S3.SS1.p2.3.m3.2.3.6" xref="S3.SS1.p2.3.m3.2.3.6.cmml"><mi id="S3.SS1.p2.3.m3.2.3.6.2" xref="S3.SS1.p2.3.m3.2.3.6.2.cmml">k</mi><mrow id="S3.SS1.p2.3.m3.2.2.2.4" xref="S3.SS1.p2.3.m3.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p2.3.m3.2.2.2.4.1" xref="S3.SS1.p2.3.m3.2.2.2.3.cmml">(</mo><mn id="S3.SS1.p2.3.m3.1.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.1.cmml">1</mn><mo id="S3.SS1.p2.3.m3.2.2.2.4.2" xref="S3.SS1.p2.3.m3.2.2.2.3.cmml">,</mo><mtext id="S3.SS1.p2.3.m3.2.2.2.2" xref="S3.SS1.p2.3.m3.2.2.2.2a.cmml">N-2</mtext><mo stretchy="false" id="S3.SS1.p2.3.m3.2.2.2.4.3" xref="S3.SS1.p2.3.m3.2.2.2.3.cmml">)</mo></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.2b"><apply id="S3.SS1.p2.3.m3.2.3.cmml" xref="S3.SS1.p2.3.m3.2.3"><times id="S3.SS1.p2.3.m3.2.3.1.cmml" xref="S3.SS1.p2.3.m3.2.3.1"></times><ci id="S3.SS1.p2.3.m3.2.3.2.cmml" xref="S3.SS1.p2.3.m3.2.3.2">𝐵</ci><ci id="S3.SS1.p2.3.m3.2.3.3.cmml" xref="S3.SS1.p2.3.m3.2.3.3">𝑙</ci><ci id="S3.SS1.p2.3.m3.2.3.4.cmml" xref="S3.SS1.p2.3.m3.2.3.4">𝑜</ci><ci id="S3.SS1.p2.3.m3.2.3.5.cmml" xref="S3.SS1.p2.3.m3.2.3.5">𝑐</ci><apply id="S3.SS1.p2.3.m3.2.3.6.cmml" xref="S3.SS1.p2.3.m3.2.3.6"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.2.3.6.1.cmml" xref="S3.SS1.p2.3.m3.2.3.6">subscript</csymbol><ci id="S3.SS1.p2.3.m3.2.3.6.2.cmml" xref="S3.SS1.p2.3.m3.2.3.6.2">𝑘</ci><interval closure="open" id="S3.SS1.p2.3.m3.2.2.2.3.cmml" xref="S3.SS1.p2.3.m3.2.2.2.4"><cn type="integer" id="S3.SS1.p2.3.m3.1.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1">1</cn><ci id="S3.SS1.p2.3.m3.2.2.2.2a.cmml" xref="S3.SS1.p2.3.m3.2.2.2.2"><mtext mathsize="70%" id="S3.SS1.p2.3.m3.2.2.2.2.cmml" xref="S3.SS1.p2.3.m3.2.2.2.2">N-2</mtext></ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.2c">Block_{(1,\text{N-2})}</annotation></semantics></math>, which takes the received smashed data <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="h_{0}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">h</mi><mn id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">ℎ</ci><cn type="integer" id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">h_{0}</annotation></semantics></math> as input, and the hidden state <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="h_{\text{N-2}}" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">h</mi><mtext id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3a.cmml">N-2</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">ℎ</ci><ci id="S3.SS1.p2.5.m5.1.1.3a.cmml" xref="S3.SS1.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3">N-2</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">h_{\text{N-2}}</annotation></semantics></math> as output:</p>
<table id="S3.Ex2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex2.m1.3" class="ltx_Math" alttext="h_{\text{N-2}}=Block_{(1,\text{N-2})}(h_{0})." display="block"><semantics id="S3.Ex2.m1.3a"><mrow id="S3.Ex2.m1.3.3.1" xref="S3.Ex2.m1.3.3.1.1.cmml"><mrow id="S3.Ex2.m1.3.3.1.1" xref="S3.Ex2.m1.3.3.1.1.cmml"><msub id="S3.Ex2.m1.3.3.1.1.3" xref="S3.Ex2.m1.3.3.1.1.3.cmml"><mi id="S3.Ex2.m1.3.3.1.1.3.2" xref="S3.Ex2.m1.3.3.1.1.3.2.cmml">h</mi><mtext id="S3.Ex2.m1.3.3.1.1.3.3" xref="S3.Ex2.m1.3.3.1.1.3.3a.cmml">N-2</mtext></msub><mo id="S3.Ex2.m1.3.3.1.1.2" xref="S3.Ex2.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.Ex2.m1.3.3.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.cmml"><mi id="S3.Ex2.m1.3.3.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.3.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.2.cmml">​</mo><mi id="S3.Ex2.m1.3.3.1.1.1.4" xref="S3.Ex2.m1.3.3.1.1.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.2a" xref="S3.Ex2.m1.3.3.1.1.1.2.cmml">​</mo><mi id="S3.Ex2.m1.3.3.1.1.1.5" xref="S3.Ex2.m1.3.3.1.1.1.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.2b" xref="S3.Ex2.m1.3.3.1.1.1.2.cmml">​</mo><mi id="S3.Ex2.m1.3.3.1.1.1.6" xref="S3.Ex2.m1.3.3.1.1.1.6.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.2c" xref="S3.Ex2.m1.3.3.1.1.1.2.cmml">​</mo><msub id="S3.Ex2.m1.3.3.1.1.1.7" xref="S3.Ex2.m1.3.3.1.1.1.7.cmml"><mi id="S3.Ex2.m1.3.3.1.1.1.7.2" xref="S3.Ex2.m1.3.3.1.1.1.7.2.cmml">k</mi><mrow id="S3.Ex2.m1.2.2.2.4" xref="S3.Ex2.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.Ex2.m1.2.2.2.4.1" xref="S3.Ex2.m1.2.2.2.3.cmml">(</mo><mn id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.cmml">1</mn><mo id="S3.Ex2.m1.2.2.2.4.2" xref="S3.Ex2.m1.2.2.2.3.cmml">,</mo><mtext id="S3.Ex2.m1.2.2.2.2" xref="S3.Ex2.m1.2.2.2.2a.cmml">N-2</mtext><mo stretchy="false" id="S3.Ex2.m1.2.2.2.4.3" xref="S3.Ex2.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.2d" xref="S3.Ex2.m1.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml">(</mo><msub id="S3.Ex2.m1.3.3.1.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.2.cmml">h</mi><mn id="S3.Ex2.m1.3.3.1.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.3.cmml">0</mn></msub><mo stretchy="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.Ex2.m1.3.3.1.2" xref="S3.Ex2.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.3b"><apply id="S3.Ex2.m1.3.3.1.1.cmml" xref="S3.Ex2.m1.3.3.1"><eq id="S3.Ex2.m1.3.3.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.2"></eq><apply id="S3.Ex2.m1.3.3.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.1.1.3.1.cmml" xref="S3.Ex2.m1.3.3.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.1.1.3.2.cmml" xref="S3.Ex2.m1.3.3.1.1.3.2">ℎ</ci><ci id="S3.Ex2.m1.3.3.1.1.3.3a.cmml" xref="S3.Ex2.m1.3.3.1.1.3.3"><mtext mathsize="70%" id="S3.Ex2.m1.3.3.1.1.3.3.cmml" xref="S3.Ex2.m1.3.3.1.1.3.3">N-2</mtext></ci></apply><apply id="S3.Ex2.m1.3.3.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1"><times id="S3.Ex2.m1.3.3.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.2"></times><ci id="S3.Ex2.m1.3.3.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.3">𝐵</ci><ci id="S3.Ex2.m1.3.3.1.1.1.4.cmml" xref="S3.Ex2.m1.3.3.1.1.1.4">𝑙</ci><ci id="S3.Ex2.m1.3.3.1.1.1.5.cmml" xref="S3.Ex2.m1.3.3.1.1.1.5">𝑜</ci><ci id="S3.Ex2.m1.3.3.1.1.1.6.cmml" xref="S3.Ex2.m1.3.3.1.1.1.6">𝑐</ci><apply id="S3.Ex2.m1.3.3.1.1.1.7.cmml" xref="S3.Ex2.m1.3.3.1.1.1.7"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.1.1.1.7.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.7">subscript</csymbol><ci id="S3.Ex2.m1.3.3.1.1.1.7.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.7.2">𝑘</ci><interval closure="open" id="S3.Ex2.m1.2.2.2.3.cmml" xref="S3.Ex2.m1.2.2.2.4"><cn type="integer" id="S3.Ex2.m1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1">1</cn><ci id="S3.Ex2.m1.2.2.2.2a.cmml" xref="S3.Ex2.m1.2.2.2.2"><mtext mathsize="70%" id="S3.Ex2.m1.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2">N-2</mtext></ci></interval></apply><apply id="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.2">ℎ</ci><cn type="integer" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.3c">h_{\text{N-2}}=Block_{(1,\text{N-2})}(h_{0}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.6" class="ltx_p">Then the server send the output <math id="S3.SS1.p2.6.m1.1" class="ltx_Math" alttext="h_{\text{N-2}}" display="inline"><semantics id="S3.SS1.p2.6.m1.1a"><msub id="S3.SS1.p2.6.m1.1.1" xref="S3.SS1.p2.6.m1.1.1.cmml"><mi id="S3.SS1.p2.6.m1.1.1.2" xref="S3.SS1.p2.6.m1.1.1.2.cmml">h</mi><mtext id="S3.SS1.p2.6.m1.1.1.3" xref="S3.SS1.p2.6.m1.1.1.3a.cmml">N-2</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m1.1b"><apply id="S3.SS1.p2.6.m1.1.1.cmml" xref="S3.SS1.p2.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m1.1.1.1.cmml" xref="S3.SS1.p2.6.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.6.m1.1.1.2.cmml" xref="S3.SS1.p2.6.m1.1.1.2">ℎ</ci><ci id="S3.SS1.p2.6.m1.1.1.3a.cmml" xref="S3.SS1.p2.6.m1.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.6.m1.1.1.3.cmml" xref="S3.SS1.p2.6.m1.1.1.3">N-2</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m1.1c">h_{\text{N-2}}</annotation></semantics></math> back to client.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.2" class="ltx_p">After the last block N-1 and the linear layer operation on client, the prediction result <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="y^{{}^{\prime}}" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><msup id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><mi id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml">y</mi><msup id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml"><mi id="S3.SS1.p3.1.m1.1.1.3a" xref="S3.SS1.p3.1.m1.1.1.3.cmml"></mi><mo id="S3.SS1.p3.1.m1.1.1.3.1" xref="S3.SS1.p3.1.m1.1.1.3.1.cmml">′</mo></msup></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2">𝑦</ci><apply id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3"><ci id="S3.SS1.p3.1.m1.1.1.3.1.cmml" xref="S3.SS1.p3.1.m1.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">y^{{}^{\prime}}</annotation></semantics></math> is output and the cross-entropy loss <math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><ci id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\mathcal{L}</annotation></semantics></math> is calculated:</p>
<table id="A4.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex3.m1.1" class="ltx_Math" alttext="\displaystyle y^{{}^{\prime}}" display="inline"><semantics id="S3.Ex3.m1.1a"><msup id="S3.Ex3.m1.1.1" xref="S3.Ex3.m1.1.1.cmml"><mi id="S3.Ex3.m1.1.1.2" xref="S3.Ex3.m1.1.1.2.cmml">y</mi><msup id="S3.Ex3.m1.1.1.3" xref="S3.Ex3.m1.1.1.3.cmml"><mi id="S3.Ex3.m1.1.1.3a" xref="S3.Ex3.m1.1.1.3.cmml"></mi><mo id="S3.Ex3.m1.1.1.3.1" xref="S3.Ex3.m1.1.1.3.1.cmml">′</mo></msup></msup><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.1b"><apply id="S3.Ex3.m1.1.1.cmml" xref="S3.Ex3.m1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.cmml" xref="S3.Ex3.m1.1.1">superscript</csymbol><ci id="S3.Ex3.m1.1.1.2.cmml" xref="S3.Ex3.m1.1.1.2">𝑦</ci><apply id="S3.Ex3.m1.1.1.3.cmml" xref="S3.Ex3.m1.1.1.3"><ci id="S3.Ex3.m1.1.1.3.1.cmml" xref="S3.Ex3.m1.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.1c">\displaystyle y^{{}^{\prime}}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex3.m2.1" class="ltx_Math" alttext="\displaystyle=Linear\left(Block_{\text{N-1}}\left(h_{\text{N-2}}\right)\right)," display="inline"><semantics id="S3.Ex3.m2.1a"><mrow id="S3.Ex3.m2.1.1.1" xref="S3.Ex3.m2.1.1.1.1.cmml"><mrow id="S3.Ex3.m2.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.cmml"><mi id="S3.Ex3.m2.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.3.cmml"></mi><mo id="S3.Ex3.m2.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.2.cmml">=</mo><mrow id="S3.Ex3.m2.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.cmml"><mi id="S3.Ex3.m2.1.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.4" xref="S3.Ex3.m2.1.1.1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.2a" xref="S3.Ex3.m2.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.5" xref="S3.Ex3.m2.1.1.1.1.1.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.2b" xref="S3.Ex3.m2.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.6" xref="S3.Ex3.m2.1.1.1.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.2c" xref="S3.Ex3.m2.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.7" xref="S3.Ex3.m2.1.1.1.1.1.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.2d" xref="S3.Ex3.m2.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.8" xref="S3.Ex3.m2.1.1.1.1.1.8.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.2e" xref="S3.Ex3.m2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex3.m2.1.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex3.m2.1.1.1.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m2.1.1.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.3.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.4" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.2a" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.5" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.2b" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.6" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.6.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.2c" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml">​</mo><msub id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.cmml"><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.2.cmml">k</mi><mtext id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.3a.cmml">N-1</mtext></msub><mo lspace="0em" rspace="0em" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.2d" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">h</mi><mtext id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3a.cmml">N-2</mtext></msub><mo id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m2.1.1.1.1.1.1.1.3" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.Ex3.m2.1.1.1.2" xref="S3.Ex3.m2.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m2.1b"><apply id="S3.Ex3.m2.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1"><eq id="S3.Ex3.m2.1.1.1.1.2.cmml" xref="S3.Ex3.m2.1.1.1.1.2"></eq><csymbol cd="latexml" id="S3.Ex3.m2.1.1.1.1.3.cmml" xref="S3.Ex3.m2.1.1.1.1.3">absent</csymbol><apply id="S3.Ex3.m2.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1"><times id="S3.Ex3.m2.1.1.1.1.1.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.2"></times><ci id="S3.Ex3.m2.1.1.1.1.1.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.3">𝐿</ci><ci id="S3.Ex3.m2.1.1.1.1.1.4.cmml" xref="S3.Ex3.m2.1.1.1.1.1.4">𝑖</ci><ci id="S3.Ex3.m2.1.1.1.1.1.5.cmml" xref="S3.Ex3.m2.1.1.1.1.1.5">𝑛</ci><ci id="S3.Ex3.m2.1.1.1.1.1.6.cmml" xref="S3.Ex3.m2.1.1.1.1.1.6">𝑒</ci><ci id="S3.Ex3.m2.1.1.1.1.1.7.cmml" xref="S3.Ex3.m2.1.1.1.1.1.7">𝑎</ci><ci id="S3.Ex3.m2.1.1.1.1.1.8.cmml" xref="S3.Ex3.m2.1.1.1.1.1.8">𝑟</ci><apply id="S3.Ex3.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1"><times id="S3.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.2"></times><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.3">𝐵</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.4.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.4">𝑙</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.5.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.5">𝑜</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.6.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.6">𝑐</ci><apply id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7"><csymbol cd="ambiguous" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7">subscript</csymbol><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.2">𝑘</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.3a.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.3"><mtext mathsize="70%" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.7.3">N-1</mtext></ci></apply><apply id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2">ℎ</ci><ci id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3">N-2</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m2.1c">\displaystyle=Linear\left(Block_{\text{N-1}}\left(h_{\text{N-2}}\right)\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex4.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}" display="inline"><semantics id="S3.Ex4.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.1.1" xref="S3.Ex4.m1.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.1b"><ci id="S3.Ex4.m1.1.1.cmml" xref="S3.Ex4.m1.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m1.1c">\displaystyle\mathcal{L}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex4.m2.2" class="ltx_Math" alttext="\displaystyle=Cross\_Entropy\left(y^{{}^{\prime}},y\right)," display="inline"><semantics id="S3.Ex4.m2.2a"><mrow id="S3.Ex4.m2.2.2.1" xref="S3.Ex4.m2.2.2.1.1.cmml"><mrow id="S3.Ex4.m2.2.2.1.1" xref="S3.Ex4.m2.2.2.1.1.cmml"><mi id="S3.Ex4.m2.2.2.1.1.3" xref="S3.Ex4.m2.2.2.1.1.3.cmml"></mi><mo id="S3.Ex4.m2.2.2.1.1.2" xref="S3.Ex4.m2.2.2.1.1.2.cmml">=</mo><mrow id="S3.Ex4.m2.2.2.1.1.1" xref="S3.Ex4.m2.2.2.1.1.1.cmml"><mi id="S3.Ex4.m2.2.2.1.1.1.3" xref="S3.Ex4.m2.2.2.1.1.1.3.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.4" xref="S3.Ex4.m2.2.2.1.1.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2a" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.5" xref="S3.Ex4.m2.2.2.1.1.1.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2b" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.6" xref="S3.Ex4.m2.2.2.1.1.1.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2c" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.7" xref="S3.Ex4.m2.2.2.1.1.1.7.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2d" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.Ex4.m2.2.2.1.1.1.8" xref="S3.Ex4.m2.2.2.1.1.1.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2e" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.9" xref="S3.Ex4.m2.2.2.1.1.1.9.cmml">E</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2f" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.10" xref="S3.Ex4.m2.2.2.1.1.1.10.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2g" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.11" xref="S3.Ex4.m2.2.2.1.1.1.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2h" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.12" xref="S3.Ex4.m2.2.2.1.1.1.12.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2i" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.13" xref="S3.Ex4.m2.2.2.1.1.1.13.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2j" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.14" xref="S3.Ex4.m2.2.2.1.1.1.14.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2k" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex4.m2.2.2.1.1.1.15" xref="S3.Ex4.m2.2.2.1.1.1.15.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m2.2.2.1.1.1.2l" xref="S3.Ex4.m2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.Ex4.m2.2.2.1.1.1.1.1" xref="S3.Ex4.m2.2.2.1.1.1.1.2.cmml"><mo id="S3.Ex4.m2.2.2.1.1.1.1.1.2" xref="S3.Ex4.m2.2.2.1.1.1.1.2.cmml">(</mo><msup id="S3.Ex4.m2.2.2.1.1.1.1.1.1" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.Ex4.m2.2.2.1.1.1.1.1.1.2" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.2.cmml">y</mi><msup id="S3.Ex4.m2.2.2.1.1.1.1.1.1.3" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex4.m2.2.2.1.1.1.1.1.1.3a" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.cmml"></mi><mo id="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.1" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.1.cmml">′</mo></msup></msup><mo id="S3.Ex4.m2.2.2.1.1.1.1.1.3" xref="S3.Ex4.m2.2.2.1.1.1.1.2.cmml">,</mo><mi id="S3.Ex4.m2.1.1" xref="S3.Ex4.m2.1.1.cmml">y</mi><mo id="S3.Ex4.m2.2.2.1.1.1.1.1.4" xref="S3.Ex4.m2.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.Ex4.m2.2.2.1.2" xref="S3.Ex4.m2.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex4.m2.2b"><apply id="S3.Ex4.m2.2.2.1.1.cmml" xref="S3.Ex4.m2.2.2.1"><eq id="S3.Ex4.m2.2.2.1.1.2.cmml" xref="S3.Ex4.m2.2.2.1.1.2"></eq><csymbol cd="latexml" id="S3.Ex4.m2.2.2.1.1.3.cmml" xref="S3.Ex4.m2.2.2.1.1.3">absent</csymbol><apply id="S3.Ex4.m2.2.2.1.1.1.cmml" xref="S3.Ex4.m2.2.2.1.1.1"><times id="S3.Ex4.m2.2.2.1.1.1.2.cmml" xref="S3.Ex4.m2.2.2.1.1.1.2"></times><ci id="S3.Ex4.m2.2.2.1.1.1.3.cmml" xref="S3.Ex4.m2.2.2.1.1.1.3">𝐶</ci><ci id="S3.Ex4.m2.2.2.1.1.1.4.cmml" xref="S3.Ex4.m2.2.2.1.1.1.4">𝑟</ci><ci id="S3.Ex4.m2.2.2.1.1.1.5.cmml" xref="S3.Ex4.m2.2.2.1.1.1.5">𝑜</ci><ci id="S3.Ex4.m2.2.2.1.1.1.6.cmml" xref="S3.Ex4.m2.2.2.1.1.1.6">𝑠</ci><ci id="S3.Ex4.m2.2.2.1.1.1.7.cmml" xref="S3.Ex4.m2.2.2.1.1.1.7">𝑠</ci><ci id="S3.Ex4.m2.2.2.1.1.1.8.cmml" xref="S3.Ex4.m2.2.2.1.1.1.8">_</ci><ci id="S3.Ex4.m2.2.2.1.1.1.9.cmml" xref="S3.Ex4.m2.2.2.1.1.1.9">𝐸</ci><ci id="S3.Ex4.m2.2.2.1.1.1.10.cmml" xref="S3.Ex4.m2.2.2.1.1.1.10">𝑛</ci><ci id="S3.Ex4.m2.2.2.1.1.1.11.cmml" xref="S3.Ex4.m2.2.2.1.1.1.11">𝑡</ci><ci id="S3.Ex4.m2.2.2.1.1.1.12.cmml" xref="S3.Ex4.m2.2.2.1.1.1.12">𝑟</ci><ci id="S3.Ex4.m2.2.2.1.1.1.13.cmml" xref="S3.Ex4.m2.2.2.1.1.1.13">𝑜</ci><ci id="S3.Ex4.m2.2.2.1.1.1.14.cmml" xref="S3.Ex4.m2.2.2.1.1.1.14">𝑝</ci><ci id="S3.Ex4.m2.2.2.1.1.1.15.cmml" xref="S3.Ex4.m2.2.2.1.1.1.15">𝑦</ci><interval closure="open" id="S3.Ex4.m2.2.2.1.1.1.1.2.cmml" xref="S3.Ex4.m2.2.2.1.1.1.1.1"><apply id="S3.Ex4.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1">superscript</csymbol><ci id="S3.Ex4.m2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.3"><ci id="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex4.m2.2.2.1.1.1.1.1.1.3.1">′</ci></apply></apply><ci id="S3.Ex4.m2.1.1.cmml" xref="S3.Ex4.m2.1.1">𝑦</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m2.2c">\displaystyle=Cross\_Entropy\left(y^{{}^{\prime}},y\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.5" class="ltx_p">where <math id="S3.SS1.p3.3.m1.1" class="ltx_Math" alttext="Block_{\text{N-1}}" display="inline"><semantics id="S3.SS1.p3.3.m1.1a"><mrow id="S3.SS1.p3.3.m1.1.1" xref="S3.SS1.p3.3.m1.1.1.cmml"><mi id="S3.SS1.p3.3.m1.1.1.2" xref="S3.SS1.p3.3.m1.1.1.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.3.m1.1.1.1" xref="S3.SS1.p3.3.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.3.m1.1.1.3" xref="S3.SS1.p3.3.m1.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.3.m1.1.1.1a" xref="S3.SS1.p3.3.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.3.m1.1.1.4" xref="S3.SS1.p3.3.m1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.3.m1.1.1.1b" xref="S3.SS1.p3.3.m1.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.3.m1.1.1.5" xref="S3.SS1.p3.3.m1.1.1.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.3.m1.1.1.1c" xref="S3.SS1.p3.3.m1.1.1.1.cmml">​</mo><msub id="S3.SS1.p3.3.m1.1.1.6" xref="S3.SS1.p3.3.m1.1.1.6.cmml"><mi id="S3.SS1.p3.3.m1.1.1.6.2" xref="S3.SS1.p3.3.m1.1.1.6.2.cmml">k</mi><mtext id="S3.SS1.p3.3.m1.1.1.6.3" xref="S3.SS1.p3.3.m1.1.1.6.3a.cmml">N-1</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m1.1b"><apply id="S3.SS1.p3.3.m1.1.1.cmml" xref="S3.SS1.p3.3.m1.1.1"><times id="S3.SS1.p3.3.m1.1.1.1.cmml" xref="S3.SS1.p3.3.m1.1.1.1"></times><ci id="S3.SS1.p3.3.m1.1.1.2.cmml" xref="S3.SS1.p3.3.m1.1.1.2">𝐵</ci><ci id="S3.SS1.p3.3.m1.1.1.3.cmml" xref="S3.SS1.p3.3.m1.1.1.3">𝑙</ci><ci id="S3.SS1.p3.3.m1.1.1.4.cmml" xref="S3.SS1.p3.3.m1.1.1.4">𝑜</ci><ci id="S3.SS1.p3.3.m1.1.1.5.cmml" xref="S3.SS1.p3.3.m1.1.1.5">𝑐</ci><apply id="S3.SS1.p3.3.m1.1.1.6.cmml" xref="S3.SS1.p3.3.m1.1.1.6"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m1.1.1.6.1.cmml" xref="S3.SS1.p3.3.m1.1.1.6">subscript</csymbol><ci id="S3.SS1.p3.3.m1.1.1.6.2.cmml" xref="S3.SS1.p3.3.m1.1.1.6.2">𝑘</ci><ci id="S3.SS1.p3.3.m1.1.1.6.3a.cmml" xref="S3.SS1.p3.3.m1.1.1.6.3"><mtext mathsize="70%" id="S3.SS1.p3.3.m1.1.1.6.3.cmml" xref="S3.SS1.p3.3.m1.1.1.6.3">N-1</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m1.1c">Block_{\text{N-1}}</annotation></semantics></math> is the <math id="S3.SS1.p3.4.m2.1" class="ltx_Math" alttext="\text{N-1}^{th}" display="inline"><semantics id="S3.SS1.p3.4.m2.1a"><msup id="S3.SS1.p3.4.m2.1.1" xref="S3.SS1.p3.4.m2.1.1.cmml"><mtext id="S3.SS1.p3.4.m2.1.1.2" xref="S3.SS1.p3.4.m2.1.1.2a.cmml">N-1</mtext><mrow id="S3.SS1.p3.4.m2.1.1.3" xref="S3.SS1.p3.4.m2.1.1.3.cmml"><mi id="S3.SS1.p3.4.m2.1.1.3.2" xref="S3.SS1.p3.4.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.4.m2.1.1.3.1" xref="S3.SS1.p3.4.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p3.4.m2.1.1.3.3" xref="S3.SS1.p3.4.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m2.1b"><apply id="S3.SS1.p3.4.m2.1.1.cmml" xref="S3.SS1.p3.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m2.1.1.1.cmml" xref="S3.SS1.p3.4.m2.1.1">superscript</csymbol><ci id="S3.SS1.p3.4.m2.1.1.2a.cmml" xref="S3.SS1.p3.4.m2.1.1.2"><mtext id="S3.SS1.p3.4.m2.1.1.2.cmml" xref="S3.SS1.p3.4.m2.1.1.2">N-1</mtext></ci><apply id="S3.SS1.p3.4.m2.1.1.3.cmml" xref="S3.SS1.p3.4.m2.1.1.3"><times id="S3.SS1.p3.4.m2.1.1.3.1.cmml" xref="S3.SS1.p3.4.m2.1.1.3.1"></times><ci id="S3.SS1.p3.4.m2.1.1.3.2.cmml" xref="S3.SS1.p3.4.m2.1.1.3.2">𝑡</ci><ci id="S3.SS1.p3.4.m2.1.1.3.3.cmml" xref="S3.SS1.p3.4.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m2.1c">\text{N-1}^{th}</annotation></semantics></math> block of LLM and <math id="S3.SS1.p3.5.m3.1" class="ltx_Math" alttext="Linear" display="inline"><semantics id="S3.SS1.p3.5.m3.1a"><mrow id="S3.SS1.p3.5.m3.1.1" xref="S3.SS1.p3.5.m3.1.1.cmml"><mi id="S3.SS1.p3.5.m3.1.1.2" xref="S3.SS1.p3.5.m3.1.1.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m3.1.1.1" xref="S3.SS1.p3.5.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.5.m3.1.1.3" xref="S3.SS1.p3.5.m3.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m3.1.1.1a" xref="S3.SS1.p3.5.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.5.m3.1.1.4" xref="S3.SS1.p3.5.m3.1.1.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m3.1.1.1b" xref="S3.SS1.p3.5.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.5.m3.1.1.5" xref="S3.SS1.p3.5.m3.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m3.1.1.1c" xref="S3.SS1.p3.5.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.5.m3.1.1.6" xref="S3.SS1.p3.5.m3.1.1.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m3.1.1.1d" xref="S3.SS1.p3.5.m3.1.1.1.cmml">​</mo><mi id="S3.SS1.p3.5.m3.1.1.7" xref="S3.SS1.p3.5.m3.1.1.7.cmml">r</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m3.1b"><apply id="S3.SS1.p3.5.m3.1.1.cmml" xref="S3.SS1.p3.5.m3.1.1"><times id="S3.SS1.p3.5.m3.1.1.1.cmml" xref="S3.SS1.p3.5.m3.1.1.1"></times><ci id="S3.SS1.p3.5.m3.1.1.2.cmml" xref="S3.SS1.p3.5.m3.1.1.2">𝐿</ci><ci id="S3.SS1.p3.5.m3.1.1.3.cmml" xref="S3.SS1.p3.5.m3.1.1.3">𝑖</ci><ci id="S3.SS1.p3.5.m3.1.1.4.cmml" xref="S3.SS1.p3.5.m3.1.1.4">𝑛</ci><ci id="S3.SS1.p3.5.m3.1.1.5.cmml" xref="S3.SS1.p3.5.m3.1.1.5">𝑒</ci><ci id="S3.SS1.p3.5.m3.1.1.6.cmml" xref="S3.SS1.p3.5.m3.1.1.6">𝑎</ci><ci id="S3.SS1.p3.5.m3.1.1.7.cmml" xref="S3.SS1.p3.5.m3.1.1.7">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m3.1c">Linear</annotation></semantics></math> is the linear layer of LLM.
During the whole computation process, the data and data labels are kept in the client to avoid data privacy leakage.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.1" class="ltx_p">It’s important to note that the LLM-Block is constructed from a transformer layer comprising multi-head self-attention mechanisms and a forward network (FFN). With the stacking of LLM-Blocks, large pre-trained models have an extremely high number of parameters, making fine-tuning computationally intensive. To fine-tune large models with limited computational resources, efficient techniques such as p-tuning v2 <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a href="#bib.bib19" title="" class="ltx_ref">2021b</a>)</cite> can be employed, as depicted in Figure <a href="#S3.F2" title="Figure 2 ‣ 3 Model ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. The FL-GLM framework supports the p-tuning v2 method, wherein all original model parameters are frozen, and the prefix encoder is trained to splice the prefix_key and prefix_value with the key and value of the original model, adjusting the output of each LLM-Block. Further details see in Appendix <a href="#A1" title="Appendix A P-tuning v2 ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Encrypted Transmission</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Since the data features need to flow between the client and the server after the model split, the FL-GLM framework uses a key encryption strategy to complete the encrypted transmission of data.
The RSA algorithm generates a pair of public and private keys by factorizing a very large integer. The message is encrypted with the public key and can only be decrypted by the receiver who has the corresponding private key. The RSA key generation process is as follows:</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.2" class="ltx_p">1) Select two large prime numbers, usually denoted as <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">p</annotation></semantics></math> and <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">q</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.2" class="ltx_p">2) Calculate their product <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="n=pq" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mrow id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">n</mi><mo id="S3.SS2.p3.1.m1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml"><mi id="S3.SS2.p3.1.m1.1.1.3.2" xref="S3.SS2.p3.1.m1.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.3.1" xref="S3.SS2.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p3.1.m1.1.1.3.3" xref="S3.SS2.p3.1.m1.1.1.3.3.cmml">q</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><eq id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1"></eq><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝑛</ci><apply id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3"><times id="S3.SS2.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.1"></times><ci id="S3.SS2.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2">𝑝</ci><ci id="S3.SS2.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">n=pq</annotation></semantics></math>. <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><mi id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><ci id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">n</annotation></semantics></math> will be used as the common modulus.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.1" class="ltx_p">3) Compute the Euler function <math id="S3.SS2.p4.1.m1.3" class="ltx_Math" alttext="\phi\left(n\right)=\left(p-1\right)\left(q-1\right)" display="inline"><semantics id="S3.SS2.p4.1.m1.3a"><mrow id="S3.SS2.p4.1.m1.3.3" xref="S3.SS2.p4.1.m1.3.3.cmml"><mrow id="S3.SS2.p4.1.m1.3.3.4" xref="S3.SS2.p4.1.m1.3.3.4.cmml"><mi id="S3.SS2.p4.1.m1.3.3.4.2" xref="S3.SS2.p4.1.m1.3.3.4.2.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.3.3.4.1" xref="S3.SS2.p4.1.m1.3.3.4.1.cmml">​</mo><mrow id="S3.SS2.p4.1.m1.3.3.4.3.2" xref="S3.SS2.p4.1.m1.3.3.4.cmml"><mo id="S3.SS2.p4.1.m1.3.3.4.3.2.1" xref="S3.SS2.p4.1.m1.3.3.4.cmml">(</mo><mi id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml">n</mi><mo id="S3.SS2.p4.1.m1.3.3.4.3.2.2" xref="S3.SS2.p4.1.m1.3.3.4.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p4.1.m1.3.3.3" xref="S3.SS2.p4.1.m1.3.3.3.cmml">=</mo><mrow id="S3.SS2.p4.1.m1.3.3.2" xref="S3.SS2.p4.1.m1.3.3.2.cmml"><mrow id="S3.SS2.p4.1.m1.2.2.1.1.1" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.cmml"><mo id="S3.SS2.p4.1.m1.2.2.1.1.1.2" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.1.m1.2.2.1.1.1.1" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.2.2.1.1.1.1.2" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.2.cmml">p</mi><mo id="S3.SS2.p4.1.m1.2.2.1.1.1.1.1" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.1.cmml">−</mo><mn id="S3.SS2.p4.1.m1.2.2.1.1.1.1.3" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.3.cmml">1</mn></mrow><mo id="S3.SS2.p4.1.m1.2.2.1.1.1.3" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.3.3.2.3" xref="S3.SS2.p4.1.m1.3.3.2.3.cmml">​</mo><mrow id="S3.SS2.p4.1.m1.3.3.2.2.1" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.cmml"><mo id="S3.SS2.p4.1.m1.3.3.2.2.1.2" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.cmml">(</mo><mrow id="S3.SS2.p4.1.m1.3.3.2.2.1.1" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.cmml"><mi id="S3.SS2.p4.1.m1.3.3.2.2.1.1.2" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.2.cmml">q</mi><mo id="S3.SS2.p4.1.m1.3.3.2.2.1.1.1" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.1.cmml">−</mo><mn id="S3.SS2.p4.1.m1.3.3.2.2.1.1.3" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.3.cmml">1</mn></mrow><mo id="S3.SS2.p4.1.m1.3.3.2.2.1.3" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.3b"><apply id="S3.SS2.p4.1.m1.3.3.cmml" xref="S3.SS2.p4.1.m1.3.3"><eq id="S3.SS2.p4.1.m1.3.3.3.cmml" xref="S3.SS2.p4.1.m1.3.3.3"></eq><apply id="S3.SS2.p4.1.m1.3.3.4.cmml" xref="S3.SS2.p4.1.m1.3.3.4"><times id="S3.SS2.p4.1.m1.3.3.4.1.cmml" xref="S3.SS2.p4.1.m1.3.3.4.1"></times><ci id="S3.SS2.p4.1.m1.3.3.4.2.cmml" xref="S3.SS2.p4.1.m1.3.3.4.2">italic-ϕ</ci><ci id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">𝑛</ci></apply><apply id="S3.SS2.p4.1.m1.3.3.2.cmml" xref="S3.SS2.p4.1.m1.3.3.2"><times id="S3.SS2.p4.1.m1.3.3.2.3.cmml" xref="S3.SS2.p4.1.m1.3.3.2.3"></times><apply id="S3.SS2.p4.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.2.2.1.1.1"><minus id="S3.SS2.p4.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.1"></minus><ci id="S3.SS2.p4.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.2">𝑝</ci><cn type="integer" id="S3.SS2.p4.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.2.2.1.1.1.1.3">1</cn></apply><apply id="S3.SS2.p4.1.m1.3.3.2.2.1.1.cmml" xref="S3.SS2.p4.1.m1.3.3.2.2.1"><minus id="S3.SS2.p4.1.m1.3.3.2.2.1.1.1.cmml" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.1"></minus><ci id="S3.SS2.p4.1.m1.3.3.2.2.1.1.2.cmml" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.2">𝑞</ci><cn type="integer" id="S3.SS2.p4.1.m1.3.3.2.2.1.1.3.cmml" xref="S3.SS2.p4.1.m1.3.3.2.2.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.3c">\phi\left(n\right)=\left(p-1\right)\left(q-1\right)</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.4" class="ltx_p">4) Choose an integer <math id="S3.SS2.p5.1.m1.1" class="ltx_Math" alttext="e" display="inline"><semantics id="S3.SS2.p5.1.m1.1a"><mi id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">e</annotation></semantics></math>, called the public key exponent, satisfying <math id="S3.SS2.p5.2.m2.1" class="ltx_Math" alttext="1&lt;e&lt;\phi\left(n\right)" display="inline"><semantics id="S3.SS2.p5.2.m2.1a"><mrow id="S3.SS2.p5.2.m2.1.2" xref="S3.SS2.p5.2.m2.1.2.cmml"><mn id="S3.SS2.p5.2.m2.1.2.2" xref="S3.SS2.p5.2.m2.1.2.2.cmml">1</mn><mo id="S3.SS2.p5.2.m2.1.2.3" xref="S3.SS2.p5.2.m2.1.2.3.cmml">&lt;</mo><mi id="S3.SS2.p5.2.m2.1.2.4" xref="S3.SS2.p5.2.m2.1.2.4.cmml">e</mi><mo id="S3.SS2.p5.2.m2.1.2.5" xref="S3.SS2.p5.2.m2.1.2.5.cmml">&lt;</mo><mrow id="S3.SS2.p5.2.m2.1.2.6" xref="S3.SS2.p5.2.m2.1.2.6.cmml"><mi id="S3.SS2.p5.2.m2.1.2.6.2" xref="S3.SS2.p5.2.m2.1.2.6.2.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.1.2.6.1" xref="S3.SS2.p5.2.m2.1.2.6.1.cmml">​</mo><mrow id="S3.SS2.p5.2.m2.1.2.6.3.2" xref="S3.SS2.p5.2.m2.1.2.6.cmml"><mo id="S3.SS2.p5.2.m2.1.2.6.3.2.1" xref="S3.SS2.p5.2.m2.1.2.6.cmml">(</mo><mi id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml">n</mi><mo id="S3.SS2.p5.2.m2.1.2.6.3.2.2" xref="S3.SS2.p5.2.m2.1.2.6.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.2.cmml" xref="S3.SS2.p5.2.m2.1.2"><and id="S3.SS2.p5.2.m2.1.2a.cmml" xref="S3.SS2.p5.2.m2.1.2"></and><apply id="S3.SS2.p5.2.m2.1.2b.cmml" xref="S3.SS2.p5.2.m2.1.2"><lt id="S3.SS2.p5.2.m2.1.2.3.cmml" xref="S3.SS2.p5.2.m2.1.2.3"></lt><cn type="integer" id="S3.SS2.p5.2.m2.1.2.2.cmml" xref="S3.SS2.p5.2.m2.1.2.2">1</cn><ci id="S3.SS2.p5.2.m2.1.2.4.cmml" xref="S3.SS2.p5.2.m2.1.2.4">𝑒</ci></apply><apply id="S3.SS2.p5.2.m2.1.2c.cmml" xref="S3.SS2.p5.2.m2.1.2"><lt id="S3.SS2.p5.2.m2.1.2.5.cmml" xref="S3.SS2.p5.2.m2.1.2.5"></lt><share href="#S3.SS2.p5.2.m2.1.2.4.cmml" id="S3.SS2.p5.2.m2.1.2d.cmml" xref="S3.SS2.p5.2.m2.1.2"></share><apply id="S3.SS2.p5.2.m2.1.2.6.cmml" xref="S3.SS2.p5.2.m2.1.2.6"><times id="S3.SS2.p5.2.m2.1.2.6.1.cmml" xref="S3.SS2.p5.2.m2.1.2.6.1"></times><ci id="S3.SS2.p5.2.m2.1.2.6.2.cmml" xref="S3.SS2.p5.2.m2.1.2.6.2">italic-ϕ</ci><ci id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">1&lt;e&lt;\phi\left(n\right)</annotation></semantics></math>, and <math id="S3.SS2.p5.3.m3.1" class="ltx_Math" alttext="e" display="inline"><semantics id="S3.SS2.p5.3.m3.1a"><mi id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><ci id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">e</annotation></semantics></math> and<math id="S3.SS2.p5.4.m4.1" class="ltx_Math" alttext="\phi\left(n\right)" display="inline"><semantics id="S3.SS2.p5.4.m4.1a"><mrow id="S3.SS2.p5.4.m4.1.2" xref="S3.SS2.p5.4.m4.1.2.cmml"><mi id="S3.SS2.p5.4.m4.1.2.2" xref="S3.SS2.p5.4.m4.1.2.2.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m4.1.2.1" xref="S3.SS2.p5.4.m4.1.2.1.cmml">​</mo><mrow id="S3.SS2.p5.4.m4.1.2.3.2" xref="S3.SS2.p5.4.m4.1.2.cmml"><mo id="S3.SS2.p5.4.m4.1.2.3.2.1" xref="S3.SS2.p5.4.m4.1.2.cmml">(</mo><mi id="S3.SS2.p5.4.m4.1.1" xref="S3.SS2.p5.4.m4.1.1.cmml">n</mi><mo id="S3.SS2.p5.4.m4.1.2.3.2.2" xref="S3.SS2.p5.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.1b"><apply id="S3.SS2.p5.4.m4.1.2.cmml" xref="S3.SS2.p5.4.m4.1.2"><times id="S3.SS2.p5.4.m4.1.2.1.cmml" xref="S3.SS2.p5.4.m4.1.2.1"></times><ci id="S3.SS2.p5.4.m4.1.2.2.cmml" xref="S3.SS2.p5.4.m4.1.2.2">italic-ϕ</ci><ci id="S3.SS2.p5.4.m4.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.1c">\phi\left(n\right)</annotation></semantics></math> are mutually prime.</p>
</div>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.5" class="ltx_p">5) Compute the private key index <math id="S3.SS2.p6.1.m1.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS2.p6.1.m1.1a"><mi id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><ci id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">d</annotation></semantics></math> satisfying <math id="S3.SS2.p6.2.m2.2" class="ltx_Math" alttext="d\ast e\equiv 1\left(Mod\ \phi\left(n\right)\right)" display="inline"><semantics id="S3.SS2.p6.2.m2.2a"><mrow id="S3.SS2.p6.2.m2.2.2" xref="S3.SS2.p6.2.m2.2.2.cmml"><mrow id="S3.SS2.p6.2.m2.2.2.3" xref="S3.SS2.p6.2.m2.2.2.3.cmml"><mi id="S3.SS2.p6.2.m2.2.2.3.2" xref="S3.SS2.p6.2.m2.2.2.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p6.2.m2.2.2.3.1" xref="S3.SS2.p6.2.m2.2.2.3.1.cmml">∗</mo><mi id="S3.SS2.p6.2.m2.2.2.3.3" xref="S3.SS2.p6.2.m2.2.2.3.3.cmml">e</mi></mrow><mo id="S3.SS2.p6.2.m2.2.2.2" xref="S3.SS2.p6.2.m2.2.2.2.cmml">≡</mo><mrow id="S3.SS2.p6.2.m2.2.2.1" xref="S3.SS2.p6.2.m2.2.2.1.cmml"><mn id="S3.SS2.p6.2.m2.2.2.1.3" xref="S3.SS2.p6.2.m2.2.2.1.3.cmml">1</mn><mo lspace="0em" rspace="0em" id="S3.SS2.p6.2.m2.2.2.1.2" xref="S3.SS2.p6.2.m2.2.2.1.2.cmml">​</mo><mrow id="S3.SS2.p6.2.m2.2.2.1.1.1" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml"><mo id="S3.SS2.p6.2.m2.2.2.1.1.1.2" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p6.2.m2.2.2.1.1.1.1" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml"><mi id="S3.SS2.p6.2.m2.2.2.1.1.1.1.2" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.2.cmml">M</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.2.m2.2.2.1.1.1.1.1" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p6.2.m2.2.2.1.1.1.1.3" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.2.m2.2.2.1.1.1.1.1a" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p6.2.m2.2.2.1.1.1.1.4" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.4.cmml">d</mi><mo lspace="0.500em" rspace="0em" id="S3.SS2.p6.2.m2.2.2.1.1.1.1.1b" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p6.2.m2.2.2.1.1.1.1.5" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.5.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.2.m2.2.2.1.1.1.1.1c" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.1.cmml">​</mo><mrow id="S3.SS2.p6.2.m2.2.2.1.1.1.1.6.2" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml"><mo id="S3.SS2.p6.2.m2.2.2.1.1.1.1.6.2.1" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml">(</mo><mi id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml">n</mi><mo id="S3.SS2.p6.2.m2.2.2.1.1.1.1.6.2.2" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p6.2.m2.2.2.1.1.1.3" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.2b"><apply id="S3.SS2.p6.2.m2.2.2.cmml" xref="S3.SS2.p6.2.m2.2.2"><equivalent id="S3.SS2.p6.2.m2.2.2.2.cmml" xref="S3.SS2.p6.2.m2.2.2.2"></equivalent><apply id="S3.SS2.p6.2.m2.2.2.3.cmml" xref="S3.SS2.p6.2.m2.2.2.3"><ci id="S3.SS2.p6.2.m2.2.2.3.1.cmml" xref="S3.SS2.p6.2.m2.2.2.3.1">∗</ci><ci id="S3.SS2.p6.2.m2.2.2.3.2.cmml" xref="S3.SS2.p6.2.m2.2.2.3.2">𝑑</ci><ci id="S3.SS2.p6.2.m2.2.2.3.3.cmml" xref="S3.SS2.p6.2.m2.2.2.3.3">𝑒</ci></apply><apply id="S3.SS2.p6.2.m2.2.2.1.cmml" xref="S3.SS2.p6.2.m2.2.2.1"><times id="S3.SS2.p6.2.m2.2.2.1.2.cmml" xref="S3.SS2.p6.2.m2.2.2.1.2"></times><cn type="integer" id="S3.SS2.p6.2.m2.2.2.1.3.cmml" xref="S3.SS2.p6.2.m2.2.2.1.3">1</cn><apply id="S3.SS2.p6.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS2.p6.2.m2.2.2.1.1.1"><times id="S3.SS2.p6.2.m2.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.1"></times><ci id="S3.SS2.p6.2.m2.2.2.1.1.1.1.2.cmml" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.2">𝑀</ci><ci id="S3.SS2.p6.2.m2.2.2.1.1.1.1.3.cmml" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.3">𝑜</ci><ci id="S3.SS2.p6.2.m2.2.2.1.1.1.1.4.cmml" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.4">𝑑</ci><ci id="S3.SS2.p6.2.m2.2.2.1.1.1.1.5.cmml" xref="S3.SS2.p6.2.m2.2.2.1.1.1.1.5">italic-ϕ</ci><ci id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.2c">d\ast e\equiv 1\left(Mod\ \phi\left(n\right)\right)</annotation></semantics></math>. <math id="S3.SS2.p6.3.m3.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS2.p6.3.m3.1a"><mi id="S3.SS2.p6.3.m3.1.1" xref="S3.SS2.p6.3.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.3.m3.1b"><ci id="S3.SS2.p6.3.m3.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.3.m3.1c">d</annotation></semantics></math> is the multiplicative inverse of <math id="S3.SS2.p6.4.m4.1" class="ltx_Math" alttext="e" display="inline"><semantics id="S3.SS2.p6.4.m4.1a"><mi id="S3.SS2.p6.4.m4.1.1" xref="S3.SS2.p6.4.m4.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.4.m4.1b"><ci id="S3.SS2.p6.4.m4.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.4.m4.1c">e</annotation></semantics></math> to <math id="S3.SS2.p6.5.m5.1" class="ltx_Math" alttext="\phi\left(n\right)" display="inline"><semantics id="S3.SS2.p6.5.m5.1a"><mrow id="S3.SS2.p6.5.m5.1.2" xref="S3.SS2.p6.5.m5.1.2.cmml"><mi id="S3.SS2.p6.5.m5.1.2.2" xref="S3.SS2.p6.5.m5.1.2.2.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.5.m5.1.2.1" xref="S3.SS2.p6.5.m5.1.2.1.cmml">​</mo><mrow id="S3.SS2.p6.5.m5.1.2.3.2" xref="S3.SS2.p6.5.m5.1.2.cmml"><mo id="S3.SS2.p6.5.m5.1.2.3.2.1" xref="S3.SS2.p6.5.m5.1.2.cmml">(</mo><mi id="S3.SS2.p6.5.m5.1.1" xref="S3.SS2.p6.5.m5.1.1.cmml">n</mi><mo id="S3.SS2.p6.5.m5.1.2.3.2.2" xref="S3.SS2.p6.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.5.m5.1b"><apply id="S3.SS2.p6.5.m5.1.2.cmml" xref="S3.SS2.p6.5.m5.1.2"><times id="S3.SS2.p6.5.m5.1.2.1.cmml" xref="S3.SS2.p6.5.m5.1.2.1"></times><ci id="S3.SS2.p6.5.m5.1.2.2.cmml" xref="S3.SS2.p6.5.m5.1.2.2">italic-ϕ</ci><ci id="S3.SS2.p6.5.m5.1.1.cmml" xref="S3.SS2.p6.5.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.5.m5.1c">\phi\left(n\right)</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.13" class="ltx_p">After the key computation is complete, <math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mi id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><ci id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">n</annotation></semantics></math> and <math id="S3.SS2.p7.2.m2.1" class="ltx_Math" alttext="e" display="inline"><semantics id="S3.SS2.p7.2.m2.1a"><mi id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.1b"><ci id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.1c">e</annotation></semantics></math> are disclosed as the public key, where <math id="S3.SS2.p7.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p7.3.m3.1a"><mi id="S3.SS2.p7.3.m3.1.1" xref="S3.SS2.p7.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.3.m3.1b"><ci id="S3.SS2.p7.3.m3.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.3.m3.1c">n</annotation></semantics></math> is the modulus and <math id="S3.SS2.p7.4.m4.1" class="ltx_Math" alttext="e" display="inline"><semantics id="S3.SS2.p7.4.m4.1a"><mi id="S3.SS2.p7.4.m4.1.1" xref="S3.SS2.p7.4.m4.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.4.m4.1b"><ci id="S3.SS2.p7.4.m4.1.1.cmml" xref="S3.SS2.p7.4.m4.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.4.m4.1c">e</annotation></semantics></math> is the public key index. Convert the plaintext message <math id="S3.SS2.p7.5.m5.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS2.p7.5.m5.1a"><mi id="S3.SS2.p7.5.m5.1.1" xref="S3.SS2.p7.5.m5.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.5.m5.1b"><ci id="S3.SS2.p7.5.m5.1.1.cmml" xref="S3.SS2.p7.5.m5.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.5.m5.1c">M</annotation></semantics></math> to an integer <math id="S3.SS2.p7.6.m6.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS2.p7.6.m6.1a"><mi id="S3.SS2.p7.6.m6.1.1" xref="S3.SS2.p7.6.m6.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.6.m6.1b"><ci id="S3.SS2.p7.6.m6.1.1.cmml" xref="S3.SS2.p7.6.m6.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.6.m6.1c">m</annotation></semantics></math> with <math id="S3.SS2.p7.7.m7.1" class="ltx_Math" alttext="0&lt;m&lt;n" display="inline"><semantics id="S3.SS2.p7.7.m7.1a"><mrow id="S3.SS2.p7.7.m7.1.1" xref="S3.SS2.p7.7.m7.1.1.cmml"><mn id="S3.SS2.p7.7.m7.1.1.2" xref="S3.SS2.p7.7.m7.1.1.2.cmml">0</mn><mo id="S3.SS2.p7.7.m7.1.1.3" xref="S3.SS2.p7.7.m7.1.1.3.cmml">&lt;</mo><mi id="S3.SS2.p7.7.m7.1.1.4" xref="S3.SS2.p7.7.m7.1.1.4.cmml">m</mi><mo id="S3.SS2.p7.7.m7.1.1.5" xref="S3.SS2.p7.7.m7.1.1.5.cmml">&lt;</mo><mi id="S3.SS2.p7.7.m7.1.1.6" xref="S3.SS2.p7.7.m7.1.1.6.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.7.m7.1b"><apply id="S3.SS2.p7.7.m7.1.1.cmml" xref="S3.SS2.p7.7.m7.1.1"><and id="S3.SS2.p7.7.m7.1.1a.cmml" xref="S3.SS2.p7.7.m7.1.1"></and><apply id="S3.SS2.p7.7.m7.1.1b.cmml" xref="S3.SS2.p7.7.m7.1.1"><lt id="S3.SS2.p7.7.m7.1.1.3.cmml" xref="S3.SS2.p7.7.m7.1.1.3"></lt><cn type="integer" id="S3.SS2.p7.7.m7.1.1.2.cmml" xref="S3.SS2.p7.7.m7.1.1.2">0</cn><ci id="S3.SS2.p7.7.m7.1.1.4.cmml" xref="S3.SS2.p7.7.m7.1.1.4">𝑚</ci></apply><apply id="S3.SS2.p7.7.m7.1.1c.cmml" xref="S3.SS2.p7.7.m7.1.1"><lt id="S3.SS2.p7.7.m7.1.1.5.cmml" xref="S3.SS2.p7.7.m7.1.1.5"></lt><share href="#S3.SS2.p7.7.m7.1.1.4.cmml" id="S3.SS2.p7.7.m7.1.1d.cmml" xref="S3.SS2.p7.7.m7.1.1"></share><ci id="S3.SS2.p7.7.m7.1.1.6.cmml" xref="S3.SS2.p7.7.m7.1.1.6">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.7.m7.1c">0&lt;m&lt;n</annotation></semantics></math>. Calculate the ciphertext<math id="S3.SS2.p7.8.m8.1" class="ltx_Math" alttext="C=m^{e}\left(mod\ n\right)" display="inline"><semantics id="S3.SS2.p7.8.m8.1a"><mrow id="S3.SS2.p7.8.m8.1.1" xref="S3.SS2.p7.8.m8.1.1.cmml"><mi id="S3.SS2.p7.8.m8.1.1.3" xref="S3.SS2.p7.8.m8.1.1.3.cmml">C</mi><mo id="S3.SS2.p7.8.m8.1.1.2" xref="S3.SS2.p7.8.m8.1.1.2.cmml">=</mo><mrow id="S3.SS2.p7.8.m8.1.1.1" xref="S3.SS2.p7.8.m8.1.1.1.cmml"><msup id="S3.SS2.p7.8.m8.1.1.1.3" xref="S3.SS2.p7.8.m8.1.1.1.3.cmml"><mi id="S3.SS2.p7.8.m8.1.1.1.3.2" xref="S3.SS2.p7.8.m8.1.1.1.3.2.cmml">m</mi><mi id="S3.SS2.p7.8.m8.1.1.1.3.3" xref="S3.SS2.p7.8.m8.1.1.1.3.3.cmml">e</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS2.p7.8.m8.1.1.1.2" xref="S3.SS2.p7.8.m8.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p7.8.m8.1.1.1.1.1" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.cmml"><mo id="S3.SS2.p7.8.m8.1.1.1.1.1.2" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p7.8.m8.1.1.1.1.1.1" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p7.8.m8.1.1.1.1.1.1.2" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.8.m8.1.1.1.1.1.1.1" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.8.m8.1.1.1.1.1.1.3" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.8.m8.1.1.1.1.1.1.1a" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.8.m8.1.1.1.1.1.1.4" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.4.cmml">d</mi><mo lspace="0.500em" rspace="0em" id="S3.SS2.p7.8.m8.1.1.1.1.1.1.1b" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.8.m8.1.1.1.1.1.1.5" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.5.cmml">n</mi></mrow><mo id="S3.SS2.p7.8.m8.1.1.1.1.1.3" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.8.m8.1b"><apply id="S3.SS2.p7.8.m8.1.1.cmml" xref="S3.SS2.p7.8.m8.1.1"><eq id="S3.SS2.p7.8.m8.1.1.2.cmml" xref="S3.SS2.p7.8.m8.1.1.2"></eq><ci id="S3.SS2.p7.8.m8.1.1.3.cmml" xref="S3.SS2.p7.8.m8.1.1.3">𝐶</ci><apply id="S3.SS2.p7.8.m8.1.1.1.cmml" xref="S3.SS2.p7.8.m8.1.1.1"><times id="S3.SS2.p7.8.m8.1.1.1.2.cmml" xref="S3.SS2.p7.8.m8.1.1.1.2"></times><apply id="S3.SS2.p7.8.m8.1.1.1.3.cmml" xref="S3.SS2.p7.8.m8.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p7.8.m8.1.1.1.3.1.cmml" xref="S3.SS2.p7.8.m8.1.1.1.3">superscript</csymbol><ci id="S3.SS2.p7.8.m8.1.1.1.3.2.cmml" xref="S3.SS2.p7.8.m8.1.1.1.3.2">𝑚</ci><ci id="S3.SS2.p7.8.m8.1.1.1.3.3.cmml" xref="S3.SS2.p7.8.m8.1.1.1.3.3">𝑒</ci></apply><apply id="S3.SS2.p7.8.m8.1.1.1.1.1.1.cmml" xref="S3.SS2.p7.8.m8.1.1.1.1.1"><times id="S3.SS2.p7.8.m8.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.1"></times><ci id="S3.SS2.p7.8.m8.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.2">𝑚</ci><ci id="S3.SS2.p7.8.m8.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.3">𝑜</ci><ci id="S3.SS2.p7.8.m8.1.1.1.1.1.1.4.cmml" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.4">𝑑</ci><ci id="S3.SS2.p7.8.m8.1.1.1.1.1.1.5.cmml" xref="S3.SS2.p7.8.m8.1.1.1.1.1.1.5">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.8.m8.1c">C=m^{e}\left(mod\ n\right)</annotation></semantics></math>. <math id="S3.SS2.p7.9.m9.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS2.p7.9.m9.1a"><mi id="S3.SS2.p7.9.m9.1.1" xref="S3.SS2.p7.9.m9.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.9.m9.1b"><ci id="S3.SS2.p7.9.m9.1.1.cmml" xref="S3.SS2.p7.9.m9.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.9.m9.1c">C</annotation></semantics></math> is the encrypted message. After receiving the ciphertext <math id="S3.SS2.p7.10.m10.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS2.p7.10.m10.1a"><mi id="S3.SS2.p7.10.m10.1.1" xref="S3.SS2.p7.10.m10.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.10.m10.1b"><ci id="S3.SS2.p7.10.m10.1.1.cmml" xref="S3.SS2.p7.10.m10.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.10.m10.1c">C</annotation></semantics></math>, decrypt it using private key exponent <math id="S3.SS2.p7.11.m11.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS2.p7.11.m11.1a"><mi id="S3.SS2.p7.11.m11.1.1" xref="S3.SS2.p7.11.m11.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.11.m11.1b"><ci id="S3.SS2.p7.11.m11.1.1.cmml" xref="S3.SS2.p7.11.m11.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.11.m11.1c">d</annotation></semantics></math>. Compute the plaintext message <math id="S3.SS2.p7.12.m12.1" class="ltx_Math" alttext="M=C^{d}\left(Mod\ n\right)" display="inline"><semantics id="S3.SS2.p7.12.m12.1a"><mrow id="S3.SS2.p7.12.m12.1.1" xref="S3.SS2.p7.12.m12.1.1.cmml"><mi id="S3.SS2.p7.12.m12.1.1.3" xref="S3.SS2.p7.12.m12.1.1.3.cmml">M</mi><mo id="S3.SS2.p7.12.m12.1.1.2" xref="S3.SS2.p7.12.m12.1.1.2.cmml">=</mo><mrow id="S3.SS2.p7.12.m12.1.1.1" xref="S3.SS2.p7.12.m12.1.1.1.cmml"><msup id="S3.SS2.p7.12.m12.1.1.1.3" xref="S3.SS2.p7.12.m12.1.1.1.3.cmml"><mi id="S3.SS2.p7.12.m12.1.1.1.3.2" xref="S3.SS2.p7.12.m12.1.1.1.3.2.cmml">C</mi><mi id="S3.SS2.p7.12.m12.1.1.1.3.3" xref="S3.SS2.p7.12.m12.1.1.1.3.3.cmml">d</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS2.p7.12.m12.1.1.1.2" xref="S3.SS2.p7.12.m12.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p7.12.m12.1.1.1.1.1" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.cmml"><mo id="S3.SS2.p7.12.m12.1.1.1.1.1.2" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p7.12.m12.1.1.1.1.1.1" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p7.12.m12.1.1.1.1.1.1.2" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.2.cmml">M</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.12.m12.1.1.1.1.1.1.1" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.12.m12.1.1.1.1.1.1.3" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.12.m12.1.1.1.1.1.1.1a" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.12.m12.1.1.1.1.1.1.4" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.4.cmml">d</mi><mo lspace="0.500em" rspace="0em" id="S3.SS2.p7.12.m12.1.1.1.1.1.1.1b" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS2.p7.12.m12.1.1.1.1.1.1.5" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.5.cmml">n</mi></mrow><mo id="S3.SS2.p7.12.m12.1.1.1.1.1.3" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.12.m12.1b"><apply id="S3.SS2.p7.12.m12.1.1.cmml" xref="S3.SS2.p7.12.m12.1.1"><eq id="S3.SS2.p7.12.m12.1.1.2.cmml" xref="S3.SS2.p7.12.m12.1.1.2"></eq><ci id="S3.SS2.p7.12.m12.1.1.3.cmml" xref="S3.SS2.p7.12.m12.1.1.3">𝑀</ci><apply id="S3.SS2.p7.12.m12.1.1.1.cmml" xref="S3.SS2.p7.12.m12.1.1.1"><times id="S3.SS2.p7.12.m12.1.1.1.2.cmml" xref="S3.SS2.p7.12.m12.1.1.1.2"></times><apply id="S3.SS2.p7.12.m12.1.1.1.3.cmml" xref="S3.SS2.p7.12.m12.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p7.12.m12.1.1.1.3.1.cmml" xref="S3.SS2.p7.12.m12.1.1.1.3">superscript</csymbol><ci id="S3.SS2.p7.12.m12.1.1.1.3.2.cmml" xref="S3.SS2.p7.12.m12.1.1.1.3.2">𝐶</ci><ci id="S3.SS2.p7.12.m12.1.1.1.3.3.cmml" xref="S3.SS2.p7.12.m12.1.1.1.3.3">𝑑</ci></apply><apply id="S3.SS2.p7.12.m12.1.1.1.1.1.1.cmml" xref="S3.SS2.p7.12.m12.1.1.1.1.1"><times id="S3.SS2.p7.12.m12.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.1"></times><ci id="S3.SS2.p7.12.m12.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.2">𝑀</ci><ci id="S3.SS2.p7.12.m12.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.3">𝑜</ci><ci id="S3.SS2.p7.12.m12.1.1.1.1.1.1.4.cmml" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.4">𝑑</ci><ci id="S3.SS2.p7.12.m12.1.1.1.1.1.1.5.cmml" xref="S3.SS2.p7.12.m12.1.1.1.1.1.1.5">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.12.m12.1c">M=C^{d}\left(Mod\ n\right)</annotation></semantics></math>. <math id="S3.SS2.p7.13.m13.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS2.p7.13.m13.1a"><mi id="S3.SS2.p7.13.m13.1.1" xref="S3.SS2.p7.13.m13.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.13.m13.1b"><ci id="S3.SS2.p7.13.m13.1.1.cmml" xref="S3.SS2.p7.13.m13.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.13.m13.1c">m</annotation></semantics></math> is the original plaintext message.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Parallel Acceleration</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">After deploying the large model separately from the client and the server, the server node will bear most of the training cost, and according to the difference in the computing power of the server node, the FL-GLM framework supports two training strategies: serial training and parallel training.
If the server node has limited computing resources and can hardly afford a large batch size, serial training is a more suitable choice.
As shown in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(b), during serial training, the server interacts with only one of the clients, and when one client completes the training, the training process for the next client is started. After completing the training, the parameters of multiple client models need to be averaged. Serial training is time-consuming, but one-to-one communication requires less communication, thread processing, and server processing power and is suitable for training scenarios with limited server capacity.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2406.14898/assets/x3.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="297" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>FL-GLM with client-batch parallel training.
</figcaption>
</figure>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.2" class="ltx_p">Since the special structure of split learning does not allow smashed data from multiple clients to be averaged, which will result in features and labels not being aligned and a substantial decrease in model performance, two parallel training strategies are designed in the FL-GLM framework.
As shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.3 Parallel Acceleration ‣ 3 Model ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, the first strategy is to stack the smashed data from different clients during parallel training as a set of data to expand the batch for collaborative training.
Take clients’ batch size=1 as an example; the number of clients is <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">M</annotation></semantics></math>, and in each round of training, every client sends smashed data of size seqlength, batchsize=1, hiddensize to the server, and the data received by the server will be integrated into a tensor with batch size <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">M</annotation></semantics></math> for subsequent training. The second parallel strategy is shown in Figure <a href="#S3.F4" title="Figure 4 ‣ 3.3 Parallel Acceleration ‣ 3 Model ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
Each client model will correspond to a server-side model, and the server node will run multiple models simultaneously, which can alleviate the threading problem in one-to-many communication to a certain extent.
The server-side model parameters and client-side parameters are averaged at the end of the training period.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2406.14898/assets/x4.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="305" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>FL-GLM with server-hierarchical parallel.
</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In order to demonstrate the performance of chatGLM model within the federated learning framework(FL-GLM), we conduct experiments using the same benchmarks as those used in GLM model <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<div id="S4.T1.2" class="ltx_logical-block ltx_pruned_first">
<div id="S4.T1.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S4.T1.2.p2.4" class="ltx_inline-block ltx_transformed_outer" style="width:683.8pt;height:145pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S4.T1.2.p2.4.4" class="ltx_p"><span id="S4.T1.2.p2.4.4.4" class="ltx_text">
<span id="S4.T1.2.p2.4.4.4.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S4.T1.2.p2.4.4.4.4.5.1" class="ltx_tr">
<span id="S4.T1.2.p2.4.4.4.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T1.2.p2.4.4.4.4.5.1.1.1" class="ltx_text">Model</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T1.2.p2.4.4.4.4.5.1.2.1" class="ltx_text">Model Size</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.3.1" class="ltx_text ltx_font_bold">ReCoRD</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.4.1" class="ltx_text ltx_font_bold">COPA</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.5.1" class="ltx_text ltx_font_bold">WSC</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.6.1" class="ltx_text ltx_font_bold">RTE</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.7.1" class="ltx_text ltx_font_bold">BoolQ</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.8.1" class="ltx_text ltx_font_bold">WiC</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.9.1" class="ltx_text ltx_font_bold">CB</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T1.2.p2.4.4.4.4.5.1.10.1" class="ltx_text ltx_font_bold">MultiRC</span></span>
<span id="S4.T1.2.p2.4.4.4.4.5.1.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T1.2.p2.4.4.4.4.5.1.11.1" class="ltx_text ltx_font_bold">Avg</span></span></span>
<span id="S4.T1.2.p2.4.4.4.4.6.2" class="ltx_tr">
<span id="S4.T1.2.p2.4.4.4.4.6.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column">F1/Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column">Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column">Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column">Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column">Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column">Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column">F1/Acc.</span>
<span id="S4.T1.2.p2.4.4.4.4.6.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column">F1a/EM</span></span>
</span>
<span class="ltx_tbody">
<span id="S4.T1.2.p2.1.1.1.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><math id="S4.T1.2.p2.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\text{T5}_{\text{large}}" display="inline"><semantics id="S4.T1.2.p2.1.1.1.1.1.1.m1.1a"><msub id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.cmml"><mtext id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.2" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.2a.cmml">T5</mtext><mtext id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.3" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.3a.cmml">large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.2.p2.1.1.1.1.1.1.m1.1b"><apply id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.2a.cmml" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.2"><mtext id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.2">T5</mtext></ci><ci id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.3a.cmml" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.T1.2.p2.1.1.1.1.1.1.m1.1.1.3">large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.p2.1.1.1.1.1.1.m1.1c">\text{T5}_{\text{large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t">770M</span>
<span id="S4.T1.2.p2.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">85.7/85.0</span>
<span id="S4.T1.2.p2.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t">78.0</span>
<span id="S4.T1.2.p2.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t">84.6</span>
<span id="S4.T1.2.p2.1.1.1.1.1.6" class="ltx_td ltx_align_center ltx_border_t">84.8</span>
<span id="S4.T1.2.p2.1.1.1.1.1.7" class="ltx_td ltx_align_center ltx_border_t">84.3</span>
<span id="S4.T1.2.p2.1.1.1.1.1.8" class="ltx_td ltx_align_center ltx_border_t">71.6</span>
<span id="S4.T1.2.p2.1.1.1.1.1.9" class="ltx_td ltx_align_center ltx_border_t">96.4/98.2</span>
<span id="S4.T1.2.p2.1.1.1.1.1.10" class="ltx_td ltx_align_center ltx_border_t">80.9/46.6</span>
<span id="S4.T1.2.p2.1.1.1.1.1.11" class="ltx_td ltx_align_center ltx_border_t">81.2</span></span>
<span id="S4.T1.2.p2.2.2.2.2.2" class="ltx_tr">
<span id="S4.T1.2.p2.2.2.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T1.2.p2.2.2.2.2.2.1.m1.1" class="ltx_Math" alttext="\text{BART}_{\text{Large}}" display="inline"><semantics id="S4.T1.2.p2.2.2.2.2.2.1.m1.1a"><msub id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.cmml"><mtext id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.2" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.2a.cmml">BART</mtext><mtext id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.3" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.3a.cmml">Large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.2.p2.2.2.2.2.2.1.m1.1b"><apply id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.cmml" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.1.cmml" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1">subscript</csymbol><ci id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.2a.cmml" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.2"><mtext id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.2.cmml" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.2">BART</mtext></ci><ci id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.3a.cmml" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.3.cmml" xref="S4.T1.2.p2.2.2.2.2.2.1.m1.1.1.3">Large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.p2.2.2.2.2.2.1.m1.1c">\text{BART}_{\text{Large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.2.2.2.2.2.2" class="ltx_td ltx_align_center">409M</span>
<span id="S4.T1.2.p2.2.2.2.2.2.3" class="ltx_td ltx_align_center">88.3/87.8</span>
<span id="S4.T1.2.p2.2.2.2.2.2.4" class="ltx_td ltx_align_center">60.0</span>
<span id="S4.T1.2.p2.2.2.2.2.2.5" class="ltx_td ltx_align_center">65.4</span>
<span id="S4.T1.2.p2.2.2.2.2.2.6" class="ltx_td ltx_align_center">84.5</span>
<span id="S4.T1.2.p2.2.2.2.2.2.7" class="ltx_td ltx_align_center">84.3</span>
<span id="S4.T1.2.p2.2.2.2.2.2.8" class="ltx_td ltx_align_center">69.0</span>
<span id="S4.T1.2.p2.2.2.2.2.2.9" class="ltx_td ltx_align_center">90.5/92.9</span>
<span id="S4.T1.2.p2.2.2.2.2.2.10" class="ltx_td ltx_align_center">81.8/48.0</span>
<span id="S4.T1.2.p2.2.2.2.2.2.11" class="ltx_td ltx_align_center">76.0</span></span>
<span id="S4.T1.2.p2.3.3.3.3.3" class="ltx_tr">
<span id="S4.T1.2.p2.3.3.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T1.2.p2.3.3.3.3.3.1.m1.1" class="ltx_Math" alttext="\text{RoBERTa}_{\text{Large}}" display="inline"><semantics id="S4.T1.2.p2.3.3.3.3.3.1.m1.1a"><msub id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.cmml"><mtext id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.2" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.2a.cmml">RoBERTa</mtext><mtext id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.3" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.3a.cmml">Large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.2.p2.3.3.3.3.3.1.m1.1b"><apply id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.cmml" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.1.cmml" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1">subscript</csymbol><ci id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.2a.cmml" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.2"><mtext id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.2.cmml" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.2">RoBERTa</mtext></ci><ci id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.3a.cmml" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.3.cmml" xref="S4.T1.2.p2.3.3.3.3.3.1.m1.1.1.3">Large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.p2.3.3.3.3.3.1.m1.1c">\text{RoBERTa}_{\text{Large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.3.3.3.3.3.2" class="ltx_td ltx_align_center">335M</span>
<span id="S4.T1.2.p2.3.3.3.3.3.3" class="ltx_td ltx_align_center">89.0/88.4</span>
<span id="S4.T1.2.p2.3.3.3.3.3.4" class="ltx_td ltx_align_center">90.0</span>
<span id="S4.T1.2.p2.3.3.3.3.3.5" class="ltx_td ltx_align_center">63.5</span>
<span id="S4.T1.2.p2.3.3.3.3.3.6" class="ltx_td ltx_align_center">87.0</span>
<span id="S4.T1.2.p2.3.3.3.3.3.7" class="ltx_td ltx_align_center">86.1</span>
<span id="S4.T1.2.p2.3.3.3.3.3.8" class="ltx_td ltx_align_center">72.6</span>
<span id="S4.T1.2.p2.3.3.3.3.3.9" class="ltx_td ltx_align_center">96.1/94.6</span>
<span id="S4.T1.2.p2.3.3.3.3.3.10" class="ltx_td ltx_align_center">84.4/52.9</span>
<span id="S4.T1.2.p2.3.3.3.3.3.11" class="ltx_td ltx_align_center">81.5</span></span>
<span id="S4.T1.2.p2.4.4.4.4.4" class="ltx_tr">
<span id="S4.T1.2.p2.4.4.4.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T1.2.p2.4.4.4.4.4.1.m1.1" class="ltx_Math" alttext="\text{GLM}_{\text{RoBERTa}}" display="inline"><semantics id="S4.T1.2.p2.4.4.4.4.4.1.m1.1a"><msub id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.cmml"><mtext id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.2" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.2a.cmml">GLM</mtext><mtext id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.3" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.3a.cmml">RoBERTa</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.2.p2.4.4.4.4.4.1.m1.1b"><apply id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.cmml" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.1.cmml" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1">subscript</csymbol><ci id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.2a.cmml" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.2"><mtext id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.2.cmml" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.2">GLM</mtext></ci><ci id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.3a.cmml" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.3.cmml" xref="S4.T1.2.p2.4.4.4.4.4.1.m1.1.1.3">RoBERTa</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.p2.4.4.4.4.4.1.m1.1c">\text{GLM}_{\text{RoBERTa}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.4.4.4.4.4.2" class="ltx_td ltx_align_center">335M</span>
<span id="S4.T1.2.p2.4.4.4.4.4.3" class="ltx_td ltx_align_center">89.6/89.0</span>
<span id="S4.T1.2.p2.4.4.4.4.4.4" class="ltx_td ltx_align_center">82.0</span>
<span id="S4.T1.2.p2.4.4.4.4.4.5" class="ltx_td ltx_align_center">83.7</span>
<span id="S4.T1.2.p2.4.4.4.4.4.6" class="ltx_td ltx_align_center">87.7</span>
<span id="S4.T1.2.p2.4.4.4.4.4.7" class="ltx_td ltx_align_center">84.7</span>
<span id="S4.T1.2.p2.4.4.4.4.4.8" class="ltx_td ltx_align_center">71.2</span>
<span id="S4.T1.2.p2.4.4.4.4.4.9" class="ltx_td ltx_align_center">98.7/98.2</span>
<span id="S4.T1.2.p2.4.4.4.4.4.10" class="ltx_td ltx_align_center">82.4/50.1</span>
<span id="S4.T1.2.p2.4.4.4.4.4.11" class="ltx_td ltx_align_center">82.9</span></span>
<span id="S4.T1.2.p2.4.4.4.4.7.1" class="ltx_tr">
<span id="S4.T1.2.p2.4.4.4.4.7.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">ChatGLM-6B <cite class="ltx_cite ltx_citemacro_citep">(Zeng et al., <a href="#bib.bib35" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.2" class="ltx_td ltx_align_center">6B</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.3" class="ltx_td ltx_align_center">80.2/78.7</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.4" class="ltx_td ltx_align_center">85.0</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.5" class="ltx_td ltx_align_center">71.2</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.6" class="ltx_td ltx_align_center">81.6</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.7" class="ltx_td ltx_align_center">83.4</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.8" class="ltx_td ltx_align_center">71.0</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.9" class="ltx_td ltx_align_center">85.7/83.9</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.10" class="ltx_td ltx_align_center">78.2/45.6</span>
<span id="S4.T1.2.p2.4.4.4.4.7.1.11" class="ltx_td ltx_align_center">79.6</span></span>
<span id="S4.T1.2.p2.4.4.4.4.8.2" class="ltx_tr">
<span id="S4.T1.2.p2.4.4.4.4.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><span id="S4.T1.2.p2.4.4.4.4.8.2.1.1" class="ltx_ERROR undefined">\hdashline</span>FL-GLM</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.2" class="ltx_td ltx_align_center ltx_border_bb">6B</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.3" class="ltx_td ltx_align_center ltx_border_bb">79.8/78.4</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.4" class="ltx_td ltx_align_center ltx_border_bb">85.0</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.5" class="ltx_td ltx_align_center ltx_border_bb">71.2</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.6" class="ltx_td ltx_align_center ltx_border_bb">80.1</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.7" class="ltx_td ltx_align_center ltx_border_bb">81.9</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.8" class="ltx_td ltx_align_center ltx_border_bb">69.6</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.9" class="ltx_td ltx_align_center ltx_border_bb">85.7/83.9</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.10" class="ltx_td ltx_align_center ltx_border_bb">79.3/46.1</span>
<span id="S4.T1.2.p2.4.4.4.4.8.2.11" class="ltx_td ltx_align_center ltx_border_bb">79.1</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span> Results on the SuperGLUE dev set.</figcaption>
</figure>
<figure id="S4.T2" class="ltx_table">
<div id="S4.T2.2" class="ltx_logical-block ltx_pruned_first">
<div id="S4.T2.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S4.T2.2.p2.4" class="ltx_inline-block ltx_transformed_outer" style="width:670.3pt;height:163pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S4.T2.2.p2.4.4" class="ltx_p"><span id="S4.T2.2.p2.4.4.4" class="ltx_text">
<span id="S4.T2.2.p2.4.4.4.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S4.T2.2.p2.4.4.4.4.5.1" class="ltx_tr">
<span id="S4.T2.2.p2.4.4.4.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T2.2.p2.4.4.4.4.5.1.1.1" class="ltx_text ltx_font_bold">Model</span></span>
<span id="S4.T2.2.p2.4.4.4.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T2.2.p2.4.4.4.4.5.1.2.1" class="ltx_text">Model Size</span></span>
<span id="S4.T2.2.p2.4.4.4.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_3"><span id="S4.T2.2.p2.4.4.4.4.5.1.3.1" class="ltx_text ltx_font_bold">CNN/DailyMail</span></span>
<span id="S4.T2.2.p2.4.4.4.4.5.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_3"><span id="S4.T2.2.p2.4.4.4.4.5.1.4.1" class="ltx_text ltx_font_bold">XSum</span></span></span>
<span id="S4.T2.2.p2.4.4.4.4.6.2" class="ltx_tr">
<span id="S4.T2.2.p2.4.4.4.4.6.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column">ROUGE-1</span>
<span id="S4.T2.2.p2.4.4.4.4.6.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column">ROUGE-2</span>
<span id="S4.T2.2.p2.4.4.4.4.6.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column">ROUGE-L</span>
<span id="S4.T2.2.p2.4.4.4.4.6.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column">ROUGE-1</span>
<span id="S4.T2.2.p2.4.4.4.4.6.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column">ROUGE-2</span>
<span id="S4.T2.2.p2.4.4.4.4.6.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column">ROUGE-L</span></span>
</span>
<span class="ltx_tbody">
<span id="S4.T2.2.p2.4.4.4.4.7.1" class="ltx_tr">
<span id="S4.T2.2.p2.4.4.4.4.7.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">BERTSumAbs <cite class="ltx_cite ltx_citemacro_citep">(Liu and Lapata, <a href="#bib.bib21" title="" class="ltx_ref">2019</a>)</cite></span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.2" class="ltx_td ltx_align_center ltx_border_t">110M</span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.3" class="ltx_td ltx_align_center ltx_border_t">41.7</span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.4" class="ltx_td ltx_align_center ltx_border_t">19.4</span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.5" class="ltx_td ltx_align_center ltx_border_t">38.8</span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.6" class="ltx_td ltx_align_center ltx_border_t">38.8</span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.7" class="ltx_td ltx_align_center ltx_border_t">16.3</span>
<span id="S4.T2.2.p2.4.4.4.4.7.1.8" class="ltx_td ltx_align_center ltx_border_t">31.2</span></span>
<span id="S4.T2.2.p2.1.1.1.1.1" class="ltx_tr">
<span id="S4.T2.2.p2.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T2.2.p2.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\text{UniLMv2}_{\text{Base}}" display="inline"><semantics id="S4.T2.2.p2.1.1.1.1.1.1.m1.1a"><msub id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.cmml"><mtext id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.2" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.2a.cmml">UniLMv2</mtext><mtext id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.3" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.3a.cmml">Base</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T2.2.p2.1.1.1.1.1.1.m1.1b"><apply id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.2a.cmml" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.2"><mtext id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.2">UniLMv2</mtext></ci><ci id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.3a.cmml" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.T2.2.p2.1.1.1.1.1.1.m1.1.1.3">Base</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.p2.1.1.1.1.1.1.m1.1c">\text{UniLMv2}_{\text{Base}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Bao et al., <a href="#bib.bib4" title="" class="ltx_ref">2020</a>)</cite></span>
<span id="S4.T2.2.p2.1.1.1.1.1.2" class="ltx_td ltx_align_center">110M</span>
<span id="S4.T2.2.p2.1.1.1.1.1.3" class="ltx_td ltx_align_center">43.2</span>
<span id="S4.T2.2.p2.1.1.1.1.1.4" class="ltx_td ltx_align_center">20.4</span>
<span id="S4.T2.2.p2.1.1.1.1.1.5" class="ltx_td ltx_align_center">40.1</span>
<span id="S4.T2.2.p2.1.1.1.1.1.6" class="ltx_td ltx_align_center">44.0</span>
<span id="S4.T2.2.p2.1.1.1.1.1.7" class="ltx_td ltx_align_center">21.1</span>
<span id="S4.T2.2.p2.1.1.1.1.1.8" class="ltx_td ltx_align_center">36.1</span></span>
<span id="S4.T2.2.p2.2.2.2.2.2" class="ltx_tr">
<span id="S4.T2.2.p2.2.2.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T2.2.p2.2.2.2.2.2.1.m1.1" class="ltx_Math" alttext="\text{T5}_{\text{Large}}" display="inline"><semantics id="S4.T2.2.p2.2.2.2.2.2.1.m1.1a"><msub id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.cmml"><mtext id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.2" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.2a.cmml">T5</mtext><mtext id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.3" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.3a.cmml">Large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T2.2.p2.2.2.2.2.2.1.m1.1b"><apply id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.cmml" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.1.cmml" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1">subscript</csymbol><ci id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.2a.cmml" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.2"><mtext id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.2.cmml" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.2">T5</mtext></ci><ci id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.3a.cmml" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.3.cmml" xref="S4.T2.2.p2.2.2.2.2.2.1.m1.1.1.3">Large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.p2.2.2.2.2.2.1.m1.1c">\text{T5}_{\text{Large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Raffel et al., <a href="#bib.bib26" title="" class="ltx_ref">2020</a>)</cite></span>
<span id="S4.T2.2.p2.2.2.2.2.2.2" class="ltx_td ltx_align_center">770M</span>
<span id="S4.T2.2.p2.2.2.2.2.2.3" class="ltx_td ltx_align_center">42.5</span>
<span id="S4.T2.2.p2.2.2.2.2.2.4" class="ltx_td ltx_align_center">20.7</span>
<span id="S4.T2.2.p2.2.2.2.2.2.5" class="ltx_td ltx_align_center">39.8</span>
<span id="S4.T2.2.p2.2.2.2.2.2.6" class="ltx_td ltx_align_center">40.9</span>
<span id="S4.T2.2.p2.2.2.2.2.2.7" class="ltx_td ltx_align_center">17.3</span>
<span id="S4.T2.2.p2.2.2.2.2.2.8" class="ltx_td ltx_align_center">33.0</span></span>
<span id="S4.T2.2.p2.3.3.3.3.3" class="ltx_tr">
<span id="S4.T2.2.p2.3.3.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T2.2.p2.3.3.3.3.3.1.m1.1" class="ltx_Math" alttext="\text{BART}_{\text{Large}}" display="inline"><semantics id="S4.T2.2.p2.3.3.3.3.3.1.m1.1a"><msub id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.cmml"><mtext id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.2" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.2a.cmml">BART</mtext><mtext id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.3" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.3a.cmml">Large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T2.2.p2.3.3.3.3.3.1.m1.1b"><apply id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.cmml" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.1.cmml" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1">subscript</csymbol><ci id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.2a.cmml" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.2"><mtext id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.2.cmml" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.2">BART</mtext></ci><ci id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.3a.cmml" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.3.cmml" xref="S4.T2.2.p2.3.3.3.3.3.1.m1.1.1.3">Large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.p2.3.3.3.3.3.1.m1.1c">\text{BART}_{\text{Large}}</annotation></semantics></math>  <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a href="#bib.bib14" title="" class="ltx_ref">2020</a>)</cite></span>
<span id="S4.T2.2.p2.3.3.3.3.3.2" class="ltx_td ltx_align_center">409M</span>
<span id="S4.T2.2.p2.3.3.3.3.3.3" class="ltx_td ltx_align_center">44.2</span>
<span id="S4.T2.2.p2.3.3.3.3.3.4" class="ltx_td ltx_align_center">21.3</span>
<span id="S4.T2.2.p2.3.3.3.3.3.5" class="ltx_td ltx_align_center">40.9</span>
<span id="S4.T2.2.p2.3.3.3.3.3.6" class="ltx_td ltx_align_center">45.1</span>
<span id="S4.T2.2.p2.3.3.3.3.3.7" class="ltx_td ltx_align_center">22.3</span>
<span id="S4.T2.2.p2.3.3.3.3.3.8" class="ltx_td ltx_align_center">37.3</span></span>
<span id="S4.T2.2.p2.4.4.4.4.4" class="ltx_tr">
<span id="S4.T2.2.p2.4.4.4.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S4.T2.2.p2.4.4.4.4.4.1.m1.1" class="ltx_Math" alttext="\text{GLM}_{\text{RoBERTa}}" display="inline"><semantics id="S4.T2.2.p2.4.4.4.4.4.1.m1.1a"><msub id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.cmml"><mtext id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.2" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.2a.cmml">GLM</mtext><mtext id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.3" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.3a.cmml">RoBERTa</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T2.2.p2.4.4.4.4.4.1.m1.1b"><apply id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.cmml" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.1.cmml" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1">subscript</csymbol><ci id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.2a.cmml" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.2"><mtext id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.2.cmml" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.2">GLM</mtext></ci><ci id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.3a.cmml" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.3.cmml" xref="S4.T2.2.p2.4.4.4.4.4.1.m1.1.1.3">RoBERTa</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.p2.4.4.4.4.4.1.m1.1c">\text{GLM}_{\text{RoBERTa}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T2.2.p2.4.4.4.4.4.2" class="ltx_td ltx_align_center">335M</span>
<span id="S4.T2.2.p2.4.4.4.4.4.3" class="ltx_td ltx_align_center">43.8</span>
<span id="S4.T2.2.p2.4.4.4.4.4.4" class="ltx_td ltx_align_center">21.0</span>
<span id="S4.T2.2.p2.4.4.4.4.4.5" class="ltx_td ltx_align_center">40.5</span>
<span id="S4.T2.2.p2.4.4.4.4.4.6" class="ltx_td ltx_align_center">45.5</span>
<span id="S4.T2.2.p2.4.4.4.4.4.7" class="ltx_td ltx_align_center">23.5</span>
<span id="S4.T2.2.p2.4.4.4.4.4.8" class="ltx_td ltx_align_center">37.3</span></span>
<span id="S4.T2.2.p2.4.4.4.4.8.2" class="ltx_tr">
<span id="S4.T2.2.p2.4.4.4.4.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">ChatGLM-6B <cite class="ltx_cite ltx_citemacro_citep">(Zeng et al., <a href="#bib.bib35" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.2" class="ltx_td ltx_align_center">6B</span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.3" class="ltx_td ltx_align_center">40.4</span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.4" class="ltx_td ltx_align_center">17.0</span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.5" class="ltx_td ltx_align_center">28.0</span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.6" class="ltx_td ltx_align_center">37.6</span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.7" class="ltx_td ltx_align_center">12.5</span>
<span id="S4.T2.2.p2.4.4.4.4.8.2.8" class="ltx_td ltx_align_center">30.1</span></span>
<span id="S4.T2.2.p2.4.4.4.4.9.3" class="ltx_tr">
<span id="S4.T2.2.p2.4.4.4.4.9.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><span id="S4.T2.2.p2.4.4.4.4.9.3.1.1" class="ltx_ERROR undefined">\hdashline</span>FL-GLM</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.2" class="ltx_td ltx_align_center ltx_border_bb">6B</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.3" class="ltx_td ltx_align_center ltx_border_bb">39.6</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.4" class="ltx_td ltx_align_center ltx_border_bb">16.9</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.5" class="ltx_td ltx_align_center ltx_border_bb">28.0</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.6" class="ltx_td ltx_align_center ltx_border_bb">37.0</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.7" class="ltx_td ltx_align_center ltx_border_bb">11.9</span>
<span id="S4.T2.2.p2.4.4.4.4.9.3.8" class="ltx_td ltx_align_center ltx_border_bb">29.4</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span> Results of abstractive summarization on the CNN/DailyMail and XSum test sets.</figcaption>
</figure>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Settings</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">We first introduce some empirical settings, including datasets, evaluation metrics, baselines and parameter settings for FL-GLM.</p>
</div>
<section id="S4.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1 </span>Dataset</h4>

<div id="S4.SS1.SSS1.p1" class="ltx_para">
<p id="S4.SS1.SSS1.p1.1" class="ltx_p">For a fair comparison with centralized chatGLM-6B, we test our model on the SuperGLUE <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib32" title="" class="ltx_ref">2019</a>)</cite> benchmark for NLU tasks, and on CNN/DailyMail and XSum datasets for abstractive summarization tasks.</p>
</div>
<div id="S4.SS1.SSS1.p2" class="ltx_para">
<p id="S4.SS1.SSS1.p2.5" class="ltx_p">The SuperGLUE benchmark is a collection of challenging NLU tasks designed to evaluate the performance and capabilities of state-of-the-art language models. It consists of eight diverse tasks, i.e., ReCoRD, COPA, WSC, RTE, BoolQ, WiC, CB, and MultiRC, each representing a different aspect of language understanding. The details of the SuperGLUE benchmark can be seen in Appendix <a href="#A2" title="Appendix B Dataset ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>.
Following GLM <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite>, we formulate these tasks as blank infilling tasks. Specifically, given a labeled example <math id="S4.SS1.SSS1.p2.1.m1.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S4.SS1.SSS1.p2.1.m1.2a"><mrow id="S4.SS1.SSS1.p2.1.m1.2.3.2" xref="S4.SS1.SSS1.p2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.SSS1.p2.1.m1.2.3.2.1" xref="S4.SS1.SSS1.p2.1.m1.2.3.1.cmml">(</mo><mi id="S4.SS1.SSS1.p2.1.m1.1.1" xref="S4.SS1.SSS1.p2.1.m1.1.1.cmml">x</mi><mo id="S4.SS1.SSS1.p2.1.m1.2.3.2.2" xref="S4.SS1.SSS1.p2.1.m1.2.3.1.cmml">,</mo><mi id="S4.SS1.SSS1.p2.1.m1.2.2" xref="S4.SS1.SSS1.p2.1.m1.2.2.cmml">y</mi><mo stretchy="false" id="S4.SS1.SSS1.p2.1.m1.2.3.2.3" xref="S4.SS1.SSS1.p2.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.1.m1.2b"><interval closure="open" id="S4.SS1.SSS1.p2.1.m1.2.3.1.cmml" xref="S4.SS1.SSS1.p2.1.m1.2.3.2"><ci id="S4.SS1.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1">𝑥</ci><ci id="S4.SS1.SSS1.p2.1.m1.2.2.cmml" xref="S4.SS1.SSS1.p2.1.m1.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.1.m1.2c">(x,y)</annotation></semantics></math>, we rewrite the input <math id="S4.SS1.SSS1.p2.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.SS1.SSS1.p2.2.m2.1a"><mi id="S4.SS1.SSS1.p2.2.m2.1.1" xref="S4.SS1.SSS1.p2.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.2.m2.1b"><ci id="S4.SS1.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.2.m2.1c">x</annotation></semantics></math> as a closed question <math id="S4.SS1.SSS1.p2.3.m3.1" class="ltx_Math" alttext="q(x)" display="inline"><semantics id="S4.SS1.SSS1.p2.3.m3.1a"><mrow id="S4.SS1.SSS1.p2.3.m3.1.2" xref="S4.SS1.SSS1.p2.3.m3.1.2.cmml"><mi id="S4.SS1.SSS1.p2.3.m3.1.2.2" xref="S4.SS1.SSS1.p2.3.m3.1.2.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="S4.SS1.SSS1.p2.3.m3.1.2.1" xref="S4.SS1.SSS1.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S4.SS1.SSS1.p2.3.m3.1.2.3.2" xref="S4.SS1.SSS1.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S4.SS1.SSS1.p2.3.m3.1.2.3.2.1" xref="S4.SS1.SSS1.p2.3.m3.1.2.cmml">(</mo><mi id="S4.SS1.SSS1.p2.3.m3.1.1" xref="S4.SS1.SSS1.p2.3.m3.1.1.cmml">x</mi><mo stretchy="false" id="S4.SS1.SSS1.p2.3.m3.1.2.3.2.2" xref="S4.SS1.SSS1.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.3.m3.1b"><apply id="S4.SS1.SSS1.p2.3.m3.1.2.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.2"><times id="S4.SS1.SSS1.p2.3.m3.1.2.1.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.2.1"></times><ci id="S4.SS1.SSS1.p2.3.m3.1.2.2.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.2.2">𝑞</ci><ci id="S4.SS1.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.3.m3.1c">q(x)</annotation></semantics></math> through a mask token [M] and rewrite output <math id="S4.SS1.SSS1.p2.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.SS1.SSS1.p2.4.m4.1a"><mi id="S4.SS1.SSS1.p2.4.m4.1.1" xref="S4.SS1.SSS1.p2.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.4.m4.1b"><ci id="S4.SS1.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS1.SSS1.p2.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.4.m4.1c">y</annotation></semantics></math> as an answer <math id="S4.SS1.SSS1.p2.5.m5.1" class="ltx_Math" alttext="a(y)" display="inline"><semantics id="S4.SS1.SSS1.p2.5.m5.1a"><mrow id="S4.SS1.SSS1.p2.5.m5.1.2" xref="S4.SS1.SSS1.p2.5.m5.1.2.cmml"><mi id="S4.SS1.SSS1.p2.5.m5.1.2.2" xref="S4.SS1.SSS1.p2.5.m5.1.2.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS1.SSS1.p2.5.m5.1.2.1" xref="S4.SS1.SSS1.p2.5.m5.1.2.1.cmml">​</mo><mrow id="S4.SS1.SSS1.p2.5.m5.1.2.3.2" xref="S4.SS1.SSS1.p2.5.m5.1.2.cmml"><mo stretchy="false" id="S4.SS1.SSS1.p2.5.m5.1.2.3.2.1" xref="S4.SS1.SSS1.p2.5.m5.1.2.cmml">(</mo><mi id="S4.SS1.SSS1.p2.5.m5.1.1" xref="S4.SS1.SSS1.p2.5.m5.1.1.cmml">y</mi><mo stretchy="false" id="S4.SS1.SSS1.p2.5.m5.1.2.3.2.2" xref="S4.SS1.SSS1.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.5.m5.1b"><apply id="S4.SS1.SSS1.p2.5.m5.1.2.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.2"><times id="S4.SS1.SSS1.p2.5.m5.1.2.1.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.2.1"></times><ci id="S4.SS1.SSS1.p2.5.m5.1.2.2.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.2.2">𝑎</ci><ci id="S4.SS1.SSS1.p2.5.m5.1.1.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.5.m5.1c">a(y)</annotation></semantics></math>.</p>
</div>
<div id="S4.SS1.SSS1.p3" class="ltx_para">
<p id="S4.SS1.SSS1.p3.1" class="ltx_p">For abstractive summarization tasks, we append a mask token [M] at the end of the given context as input and treat the summary as output. Then the model generates the summary autoregressively.</p>
</div>
</section>
<section id="S4.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2 </span>Metrics</h4>

<div id="S4.SS1.SSS2.p1" class="ltx_para">
<p id="S4.SS1.SSS2.p1.1" class="ltx_p">Since the NLU tasks are reformulated as blank infilling tasks, the model performance can be evaluated using the generated probability of the ground-truth answer <math id="S4.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="a(y)" display="inline"><semantics id="S4.SS1.SSS2.p1.1.m1.1a"><mrow id="S4.SS1.SSS2.p1.1.m1.1.2" xref="S4.SS1.SSS2.p1.1.m1.1.2.cmml"><mi id="S4.SS1.SSS2.p1.1.m1.1.2.2" xref="S4.SS1.SSS2.p1.1.m1.1.2.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS1.SSS2.p1.1.m1.1.2.1" xref="S4.SS1.SSS2.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS1.SSS2.p1.1.m1.1.2.3.2" xref="S4.SS1.SSS2.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS1.SSS2.p1.1.m1.1.2.3.2.1" xref="S4.SS1.SSS2.p1.1.m1.1.2.cmml">(</mo><mi id="S4.SS1.SSS2.p1.1.m1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.cmml">y</mi><mo stretchy="false" id="S4.SS1.SSS2.p1.1.m1.1.2.3.2.2" xref="S4.SS1.SSS2.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.1.m1.1b"><apply id="S4.SS1.SSS2.p1.1.m1.1.2.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.2"><times id="S4.SS1.SSS2.p1.1.m1.1.2.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.2.1"></times><ci id="S4.SS1.SSS2.p1.1.m1.1.2.2.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.2.2">𝑎</ci><ci id="S4.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.1.m1.1c">a(y)</annotation></semantics></math>. For the RTE, BoolQ, WiC, CB, and MultiRC datasets, the generated answer may contain a single word. Therefore, we compute the logit of the corresponding answer token as the evaluation score, defined as:</p>
</div>
<div id="S4.SS1.SSS2.p2" class="ltx_para">
<table id="S4.Ex5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex5.m1.5" class="ltx_math_unparsed" alttext="p(y|x)=\frac{p(a(y)|q(x)}{\sum_{y^{{}^{\prime}}\in Y}p(a(y^{{}^{\prime}})|q(x))}," display="block"><semantics id="S4.Ex5.m1.5a"><mrow id="S4.Ex5.m1.5.5.1"><mrow id="S4.Ex5.m1.5.5.1.1"><mrow id="S4.Ex5.m1.5.5.1.1.1"><mi id="S4.Ex5.m1.5.5.1.1.1.3">p</mi><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.5.5.1.1.1.2">​</mo><mrow id="S4.Ex5.m1.5.5.1.1.1.1.1"><mo stretchy="false" id="S4.Ex5.m1.5.5.1.1.1.1.1.2">(</mo><mrow id="S4.Ex5.m1.5.5.1.1.1.1.1.1"><mi id="S4.Ex5.m1.5.5.1.1.1.1.1.1.2">y</mi><mo fence="false" id="S4.Ex5.m1.5.5.1.1.1.1.1.1.1">|</mo><mi id="S4.Ex5.m1.5.5.1.1.1.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S4.Ex5.m1.5.5.1.1.1.1.1.3">)</mo></mrow></mrow><mo id="S4.Ex5.m1.5.5.1.1.2">=</mo><mfrac id="S4.Ex5.m1.4.4"><mrow id="S4.Ex5.m1.2.2.2"><mi id="S4.Ex5.m1.2.2.2.3">p</mi><mrow id="S4.Ex5.m1.2.2.2.4"><mo stretchy="false" id="S4.Ex5.m1.2.2.2.4.1">(</mo><mi id="S4.Ex5.m1.2.2.2.4.2">a</mi><mrow id="S4.Ex5.m1.2.2.2.4.3"><mo stretchy="false" id="S4.Ex5.m1.2.2.2.4.3.1">(</mo><mi id="S4.Ex5.m1.1.1.1.1">y</mi><mo stretchy="false" id="S4.Ex5.m1.2.2.2.4.3.2">)</mo></mrow><mo fence="false" rspace="0.167em" stretchy="false" id="S4.Ex5.m1.2.2.2.4.4">|</mo><mi id="S4.Ex5.m1.2.2.2.4.5">q</mi><mrow id="S4.Ex5.m1.2.2.2.4.6"><mo stretchy="false" id="S4.Ex5.m1.2.2.2.4.6.1">(</mo><mi id="S4.Ex5.m1.2.2.2.2">x</mi><mo stretchy="false" id="S4.Ex5.m1.2.2.2.4.6.2">)</mo></mrow></mrow></mrow><mrow id="S4.Ex5.m1.4.4.4"><msub id="S4.Ex5.m1.4.4.4.3"><mo id="S4.Ex5.m1.4.4.4.3.2">∑</mo><mrow id="S4.Ex5.m1.4.4.4.3.3"><msup id="S4.Ex5.m1.4.4.4.3.3.2"><mi id="S4.Ex5.m1.4.4.4.3.3.2.2">y</mi><msup id="S4.Ex5.m1.4.4.4.3.3.2.3"><mi id="S4.Ex5.m1.4.4.4.3.3.2.3a"></mi><mo id="S4.Ex5.m1.4.4.4.3.3.2.3.1">′</mo></msup></msup><mo id="S4.Ex5.m1.4.4.4.3.3.1">∈</mo><mi id="S4.Ex5.m1.4.4.4.3.3.3">Y</mi></mrow></msub><mrow id="S4.Ex5.m1.4.4.4.2"><mi id="S4.Ex5.m1.4.4.4.2.3">p</mi><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.4.4.4.2.2">​</mo><mrow id="S4.Ex5.m1.4.4.4.2.1.1"><mo stretchy="false" id="S4.Ex5.m1.4.4.4.2.1.1.2">(</mo><mrow id="S4.Ex5.m1.4.4.4.2.1.1.1"><mrow id="S4.Ex5.m1.4.4.4.2.1.1.1.1"><mi id="S4.Ex5.m1.4.4.4.2.1.1.1.1.3">a</mi><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.4.4.4.2.1.1.1.1.2">​</mo><mrow id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1"><mo stretchy="false" id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.2">(</mo><msup id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.1"><mi id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.1.2">y</mi><msup id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.1.3"><mi id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.1.3a"></mi><mo id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.1.3.1">′</mo></msup></msup><mo stretchy="false" id="S4.Ex5.m1.4.4.4.2.1.1.1.1.1.1.3">)</mo></mrow></mrow><mo fence="false" id="S4.Ex5.m1.4.4.4.2.1.1.1.2">|</mo><mrow id="S4.Ex5.m1.4.4.4.2.1.1.1.3"><mi id="S4.Ex5.m1.4.4.4.2.1.1.1.3.2">q</mi><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.4.4.4.2.1.1.1.3.1">​</mo><mrow id="S4.Ex5.m1.4.4.4.2.1.1.1.3.3.2"><mo stretchy="false" id="S4.Ex5.m1.4.4.4.2.1.1.1.3.3.2.1">(</mo><mi id="S4.Ex5.m1.3.3.3.1">x</mi><mo stretchy="false" id="S4.Ex5.m1.4.4.4.2.1.1.1.3.3.2.2">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S4.Ex5.m1.4.4.4.2.1.1.3">)</mo></mrow></mrow></mrow></mfrac></mrow><mo id="S4.Ex5.m1.5.5.1.2">,</mo></mrow><annotation encoding="application/x-tex" id="S4.Ex5.m1.5b">p(y|x)=\frac{p(a(y)|q(x)}{\sum_{y^{{}^{\prime}}\in Y}p(a(y^{{}^{\prime}})|q(x))},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS1.SSS2.p2.1" class="ltx_p">where <math id="S4.SS1.SSS2.p2.1.m1.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S4.SS1.SSS2.p2.1.m1.1a"><mi id="S4.SS1.SSS2.p2.1.m1.1.1" xref="S4.SS1.SSS2.p2.1.m1.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p2.1.m1.1b"><ci id="S4.SS1.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p2.1.m1.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p2.1.m1.1c">Y</annotation></semantics></math> is the ground-truth label set.</p>
</div>
<div id="S4.SS1.SSS2.p3" class="ltx_para">
<p id="S4.SS1.SSS2.p3.1" class="ltx_p">For the ReCoRD, COPA, and WSC datasets, the answers may contain multiple words; therefore, we compute the sum of the log-probabilities of the answer tokens as the evaluation metrics, which is defined as</p>
</div>
<div id="S4.SS1.SSS2.p4" class="ltx_para">
<table id="S4.Ex6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex6.m1.4" class="ltx_Math" alttext="s(y|x)=\sum_{t=1}^{|L_{y}|}\text{log}\text{P}(y_{t}|y_{1}...y_{t-1},x;\theta)." display="block"><semantics id="S4.Ex6.m1.4a"><mrow id="S4.Ex6.m1.4.4.1" xref="S4.Ex6.m1.4.4.1.1.cmml"><mrow id="S4.Ex6.m1.4.4.1.1" xref="S4.Ex6.m1.4.4.1.1.cmml"><mrow id="S4.Ex6.m1.4.4.1.1.1" xref="S4.Ex6.m1.4.4.1.1.1.cmml"><mi id="S4.Ex6.m1.4.4.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.Ex6.m1.4.4.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.1.2.cmml">​</mo><mrow id="S4.Ex6.m1.4.4.1.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex6.m1.4.4.1.1.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex6.m1.4.4.1.1.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.cmml"><mi id="S4.Ex6.m1.4.4.1.1.1.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S4.Ex6.m1.4.4.1.1.1.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.Ex6.m1.4.4.1.1.1.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S4.Ex6.m1.4.4.1.1.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S4.Ex6.m1.4.4.1.1.3" xref="S4.Ex6.m1.4.4.1.1.3.cmml">=</mo><mrow id="S4.Ex6.m1.4.4.1.1.2" xref="S4.Ex6.m1.4.4.1.1.2.cmml"><munderover id="S4.Ex6.m1.4.4.1.1.2.2" xref="S4.Ex6.m1.4.4.1.1.2.2.cmml"><mo movablelimits="false" id="S4.Ex6.m1.4.4.1.1.2.2.2.2" xref="S4.Ex6.m1.4.4.1.1.2.2.2.2.cmml">∑</mo><mrow id="S4.Ex6.m1.4.4.1.1.2.2.2.3" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.cmml"><mi id="S4.Ex6.m1.4.4.1.1.2.2.2.3.2" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.Ex6.m1.4.4.1.1.2.2.2.3.1" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.1.cmml">=</mo><mn id="S4.Ex6.m1.4.4.1.1.2.2.2.3.3" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.3.cmml">1</mn></mrow><mrow id="S4.Ex6.m1.1.1.1.1" xref="S4.Ex6.m1.1.1.1.2.cmml"><mo stretchy="false" id="S4.Ex6.m1.1.1.1.1.2" xref="S4.Ex6.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.Ex6.m1.1.1.1.1.1" xref="S4.Ex6.m1.1.1.1.1.1.cmml"><mi id="S4.Ex6.m1.1.1.1.1.1.2" xref="S4.Ex6.m1.1.1.1.1.1.2.cmml">L</mi><mi id="S4.Ex6.m1.1.1.1.1.1.3" xref="S4.Ex6.m1.1.1.1.1.1.3.cmml">y</mi></msub><mo stretchy="false" id="S4.Ex6.m1.1.1.1.1.3" xref="S4.Ex6.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S4.Ex6.m1.4.4.1.1.2.1" xref="S4.Ex6.m1.4.4.1.1.2.1.cmml"><mrow id="S4.Ex6.m1.4.4.1.1.2.1.3" xref="S4.Ex6.m1.4.4.1.1.2.1.3c.cmml"><mtext id="S4.Ex6.m1.4.4.1.1.2.1.3a" xref="S4.Ex6.m1.4.4.1.1.2.1.3c.cmml">log</mtext><mtext id="S4.Ex6.m1.4.4.1.1.2.1.3b" xref="S4.Ex6.m1.4.4.1.1.2.1.3c.cmml">P</mtext></mrow><mo lspace="0em" rspace="0em" id="S4.Ex6.m1.4.4.1.1.2.1.2" xref="S4.Ex6.m1.4.4.1.1.2.1.2.cmml">​</mo><mrow id="S4.Ex6.m1.4.4.1.1.2.1.1.1" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.cmml"><msub id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.cmml"><mi id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.2.cmml">y</mi><mi id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.2.cmml">|</mo><mrow id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.2.cmml"><mrow id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.2.cmml">y</mi><mn id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.1" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.3.cmml">…</mi><mo lspace="0em" rspace="0em" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.1a" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.1.cmml">​</mo><msub id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.cmml"><mi id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.2.cmml">y</mi><mrow id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.cmml"><mi id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.2.cmml">t</mi><mo id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.1" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.1.cmml">−</mo><mn id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.3.cmml">1</mn></mrow></msub></mrow><mo id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.2" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.2.cmml">,</mo><mi id="S4.Ex6.m1.2.2" xref="S4.Ex6.m1.2.2.cmml">x</mi><mo id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.2.cmml">;</mo><mi id="S4.Ex6.m1.3.3" xref="S4.Ex6.m1.3.3.cmml">θ</mi></mrow></mrow><mo stretchy="false" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.3" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S4.Ex6.m1.4.4.1.2" xref="S4.Ex6.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex6.m1.4b"><apply id="S4.Ex6.m1.4.4.1.1.cmml" xref="S4.Ex6.m1.4.4.1"><eq id="S4.Ex6.m1.4.4.1.1.3.cmml" xref="S4.Ex6.m1.4.4.1.1.3"></eq><apply id="S4.Ex6.m1.4.4.1.1.1.cmml" xref="S4.Ex6.m1.4.4.1.1.1"><times id="S4.Ex6.m1.4.4.1.1.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.1.2"></times><ci id="S4.Ex6.m1.4.4.1.1.1.3.cmml" xref="S4.Ex6.m1.4.4.1.1.1.3">𝑠</ci><apply id="S4.Ex6.m1.4.4.1.1.1.1.1.1.cmml" xref="S4.Ex6.m1.4.4.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex6.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex6.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.2">𝑦</ci><ci id="S4.Ex6.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S4.Ex6.m1.4.4.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.Ex6.m1.4.4.1.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2"><apply id="S4.Ex6.m1.4.4.1.1.2.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex6.m1.4.4.1.1.2.2.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2">superscript</csymbol><apply id="S4.Ex6.m1.4.4.1.1.2.2.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex6.m1.4.4.1.1.2.2.2.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2">subscript</csymbol><sum id="S4.Ex6.m1.4.4.1.1.2.2.2.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2.2.2"></sum><apply id="S4.Ex6.m1.4.4.1.1.2.2.2.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3"><eq id="S4.Ex6.m1.4.4.1.1.2.2.2.3.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.1"></eq><ci id="S4.Ex6.m1.4.4.1.1.2.2.2.3.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.2">𝑡</ci><cn type="integer" id="S4.Ex6.m1.4.4.1.1.2.2.2.3.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S4.Ex6.m1.1.1.1.2.cmml" xref="S4.Ex6.m1.1.1.1.1"><abs id="S4.Ex6.m1.1.1.1.2.1.cmml" xref="S4.Ex6.m1.1.1.1.1.2"></abs><apply id="S4.Ex6.m1.1.1.1.1.1.cmml" xref="S4.Ex6.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex6.m1.1.1.1.1.1.1.cmml" xref="S4.Ex6.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.Ex6.m1.1.1.1.1.1.2.cmml" xref="S4.Ex6.m1.1.1.1.1.1.2">𝐿</ci><ci id="S4.Ex6.m1.1.1.1.1.1.3.cmml" xref="S4.Ex6.m1.1.1.1.1.1.3">𝑦</ci></apply></apply></apply><apply id="S4.Ex6.m1.4.4.1.1.2.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1"><times id="S4.Ex6.m1.4.4.1.1.2.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.2"></times><ci id="S4.Ex6.m1.4.4.1.1.2.1.3c.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.3"><mrow id="S4.Ex6.m1.4.4.1.1.2.1.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.3"><mtext id="S4.Ex6.m1.4.4.1.1.2.1.3a.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.3">log</mtext><mtext id="S4.Ex6.m1.4.4.1.1.2.1.3b.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.3">P</mtext></mrow></ci><apply id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1"><csymbol cd="latexml" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.2">conditional</csymbol><apply id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.2">𝑦</ci><ci id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.3.3">𝑡</ci></apply><list id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1"><apply id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1"><times id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.1"></times><apply id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.2">𝑦</ci><cn type="integer" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.2.3">1</cn></apply><ci id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.3">…</ci><apply id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.2">𝑦</ci><apply id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3"><minus id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.1.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.1"></minus><ci id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.2.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.2">𝑡</ci><cn type="integer" id="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.3.cmml" xref="S4.Ex6.m1.4.4.1.1.2.1.1.1.1.1.1.1.4.3.3">1</cn></apply></apply></apply><ci id="S4.Ex6.m1.2.2.cmml" xref="S4.Ex6.m1.2.2">𝑥</ci><ci id="S4.Ex6.m1.3.3.cmml" xref="S4.Ex6.m1.3.3">𝜃</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex6.m1.4c">s(y|x)=\sum_{t=1}^{|L_{y}|}\text{log}\text{P}(y_{t}|y_{1}...y_{t-1},x;\theta).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS1.SSS2.p5" class="ltx_para">
<p id="S4.SS1.SSS2.p5.1" class="ltx_p">For the summarization task, we use ROUGE-1, ROUGE-2, and ROUGE-L as quantitative metrics, which are widely used in NLP tasks <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a href="#bib.bib18" title="" class="ltx_ref">2021a</a>; Chen and Yang, <a href="#bib.bib5" title="" class="ltx_ref">2020</a>; Fang et al., <a href="#bib.bib8" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<div id="S4.T3.2" class="ltx_logical-block ltx_pruned_first">
<div id="S4.T3.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S4.T3.2.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:562.6pt;height:54pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S4.T3.2.p2.1.1" class="ltx_p"><span id="S4.T3.2.p2.1.1.1" class="ltx_text">
<span id="S4.T3.2.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_tbody">
<span id="S4.T3.2.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T3.2.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S4.T3.2.p2.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Strategy</span></span>
<span id="S4.T3.2.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T3.2.p2.1.1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">Centralized</span></span>
<span id="S4.T3.2.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T3.2.p2.1.1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">serial</span></span>
<span id="S4.T3.2.p2.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_3"><span id="S4.T3.2.p2.1.1.1.1.1.1.4.1" class="ltx_text ltx_font_bold">client-batch parallel</span></span>
<span id="S4.T3.2.p2.1.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_4"><span id="S4.T3.2.p2.1.1.1.1.1.1.5.1" class="ltx_text ltx_font_bold">server-hierarchical</span></span>
<span id="S4.T3.2.p2.1.1.1.1.1.1.6" class="ltx_td ltx_border_tt"></span></span>
<span id="S4.T3.2.p2.1.1.1.1.2.2" class="ltx_tr">
<span id="S4.T3.2.p2.1.1.1.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">num. of clients</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t">None</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t">2</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.4" class="ltx_td ltx_align_center ltx_border_t">2</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.5" class="ltx_td ltx_align_center ltx_border_t">4</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.6" class="ltx_td ltx_align_center ltx_border_t">8</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.7" class="ltx_td ltx_align_center ltx_border_t">2</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.8" class="ltx_td ltx_align_center ltx_border_t">3</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.9" class="ltx_td ltx_align_center ltx_border_t">5</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.10" class="ltx_td ltx_align_center ltx_border_t">10</span>
<span id="S4.T3.2.p2.1.1.1.1.2.2.11" class="ltx_td ltx_border_t"></span></span>
<span id="S4.T3.2.p2.1.1.1.1.3.3" class="ltx_tr">
<span id="S4.T3.2.p2.1.1.1.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><span id="S4.T3.2.p2.1.1.1.1.3.3.1.1" class="ltx_ERROR undefined">\hdashline</span>time(s)</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.2" class="ltx_td ltx_align_center ltx_border_bb">166.4±9.2</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.3" class="ltx_td ltx_align_center ltx_border_bb">175.2±10.1</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.4" class="ltx_td ltx_align_center ltx_border_bb">85.3±4.1</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.5" class="ltx_td ltx_align_center ltx_border_bb">43.0±2.5</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.6" class="ltx_td ltx_align_center ltx_border_bb">22.5±1.7</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.7" class="ltx_td ltx_align_center ltx_border_bb">87.3±4.9</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.8" class="ltx_td ltx_align_center ltx_border_bb">65.5±3.2</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.9" class="ltx_td ltx_align_center ltx_border_bb">34.5±1.9</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.10" class="ltx_td ltx_align_center ltx_border_bb">17.3±0.9</span>
<span id="S4.T3.2.p2.1.1.1.1.3.3.11" class="ltx_td ltx_border_bb"></span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span> Comparison of training time between different training strategies</figcaption>
</figure>
</section>
<section id="S4.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3 </span>Baselines</h4>

<div id="S4.SS1.SSS3.p1" class="ltx_para">
<p id="S4.SS1.SSS3.p1.1" class="ltx_p">We apply FL-GLM to ChatGLM-6B model<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a target="_blank" href="https://github.com/THUDM/ChatGLM-6B" title="" class="ltx_ref ltx_href">https://github.com/THUDM/ChatGLM-6B</a></span></span></span>, who is an open-source pre-trained language model with 6 billion parameters and building upon the General Language Model(GLM-130B) <cite class="ltx_cite ltx_citemacro_citep">(Zeng et al., <a href="#bib.bib35" title="" class="ltx_ref">2022</a>; Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite>.
Notely, our framework is not limited to ChatGLM but can be widely applied to different LLMs (such as Llama2). We use ChatGLM as a representative model to demonstrate that our framework does not significantly degrade model performance. Considering that our future applications will mainly focus on the Chinese domain, we chose ChatGLM-6B, which has been extensively aligned with human in the Chinese domain. Additionally, the ChatGLM-6B model offers a breakthrough scaling property that enables efficient inference on a single RTX 3060 (12GB) GPU through INT4 quantization. This property is especially valuable in resource-constrained scenarios, allowing for cost-effective computation on affordable GPUs.</p>
</div>
<div id="S4.SS1.SSS3.p2" class="ltx_para">
<p id="S4.SS1.SSS3.p2.5" class="ltx_p">For a fair comparison with ChatGLM-6B, following GLM, we use 7 baselines, including <math id="S4.SS1.SSS3.p2.1.m1.1" class="ltx_Math" alttext="\text{T5}_{\text{large}}" display="inline"><semantics id="S4.SS1.SSS3.p2.1.m1.1a"><msub id="S4.SS1.SSS3.p2.1.m1.1.1" xref="S4.SS1.SSS3.p2.1.m1.1.1.cmml"><mtext id="S4.SS1.SSS3.p2.1.m1.1.1.2" xref="S4.SS1.SSS3.p2.1.m1.1.1.2a.cmml">T5</mtext><mtext id="S4.SS1.SSS3.p2.1.m1.1.1.3" xref="S4.SS1.SSS3.p2.1.m1.1.1.3a.cmml">large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.1.m1.1b"><apply id="S4.SS1.SSS3.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.1.m1.1.1.2a.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.2"><mtext id="S4.SS1.SSS3.p2.1.m1.1.1.2.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.2">T5</mtext></ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.3a.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS1.SSS3.p2.1.m1.1.1.3.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.3">large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.1.m1.1c">\text{T5}_{\text{large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Raffel et al., <a href="#bib.bib26" title="" class="ltx_ref">2020</a>)</cite>, <math id="S4.SS1.SSS3.p2.2.m2.1" class="ltx_Math" alttext="\text{BART}_{\text{Large}}" display="inline"><semantics id="S4.SS1.SSS3.p2.2.m2.1a"><msub id="S4.SS1.SSS3.p2.2.m2.1.1" xref="S4.SS1.SSS3.p2.2.m2.1.1.cmml"><mtext id="S4.SS1.SSS3.p2.2.m2.1.1.2" xref="S4.SS1.SSS3.p2.2.m2.1.1.2a.cmml">BART</mtext><mtext id="S4.SS1.SSS3.p2.2.m2.1.1.3" xref="S4.SS1.SSS3.p2.2.m2.1.1.3a.cmml">Large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.2.m2.1b"><apply id="S4.SS1.SSS3.p2.2.m2.1.1.cmml" xref="S4.SS1.SSS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.2.m2.1.1.1.cmml" xref="S4.SS1.SSS3.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.2.m2.1.1.2a.cmml" xref="S4.SS1.SSS3.p2.2.m2.1.1.2"><mtext id="S4.SS1.SSS3.p2.2.m2.1.1.2.cmml" xref="S4.SS1.SSS3.p2.2.m2.1.1.2">BART</mtext></ci><ci id="S4.SS1.SSS3.p2.2.m2.1.1.3a.cmml" xref="S4.SS1.SSS3.p2.2.m2.1.1.3"><mtext mathsize="70%" id="S4.SS1.SSS3.p2.2.m2.1.1.3.cmml" xref="S4.SS1.SSS3.p2.2.m2.1.1.3">Large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.2.m2.1c">\text{BART}_{\text{Large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a href="#bib.bib14" title="" class="ltx_ref">2020</a>)</cite>, <math id="S4.SS1.SSS3.p2.3.m3.1" class="ltx_Math" alttext="\text{RoBERTa}_{\text{Large}}" display="inline"><semantics id="S4.SS1.SSS3.p2.3.m3.1a"><msub id="S4.SS1.SSS3.p2.3.m3.1.1" xref="S4.SS1.SSS3.p2.3.m3.1.1.cmml"><mtext id="S4.SS1.SSS3.p2.3.m3.1.1.2" xref="S4.SS1.SSS3.p2.3.m3.1.1.2a.cmml">RoBERTa</mtext><mtext id="S4.SS1.SSS3.p2.3.m3.1.1.3" xref="S4.SS1.SSS3.p2.3.m3.1.1.3a.cmml">Large</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.3.m3.1b"><apply id="S4.SS1.SSS3.p2.3.m3.1.1.cmml" xref="S4.SS1.SSS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.3.m3.1.1.1.cmml" xref="S4.SS1.SSS3.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.3.m3.1.1.2a.cmml" xref="S4.SS1.SSS3.p2.3.m3.1.1.2"><mtext id="S4.SS1.SSS3.p2.3.m3.1.1.2.cmml" xref="S4.SS1.SSS3.p2.3.m3.1.1.2">RoBERTa</mtext></ci><ci id="S4.SS1.SSS3.p2.3.m3.1.1.3a.cmml" xref="S4.SS1.SSS3.p2.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS1.SSS3.p2.3.m3.1.1.3.cmml" xref="S4.SS1.SSS3.p2.3.m3.1.1.3">Large</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.3.m3.1c">\text{RoBERTa}_{\text{Large}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a href="#bib.bib22" title="" class="ltx_ref">2019</a>)</cite>, <math id="S4.SS1.SSS3.p2.4.m4.1" class="ltx_Math" alttext="\text{GLM}_{\text{RoBERTa}}" display="inline"><semantics id="S4.SS1.SSS3.p2.4.m4.1a"><msub id="S4.SS1.SSS3.p2.4.m4.1.1" xref="S4.SS1.SSS3.p2.4.m4.1.1.cmml"><mtext id="S4.SS1.SSS3.p2.4.m4.1.1.2" xref="S4.SS1.SSS3.p2.4.m4.1.1.2a.cmml">GLM</mtext><mtext id="S4.SS1.SSS3.p2.4.m4.1.1.3" xref="S4.SS1.SSS3.p2.4.m4.1.1.3a.cmml">RoBERTa</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.4.m4.1b"><apply id="S4.SS1.SSS3.p2.4.m4.1.1.cmml" xref="S4.SS1.SSS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.4.m4.1.1.1.cmml" xref="S4.SS1.SSS3.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.4.m4.1.1.2a.cmml" xref="S4.SS1.SSS3.p2.4.m4.1.1.2"><mtext id="S4.SS1.SSS3.p2.4.m4.1.1.2.cmml" xref="S4.SS1.SSS3.p2.4.m4.1.1.2">GLM</mtext></ci><ci id="S4.SS1.SSS3.p2.4.m4.1.1.3a.cmml" xref="S4.SS1.SSS3.p2.4.m4.1.1.3"><mtext mathsize="70%" id="S4.SS1.SSS3.p2.4.m4.1.1.3.cmml" xref="S4.SS1.SSS3.p2.4.m4.1.1.3">RoBERTa</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.4.m4.1c">\text{GLM}_{\text{RoBERTa}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite>, BERTSumAbs <cite class="ltx_cite ltx_citemacro_citep">(Liu and Lapata, <a href="#bib.bib21" title="" class="ltx_ref">2019</a>)</cite>, <math id="S4.SS1.SSS3.p2.5.m5.1" class="ltx_Math" alttext="\text{UniLMv2}_{\text{Base}}" display="inline"><semantics id="S4.SS1.SSS3.p2.5.m5.1a"><msub id="S4.SS1.SSS3.p2.5.m5.1.1" xref="S4.SS1.SSS3.p2.5.m5.1.1.cmml"><mtext id="S4.SS1.SSS3.p2.5.m5.1.1.2" xref="S4.SS1.SSS3.p2.5.m5.1.1.2a.cmml">UniLMv2</mtext><mtext id="S4.SS1.SSS3.p2.5.m5.1.1.3" xref="S4.SS1.SSS3.p2.5.m5.1.1.3a.cmml">Base</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.5.m5.1b"><apply id="S4.SS1.SSS3.p2.5.m5.1.1.cmml" xref="S4.SS1.SSS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.5.m5.1.1.1.cmml" xref="S4.SS1.SSS3.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.5.m5.1.1.2a.cmml" xref="S4.SS1.SSS3.p2.5.m5.1.1.2"><mtext id="S4.SS1.SSS3.p2.5.m5.1.1.2.cmml" xref="S4.SS1.SSS3.p2.5.m5.1.1.2">UniLMv2</mtext></ci><ci id="S4.SS1.SSS3.p2.5.m5.1.1.3a.cmml" xref="S4.SS1.SSS3.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S4.SS1.SSS3.p2.5.m5.1.1.3.cmml" xref="S4.SS1.SSS3.p2.5.m5.1.1.3">Base</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.5.m5.1c">\text{UniLMv2}_{\text{Base}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Bao et al., <a href="#bib.bib4" title="" class="ltx_ref">2020</a>)</cite> and ChatGLM-6B <cite class="ltx_cite ltx_citemacro_citep">(Zeng et al., <a href="#bib.bib35" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
</section>
<section id="S4.SS1.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.4 </span>Parameter Settings</h4>

<div id="S4.SS1.SSS4.p1" class="ltx_para">
<p id="S4.SS1.SSS4.p1.1" class="ltx_p">We utilize the open-source ChatGLM-6B model as the basement model for the FL-GLM model. It has 28-layer transformer blocks, 4096 hidden-size, and 32 self-attention heads. We utilize P-tuning v2 for more efficient fine-tuning on downstream tasks. Experiments are conducted on 2, 3, 5, and 10 clients with NVIDIA A100 GPUs, 40GB RAM per client, and one server with one NVIDIA A100 GPU and 40GB RAM. We generate RSA public and private keys at the beginning of FL and then pass the public keys between server and client. During the FL process, the keys remain unchanged, and after a certain number (hyper-parameter) of rounds of training, we regenerate and share the keys. Our experiments are conducted with communication simulated on the same host, but not in a for-loop manner; rather, we coordinated information with Flower tool <span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://github.com/mher/flower</span></span></span>.
In order to make a fair comparison between our FL-GLM model and ChatGLM-6B, we used a batch size of one, a learning rate of 2e-2 with the Adam optimizer, and adjusted the number of training epochs and maximum sequence length according to different datasets without using warmup or weight decay. The code will be released when this paper is accepted.</p>
</div>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Experimental Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">In this section, we demonstrate our experiment results on SuperGLUE benchmark, CNN/DialyMail and XSum datasets.</p>
</div>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Metric-based Evaluation</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p">The quantitative evaluation results on SuperGLUE are shown in Table <a href="#S4.T1" title="Table 1 ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S4.SS2.SSS1.p2" class="ltx_para">
<p id="S4.SS2.SSS1.p2.1" class="ltx_p">From the results, we can see that the recent large language models, such as ChatGLM-6B outperform the traditional pre-training models, showing the effectiveness of human-aligned language models for NLU tasks. As a distributed learning pattern, our FL-GLM model performs a little worse than the basement model, ChatGLB-6B. Take the accuracy of the ReCoRD, RTE, BoolQ, and Wic datasets. For example, our FL-GLM model obtains 78.4, 81.6, 81.9, and 69.6, respectively, which is lower than the centralized ChatGLB-6B model in the acceptable range, i.e., 0.3, 1.5, 1.5, and 1.4.</p>
</div>
<div id="S4.SS2.SSS1.p3" class="ltx_para">
<p id="S4.SS2.SSS1.p3.1" class="ltx_p">From the results on CNN/DialyMail and XSum datasets in Table <a href="#S4.T2" title="Table 2 ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, shiFL-GLM can obtain 39.6 ROUGE-1, 16.9 ROUGE-2, and 28.0 ROUGE-L on the CNN/DailyMail dataset, 37.0 ROUGE-1, 11.9 ROUGE-2, and 29.4 ROUGE-L on the XSum dataset. Not more than 1.0 lower than the results of the centralized ChatGLM-6B model.</p>
</div>
<div id="S4.SS2.SSS1.p4" class="ltx_para">
<p id="S4.SS2.SSS1.p4.1" class="ltx_p">In conclusion, our FL-GLM model has comparable ability to understand language and generate relevant summary with centralized models.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2406.14898/assets/x5.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="116" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Impact of IID and non-IID of COPA dataset on FL-GLM.</figcaption>
</figure>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Analysis</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">An analysis is conducted including training efficiency, impact of Data non-IID and prove the security of FL-GLM. We also conducted the experiments to analysis the impact of average period (Appendix <a href="#A3" title="Appendix C Impact of Average Period ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>) and the impact of participants(Appendix <a href="#A4" title="Appendix D Impact of Participants ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a>).</p>
</div>
<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1 </span>Training Efficiency</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para">
<p id="S4.SS3.SSS1.p1.1" class="ltx_p">To further investigate the impact of our speedup optimization mechanism on the training cost, we tested the average training duration of the FL-GLM model under three training strategies: serial, client-batch, and server-hierarchical. We randomly selected 1000 data points from the ReCoRD dataset for communication cost analysis experiments. We tested 10 times and took the mean and standard deviation of the total communication time, as shown in Table  <a href="#S4.T3" title="Table 3 ‣ 4.1.2 Metrics ‣ 4.1 Experimental Settings ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
From the results, we can see that the time consumed in serial training mode with 1000 data points is close to that of centralized training, while parallel training can significantly improve the training time, which is directly proportional to the number of clients.</p>
</div>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2 </span>Impact of IID and non-IID</h4>

<div id="S4.SS3.SSS2.p1" class="ltx_para">
<p id="S4.SS3.SSS2.p1.1" class="ltx_p">Whether the data satisfy the independent and identically distributed (IID) assumption is one of the important challenges of federated learning. To test the effect of data distribution on the performance of FL-GLM, we conducted the following experiments. We selected the COPA dataset from the SuperGLUE benchmark, which is a binary classification dataset for textual causal judgment. It contains 400 training samples, with 195 labeled as 0 and 205 labeled as 1.</p>
</div>
<div id="S4.SS3.SSS2.p2" class="ltx_para">
<p id="S4.SS3.SSS2.p2.1" class="ltx_p">To simplify the analysis, we assumed the existence of two clients. After sampling with the independent and identically distributed (IID) method, the dataset was divided into sub-datasets A and B. Sub-dataset A contains 97 samples labeled as 0 and 102 samples labeled as 1, while sub-dataset B contains the remaining samples. Then, we applied a non-IID sampling method to divide the datasets into sub-datasets A’ and B’. Sub-dataset A’ contains 195 samples labeled as 0 and 5 samples labeled as 1, while B’ contains 200 samples labeled as 1.</p>
</div>
<div id="S4.SS3.SSS2.p3" class="ltx_para">
<p id="S4.SS3.SSS2.p3.1" class="ltx_p">The experimental results under three training strategies are shown in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2.1 Metric-based Evaluation ‣ 4.2 Experimental Results ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. In the case of non-IID data, due to the issue of data heterogeneity, the model performance of fine-tuning training using both serial training strategy <a href="#S4.F5" title="Figure 5 ‣ 4.2.1 Metric-based Evaluation ‣ 4.2 Experimental Results ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>(a) and server-parallel strategy <a href="#S4.F5" title="Figure 5 ‣ 4.2.1 Metric-based Evaluation ‣ 4.2 Experimental Results ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>(b) decreases by approximately 7%. However, client-batch parallel training <a href="#S4.F5" title="Figure 5 ‣ 4.2.1 Metric-based Evaluation ‣ 4.2 Experimental Results ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>(c) is not significantly affected by the data distribution. This is because during client-batch parallel training, the data features from each client are stacked into batches and sent to the server, allowing most of model parameters on the server side to sufficiently learn the data features, to some extent mitigates the performance loss caused by non-IID data.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<div id="S4.T4.2" class="ltx_logical-block ltx_pruned_first">
<div id="S4.T4.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S4.T4.2.p2.2" class="ltx_inline-block ltx_transformed_outer" style="width:377.4pt;height:54pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S4.T4.2.p2.2.2" class="ltx_p"><span id="S4.T4.2.p2.2.2.2" class="ltx_text">
<span id="S4.T4.2.p2.2.2.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S4.T4.2.p2.2.2.2.2.2" class="ltx_tr">
<span id="S4.T4.2.p2.1.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T4.2.p2.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="F" display="inline"><semantics id="S4.T4.2.p2.1.1.1.1.1.1.m1.1a"><mi id="S4.T4.2.p2.1.1.1.1.1.1.m1.1.1" xref="S4.T4.2.p2.1.1.1.1.1.1.m1.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S4.T4.2.p2.1.1.1.1.1.1.m1.1b"><ci id="S4.T4.2.p2.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.T4.2.p2.1.1.1.1.1.1.m1.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.p2.1.1.1.1.1.1.m1.1c">F</annotation></semantics></math></span>
<span id="S4.T4.2.p2.2.2.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T4.2.p2.2.2.2.2.2.2.m1.1" class="ltx_Math" alttext="F^{-1}" display="inline"><semantics id="S4.T4.2.p2.2.2.2.2.2.2.m1.1a"><msup id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.cmml"><mi id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.2" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.2.cmml">F</mi><mrow id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.cmml"><mo id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3a" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.cmml">−</mo><mn id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.2" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.T4.2.p2.2.2.2.2.2.2.m1.1b"><apply id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.cmml" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.1.cmml" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1">superscript</csymbol><ci id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.2.cmml" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.2">𝐹</ci><apply id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.cmml" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3"><minus id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.1.cmml" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3"></minus><cn type="integer" id="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.2.cmml" xref="S4.T4.2.p2.2.2.2.2.2.2.m1.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.p2.2.2.2.2.2.2.m1.1c">F^{-1}</annotation></semantics></math></span>
<span id="S4.T4.2.p2.2.2.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.2.p2.2.2.2.2.2.3.1" class="ltx_text ltx_font_bold">Rouge-1</span></span>
<span id="S4.T4.2.p2.2.2.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.2.p2.2.2.2.2.2.4.1" class="ltx_text ltx_font_bold">Rouge-2</span></span>
<span id="S4.T4.2.p2.2.2.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.2.p2.2.2.2.2.2.5.1" class="ltx_text ltx_font_bold">Rouge-l</span></span>
<span id="S4.T4.2.p2.2.2.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.2.p2.2.2.2.2.2.6.1" class="ltx_text ltx_font_bold">Bleu-4</span></span></span>
</span>
<span class="ltx_tbody">
<span id="S4.T4.2.p2.2.2.2.2.3.1" class="ltx_tr">
<span id="S4.T4.2.p2.2.2.2.2.3.1.1" class="ltx_td ltx_align_center ltx_border_t">Embedding(FebBert)</span>
<span id="S4.T4.2.p2.2.2.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t">Linear</span>
<span id="S4.T4.2.p2.2.2.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t">33.29</span>
<span id="S4.T4.2.p2.2.2.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t">7.053</span>
<span id="S4.T4.2.p2.2.2.2.2.3.1.5" class="ltx_td ltx_align_center ltx_border_t">26.732</span>
<span id="S4.T4.2.p2.2.2.2.2.3.1.6" class="ltx_td ltx_align_center ltx_border_t">28.57</span></span>
<span id="S4.T4.2.p2.2.2.2.2.4.2" class="ltx_tr">
<span id="S4.T4.2.p2.2.2.2.2.4.2.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">FL-GLM client-side part A</span>
<span id="S4.T4.2.p2.2.2.2.2.4.2.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">Transformer</span>
<span id="S4.T4.2.p2.2.2.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.135</span>
<span id="S4.T4.2.p2.2.2.2.2.4.2.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.002</span>
<span id="S4.T4.2.p2.2.2.2.2.4.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.473</span>
<span id="S4.T4.2.p2.2.2.2.2.4.2.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.335</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span> Security Analysis </figcaption>
</figure>
</section>
<section id="S4.SS3.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.3 </span>Security Analysis</h4>

<div id="S4.SS3.SSS3.p1" class="ltx_para">
<p id="S4.SS3.SSS3.p1.1" class="ltx_p">Theoretical proof of the security of split learning is challenging.  <cite class="ltx_cite ltx_citemacro_citep">(Pasquini et al., <a href="#bib.bib25" title="" class="ltx_ref">2021</a>)</cite> propose an inference attack method FSHA for feature data security in split learning, where a malicious server restores the training dataset by hijacking the client’s output data, which is validated in the field of image recognition, and is able to restore the client’s training dataset effectively. Inspired by this method, we conduct security analysis experiments to indirectly demonstrate the security of FL-GLM.</p>
</div>
<div id="S4.SS3.SSS3.p2" class="ltx_para">
<p id="S4.SS3.SSS3.p2.8" class="ltx_p">An important prerequisite for FSHA is that the malicious server has a shadow dataset with the same domain and task as the dataset held by the attacked party. However, in the private data domain, the data are all held by the training participants and protected by legal regulations, and the server side in the FL-GLM framework cannot obtain the same domain data under normal circumstances. sSo we consider the extreme case where, in serial training mode, at least one client colludes with the server to share its private data, <math id="S4.SS3.SSS3.p2.1.m1.1" class="ltx_Math" alttext="{D_{priv}}^{1}" display="inline"><semantics id="S4.SS3.SSS3.p2.1.m1.1a"><mmultiscripts id="S4.SS3.SSS3.p2.1.m1.1.1" xref="S4.SS3.SSS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.SSS3.p2.1.m1.1.1.2.2" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.2.cmml">D</mi><mrow id="S4.SS3.SSS3.p2.1.m1.1.1.2.3" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.cmml"><mi id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.2" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.3" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1a" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.4" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1b" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.5" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.5.cmml">v</mi></mrow><mrow id="S4.SS3.SSS3.p2.1.m1.1.1a" xref="S4.SS3.SSS3.p2.1.m1.1.1.cmml"></mrow><mrow id="S4.SS3.SSS3.p2.1.m1.1.1b" xref="S4.SS3.SSS3.p2.1.m1.1.1.cmml"></mrow><mn id="S4.SS3.SSS3.p2.1.m1.1.1.3" xref="S4.SS3.SSS3.p2.1.m1.1.1.3.cmml">1</mn></mmultiscripts><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.1.m1.1b"><apply id="S4.SS3.SSS3.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1">superscript</csymbol><apply id="S4.SS3.SSS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.1.m1.1.1.2.1.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS3.p2.1.m1.1.1.2.2.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.2">𝐷</ci><apply id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3"><times id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.1"></times><ci id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.2.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.2">𝑝</ci><ci id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.3.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.3">𝑟</ci><ci id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.4.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.4">𝑖</ci><ci id="S4.SS3.SSS3.p2.1.m1.1.1.2.3.5.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.3.5">𝑣</ci></apply></apply><cn type="integer" id="S4.SS3.SSS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.1.m1.1c">{D_{priv}}^{1}</annotation></semantics></math>, with the server for the purpose of training an attack model. Let <math id="S4.SS3.SSS3.p2.2.m2.1" class="ltx_Math" alttext="F" display="inline"><semantics id="S4.SS3.SSS3.p2.2.m2.1a"><mi id="S4.SS3.SSS3.p2.2.m2.1.1" xref="S4.SS3.SSS3.p2.2.m2.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.2.m2.1b"><ci id="S4.SS3.SSS3.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS3.p2.2.m2.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.2.m2.1c">F</annotation></semantics></math> be the first part of the model held by the malicious client. The malicious server-side constructs the model <math id="S4.SS3.SSS3.p2.3.m3.1" class="ltx_Math" alttext="F^{-1}" display="inline"><semantics id="S4.SS3.SSS3.p2.3.m3.1a"><msup id="S4.SS3.SSS3.p2.3.m3.1.1" xref="S4.SS3.SSS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.SSS3.p2.3.m3.1.1.2" xref="S4.SS3.SSS3.p2.3.m3.1.1.2.cmml">F</mi><mrow id="S4.SS3.SSS3.p2.3.m3.1.1.3" xref="S4.SS3.SSS3.p2.3.m3.1.1.3.cmml"><mo id="S4.SS3.SSS3.p2.3.m3.1.1.3a" xref="S4.SS3.SSS3.p2.3.m3.1.1.3.cmml">−</mo><mn id="S4.SS3.SSS3.p2.3.m3.1.1.3.2" xref="S4.SS3.SSS3.p2.3.m3.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.3.m3.1b"><apply id="S4.SS3.SSS3.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.2">𝐹</ci><apply id="S4.SS3.SSS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.3"><minus id="S4.SS3.SSS3.p2.3.m3.1.1.3.1.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.3"></minus><cn type="integer" id="S4.SS3.SSS3.p2.3.m3.1.1.3.2.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.3.m3.1c">F^{-1}</annotation></semantics></math> for attacking and utilizes <math id="S4.SS3.SSS3.p2.4.m4.1" class="ltx_Math" alttext="{D_{priv}}^{1}" display="inline"><semantics id="S4.SS3.SSS3.p2.4.m4.1a"><mmultiscripts id="S4.SS3.SSS3.p2.4.m4.1.1" xref="S4.SS3.SSS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.SSS3.p2.4.m4.1.1.2.2" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.2.cmml">D</mi><mrow id="S4.SS3.SSS3.p2.4.m4.1.1.2.3" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.cmml"><mi id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.2" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.3" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1a" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.4" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1b" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.5" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.5.cmml">v</mi></mrow><mrow id="S4.SS3.SSS3.p2.4.m4.1.1a" xref="S4.SS3.SSS3.p2.4.m4.1.1.cmml"></mrow><mrow id="S4.SS3.SSS3.p2.4.m4.1.1b" xref="S4.SS3.SSS3.p2.4.m4.1.1.cmml"></mrow><mn id="S4.SS3.SSS3.p2.4.m4.1.1.3" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.cmml">1</mn></mmultiscripts><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.4.m4.1b"><apply id="S4.SS3.SSS3.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1">superscript</csymbol><apply id="S4.SS3.SSS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.4.m4.1.1.2.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS3.p2.4.m4.1.1.2.2.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.2">𝐷</ci><apply id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3"><times id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.1"></times><ci id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.2.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.2">𝑝</ci><ci id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.3.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.3">𝑟</ci><ci id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.4.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.4">𝑖</ci><ci id="S4.SS3.SSS3.p2.4.m4.1.1.2.3.5.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.3.5">𝑣</ci></apply></apply><cn type="integer" id="S4.SS3.SSS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.4.m4.1c">{D_{priv}}^{1}</annotation></semantics></math> to train <math id="S4.SS3.SSS3.p2.5.m5.1" class="ltx_Math" alttext="F^{-1}" display="inline"><semantics id="S4.SS3.SSS3.p2.5.m5.1a"><msup id="S4.SS3.SSS3.p2.5.m5.1.1" xref="S4.SS3.SSS3.p2.5.m5.1.1.cmml"><mi id="S4.SS3.SSS3.p2.5.m5.1.1.2" xref="S4.SS3.SSS3.p2.5.m5.1.1.2.cmml">F</mi><mrow id="S4.SS3.SSS3.p2.5.m5.1.1.3" xref="S4.SS3.SSS3.p2.5.m5.1.1.3.cmml"><mo id="S4.SS3.SSS3.p2.5.m5.1.1.3a" xref="S4.SS3.SSS3.p2.5.m5.1.1.3.cmml">−</mo><mn id="S4.SS3.SSS3.p2.5.m5.1.1.3.2" xref="S4.SS3.SSS3.p2.5.m5.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.5.m5.1b"><apply id="S4.SS3.SSS3.p2.5.m5.1.1.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1.2">𝐹</ci><apply id="S4.SS3.SSS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1.3"><minus id="S4.SS3.SSS3.p2.5.m5.1.1.3.1.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1.3"></minus><cn type="integer" id="S4.SS3.SSS3.p2.5.m5.1.1.3.2.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.5.m5.1c">F^{-1}</annotation></semantics></math>. During the attacking phase, the malicious server hijacks the smashed data outputted by the attacked client, denoted as <math id="S4.SS3.SSS3.p2.6.m6.1" class="ltx_Math" alttext="f^{~{}}" display="inline"><semantics id="S4.SS3.SSS3.p2.6.m6.1a"><msup id="S4.SS3.SSS3.p2.6.m6.1.1" xref="S4.SS3.SSS3.p2.6.m6.1.1.cmml"><mi id="S4.SS3.SSS3.p2.6.m6.1.1.2" xref="S4.SS3.SSS3.p2.6.m6.1.1.2.cmml">f</mi><mi id="S4.SS3.SSS3.p2.6.m6.1.1.3" xref="S4.SS3.SSS3.p2.6.m6.1.1.3.cmml"></mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.6.m6.1b"><apply id="S4.SS3.SSS3.p2.6.m6.1.1.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.6.m6.1.1.1.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.6.m6.1.1.2.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1.2">𝑓</ci><csymbol cd="latexml" id="S4.SS3.SSS3.p2.6.m6.1.1.3.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.6.m6.1c">f^{~{}}</annotation></semantics></math>, and utilizes <math id="S4.SS3.SSS3.p2.7.m7.1" class="ltx_Math" alttext="F^{-1}" display="inline"><semantics id="S4.SS3.SSS3.p2.7.m7.1a"><msup id="S4.SS3.SSS3.p2.7.m7.1.1" xref="S4.SS3.SSS3.p2.7.m7.1.1.cmml"><mi id="S4.SS3.SSS3.p2.7.m7.1.1.2" xref="S4.SS3.SSS3.p2.7.m7.1.1.2.cmml">F</mi><mrow id="S4.SS3.SSS3.p2.7.m7.1.1.3" xref="S4.SS3.SSS3.p2.7.m7.1.1.3.cmml"><mo id="S4.SS3.SSS3.p2.7.m7.1.1.3a" xref="S4.SS3.SSS3.p2.7.m7.1.1.3.cmml">−</mo><mn id="S4.SS3.SSS3.p2.7.m7.1.1.3.2" xref="S4.SS3.SSS3.p2.7.m7.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.7.m7.1b"><apply id="S4.SS3.SSS3.p2.7.m7.1.1.cmml" xref="S4.SS3.SSS3.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.7.m7.1.1.1.cmml" xref="S4.SS3.SSS3.p2.7.m7.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.7.m7.1.1.2.cmml" xref="S4.SS3.SSS3.p2.7.m7.1.1.2">𝐹</ci><apply id="S4.SS3.SSS3.p2.7.m7.1.1.3.cmml" xref="S4.SS3.SSS3.p2.7.m7.1.1.3"><minus id="S4.SS3.SSS3.p2.7.m7.1.1.3.1.cmml" xref="S4.SS3.SSS3.p2.7.m7.1.1.3"></minus><cn type="integer" id="S4.SS3.SSS3.p2.7.m7.1.1.3.2.cmml" xref="S4.SS3.SSS3.p2.7.m7.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.7.m7.1c">F^{-1}</annotation></semantics></math> to inference the privacy data <math id="S4.SS3.SSS3.p2.8.m8.1" class="ltx_Math" alttext="{D_{priv}}^{2}" display="inline"><semantics id="S4.SS3.SSS3.p2.8.m8.1a"><mmultiscripts id="S4.SS3.SSS3.p2.8.m8.1.1" xref="S4.SS3.SSS3.p2.8.m8.1.1.cmml"><mi id="S4.SS3.SSS3.p2.8.m8.1.1.2.2" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.2.cmml">D</mi><mrow id="S4.SS3.SSS3.p2.8.m8.1.1.2.3" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.cmml"><mi id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.2" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.3" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1a" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.4" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1b" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.5" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.5.cmml">v</mi></mrow><mrow id="S4.SS3.SSS3.p2.8.m8.1.1a" xref="S4.SS3.SSS3.p2.8.m8.1.1.cmml"></mrow><mrow id="S4.SS3.SSS3.p2.8.m8.1.1b" xref="S4.SS3.SSS3.p2.8.m8.1.1.cmml"></mrow><mn id="S4.SS3.SSS3.p2.8.m8.1.1.3" xref="S4.SS3.SSS3.p2.8.m8.1.1.3.cmml">2</mn></mmultiscripts><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.8.m8.1b"><apply id="S4.SS3.SSS3.p2.8.m8.1.1.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.8.m8.1.1.1.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1">superscript</csymbol><apply id="S4.SS3.SSS3.p2.8.m8.1.1.2.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.8.m8.1.1.2.1.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.SSS3.p2.8.m8.1.1.2.2.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.2">𝐷</ci><apply id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3"><times id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.1"></times><ci id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.2.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.2">𝑝</ci><ci id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.3.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.3">𝑟</ci><ci id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.4.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.4">𝑖</ci><ci id="S4.SS3.SSS3.p2.8.m8.1.1.2.3.5.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.2.3.5">𝑣</ci></apply></apply><cn type="integer" id="S4.SS3.SSS3.p2.8.m8.1.1.3.cmml" xref="S4.SS3.SSS3.p2.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.8.m8.1c">{D_{priv}}^{2}</annotation></semantics></math> held by the attacked client.The method is validated on the BoolQ dataset.</p>
</div>
<div id="S4.SS3.SSS3.p3" class="ltx_para">
<p id="S4.SS3.SSS3.p3.2" class="ltx_p">The experimental results are shown in Table <a href="#S4.T4" title="Table 4 ‣ 4.3.2 Impact of IID and non-IID ‣ 4.3 Analysis ‣ 4 Experiments ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. When the client only has the embedding layer like FedBert model, <math id="S4.SS3.SSS3.p3.1.m1.1" class="ltx_Math" alttext="F^{-1}" display="inline"><semantics id="S4.SS3.SSS3.p3.1.m1.1a"><msup id="S4.SS3.SSS3.p3.1.m1.1.1" xref="S4.SS3.SSS3.p3.1.m1.1.1.cmml"><mi id="S4.SS3.SSS3.p3.1.m1.1.1.2" xref="S4.SS3.SSS3.p3.1.m1.1.1.2.cmml">F</mi><mrow id="S4.SS3.SSS3.p3.1.m1.1.1.3" xref="S4.SS3.SSS3.p3.1.m1.1.1.3.cmml"><mo id="S4.SS3.SSS3.p3.1.m1.1.1.3a" xref="S4.SS3.SSS3.p3.1.m1.1.1.3.cmml">−</mo><mn id="S4.SS3.SSS3.p3.1.m1.1.1.3.2" xref="S4.SS3.SSS3.p3.1.m1.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p3.1.m1.1b"><apply id="S4.SS3.SSS3.p3.1.m1.1.1.cmml" xref="S4.SS3.SSS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p3.1.m1.1.1.1.cmml" xref="S4.SS3.SSS3.p3.1.m1.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.SSS3.p3.1.m1.1.1.2">𝐹</ci><apply id="S4.SS3.SSS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.SSS3.p3.1.m1.1.1.3"><minus id="S4.SS3.SSS3.p3.1.m1.1.1.3.1.cmml" xref="S4.SS3.SSS3.p3.1.m1.1.1.3"></minus><cn type="integer" id="S4.SS3.SSS3.p3.1.m1.1.1.3.2.cmml" xref="S4.SS3.SSS3.p3.1.m1.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p3.1.m1.1c">F^{-1}</annotation></semantics></math> is a single Transformer block, the attack model can achieve a BLEU-4 score of 28.570 and a ROUGE-1 score of 33.290, while in the FL-GLM framework, where the client contains the embedding layer and an LLM-Block, <math id="S4.SS3.SSS3.p3.2.m2.1" class="ltx_Math" alttext="F^{-1}" display="inline"><semantics id="S4.SS3.SSS3.p3.2.m2.1a"><msup id="S4.SS3.SSS3.p3.2.m2.1.1" xref="S4.SS3.SSS3.p3.2.m2.1.1.cmml"><mi id="S4.SS3.SSS3.p3.2.m2.1.1.2" xref="S4.SS3.SSS3.p3.2.m2.1.1.2.cmml">F</mi><mrow id="S4.SS3.SSS3.p3.2.m2.1.1.3" xref="S4.SS3.SSS3.p3.2.m2.1.1.3.cmml"><mo id="S4.SS3.SSS3.p3.2.m2.1.1.3a" xref="S4.SS3.SSS3.p3.2.m2.1.1.3.cmml">−</mo><mn id="S4.SS3.SSS3.p3.2.m2.1.1.3.2" xref="S4.SS3.SSS3.p3.2.m2.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p3.2.m2.1b"><apply id="S4.SS3.SSS3.p3.2.m2.1.1.cmml" xref="S4.SS3.SSS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p3.2.m2.1.1.1.cmml" xref="S4.SS3.SSS3.p3.2.m2.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p3.2.m2.1.1.2.cmml" xref="S4.SS3.SSS3.p3.2.m2.1.1.2">𝐹</ci><apply id="S4.SS3.SSS3.p3.2.m2.1.1.3.cmml" xref="S4.SS3.SSS3.p3.2.m2.1.1.3"><minus id="S4.SS3.SSS3.p3.2.m2.1.1.3.1.cmml" xref="S4.SS3.SSS3.p3.2.m2.1.1.3"></minus><cn type="integer" id="S4.SS3.SSS3.p3.2.m2.1.1.3.2.cmml" xref="S4.SS3.SSS3.p3.2.m2.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p3.2.m2.1c">F^{-1}</annotation></semantics></math> is a single layer Transfomer, all the metrics of the attack model are all close to 0. Therefore, the security of FL-GLM could be proven in experiments. Additionally, we find that the attack metrics’ performance of a single-block Transformer is similar to that of a multi-block Transformer. Therefore, the optimal split point, based on experimental results, might be a single-block Transformer, even though it is challenging to prove theoretically.</p>
</div>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusions</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">To address the challenge of distributed training of LLMs with limited client computational resources, we propose to utilize the split learning method to segment the generative model. We place the input and output blocks locally on client devices, while the remaining primary model parameters are centralized on a server with ample computational resources. We secure client-server information transfers with encryption methods. To enhance training efficiency, we suggest selecting the client-batch and server-hierarchical acceleration optimization methods based on the server’s actual computational capacity, thereby enabling parallel training. This distributed architecture not only ensures that user private data remains on local devices but also effectively reduces the training time, making it more suitable for the scale and complexity of LLMs. In the future, we contemplate employing more advanced privacy-preserving techniques, such as differential privacy, to safeguard the data transmitted from clients, enabling the application of large language models in privacy-sensitive scenarios.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Limitations</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">FL-GLM was evaluated on the SuperGLUE benchmark, CNN/DailyMail and XSum datasets, and despite achieving results close to those of the centralized tests, it is still constrained by the privacy-utility trade-off, and we would like to further optimize the communication consumption of the current distributed training framework and achieve even better model efficacy. In addition, our framework is currently limited to ChatGLM-6B. Future work will extend FL-GLM to different LLMs, such as Llama, to demonstrate its adaptability and wider applicability.</p>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Ethical Considerations</h2>

<div id="Sx2.p1" class="ltx_para">
<p id="Sx2.p1.1" class="ltx_p">We propose a federated learning framework named FL-GLM, which aims to use private data to train LLM with considerations of prevent data privacy leakage. Our data originates from open-source NLU and NLG projects, adhering to their license limitations and public benchmarks. Moreover, we emulate a distributed data storage environment using open-source datasets, ensuring the exclusion of private data. We affirm our societal contribution without causing harm.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abedi and Khan (2020)</span>
<span class="ltx_bibblock">
Ali Abedi and Shehroz S Khan. 2020.

</span>
<span class="ltx_bibblock">Fedsl: Federated split learning on distributed sequential data in recurrent neural networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2011.03180</em>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abuadbba et al. (2020)</span>
<span class="ltx_bibblock">
Sharif Abuadbba, Kyuyeon Kim, Minki Kim, Chandra Thapa, Seyit A Camtepe, Yansong Gao, Hyoungshick Kim, and Surya Nepal. 2020.

</span>
<span class="ltx_bibblock">Can we use split learning on 1d cnn models for privacy preserving training?

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 15th ACM Asia Conference on Computer and Communications Security</em>, pages 305–318.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asnani et al. (2023)</span>
<span class="ltx_bibblock">
Vishal Asnani, Xi Yin, Tal Hassner, and Xiaoming Liu. 2023.

</span>
<span class="ltx_bibblock">Reverse engineering of generative models: Inferring model hyperparameters from generated images.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Pattern Analysis and Machine Intelligence</em>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al. (2020)</span>
<span class="ltx_bibblock">
Hangbo Bao, Li Dong, Furu Wei, Wenhui Wang, Nan Yang, Xiaodong Liu, Yu Wang, Songhao Piao, Jianfeng Gao, Ming Zhou, et al. 2020.

</span>
<span class="ltx_bibblock">Unilmv2: pseudo-masked language models for unified language model pre-training.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 37th International Conference on Machine Learning</em>, pages 642–652.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen and Yang (2020)</span>
<span class="ltx_bibblock">
Jiaao Chen and Diyi Yang. 2020.

</span>
<span class="ltx_bibblock">Multi-view sequence-to-sequence models with conversational structure for abstractive dialogue summarization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pages 4106–4118.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2019)</span>
<span class="ltx_bibblock">
Mingqing Chen, Rajiv Mathews, Tom Ouyang, and Françoise Beaufays. 2019.

</span>
<span class="ltx_bibblock">Federated learning of out-of-vocabulary words.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1903.10635</em>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al. (2022)</span>
<span class="ltx_bibblock">
Zhengxiao Du, Yujie Qian, Xiao Liu, Ming Ding, Jiezhong Qiu, Zhilin Yang, and Jie Tang. 2022.

</span>
<span class="ltx_bibblock">Glm: General language model pretraining with autoregressive blank infilling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 320–335.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fang et al. (2022)</span>
<span class="ltx_bibblock">
Yue Fang, Hainan Zhang, Hongshen Chen, Zhuoye Ding, Bo Long, Yanyan Lan, and Yanquan Zhou. 2022.

</span>
<span class="ltx_bibblock">From spoken dialogue to formal summary: An utterance rewriting for dialogue summarization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies</em>, pages 3859–3869.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gupta et al. (2022)</span>
<span class="ltx_bibblock">
Samyak Gupta, Yangsibo Huang, Zexuan Zhong, Tianyu Gao, Kai Li, and Danqi Chen. 2022.

</span>
<span class="ltx_bibblock">Recovering private text in federated learning of language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 35:8130–8143.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hard et al. (2018)</span>
<span class="ltx_bibblock">
Andrew Hard, Kanishka Rao, Rajiv Mathews, Swaroop Ramaswamy, Françoise Beaufays, Sean Augenstein, Hubert Eichner, Chloé Kiddon, and Daniel Ramage. 2018.

</span>
<span class="ltx_bibblock">Federated learning for mobile keyboard prediction.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1811.03604</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2020)</span>
<span class="ltx_bibblock">
Yangsibo Huang, Zhao Song, Danqi Chen, Kai Li, and Sanjeev Arora. 2020.

</span>
<span class="ltx_bibblock">Texthide: Tackling data privacy in language understanding tasks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Findings of the Association for Computational Linguistics: EMNLP 2020</em>, pages 1368–1382.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jalalirad et al. (2019)</span>
<span class="ltx_bibblock">
Amir Jalalirad, Marco Scavuzzo, Catalin Capota, and Michael Sprague. 2019.

</span>
<span class="ltx_bibblock">A simple and efficient federated recommender system.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 6th IEEE/ACM international conference on big data computing, applications and technologies</em>, pages 53–58.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji et al. (2019)</span>
<span class="ltx_bibblock">
Shaoxiong Ji, Shirui Pan, Guodong Long, Xue Li, Jing Jiang, and Zi Huang. 2019.

</span>
<span class="ltx_bibblock">Learning private neural language modeling with attentive aggregation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">2019 International joint conference on neural networks (IJCNN)</em>, pages 1–8. IEEE.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Mike Lewis, Yinhan Liu, Naman Goyal, Marjan Ghazvininejad, Abdelrahman Mohamed, Omer Levy, Veselin Stoyanov, and Luke Zettlemoyer. 2020.

</span>
<span class="ltx_bibblock">Bart: Denoising sequence-to-sequence pre-training for natural language generation, translation, and comprehension.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, pages 7871–7880.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Li Li, Yuxi Fan, Mike Tse, and Kuo-Yi Lin. 2020a.

</span>
<span class="ltx_bibblock">A review of applications in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Computers &amp; Industrial Engineering</em>, 149:106854.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and Virginia Smith. 2020b.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of Machine learning and systems</em>, 2:429–450.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Xuechen Li, Florian Tramer, Percy Liang, and Tatsunori Hashimoto. 2021.

</span>
<span class="ltx_bibblock">Large language models can be strong differentially private learners.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2021a)</span>
<span class="ltx_bibblock">
Junpeng Liu, Yanyan Zou, Hainan Zhang, Hongshen Chen, Zhuoye Ding, Caixia Yuan, and Xiaojie Wang. 2021a.

</span>
<span class="ltx_bibblock">Topic-aware contrastive learning for abstractive dialogue summarization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Findings of the Association for Computational Linguistics: EMNLP 2021</em>, pages 1229–1243.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2021b)</span>
<span class="ltx_bibblock">
Xiao Liu, Kaixuan Ji, Yicheng Fu, Weng Lam Tam, Zhengxiao Du, Zhilin Yang, and Jie Tang. 2021b.

</span>
<span class="ltx_bibblock">P-tuning v2: Prompt tuning can be comparable to fine-tuning universally across scales and tasks.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.07602</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2021c)</span>
<span class="ltx_bibblock">
Xiao Liu, Yanan Zheng, Zhengxiao Du, Ming Ding, Yujie Qian, Zhilin Yang, and Jie Tang. 2021c.

</span>
<span class="ltx_bibblock">Gpt understands, too.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">arXiv e-prints</em>, pages arXiv–2103.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu and Lapata (2019)</span>
<span class="ltx_bibblock">
Yang Liu and Mirella Lapata. 2019.

</span>
<span class="ltx_bibblock">Text summarization with pretrained encoders.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP)</em>, pages 3730–3740.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2019)</span>
<span class="ltx_bibblock">
Yinhan Liu, Myle Ott, Naman Goyal, Jingfei Du, Mandar Joshi, Danqi Chen, Omer Levy, Mike Lewis, Luke Zettlemoyer, and Veselin Stoyanov. 2019.

</span>
<span class="ltx_bibblock">Roberta: A robustly optimized bert pretraining approach.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1907.11692</em>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Matsubara and Levorato (2020)</span>
<span class="ltx_bibblock">
Y Matsubara and M Levorato. 2020.

</span>
<span class="ltx_bibblock">Neural compression and filtering for edge-assisted real-time object detection in challenged networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Pattern Recognition (IEEE ICPR)</em>.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y Arcas. 2017.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Artificial intelligence and statistics</em>, pages 1273–1282. PMLR.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pasquini et al. (2021)</span>
<span class="ltx_bibblock">
Dario Pasquini, Giuseppe Ateniese, and Massimo Bernaschi. 2021.

</span>
<span class="ltx_bibblock">Unleashing the tiger: Inference attacks on split learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021 ACM SIGSAC Conference on Computer and Communications Security</em>, pages 2113–2129.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et al. (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael Matena, Yanqi Zhou, Wei Li, and Peter J Liu. 2020.

</span>
<span class="ltx_bibblock">Exploring the limits of transfer learning with a unified text-to-text transformer.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">The Journal of Machine Learning Research</em>, 21(1):5485–5551.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rahman et al. (2020)</span>
<span class="ltx_bibblock">
Sawsan Abdul Rahman, Hanine Tout, Chamseddine Talhi, and Azzam Mourad. 2020.

</span>
<span class="ltx_bibblock">Internet of things intrusion detection: Centralized, on-device, or federated learning?

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">IEEE Network</em>, 34(6):310–317.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stremmel and Singh (2021)</span>
<span class="ltx_bibblock">
Joel Stremmel and Arjun Singh. 2021.

</span>
<span class="ltx_bibblock">Pretraining federated text models for next word prediction.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Advances in Information and Communication: Proceedings of the 2021 Future of Information and Communication Conference (FICC), Volume 2</em>, pages 477–488. Springer.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thakkar et al. (2020)</span>
<span class="ltx_bibblock">
Om Thakkar, Swaroop Ramaswamy, Rajiv Mathews, and Françoise Beaufays. 2020.

</span>
<span class="ltx_bibblock">Understanding unintended memorization in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2006.07490</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thapa et al. (2022)</span>
<span class="ltx_bibblock">
Chandra Thapa, Pathum Chamikara Mahawaga Arachchige, Seyit Camtepe, and Lichao Sun. 2022.

</span>
<span class="ltx_bibblock">Splitfed: When federated learning meets split learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 36, pages 8485–8493.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tian et al. (2022)</span>
<span class="ltx_bibblock">
Yuanyishu Tian, Yao Wan, Lingjuan Lyu, Dezhong Yao, Hai Jin, and Lichao Sun. 2022.

</span>
<span class="ltx_bibblock">Fedbert: When federated learning meets pre-training.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">ACM Transactions on Intelligent Systems and Technology (TIST)</em>, 13(4):1–26.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2019)</span>
<span class="ltx_bibblock">
Alex Wang, Yada Pruksachatkun, Nikita Nangia, Amanpreet Singh, Julian Michael, Felix Hill, Omer Levy, and Samuel R Bowman. 2019.

</span>
<span class="ltx_bibblock">Superglue: a stickier benchmark for general-purpose language understanding systems.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 33rd International Conference on Neural Information Processing Systems</em>, pages 3266–3280.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yaldiz et al. (2023)</span>
<span class="ltx_bibblock">
Duygu Nur Yaldiz, Tuo Zhang, and Salman Avestimehr. 2023.

</span>
<span class="ltx_bibblock">Secure federated learning against model poisoning attacks via client filtering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">ICLR 2023 Workshop on Backdoor Attacks and Defenses in Machine Learning</em>.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2021)</span>
<span class="ltx_bibblock">
Da Yu, Saurabh Naik, Arturs Backurs, Sivakanth Gopi, Huseyin A Inan, Gautam Kamath, Janardhan Kulkarni, Yin Tat Lee, Andre Manoel, Lukas Wutschitz, et al. 2021.

</span>
<span class="ltx_bibblock">Differentially private fine-tuning of language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zeng et al. (2022)</span>
<span class="ltx_bibblock">
Aohan Zeng, Xiao Liu, Zhengxiao Du, Zihan Wang, Hanyu Lai, Ming Ding, Zhuoyi Yang, Yifan Xu, Wendi Zheng, Xiao Xia, et al. 2022.

</span>
<span class="ltx_bibblock">Glm-130b: An open bilingual pre-trained model.

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">The Eleventh International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2019)</span>
<span class="ltx_bibblock">
Ligeng Zhu, Zhijian Liu, and Song Han. 2019.

</span>
<span class="ltx_bibblock">Deep leakage from gradients.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 33rd International Conference on Neural Information Processing Systems</em>, pages 14774–14784.

</span>
</li>
</ul>
</section>
<figure id="A0.T5" class="ltx_table">
<div id="A0.T5.2" class="ltx_logical-block ltx_pruned_first">
<div id="A0.T5.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="A0.T5.2.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:525.1pt;height:197.2pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="A0.T5.2.p2.1.1" class="ltx_p"><span id="A0.T5.2.p2.1.1.1" class="ltx_text">
<span id="A0.T5.2.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_tbody">
<span id="A0.T5.2.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt">Dataset</span>
<span id="A0.T5.2.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">Task</span>
<span id="A0.T5.2.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">Cloze Question</span>
<span id="A0.T5.2.p2.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">Answers</span></span>
<span id="A0.T5.2.p2.1.1.1.1.2.2" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">ReCoRD</span>
<span id="A0.T5.2.p2.1.1.1.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t">Question answering</span>
<span id="A0.T5.2.p2.1.1.1.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t">[passage p] [cloze question q]</span>
<span id="A0.T5.2.p2.1.1.1.1.2.2.4" class="ltx_td ltx_align_center ltx_border_t">Answer candidates</span></span>
<span id="A0.T5.2.p2.1.1.1.1.3.3" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">COPA</span>
<span id="A0.T5.2.p2.1.1.1.1.3.3.2" class="ltx_td ltx_align_center">Causal reasoning</span>
<span id="A0.T5.2.p2.1.1.1.1.3.3.3" class="ltx_td ltx_align_center">“[choice c1]” or“[choice c2]”? [premise p], so [M].</span>
<span id="A0.T5.2.p2.1.1.1.1.3.3.4" class="ltx_td ltx_align_center">c1/c2</span></span>
<span id="A0.T5.2.p2.1.1.1.1.4.4" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">WSC</span>
<span id="A0.T5.2.p2.1.1.1.1.4.4.2" class="ltx_td ltx_align_center">Coreference resolution</span>
<span id="A0.T5.2.p2.1.1.1.1.4.4.3" class="ltx_td ltx_align_center">[sentence s] The pronoun ‘*p*’ refers to [M].</span>
<span id="A0.T5.2.p2.1.1.1.1.4.4.4" class="ltx_td ltx_align_center">Noun n</span></span>
<span id="A0.T5.2.p2.1.1.1.1.5.5" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">RTE</span>
<span id="A0.T5.2.p2.1.1.1.1.5.5.2" class="ltx_td ltx_align_center">Textual entailment</span>
<span id="A0.T5.2.p2.1.1.1.1.5.5.3" class="ltx_td ltx_align_center">“[hypothesis h]”? [M] “[premise p]”</span>
<span id="A0.T5.2.p2.1.1.1.1.5.5.4" class="ltx_td ltx_align_center">
<span id="A0.T5.2.p2.1.1.1.1.5.5.4.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T5.2.p2.1.1.1.1.5.5.4.1.1" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.5.5.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">“yes”/“no”</span></span>
</span></span></span>
<span id="A0.T5.2.p2.1.1.1.1.6.6" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">BoolQ</span>
<span id="A0.T5.2.p2.1.1.1.1.6.6.2" class="ltx_td ltx_align_center">Question answering</span>
<span id="A0.T5.2.p2.1.1.1.1.6.6.3" class="ltx_td ltx_align_center">[passage p]. Question: q? Answer:[M].</span>
<span id="A0.T5.2.p2.1.1.1.1.6.6.4" class="ltx_td ltx_align_center">“yes” / “no”</span></span>
<span id="A0.T5.2.p2.1.1.1.1.7.7" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">WiC</span>
<span id="A0.T5.2.p2.1.1.1.1.7.7.2" class="ltx_td ltx_align_center">Word sense disambiguation</span>
<span id="A0.T5.2.p2.1.1.1.1.7.7.3" class="ltx_td ltx_align_center">
<span id="A0.T5.2.p2.1.1.1.1.7.7.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T5.2.p2.1.1.1.1.7.7.3.1.1" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.7.7.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">“[sentence s1]”/“[sentence s2]”Similar sense</span></span>
<span id="A0.T5.2.p2.1.1.1.1.7.7.3.1.2" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.7.7.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">of [word w]? [M].</span></span>
</span></span>
<span id="A0.T5.2.p2.1.1.1.1.7.7.4" class="ltx_td ltx_align_center">“yes”/“no”</span></span>
<span id="A0.T5.2.p2.1.1.1.1.8.8" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CB</span>
<span id="A0.T5.2.p2.1.1.1.1.8.8.2" class="ltx_td ltx_align_center">Textual entailment</span>
<span id="A0.T5.2.p2.1.1.1.1.8.8.3" class="ltx_td ltx_align_center">“[hypothesis h]”? [M], “[premise p]”</span>
<span id="A0.T5.2.p2.1.1.1.1.8.8.4" class="ltx_td ltx_align_center">
<span id="A0.T5.2.p2.1.1.1.1.8.8.4.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T5.2.p2.1.1.1.1.8.8.4.1.1" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.8.8.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">“yes”/“no”/“maybe”</span></span>
</span></span></span>
<span id="A0.T5.2.p2.1.1.1.1.9.9" class="ltx_tr">
<span id="A0.T5.2.p2.1.1.1.1.9.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">MultiRC</span>
<span id="A0.T5.2.p2.1.1.1.1.9.9.2" class="ltx_td ltx_align_center ltx_border_bb">Question answering</span>
<span id="A0.T5.2.p2.1.1.1.1.9.9.3" class="ltx_td ltx_align_center ltx_border_bb">[passage p]. Question: q? Is it [answer a]? [M].</span>
<span id="A0.T5.2.p2.1.1.1.1.9.9.4" class="ltx_td ltx_align_center ltx_border_bb">“yes”/“no”</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span> Cloze questions and answers for the 8 SuperGLUE tasks</figcaption>
</figure>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>P-tuning v2</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.7" class="ltx_p">P-tuning v2 is proposed based on the p-tuning <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a href="#bib.bib20" title="" class="ltx_ref">2021c</a>)</cite> algorithm, and its basic principle is to add a prompt of length <math id="A1.p1.1.m1.1" class="ltx_Math" alttext="L_{p}" display="inline"><semantics id="A1.p1.1.m1.1a"><msub id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml"><mi id="A1.p1.1.m1.1.1.2" xref="A1.p1.1.m1.1.1.2.cmml">L</mi><mi id="A1.p1.1.m1.1.1.3" xref="A1.p1.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><apply id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A1.p1.1.m1.1.1.1.cmml" xref="A1.p1.1.m1.1.1">subscript</csymbol><ci id="A1.p1.1.m1.1.1.2.cmml" xref="A1.p1.1.m1.1.1.2">𝐿</ci><ci id="A1.p1.1.m1.1.1.3.cmml" xref="A1.p1.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">L_{p}</annotation></semantics></math> as a learnable embedding, denoted as a prefix, to each LLM-Block’s attention operation. Fine-tuning is done by freezing the model parameters and training only the prefix. In each LLM-Block, the corresponding prefix contains two parts: <math id="A1.p1.2.m2.1" class="ltx_Math" alttext="{prefix\_key}\in R^{L\times B\times{N_{h}}\times{d_{h}}}" display="inline"><semantics id="A1.p1.2.m2.1a"><mrow id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml"><mrow id="A1.p1.2.m2.1.1.2" xref="A1.p1.2.m2.1.1.2.cmml"><mi id="A1.p1.2.m2.1.1.2.2" xref="A1.p1.2.m2.1.1.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.3" xref="A1.p1.2.m2.1.1.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1a" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.4" xref="A1.p1.2.m2.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1b" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.5" xref="A1.p1.2.m2.1.1.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1c" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.6" xref="A1.p1.2.m2.1.1.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1d" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.7" xref="A1.p1.2.m2.1.1.2.7.cmml">x</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1e" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="A1.p1.2.m2.1.1.2.8" xref="A1.p1.2.m2.1.1.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1f" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.9" xref="A1.p1.2.m2.1.1.2.9.cmml">k</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1g" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.10" xref="A1.p1.2.m2.1.1.2.10.cmml">e</mi><mo lspace="0em" rspace="0em" id="A1.p1.2.m2.1.1.2.1h" xref="A1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A1.p1.2.m2.1.1.2.11" xref="A1.p1.2.m2.1.1.2.11.cmml">y</mi></mrow><mo id="A1.p1.2.m2.1.1.1" xref="A1.p1.2.m2.1.1.1.cmml">∈</mo><msup id="A1.p1.2.m2.1.1.3" xref="A1.p1.2.m2.1.1.3.cmml"><mi id="A1.p1.2.m2.1.1.3.2" xref="A1.p1.2.m2.1.1.3.2.cmml">R</mi><mrow id="A1.p1.2.m2.1.1.3.3" xref="A1.p1.2.m2.1.1.3.3.cmml"><mi id="A1.p1.2.m2.1.1.3.3.2" xref="A1.p1.2.m2.1.1.3.3.2.cmml">L</mi><mo lspace="0.222em" rspace="0.222em" id="A1.p1.2.m2.1.1.3.3.1" xref="A1.p1.2.m2.1.1.3.3.1.cmml">×</mo><mi id="A1.p1.2.m2.1.1.3.3.3" xref="A1.p1.2.m2.1.1.3.3.3.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="A1.p1.2.m2.1.1.3.3.1a" xref="A1.p1.2.m2.1.1.3.3.1.cmml">×</mo><msub id="A1.p1.2.m2.1.1.3.3.4" xref="A1.p1.2.m2.1.1.3.3.4.cmml"><mi id="A1.p1.2.m2.1.1.3.3.4.2" xref="A1.p1.2.m2.1.1.3.3.4.2.cmml">N</mi><mi id="A1.p1.2.m2.1.1.3.3.4.3" xref="A1.p1.2.m2.1.1.3.3.4.3.cmml">h</mi></msub><mo lspace="0.222em" rspace="0.222em" id="A1.p1.2.m2.1.1.3.3.1b" xref="A1.p1.2.m2.1.1.3.3.1.cmml">×</mo><msub id="A1.p1.2.m2.1.1.3.3.5" xref="A1.p1.2.m2.1.1.3.3.5.cmml"><mi id="A1.p1.2.m2.1.1.3.3.5.2" xref="A1.p1.2.m2.1.1.3.3.5.2.cmml">d</mi><mi id="A1.p1.2.m2.1.1.3.3.5.3" xref="A1.p1.2.m2.1.1.3.3.5.3.cmml">h</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><apply id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1"><in id="A1.p1.2.m2.1.1.1.cmml" xref="A1.p1.2.m2.1.1.1"></in><apply id="A1.p1.2.m2.1.1.2.cmml" xref="A1.p1.2.m2.1.1.2"><times id="A1.p1.2.m2.1.1.2.1.cmml" xref="A1.p1.2.m2.1.1.2.1"></times><ci id="A1.p1.2.m2.1.1.2.2.cmml" xref="A1.p1.2.m2.1.1.2.2">𝑝</ci><ci id="A1.p1.2.m2.1.1.2.3.cmml" xref="A1.p1.2.m2.1.1.2.3">𝑟</ci><ci id="A1.p1.2.m2.1.1.2.4.cmml" xref="A1.p1.2.m2.1.1.2.4">𝑒</ci><ci id="A1.p1.2.m2.1.1.2.5.cmml" xref="A1.p1.2.m2.1.1.2.5">𝑓</ci><ci id="A1.p1.2.m2.1.1.2.6.cmml" xref="A1.p1.2.m2.1.1.2.6">𝑖</ci><ci id="A1.p1.2.m2.1.1.2.7.cmml" xref="A1.p1.2.m2.1.1.2.7">𝑥</ci><ci id="A1.p1.2.m2.1.1.2.8.cmml" xref="A1.p1.2.m2.1.1.2.8">_</ci><ci id="A1.p1.2.m2.1.1.2.9.cmml" xref="A1.p1.2.m2.1.1.2.9">𝑘</ci><ci id="A1.p1.2.m2.1.1.2.10.cmml" xref="A1.p1.2.m2.1.1.2.10">𝑒</ci><ci id="A1.p1.2.m2.1.1.2.11.cmml" xref="A1.p1.2.m2.1.1.2.11">𝑦</ci></apply><apply id="A1.p1.2.m2.1.1.3.cmml" xref="A1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="A1.p1.2.m2.1.1.3.1.cmml" xref="A1.p1.2.m2.1.1.3">superscript</csymbol><ci id="A1.p1.2.m2.1.1.3.2.cmml" xref="A1.p1.2.m2.1.1.3.2">𝑅</ci><apply id="A1.p1.2.m2.1.1.3.3.cmml" xref="A1.p1.2.m2.1.1.3.3"><times id="A1.p1.2.m2.1.1.3.3.1.cmml" xref="A1.p1.2.m2.1.1.3.3.1"></times><ci id="A1.p1.2.m2.1.1.3.3.2.cmml" xref="A1.p1.2.m2.1.1.3.3.2">𝐿</ci><ci id="A1.p1.2.m2.1.1.3.3.3.cmml" xref="A1.p1.2.m2.1.1.3.3.3">𝐵</ci><apply id="A1.p1.2.m2.1.1.3.3.4.cmml" xref="A1.p1.2.m2.1.1.3.3.4"><csymbol cd="ambiguous" id="A1.p1.2.m2.1.1.3.3.4.1.cmml" xref="A1.p1.2.m2.1.1.3.3.4">subscript</csymbol><ci id="A1.p1.2.m2.1.1.3.3.4.2.cmml" xref="A1.p1.2.m2.1.1.3.3.4.2">𝑁</ci><ci id="A1.p1.2.m2.1.1.3.3.4.3.cmml" xref="A1.p1.2.m2.1.1.3.3.4.3">ℎ</ci></apply><apply id="A1.p1.2.m2.1.1.3.3.5.cmml" xref="A1.p1.2.m2.1.1.3.3.5"><csymbol cd="ambiguous" id="A1.p1.2.m2.1.1.3.3.5.1.cmml" xref="A1.p1.2.m2.1.1.3.3.5">subscript</csymbol><ci id="A1.p1.2.m2.1.1.3.3.5.2.cmml" xref="A1.p1.2.m2.1.1.3.3.5.2">𝑑</ci><ci id="A1.p1.2.m2.1.1.3.3.5.3.cmml" xref="A1.p1.2.m2.1.1.3.3.5.3">ℎ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">{prefix\_key}\in R^{L\times B\times{N_{h}}\times{d_{h}}}</annotation></semantics></math> and <math id="A1.p1.3.m3.1" class="ltx_Math" alttext="prefix\_value\in R^{L\times B\times{N_{h}}\times{d_{h}}}" display="inline"><semantics id="A1.p1.3.m3.1a"><mrow id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml"><mrow id="A1.p1.3.m3.1.1.2" xref="A1.p1.3.m3.1.1.2.cmml"><mi id="A1.p1.3.m3.1.1.2.2" xref="A1.p1.3.m3.1.1.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.3" xref="A1.p1.3.m3.1.1.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1a" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.4" xref="A1.p1.3.m3.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1b" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.5" xref="A1.p1.3.m3.1.1.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1c" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.6" xref="A1.p1.3.m3.1.1.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1d" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.7" xref="A1.p1.3.m3.1.1.2.7.cmml">x</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1e" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="A1.p1.3.m3.1.1.2.8" xref="A1.p1.3.m3.1.1.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1f" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.9" xref="A1.p1.3.m3.1.1.2.9.cmml">v</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1g" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.10" xref="A1.p1.3.m3.1.1.2.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1h" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.11" xref="A1.p1.3.m3.1.1.2.11.cmml">l</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1i" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.12" xref="A1.p1.3.m3.1.1.2.12.cmml">u</mi><mo lspace="0em" rspace="0em" id="A1.p1.3.m3.1.1.2.1j" xref="A1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A1.p1.3.m3.1.1.2.13" xref="A1.p1.3.m3.1.1.2.13.cmml">e</mi></mrow><mo id="A1.p1.3.m3.1.1.1" xref="A1.p1.3.m3.1.1.1.cmml">∈</mo><msup id="A1.p1.3.m3.1.1.3" xref="A1.p1.3.m3.1.1.3.cmml"><mi id="A1.p1.3.m3.1.1.3.2" xref="A1.p1.3.m3.1.1.3.2.cmml">R</mi><mrow id="A1.p1.3.m3.1.1.3.3" xref="A1.p1.3.m3.1.1.3.3.cmml"><mi id="A1.p1.3.m3.1.1.3.3.2" xref="A1.p1.3.m3.1.1.3.3.2.cmml">L</mi><mo lspace="0.222em" rspace="0.222em" id="A1.p1.3.m3.1.1.3.3.1" xref="A1.p1.3.m3.1.1.3.3.1.cmml">×</mo><mi id="A1.p1.3.m3.1.1.3.3.3" xref="A1.p1.3.m3.1.1.3.3.3.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="A1.p1.3.m3.1.1.3.3.1a" xref="A1.p1.3.m3.1.1.3.3.1.cmml">×</mo><msub id="A1.p1.3.m3.1.1.3.3.4" xref="A1.p1.3.m3.1.1.3.3.4.cmml"><mi id="A1.p1.3.m3.1.1.3.3.4.2" xref="A1.p1.3.m3.1.1.3.3.4.2.cmml">N</mi><mi id="A1.p1.3.m3.1.1.3.3.4.3" xref="A1.p1.3.m3.1.1.3.3.4.3.cmml">h</mi></msub><mo lspace="0.222em" rspace="0.222em" id="A1.p1.3.m3.1.1.3.3.1b" xref="A1.p1.3.m3.1.1.3.3.1.cmml">×</mo><msub id="A1.p1.3.m3.1.1.3.3.5" xref="A1.p1.3.m3.1.1.3.3.5.cmml"><mi id="A1.p1.3.m3.1.1.3.3.5.2" xref="A1.p1.3.m3.1.1.3.3.5.2.cmml">d</mi><mi id="A1.p1.3.m3.1.1.3.3.5.3" xref="A1.p1.3.m3.1.1.3.3.5.3.cmml">h</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.3.m3.1b"><apply id="A1.p1.3.m3.1.1.cmml" xref="A1.p1.3.m3.1.1"><in id="A1.p1.3.m3.1.1.1.cmml" xref="A1.p1.3.m3.1.1.1"></in><apply id="A1.p1.3.m3.1.1.2.cmml" xref="A1.p1.3.m3.1.1.2"><times id="A1.p1.3.m3.1.1.2.1.cmml" xref="A1.p1.3.m3.1.1.2.1"></times><ci id="A1.p1.3.m3.1.1.2.2.cmml" xref="A1.p1.3.m3.1.1.2.2">𝑝</ci><ci id="A1.p1.3.m3.1.1.2.3.cmml" xref="A1.p1.3.m3.1.1.2.3">𝑟</ci><ci id="A1.p1.3.m3.1.1.2.4.cmml" xref="A1.p1.3.m3.1.1.2.4">𝑒</ci><ci id="A1.p1.3.m3.1.1.2.5.cmml" xref="A1.p1.3.m3.1.1.2.5">𝑓</ci><ci id="A1.p1.3.m3.1.1.2.6.cmml" xref="A1.p1.3.m3.1.1.2.6">𝑖</ci><ci id="A1.p1.3.m3.1.1.2.7.cmml" xref="A1.p1.3.m3.1.1.2.7">𝑥</ci><ci id="A1.p1.3.m3.1.1.2.8.cmml" xref="A1.p1.3.m3.1.1.2.8">_</ci><ci id="A1.p1.3.m3.1.1.2.9.cmml" xref="A1.p1.3.m3.1.1.2.9">𝑣</ci><ci id="A1.p1.3.m3.1.1.2.10.cmml" xref="A1.p1.3.m3.1.1.2.10">𝑎</ci><ci id="A1.p1.3.m3.1.1.2.11.cmml" xref="A1.p1.3.m3.1.1.2.11">𝑙</ci><ci id="A1.p1.3.m3.1.1.2.12.cmml" xref="A1.p1.3.m3.1.1.2.12">𝑢</ci><ci id="A1.p1.3.m3.1.1.2.13.cmml" xref="A1.p1.3.m3.1.1.2.13">𝑒</ci></apply><apply id="A1.p1.3.m3.1.1.3.cmml" xref="A1.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A1.p1.3.m3.1.1.3.1.cmml" xref="A1.p1.3.m3.1.1.3">superscript</csymbol><ci id="A1.p1.3.m3.1.1.3.2.cmml" xref="A1.p1.3.m3.1.1.3.2">𝑅</ci><apply id="A1.p1.3.m3.1.1.3.3.cmml" xref="A1.p1.3.m3.1.1.3.3"><times id="A1.p1.3.m3.1.1.3.3.1.cmml" xref="A1.p1.3.m3.1.1.3.3.1"></times><ci id="A1.p1.3.m3.1.1.3.3.2.cmml" xref="A1.p1.3.m3.1.1.3.3.2">𝐿</ci><ci id="A1.p1.3.m3.1.1.3.3.3.cmml" xref="A1.p1.3.m3.1.1.3.3.3">𝐵</ci><apply id="A1.p1.3.m3.1.1.3.3.4.cmml" xref="A1.p1.3.m3.1.1.3.3.4"><csymbol cd="ambiguous" id="A1.p1.3.m3.1.1.3.3.4.1.cmml" xref="A1.p1.3.m3.1.1.3.3.4">subscript</csymbol><ci id="A1.p1.3.m3.1.1.3.3.4.2.cmml" xref="A1.p1.3.m3.1.1.3.3.4.2">𝑁</ci><ci id="A1.p1.3.m3.1.1.3.3.4.3.cmml" xref="A1.p1.3.m3.1.1.3.3.4.3">ℎ</ci></apply><apply id="A1.p1.3.m3.1.1.3.3.5.cmml" xref="A1.p1.3.m3.1.1.3.3.5"><csymbol cd="ambiguous" id="A1.p1.3.m3.1.1.3.3.5.1.cmml" xref="A1.p1.3.m3.1.1.3.3.5">subscript</csymbol><ci id="A1.p1.3.m3.1.1.3.3.5.2.cmml" xref="A1.p1.3.m3.1.1.3.3.5.2">𝑑</ci><ci id="A1.p1.3.m3.1.1.3.3.5.3.cmml" xref="A1.p1.3.m3.1.1.3.3.5.3">ℎ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m3.1c">prefix\_value\in R^{L\times B\times{N_{h}}\times{d_{h}}}</annotation></semantics></math>. Where <math id="A1.p1.4.m4.1" class="ltx_Math" alttext="L" display="inline"><semantics id="A1.p1.4.m4.1a"><mi id="A1.p1.4.m4.1.1" xref="A1.p1.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="A1.p1.4.m4.1b"><ci id="A1.p1.4.m4.1.1.cmml" xref="A1.p1.4.m4.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.4.m4.1c">L</annotation></semantics></math> is the data length, <math id="A1.p1.5.m5.1" class="ltx_Math" alttext="B" display="inline"><semantics id="A1.p1.5.m5.1a"><mi id="A1.p1.5.m5.1.1" xref="A1.p1.5.m5.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="A1.p1.5.m5.1b"><ci id="A1.p1.5.m5.1.1.cmml" xref="A1.p1.5.m5.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m5.1c">B</annotation></semantics></math> denotes batch size, <math id="A1.p1.6.m6.1" class="ltx_Math" alttext="N_{h}" display="inline"><semantics id="A1.p1.6.m6.1a"><msub id="A1.p1.6.m6.1.1" xref="A1.p1.6.m6.1.1.cmml"><mi id="A1.p1.6.m6.1.1.2" xref="A1.p1.6.m6.1.1.2.cmml">N</mi><mi id="A1.p1.6.m6.1.1.3" xref="A1.p1.6.m6.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.6.m6.1b"><apply id="A1.p1.6.m6.1.1.cmml" xref="A1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="A1.p1.6.m6.1.1.1.cmml" xref="A1.p1.6.m6.1.1">subscript</csymbol><ci id="A1.p1.6.m6.1.1.2.cmml" xref="A1.p1.6.m6.1.1.2">𝑁</ci><ci id="A1.p1.6.m6.1.1.3.cmml" xref="A1.p1.6.m6.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.6.m6.1c">N_{h}</annotation></semantics></math> denotes the number of attention heads, and <math id="A1.p1.7.m7.1" class="ltx_Math" alttext="d_{h}" display="inline"><semantics id="A1.p1.7.m7.1a"><msub id="A1.p1.7.m7.1.1" xref="A1.p1.7.m7.1.1.cmml"><mi id="A1.p1.7.m7.1.1.2" xref="A1.p1.7.m7.1.1.2.cmml">d</mi><mi id="A1.p1.7.m7.1.1.3" xref="A1.p1.7.m7.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.7.m7.1b"><apply id="A1.p1.7.m7.1.1.cmml" xref="A1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="A1.p1.7.m7.1.1.1.cmml" xref="A1.p1.7.m7.1.1">subscript</csymbol><ci id="A1.p1.7.m7.1.1.2.cmml" xref="A1.p1.7.m7.1.1.2">𝑑</ci><ci id="A1.p1.7.m7.1.1.3.cmml" xref="A1.p1.7.m7.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.7.m7.1c">d_{h}</annotation></semantics></math> is the dimension of each head.</p>
</div>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.3" class="ltx_p">In the process of forward operation, when the data passes through each LLM-Block, the prefix is spliced with the frozen key and value in the model to form a new key’ and value’, which are denoted as <math id="A1.p2.1.m1.1" class="ltx_Math" alttext="K^{{}^{\prime}}" display="inline"><semantics id="A1.p2.1.m1.1a"><msup id="A1.p2.1.m1.1.1" xref="A1.p2.1.m1.1.1.cmml"><mi id="A1.p2.1.m1.1.1.2" xref="A1.p2.1.m1.1.1.2.cmml">K</mi><msup id="A1.p2.1.m1.1.1.3" xref="A1.p2.1.m1.1.1.3.cmml"><mi id="A1.p2.1.m1.1.1.3a" xref="A1.p2.1.m1.1.1.3.cmml"></mi><mo id="A1.p2.1.m1.1.1.3.1" xref="A1.p2.1.m1.1.1.3.1.cmml">′</mo></msup></msup><annotation-xml encoding="MathML-Content" id="A1.p2.1.m1.1b"><apply id="A1.p2.1.m1.1.1.cmml" xref="A1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A1.p2.1.m1.1.1.1.cmml" xref="A1.p2.1.m1.1.1">superscript</csymbol><ci id="A1.p2.1.m1.1.1.2.cmml" xref="A1.p2.1.m1.1.1.2">𝐾</ci><apply id="A1.p2.1.m1.1.1.3.cmml" xref="A1.p2.1.m1.1.1.3"><ci id="A1.p2.1.m1.1.1.3.1.cmml" xref="A1.p2.1.m1.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.1.m1.1c">K^{{}^{\prime}}</annotation></semantics></math> and <math id="A1.p2.2.m2.1" class="ltx_Math" alttext="V^{{}^{\prime}}" display="inline"><semantics id="A1.p2.2.m2.1a"><msup id="A1.p2.2.m2.1.1" xref="A1.p2.2.m2.1.1.cmml"><mi id="A1.p2.2.m2.1.1.2" xref="A1.p2.2.m2.1.1.2.cmml">V</mi><msup id="A1.p2.2.m2.1.1.3" xref="A1.p2.2.m2.1.1.3.cmml"><mi id="A1.p2.2.m2.1.1.3a" xref="A1.p2.2.m2.1.1.3.cmml"></mi><mo id="A1.p2.2.m2.1.1.3.1" xref="A1.p2.2.m2.1.1.3.1.cmml">′</mo></msup></msup><annotation-xml encoding="MathML-Content" id="A1.p2.2.m2.1b"><apply id="A1.p2.2.m2.1.1.cmml" xref="A1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="A1.p2.2.m2.1.1.1.cmml" xref="A1.p2.2.m2.1.1">superscript</csymbol><ci id="A1.p2.2.m2.1.1.2.cmml" xref="A1.p2.2.m2.1.1.2">𝑉</ci><apply id="A1.p2.2.m2.1.1.3.cmml" xref="A1.p2.2.m2.1.1.3"><ci id="A1.p2.2.m2.1.1.3.1.cmml" xref="A1.p2.2.m2.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.2.m2.1c">V^{{}^{\prime}}</annotation></semantics></math>, respectively, with the original query parameter <math id="A1.p2.3.m3.1" class="ltx_Math" alttext="\left(Q\right)" display="inline"><semantics id="A1.p2.3.m3.1a"><mrow id="A1.p2.3.m3.1.2.2"><mo id="A1.p2.3.m3.1.2.2.1">(</mo><mi id="A1.p2.3.m3.1.1" xref="A1.p2.3.m3.1.1.cmml">Q</mi><mo id="A1.p2.3.m3.1.2.2.2">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.p2.3.m3.1b"><ci id="A1.p2.3.m3.1.1.cmml" xref="A1.p2.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.3.m3.1c">\left(Q\right)</annotation></semantics></math> of the model to compute the attention score of the current data as well as the hidden state. Taking the i-th layer LLM-Block as an example, the computation process of p-tuning v2 is shown below:</p>
</div>
<div id="A1.p3" class="ltx_para">
<table id="A4.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="A1.Ex7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="A1.Ex7.m1.1" class="ltx_math_unparsed" alttext="\displaystyle{key_{i}}^{{}^{\prime}}:{K_{i}}^{{}^{\prime}}=[{prefix\_key}_{i}:{key}_{i}]" display="inline"><semantics id="A1.Ex7.m1.1a"><mrow id="A1.Ex7.m1.1b"><mi id="A1.Ex7.m1.1.1">k</mi><mi id="A1.Ex7.m1.1.2">e</mi><mmultiscripts id="A1.Ex7.m1.1.3"><mi id="A1.Ex7.m1.1.3.2.2">y</mi><mi id="A1.Ex7.m1.1.3.2.3">i</mi><mrow id="A1.Ex7.m1.1.3a"></mrow><mrow id="A1.Ex7.m1.1.3b"></mrow><msup id="A1.Ex7.m1.1.3.3"><mi id="A1.Ex7.m1.1.3.3a"></mi><mo id="A1.Ex7.m1.1.3.3.1">′</mo></msup></mmultiscripts><mo lspace="0.278em" rspace="0.278em" id="A1.Ex7.m1.1.4">:</mo><mmultiscripts id="A1.Ex7.m1.1.5"><mi id="A1.Ex7.m1.1.5.2.2">K</mi><mi id="A1.Ex7.m1.1.5.2.3">i</mi><mrow id="A1.Ex7.m1.1.5a"></mrow><mrow id="A1.Ex7.m1.1.5b"></mrow><msup id="A1.Ex7.m1.1.5.3"><mi id="A1.Ex7.m1.1.5.3a"></mi><mo id="A1.Ex7.m1.1.5.3.1">′</mo></msup></mmultiscripts><mo id="A1.Ex7.m1.1.6">=</mo><mrow id="A1.Ex7.m1.1.7"><mo stretchy="false" id="A1.Ex7.m1.1.7.1">[</mo><mi id="A1.Ex7.m1.1.7.2">p</mi><mi id="A1.Ex7.m1.1.7.3">r</mi><mi id="A1.Ex7.m1.1.7.4">e</mi><mi id="A1.Ex7.m1.1.7.5">f</mi><mi id="A1.Ex7.m1.1.7.6">i</mi><mi id="A1.Ex7.m1.1.7.7">x</mi><mi mathvariant="normal" id="A1.Ex7.m1.1.7.8">_</mi><mi id="A1.Ex7.m1.1.7.9">k</mi><mi id="A1.Ex7.m1.1.7.10">e</mi><msub id="A1.Ex7.m1.1.7.11"><mi id="A1.Ex7.m1.1.7.11.2">y</mi><mi id="A1.Ex7.m1.1.7.11.3">i</mi></msub><mo lspace="0.278em" rspace="0.278em" id="A1.Ex7.m1.1.7.12">:</mo><mi id="A1.Ex7.m1.1.7.13">k</mi><mi id="A1.Ex7.m1.1.7.14">e</mi><msub id="A1.Ex7.m1.1.7.15"><mi id="A1.Ex7.m1.1.7.15.2">y</mi><mi id="A1.Ex7.m1.1.7.15.3">i</mi></msub><mo stretchy="false" id="A1.Ex7.m1.1.7.16">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="A1.Ex7.m1.1c">\displaystyle{key_{i}}^{{}^{\prime}}:{K_{i}}^{{}^{\prime}}=[{prefix\_key}_{i}:{key}_{i}]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="A1.Ex8.m1.1" class="ltx_math_unparsed" alttext="\displaystyle{{value}_{i}}^{{}^{\prime}}:{V_{i}}^{{}^{\prime}}=[{prefix\_value}_{i}:{value}_{i}]" display="inline"><semantics id="A1.Ex8.m1.1a"><mrow id="A1.Ex8.m1.1b"><mi id="A1.Ex8.m1.1.1">v</mi><mi id="A1.Ex8.m1.1.2">a</mi><mi id="A1.Ex8.m1.1.3">l</mi><mi id="A1.Ex8.m1.1.4">u</mi><mmultiscripts id="A1.Ex8.m1.1.5"><mi id="A1.Ex8.m1.1.5.2.2">e</mi><mi id="A1.Ex8.m1.1.5.2.3">i</mi><mrow id="A1.Ex8.m1.1.5a"></mrow><mrow id="A1.Ex8.m1.1.5b"></mrow><msup id="A1.Ex8.m1.1.5.3"><mi id="A1.Ex8.m1.1.5.3a"></mi><mo id="A1.Ex8.m1.1.5.3.1">′</mo></msup></mmultiscripts><mo lspace="0.278em" rspace="0.278em" id="A1.Ex8.m1.1.6">:</mo><mmultiscripts id="A1.Ex8.m1.1.7"><mi id="A1.Ex8.m1.1.7.2.2">V</mi><mi id="A1.Ex8.m1.1.7.2.3">i</mi><mrow id="A1.Ex8.m1.1.7a"></mrow><mrow id="A1.Ex8.m1.1.7b"></mrow><msup id="A1.Ex8.m1.1.7.3"><mi id="A1.Ex8.m1.1.7.3a"></mi><mo id="A1.Ex8.m1.1.7.3.1">′</mo></msup></mmultiscripts><mo id="A1.Ex8.m1.1.8">=</mo><mrow id="A1.Ex8.m1.1.9"><mo stretchy="false" id="A1.Ex8.m1.1.9.1">[</mo><mi id="A1.Ex8.m1.1.9.2">p</mi><mi id="A1.Ex8.m1.1.9.3">r</mi><mi id="A1.Ex8.m1.1.9.4">e</mi><mi id="A1.Ex8.m1.1.9.5">f</mi><mi id="A1.Ex8.m1.1.9.6">i</mi><mi id="A1.Ex8.m1.1.9.7">x</mi><mi mathvariant="normal" id="A1.Ex8.m1.1.9.8">_</mi><mi id="A1.Ex8.m1.1.9.9">v</mi><mi id="A1.Ex8.m1.1.9.10">a</mi><mi id="A1.Ex8.m1.1.9.11">l</mi><mi id="A1.Ex8.m1.1.9.12">u</mi><msub id="A1.Ex8.m1.1.9.13"><mi id="A1.Ex8.m1.1.9.13.2">e</mi><mi id="A1.Ex8.m1.1.9.13.3">i</mi></msub><mo lspace="0.278em" rspace="0.278em" id="A1.Ex8.m1.1.9.14">:</mo><mi id="A1.Ex8.m1.1.9.15">v</mi><mi id="A1.Ex8.m1.1.9.16">a</mi><mi id="A1.Ex8.m1.1.9.17">l</mi><mi id="A1.Ex8.m1.1.9.18">u</mi><msub id="A1.Ex8.m1.1.9.19"><mi id="A1.Ex8.m1.1.9.19.2">e</mi><mi id="A1.Ex8.m1.1.9.19.3">i</mi></msub><mo stretchy="false" id="A1.Ex8.m1.1.9.20">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="A1.Ex8.m1.1c">\displaystyle{{value}_{i}}^{{}^{\prime}}:{V_{i}}^{{}^{\prime}}=[{prefix\_value}_{i}:{value}_{i}]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="A1.Ex9.m1.1" class="ltx_Math" alttext="\displaystyle Attention\ score:S_{i}^{\prime}=softmax(\frac{Q_{i}{{K_{i}}^{\prime}}^{T}}{\sqrt{d_{h}}})" display="inline"><semantics id="A1.Ex9.m1.1a"><mrow id="A1.Ex9.m1.1.2" xref="A1.Ex9.m1.1.2.cmml"><mrow id="A1.Ex9.m1.1.2.2" xref="A1.Ex9.m1.1.2.2.cmml"><mi id="A1.Ex9.m1.1.2.2.2" xref="A1.Ex9.m1.1.2.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.3" xref="A1.Ex9.m1.1.2.2.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1a" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.4" xref="A1.Ex9.m1.1.2.2.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1b" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.5" xref="A1.Ex9.m1.1.2.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1c" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.6" xref="A1.Ex9.m1.1.2.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1d" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.7" xref="A1.Ex9.m1.1.2.2.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1e" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.8" xref="A1.Ex9.m1.1.2.2.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1f" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.9" xref="A1.Ex9.m1.1.2.2.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1g" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.10" xref="A1.Ex9.m1.1.2.2.10.cmml">n</mi><mo lspace="0.500em" rspace="0em" id="A1.Ex9.m1.1.2.2.1h" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.11" xref="A1.Ex9.m1.1.2.2.11.cmml">s</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1i" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.12" xref="A1.Ex9.m1.1.2.2.12.cmml">c</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1j" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.13" xref="A1.Ex9.m1.1.2.2.13.cmml">o</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1k" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.14" xref="A1.Ex9.m1.1.2.2.14.cmml">r</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.2.1l" xref="A1.Ex9.m1.1.2.2.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.2.15" xref="A1.Ex9.m1.1.2.2.15.cmml">e</mi></mrow><mo lspace="0.278em" rspace="0.278em" id="A1.Ex9.m1.1.2.1" xref="A1.Ex9.m1.1.2.1.cmml">:</mo><mrow id="A1.Ex9.m1.1.2.3" xref="A1.Ex9.m1.1.2.3.cmml"><msubsup id="A1.Ex9.m1.1.2.3.2" xref="A1.Ex9.m1.1.2.3.2.cmml"><mi id="A1.Ex9.m1.1.2.3.2.2.2" xref="A1.Ex9.m1.1.2.3.2.2.2.cmml">S</mi><mi id="A1.Ex9.m1.1.2.3.2.2.3" xref="A1.Ex9.m1.1.2.3.2.2.3.cmml">i</mi><mo id="A1.Ex9.m1.1.2.3.2.3" xref="A1.Ex9.m1.1.2.3.2.3.cmml">′</mo></msubsup><mo id="A1.Ex9.m1.1.2.3.1" xref="A1.Ex9.m1.1.2.3.1.cmml">=</mo><mrow id="A1.Ex9.m1.1.2.3.3" xref="A1.Ex9.m1.1.2.3.3.cmml"><mi id="A1.Ex9.m1.1.2.3.3.2" xref="A1.Ex9.m1.1.2.3.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.3.3.3" xref="A1.Ex9.m1.1.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1a" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.3.3.4" xref="A1.Ex9.m1.1.2.3.3.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1b" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.3.3.5" xref="A1.Ex9.m1.1.2.3.3.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1c" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.3.3.6" xref="A1.Ex9.m1.1.2.3.3.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1d" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.3.3.7" xref="A1.Ex9.m1.1.2.3.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1e" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mi id="A1.Ex9.m1.1.2.3.3.8" xref="A1.Ex9.m1.1.2.3.3.8.cmml">x</mi><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.2.3.3.1f" xref="A1.Ex9.m1.1.2.3.3.1.cmml">​</mo><mrow id="A1.Ex9.m1.1.2.3.3.9.2" xref="A1.Ex9.m1.1.1.cmml"><mo stretchy="false" id="A1.Ex9.m1.1.2.3.3.9.2.1" xref="A1.Ex9.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="A1.Ex9.m1.1.1" xref="A1.Ex9.m1.1.1.cmml"><mfrac id="A1.Ex9.m1.1.1a" xref="A1.Ex9.m1.1.1.cmml"><mrow id="A1.Ex9.m1.1.1.2" xref="A1.Ex9.m1.1.1.2.cmml"><msub id="A1.Ex9.m1.1.1.2.2" xref="A1.Ex9.m1.1.1.2.2.cmml"><mi id="A1.Ex9.m1.1.1.2.2.2" xref="A1.Ex9.m1.1.1.2.2.2.cmml">Q</mi><mi id="A1.Ex9.m1.1.1.2.2.3" xref="A1.Ex9.m1.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="A1.Ex9.m1.1.1.2.1" xref="A1.Ex9.m1.1.1.2.1.cmml">​</mo><mmultiscripts id="A1.Ex9.m1.1.1.2.3" xref="A1.Ex9.m1.1.1.2.3.cmml"><mi id="A1.Ex9.m1.1.1.2.3.2.2.2" xref="A1.Ex9.m1.1.1.2.3.2.2.2.cmml">K</mi><mi id="A1.Ex9.m1.1.1.2.3.2.2.3" xref="A1.Ex9.m1.1.1.2.3.2.2.3.cmml">i</mi><mrow id="A1.Ex9.m1.1.1.2.3a" xref="A1.Ex9.m1.1.1.2.3.cmml"></mrow><mrow id="A1.Ex9.m1.1.1.2.3b" xref="A1.Ex9.m1.1.1.2.3.cmml"></mrow><mo id="A1.Ex9.m1.1.1.2.3.2.3" xref="A1.Ex9.m1.1.1.2.3.2.3.cmml">′</mo><mrow id="A1.Ex9.m1.1.1.2.3c" xref="A1.Ex9.m1.1.1.2.3.cmml"></mrow><mi id="A1.Ex9.m1.1.1.2.3.3" xref="A1.Ex9.m1.1.1.2.3.3.cmml">T</mi></mmultiscripts></mrow><msqrt id="A1.Ex9.m1.1.1.3" xref="A1.Ex9.m1.1.1.3.cmml"><msub id="A1.Ex9.m1.1.1.3.2" xref="A1.Ex9.m1.1.1.3.2.cmml"><mi id="A1.Ex9.m1.1.1.3.2.2" xref="A1.Ex9.m1.1.1.3.2.2.cmml">d</mi><mi id="A1.Ex9.m1.1.1.3.2.3" xref="A1.Ex9.m1.1.1.3.2.3.cmml">h</mi></msub></msqrt></mfrac></mstyle><mo stretchy="false" id="A1.Ex9.m1.1.2.3.3.9.2.2" xref="A1.Ex9.m1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex9.m1.1b"><apply id="A1.Ex9.m1.1.2.cmml" xref="A1.Ex9.m1.1.2"><ci id="A1.Ex9.m1.1.2.1.cmml" xref="A1.Ex9.m1.1.2.1">:</ci><apply id="A1.Ex9.m1.1.2.2.cmml" xref="A1.Ex9.m1.1.2.2"><times id="A1.Ex9.m1.1.2.2.1.cmml" xref="A1.Ex9.m1.1.2.2.1"></times><ci id="A1.Ex9.m1.1.2.2.2.cmml" xref="A1.Ex9.m1.1.2.2.2">𝐴</ci><ci id="A1.Ex9.m1.1.2.2.3.cmml" xref="A1.Ex9.m1.1.2.2.3">𝑡</ci><ci id="A1.Ex9.m1.1.2.2.4.cmml" xref="A1.Ex9.m1.1.2.2.4">𝑡</ci><ci id="A1.Ex9.m1.1.2.2.5.cmml" xref="A1.Ex9.m1.1.2.2.5">𝑒</ci><ci id="A1.Ex9.m1.1.2.2.6.cmml" xref="A1.Ex9.m1.1.2.2.6">𝑛</ci><ci id="A1.Ex9.m1.1.2.2.7.cmml" xref="A1.Ex9.m1.1.2.2.7">𝑡</ci><ci id="A1.Ex9.m1.1.2.2.8.cmml" xref="A1.Ex9.m1.1.2.2.8">𝑖</ci><ci id="A1.Ex9.m1.1.2.2.9.cmml" xref="A1.Ex9.m1.1.2.2.9">𝑜</ci><ci id="A1.Ex9.m1.1.2.2.10.cmml" xref="A1.Ex9.m1.1.2.2.10">𝑛</ci><ci id="A1.Ex9.m1.1.2.2.11.cmml" xref="A1.Ex9.m1.1.2.2.11">𝑠</ci><ci id="A1.Ex9.m1.1.2.2.12.cmml" xref="A1.Ex9.m1.1.2.2.12">𝑐</ci><ci id="A1.Ex9.m1.1.2.2.13.cmml" xref="A1.Ex9.m1.1.2.2.13">𝑜</ci><ci id="A1.Ex9.m1.1.2.2.14.cmml" xref="A1.Ex9.m1.1.2.2.14">𝑟</ci><ci id="A1.Ex9.m1.1.2.2.15.cmml" xref="A1.Ex9.m1.1.2.2.15">𝑒</ci></apply><apply id="A1.Ex9.m1.1.2.3.cmml" xref="A1.Ex9.m1.1.2.3"><eq id="A1.Ex9.m1.1.2.3.1.cmml" xref="A1.Ex9.m1.1.2.3.1"></eq><apply id="A1.Ex9.m1.1.2.3.2.cmml" xref="A1.Ex9.m1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.2.3.2.1.cmml" xref="A1.Ex9.m1.1.2.3.2">superscript</csymbol><apply id="A1.Ex9.m1.1.2.3.2.2.cmml" xref="A1.Ex9.m1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.2.3.2.2.1.cmml" xref="A1.Ex9.m1.1.2.3.2">subscript</csymbol><ci id="A1.Ex9.m1.1.2.3.2.2.2.cmml" xref="A1.Ex9.m1.1.2.3.2.2.2">𝑆</ci><ci id="A1.Ex9.m1.1.2.3.2.2.3.cmml" xref="A1.Ex9.m1.1.2.3.2.2.3">𝑖</ci></apply><ci id="A1.Ex9.m1.1.2.3.2.3.cmml" xref="A1.Ex9.m1.1.2.3.2.3">′</ci></apply><apply id="A1.Ex9.m1.1.2.3.3.cmml" xref="A1.Ex9.m1.1.2.3.3"><times id="A1.Ex9.m1.1.2.3.3.1.cmml" xref="A1.Ex9.m1.1.2.3.3.1"></times><ci id="A1.Ex9.m1.1.2.3.3.2.cmml" xref="A1.Ex9.m1.1.2.3.3.2">𝑠</ci><ci id="A1.Ex9.m1.1.2.3.3.3.cmml" xref="A1.Ex9.m1.1.2.3.3.3">𝑜</ci><ci id="A1.Ex9.m1.1.2.3.3.4.cmml" xref="A1.Ex9.m1.1.2.3.3.4">𝑓</ci><ci id="A1.Ex9.m1.1.2.3.3.5.cmml" xref="A1.Ex9.m1.1.2.3.3.5">𝑡</ci><ci id="A1.Ex9.m1.1.2.3.3.6.cmml" xref="A1.Ex9.m1.1.2.3.3.6">𝑚</ci><ci id="A1.Ex9.m1.1.2.3.3.7.cmml" xref="A1.Ex9.m1.1.2.3.3.7">𝑎</ci><ci id="A1.Ex9.m1.1.2.3.3.8.cmml" xref="A1.Ex9.m1.1.2.3.3.8">𝑥</ci><apply id="A1.Ex9.m1.1.1.cmml" xref="A1.Ex9.m1.1.2.3.3.9.2"><divide id="A1.Ex9.m1.1.1.1.cmml" xref="A1.Ex9.m1.1.2.3.3.9.2"></divide><apply id="A1.Ex9.m1.1.1.2.cmml" xref="A1.Ex9.m1.1.1.2"><times id="A1.Ex9.m1.1.1.2.1.cmml" xref="A1.Ex9.m1.1.1.2.1"></times><apply id="A1.Ex9.m1.1.1.2.2.cmml" xref="A1.Ex9.m1.1.1.2.2"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.1.2.2.1.cmml" xref="A1.Ex9.m1.1.1.2.2">subscript</csymbol><ci id="A1.Ex9.m1.1.1.2.2.2.cmml" xref="A1.Ex9.m1.1.1.2.2.2">𝑄</ci><ci id="A1.Ex9.m1.1.1.2.2.3.cmml" xref="A1.Ex9.m1.1.1.2.2.3">𝑖</ci></apply><apply id="A1.Ex9.m1.1.1.2.3.cmml" xref="A1.Ex9.m1.1.1.2.3"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.1.2.3.1.cmml" xref="A1.Ex9.m1.1.1.2.3">superscript</csymbol><apply id="A1.Ex9.m1.1.1.2.3.2.cmml" xref="A1.Ex9.m1.1.1.2.3"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.1.2.3.2.1.cmml" xref="A1.Ex9.m1.1.1.2.3">superscript</csymbol><apply id="A1.Ex9.m1.1.1.2.3.2.2.cmml" xref="A1.Ex9.m1.1.1.2.3"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.1.2.3.2.2.1.cmml" xref="A1.Ex9.m1.1.1.2.3">subscript</csymbol><ci id="A1.Ex9.m1.1.1.2.3.2.2.2.cmml" xref="A1.Ex9.m1.1.1.2.3.2.2.2">𝐾</ci><ci id="A1.Ex9.m1.1.1.2.3.2.2.3.cmml" xref="A1.Ex9.m1.1.1.2.3.2.2.3">𝑖</ci></apply><ci id="A1.Ex9.m1.1.1.2.3.2.3.cmml" xref="A1.Ex9.m1.1.1.2.3.2.3">′</ci></apply><ci id="A1.Ex9.m1.1.1.2.3.3.cmml" xref="A1.Ex9.m1.1.1.2.3.3">𝑇</ci></apply></apply><apply id="A1.Ex9.m1.1.1.3.cmml" xref="A1.Ex9.m1.1.1.3"><root id="A1.Ex9.m1.1.1.3a.cmml" xref="A1.Ex9.m1.1.1.3"></root><apply id="A1.Ex9.m1.1.1.3.2.cmml" xref="A1.Ex9.m1.1.1.3.2"><csymbol cd="ambiguous" id="A1.Ex9.m1.1.1.3.2.1.cmml" xref="A1.Ex9.m1.1.1.3.2">subscript</csymbol><ci id="A1.Ex9.m1.1.1.3.2.2.cmml" xref="A1.Ex9.m1.1.1.3.2.2">𝑑</ci><ci id="A1.Ex9.m1.1.1.3.2.3.cmml" xref="A1.Ex9.m1.1.1.3.2.3">ℎ</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex9.m1.1c">\displaystyle Attention\ score:S_{i}^{\prime}=softmax(\frac{Q_{i}{{K_{i}}^{\prime}}^{T}}{\sqrt{d_{h}}})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="A1.Ex10.m1.1" class="ltx_Math" alttext="\displaystyle{hidden\_state}_{i}=FFN(S_{i}^{\prime}{V_{i}}^{\prime})" display="inline"><semantics id="A1.Ex10.m1.1a"><mrow id="A1.Ex10.m1.1.1" xref="A1.Ex10.m1.1.1.cmml"><mrow id="A1.Ex10.m1.1.1.3" xref="A1.Ex10.m1.1.1.3.cmml"><mi id="A1.Ex10.m1.1.1.3.2" xref="A1.Ex10.m1.1.1.3.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.3" xref="A1.Ex10.m1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1a" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.4" xref="A1.Ex10.m1.1.1.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1b" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.5" xref="A1.Ex10.m1.1.1.3.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1c" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.6" xref="A1.Ex10.m1.1.1.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1d" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.7" xref="A1.Ex10.m1.1.1.3.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1e" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="A1.Ex10.m1.1.1.3.8" xref="A1.Ex10.m1.1.1.3.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1f" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.9" xref="A1.Ex10.m1.1.1.3.9.cmml">s</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1g" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.10" xref="A1.Ex10.m1.1.1.3.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1h" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.11" xref="A1.Ex10.m1.1.1.3.11.cmml">a</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1i" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><mi id="A1.Ex10.m1.1.1.3.12" xref="A1.Ex10.m1.1.1.3.12.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.3.1j" xref="A1.Ex10.m1.1.1.3.1.cmml">​</mo><msub id="A1.Ex10.m1.1.1.3.13" xref="A1.Ex10.m1.1.1.3.13.cmml"><mi id="A1.Ex10.m1.1.1.3.13.2" xref="A1.Ex10.m1.1.1.3.13.2.cmml">e</mi><mi id="A1.Ex10.m1.1.1.3.13.3" xref="A1.Ex10.m1.1.1.3.13.3.cmml">i</mi></msub></mrow><mo id="A1.Ex10.m1.1.1.2" xref="A1.Ex10.m1.1.1.2.cmml">=</mo><mrow id="A1.Ex10.m1.1.1.1" xref="A1.Ex10.m1.1.1.1.cmml"><mi id="A1.Ex10.m1.1.1.1.3" xref="A1.Ex10.m1.1.1.1.3.cmml">F</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.1.2" xref="A1.Ex10.m1.1.1.1.2.cmml">​</mo><mi id="A1.Ex10.m1.1.1.1.4" xref="A1.Ex10.m1.1.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.1.2a" xref="A1.Ex10.m1.1.1.1.2.cmml">​</mo><mi id="A1.Ex10.m1.1.1.1.5" xref="A1.Ex10.m1.1.1.1.5.cmml">N</mi><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.1.2b" xref="A1.Ex10.m1.1.1.1.2.cmml">​</mo><mrow id="A1.Ex10.m1.1.1.1.1.1" xref="A1.Ex10.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A1.Ex10.m1.1.1.1.1.1.2" xref="A1.Ex10.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex10.m1.1.1.1.1.1.1" xref="A1.Ex10.m1.1.1.1.1.1.1.cmml"><msubsup id="A1.Ex10.m1.1.1.1.1.1.1.2" xref="A1.Ex10.m1.1.1.1.1.1.1.2.cmml"><mi id="A1.Ex10.m1.1.1.1.1.1.1.2.2.2" xref="A1.Ex10.m1.1.1.1.1.1.1.2.2.2.cmml">S</mi><mi id="A1.Ex10.m1.1.1.1.1.1.1.2.2.3" xref="A1.Ex10.m1.1.1.1.1.1.1.2.2.3.cmml">i</mi><mo id="A1.Ex10.m1.1.1.1.1.1.1.2.3" xref="A1.Ex10.m1.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo lspace="0em" rspace="0em" id="A1.Ex10.m1.1.1.1.1.1.1.1" xref="A1.Ex10.m1.1.1.1.1.1.1.1.cmml">​</mo><mmultiscripts id="A1.Ex10.m1.1.1.1.1.1.1.3" xref="A1.Ex10.m1.1.1.1.1.1.1.3.cmml"><mi id="A1.Ex10.m1.1.1.1.1.1.1.3.2.2" xref="A1.Ex10.m1.1.1.1.1.1.1.3.2.2.cmml">V</mi><mi id="A1.Ex10.m1.1.1.1.1.1.1.3.2.3" xref="A1.Ex10.m1.1.1.1.1.1.1.3.2.3.cmml">i</mi><mrow id="A1.Ex10.m1.1.1.1.1.1.1.3a" xref="A1.Ex10.m1.1.1.1.1.1.1.3.cmml"></mrow><mrow id="A1.Ex10.m1.1.1.1.1.1.1.3b" xref="A1.Ex10.m1.1.1.1.1.1.1.3.cmml"></mrow><mo id="A1.Ex10.m1.1.1.1.1.1.1.3.3" xref="A1.Ex10.m1.1.1.1.1.1.1.3.3.cmml">′</mo></mmultiscripts></mrow><mo stretchy="false" id="A1.Ex10.m1.1.1.1.1.1.3" xref="A1.Ex10.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex10.m1.1b"><apply id="A1.Ex10.m1.1.1.cmml" xref="A1.Ex10.m1.1.1"><eq id="A1.Ex10.m1.1.1.2.cmml" xref="A1.Ex10.m1.1.1.2"></eq><apply id="A1.Ex10.m1.1.1.3.cmml" xref="A1.Ex10.m1.1.1.3"><times id="A1.Ex10.m1.1.1.3.1.cmml" xref="A1.Ex10.m1.1.1.3.1"></times><ci id="A1.Ex10.m1.1.1.3.2.cmml" xref="A1.Ex10.m1.1.1.3.2">ℎ</ci><ci id="A1.Ex10.m1.1.1.3.3.cmml" xref="A1.Ex10.m1.1.1.3.3">𝑖</ci><ci id="A1.Ex10.m1.1.1.3.4.cmml" xref="A1.Ex10.m1.1.1.3.4">𝑑</ci><ci id="A1.Ex10.m1.1.1.3.5.cmml" xref="A1.Ex10.m1.1.1.3.5">𝑑</ci><ci id="A1.Ex10.m1.1.1.3.6.cmml" xref="A1.Ex10.m1.1.1.3.6">𝑒</ci><ci id="A1.Ex10.m1.1.1.3.7.cmml" xref="A1.Ex10.m1.1.1.3.7">𝑛</ci><ci id="A1.Ex10.m1.1.1.3.8.cmml" xref="A1.Ex10.m1.1.1.3.8">_</ci><ci id="A1.Ex10.m1.1.1.3.9.cmml" xref="A1.Ex10.m1.1.1.3.9">𝑠</ci><ci id="A1.Ex10.m1.1.1.3.10.cmml" xref="A1.Ex10.m1.1.1.3.10">𝑡</ci><ci id="A1.Ex10.m1.1.1.3.11.cmml" xref="A1.Ex10.m1.1.1.3.11">𝑎</ci><ci id="A1.Ex10.m1.1.1.3.12.cmml" xref="A1.Ex10.m1.1.1.3.12">𝑡</ci><apply id="A1.Ex10.m1.1.1.3.13.cmml" xref="A1.Ex10.m1.1.1.3.13"><csymbol cd="ambiguous" id="A1.Ex10.m1.1.1.3.13.1.cmml" xref="A1.Ex10.m1.1.1.3.13">subscript</csymbol><ci id="A1.Ex10.m1.1.1.3.13.2.cmml" xref="A1.Ex10.m1.1.1.3.13.2">𝑒</ci><ci id="A1.Ex10.m1.1.1.3.13.3.cmml" xref="A1.Ex10.m1.1.1.3.13.3">𝑖</ci></apply></apply><apply id="A1.Ex10.m1.1.1.1.cmml" xref="A1.Ex10.m1.1.1.1"><times id="A1.Ex10.m1.1.1.1.2.cmml" xref="A1.Ex10.m1.1.1.1.2"></times><ci id="A1.Ex10.m1.1.1.1.3.cmml" xref="A1.Ex10.m1.1.1.1.3">𝐹</ci><ci id="A1.Ex10.m1.1.1.1.4.cmml" xref="A1.Ex10.m1.1.1.1.4">𝐹</ci><ci id="A1.Ex10.m1.1.1.1.5.cmml" xref="A1.Ex10.m1.1.1.1.5">𝑁</ci><apply id="A1.Ex10.m1.1.1.1.1.1.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1"><times id="A1.Ex10.m1.1.1.1.1.1.1.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.1"></times><apply id="A1.Ex10.m1.1.1.1.1.1.1.2.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex10.m1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2">superscript</csymbol><apply id="A1.Ex10.m1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex10.m1.1.1.1.1.1.1.2.2.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex10.m1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2.2.2">𝑆</ci><ci id="A1.Ex10.m1.1.1.1.1.1.1.2.2.3.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="A1.Ex10.m1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.2.3">′</ci></apply><apply id="A1.Ex10.m1.1.1.1.1.1.1.3.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex10.m1.1.1.1.1.1.1.3.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3">superscript</csymbol><apply id="A1.Ex10.m1.1.1.1.1.1.1.3.2.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex10.m1.1.1.1.1.1.1.3.2.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex10.m1.1.1.1.1.1.1.3.2.2.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3.2.2">𝑉</ci><ci id="A1.Ex10.m1.1.1.1.1.1.1.3.2.3.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="A1.Ex10.m1.1.1.1.1.1.1.3.3.cmml" xref="A1.Ex10.m1.1.1.1.1.1.1.3.3">′</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex10.m1.1c">\displaystyle{hidden\_state}_{i}=FFN(S_{i}^{\prime}{V_{i}}^{\prime})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Dataset</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">Table <a href="#A0.T5" title="Table 5 ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the cloze questions and answers for SuperGLUE tasks, and the detailed corresponding description of SuperGLUE benchmark are as below:</p>
<ul id="A2.I1" class="ltx_itemize">
<li id="A2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.p1.1" class="ltx_p">ReCoRD(Reading Comprehension with Commonsense Reasoning and Disambiguation): In this task, models are required to answer questions by extracting information from a given passage, while also employing commonsense reasoning and resolving ambiguous pronouns.</p>
</div>
</li>
<li id="A2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i2.p1" class="ltx_para">
<p id="A2.I1.i2.p1.1" class="ltx_p">COPA(Choice of Plausible Alternatives): This task assesses causal reasoning abilities by providing a premise and two alternative hypotheses, where the model must choose the correct causal relationship.</p>
</div>
</li>
<li id="A2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i3.p1" class="ltx_para">
<p id="A2.I1.i3.p1.1" class="ltx_p">WSC(Winograd Schema Challenge): This task evaluates pronoun resolution and coreference resolution abilities, where the model must identify the correct referent for a pronoun in a given sentence.</p>
</div>
</li>
<li id="A2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i4.p1" class="ltx_para">
<p id="A2.I1.i4.p1.1" class="ltx_p">RTE(Recognizing Textual Entailment): The task requires determining if one sentence entails, contradicts, or remains neutral with respect to another sentence.</p>
</div>
</li>
<li id="A2.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i5.p1" class="ltx_para">
<p id="A2.I1.i5.p1.1" class="ltx_p">BoolQ(Boolean Questions): Models must answer boolean questions, i.e., questions that require a yes or no answer, based on a given context.</p>
</div>
</li>
<li id="A2.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i6.p1" class="ltx_para">
<p id="A2.I1.i6.p1.1" class="ltx_p">WiC(Word-in-Context): In this task, models must determine if a word has the same sense in two different contexts, requiring fine-grained lexical semantics understanding.</p>
</div>
</li>
<li id="A2.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i7.p1" class="ltx_para">
<p id="A2.I1.i7.p1.1" class="ltx_p">CB(CommitmentBank): It is a famous corpus of short texts for textual entailment task, in which at least one sentence contains an embedded clause.</p>
</div>
</li>
<li id="A2.I1.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i8.p1" class="ltx_para">
<p id="A2.I1.i8.p1.1" class="ltx_p">MultiRC(Multiple-Choice Reading Comprehension): This task involves answering multiple-choice questions based on multiple passages, which tests the ability to comprehend complex documents.</p>
</div>
</li>
</ul>
</div>
<figure id="A2.T6" class="ltx_table">
<div id="A2.T6.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:376.6pt;height:270pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="A2.T6.1.1" class="ltx_p"><span id="A2.T6.1.1.1" class="ltx_text">
<span id="A2.T6.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="A2.T6.1.1.1.1.1.1" class="ltx_tr">
<span id="A2.T6.1.1.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Datasets</span>
<span id="A2.T6.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Average Period</span>
<span id="A2.T6.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Sequential</span>
<span id="A2.T6.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">client-batch parallel</span>
<span id="A2.T6.1.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">server-hierarchical</span></span>
</span>
<span class="ltx_tbody">
<span id="A2.T6.1.1.1.1.2.1" class="ltx_tr">
<span id="A2.T6.1.1.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.2.1.1.1" class="ltx_text">COPA</span></span>
<span id="A2.T6.1.1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">50</span>
<span id="A2.T6.1.1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">85</span>
<span id="A2.T6.1.1.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">85</span>
<span id="A2.T6.1.1.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">85</span></span>
<span id="A2.T6.1.1.1.1.3.2" class="ltx_tr">
<span id="A2.T6.1.1.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">100</span>
<span id="A2.T6.1.1.1.1.3.2.2" class="ltx_td ltx_align_center">85</span>
<span id="A2.T6.1.1.1.1.3.2.3" class="ltx_td ltx_align_center">85</span>
<span id="A2.T6.1.1.1.1.3.2.4" class="ltx_td ltx_align_center">85</span></span>
<span id="A2.T6.1.1.1.1.4.3" class="ltx_tr">
<span id="A2.T6.1.1.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.4.3.1.1" class="ltx_text">WiC</span></span>
<span id="A2.T6.1.1.1.1.4.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">50</span>
<span id="A2.T6.1.1.1.1.4.3.3" class="ltx_td ltx_align_center">69.1</span>
<span id="A2.T6.1.1.1.1.4.3.4" class="ltx_td ltx_align_center">66.6</span>
<span id="A2.T6.1.1.1.1.4.3.5" class="ltx_td ltx_align_center">68.2</span></span>
<span id="A2.T6.1.1.1.1.5.4" class="ltx_tr">
<span id="A2.T6.1.1.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">100</span>
<span id="A2.T6.1.1.1.1.5.4.2" class="ltx_td ltx_align_center">69.0</span>
<span id="A2.T6.1.1.1.1.5.4.3" class="ltx_td ltx_align_center">65.5</span>
<span id="A2.T6.1.1.1.1.5.4.4" class="ltx_td ltx_align_center">67.2</span></span>
<span id="A2.T6.1.1.1.1.6.5" class="ltx_tr">
<span id="A2.T6.1.1.1.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.6.5.1.1" class="ltx_text">RTE</span></span>
<span id="A2.T6.1.1.1.1.6.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">50</span>
<span id="A2.T6.1.1.1.1.6.5.3" class="ltx_td ltx_align_center">80.1</span>
<span id="A2.T6.1.1.1.1.6.5.4" class="ltx_td ltx_align_center">80.1</span>
<span id="A2.T6.1.1.1.1.6.5.5" class="ltx_td ltx_align_center">78.3</span></span>
<span id="A2.T6.1.1.1.1.7.6" class="ltx_tr">
<span id="A2.T6.1.1.1.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">100</span>
<span id="A2.T6.1.1.1.1.7.6.2" class="ltx_td ltx_align_center">79.8</span>
<span id="A2.T6.1.1.1.1.7.6.3" class="ltx_td ltx_align_center">79.4</span>
<span id="A2.T6.1.1.1.1.7.6.4" class="ltx_td ltx_align_center">77.6</span></span>
<span id="A2.T6.1.1.1.1.8.7" class="ltx_tr">
<span id="A2.T6.1.1.1.1.8.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.8.7.1.1" class="ltx_text">BoolQ</span></span>
<span id="A2.T6.1.1.1.1.8.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">50</span>
<span id="A2.T6.1.1.1.1.8.7.3" class="ltx_td ltx_align_center">81.6</span>
<span id="A2.T6.1.1.1.1.8.7.4" class="ltx_td ltx_align_center">79.9</span>
<span id="A2.T6.1.1.1.1.8.7.5" class="ltx_td ltx_align_center">81.0</span></span>
<span id="A2.T6.1.1.1.1.9.8" class="ltx_tr">
<span id="A2.T6.1.1.1.1.9.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">100</span>
<span id="A2.T6.1.1.1.1.9.8.2" class="ltx_td ltx_align_center">81.9</span>
<span id="A2.T6.1.1.1.1.9.8.3" class="ltx_td ltx_align_center">80.5</span>
<span id="A2.T6.1.1.1.1.9.8.4" class="ltx_td ltx_align_center">81.3</span></span>
<span id="A2.T6.1.1.1.1.10.9" class="ltx_tr">
<span id="A2.T6.1.1.1.1.10.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.10.9.1.1" class="ltx_text">MultiRC</span></span>
<span id="A2.T6.1.1.1.1.10.9.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">50</span>
<span id="A2.T6.1.1.1.1.10.9.3" class="ltx_td ltx_align_center">79.3</span>
<span id="A2.T6.1.1.1.1.10.9.4" class="ltx_td ltx_align_center">76.2</span>
<span id="A2.T6.1.1.1.1.10.9.5" class="ltx_td ltx_align_center">77.5</span></span>
<span id="A2.T6.1.1.1.1.11.10" class="ltx_tr">
<span id="A2.T6.1.1.1.1.11.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">100</span>
<span id="A2.T6.1.1.1.1.11.10.2" class="ltx_td ltx_align_center">77.5</span>
<span id="A2.T6.1.1.1.1.11.10.3" class="ltx_td ltx_align_center">76.6</span>
<span id="A2.T6.1.1.1.1.11.10.4" class="ltx_td ltx_align_center">77.1</span></span>
<span id="A2.T6.1.1.1.1.12.11" class="ltx_tr">
<span id="A2.T6.1.1.1.1.12.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.12.11.1.1" class="ltx_text">CB</span></span>
<span id="A2.T6.1.1.1.1.12.11.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">50</span>
<span id="A2.T6.1.1.1.1.12.11.3" class="ltx_td ltx_align_center">85.7</span>
<span id="A2.T6.1.1.1.1.12.11.4" class="ltx_td ltx_align_center">85.7</span>
<span id="A2.T6.1.1.1.1.12.11.5" class="ltx_td ltx_align_center">85.7</span></span>
<span id="A2.T6.1.1.1.1.13.12" class="ltx_tr">
<span id="A2.T6.1.1.1.1.13.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">100</span>
<span id="A2.T6.1.1.1.1.13.12.2" class="ltx_td ltx_align_center">85.7</span>
<span id="A2.T6.1.1.1.1.13.12.3" class="ltx_td ltx_align_center">85.7</span>
<span id="A2.T6.1.1.1.1.13.12.4" class="ltx_td ltx_align_center">85.7</span></span>
<span id="A2.T6.1.1.1.1.14.13" class="ltx_tr">
<span id="A2.T6.1.1.1.1.14.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_rowspan ltx_rowspan_2"><span id="A2.T6.1.1.1.1.14.13.1.1" class="ltx_text">WSC</span></span>
<span id="A2.T6.1.1.1.1.14.13.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">50</span>
<span id="A2.T6.1.1.1.1.14.13.3" class="ltx_td ltx_align_center">71.2</span>
<span id="A2.T6.1.1.1.1.14.13.4" class="ltx_td ltx_align_center">63.5</span>
<span id="A2.T6.1.1.1.1.14.13.5" class="ltx_td ltx_align_center">63.5</span></span>
<span id="A2.T6.1.1.1.1.15.14" class="ltx_tr">
<span id="A2.T6.1.1.1.1.15.14.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">100</span>
<span id="A2.T6.1.1.1.1.15.14.2" class="ltx_td ltx_align_center ltx_border_bb">66.3</span>
<span id="A2.T6.1.1.1.1.15.14.3" class="ltx_td ltx_align_center ltx_border_bb">65.4</span>
<span id="A2.T6.1.1.1.1.15.14.4" class="ltx_td ltx_align_center ltx_border_bb">63.5</span></span>
</span>
</span></span></p>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span> Impact of different average period</figcaption>
</figure>
<figure id="A2.F6" class="ltx_figure"><img src="/html/2406.14898/assets/x6.png" id="A2.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="246" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Comparison of model performance under serial training, where colors denote distinct training steps.</figcaption>
</figure>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Impact of Average Period</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">For analyzing the effect of different averaging periods on the model performance, we tested the performance of FL-GLM with different averaging periods (50 step and 100 step).</p>
</div>
<div id="A3.p2" class="ltx_para">
<p id="A3.p2.1" class="ltx_p">The results are shown in Table  <a href="#A2.T6" title="Table 6 ‣ Appendix B Dataset ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, where the model with an average period of 100 steps slightly outperforms the model with an average period of 50 steps in the BoolQ task. However, in the WiC, RTE, and MultiRC tasks, better results are achieved with an average period of 50 steps. In the COPA and CB tasks, the averaging period has no effect on performance. The most noticeable difference occurs in the WSC task, with scores of 71.2 and 66.3 for an average period of 50 steps and 100 steps, respectively, for serial training, 63.5 and 65.4 for client-batch parallel, and flat accuracy scores for server-hierarchical. Among all the evaluation tasks, the WSC task has the highest sensitivity to the average period, but the average training period has little effect on the overall performance of the FL-GLM model with the same training strategy.</p>
</div>
<figure id="A3.F7" class="ltx_figure"><img src="/html/2406.14898/assets/x7.png" id="A3.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="123" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Comparison of the accuracy curves under varying numbers of clients using a client-batch parallel training.
</figcaption>
</figure>
<figure id="A3.F8" class="ltx_figure"><img src="/html/2406.14898/assets/x8.png" id="A3.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="136" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Comparison of the accuracy curves under varying numbers of clients using a server-hierarchical training.
</figcaption>
</figure>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Impact of Participants</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">In this section, we test the three training strategies with different numbers of clients by calculating the accuracy scores of FL-GLM on different datasets. <span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>In the client-batch parallel test, in order to mitigate the effect of overfitting, the datasets are trained with the same number of training epochs for different numbers of clients, and normalization is used to enhance the visibility of the results.</span></span></span>The sequential test uses RTE, WiC, COPA, BoolQ, MultiRC and CB datasets, while the client-batch parallel test uses RTE, WiC, COPA datasets, and the server-hierarchical test uses BoolQ, COPA and RTE datasets, and the hyperparameters such as learning rate are kept consistent.</p>
</div>
<div id="A4.p2" class="ltx_para">
<p id="A4.p2.1" class="ltx_p">When using serial training strategy, the impact of increasing the number of clients is minimal, as shown in Figure <a href="#A2.F6" title="Figure 6 ‣ Appendix B Dataset ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. This is because the majority of parameters are trained on the server, making the number of clients insignificant in server-side parameter training.</p>
</div>
<div id="A4.p3" class="ltx_para">
<p id="A4.p3.1" class="ltx_p">When training in parallel, the accuracy score of FL-GLM decreases slightly as the number of clients increases, which is more obvious on datasets with smaller data volumes.
For client-batch parallel training, as shown in Figure <a href="#A3.F7" title="Figure 7 ‣ Appendix C Impact of Average Period ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, the accuracy score decreases with the increase in the number of clients due to the increase in the batch size, the frequency of model parameter updating decreases, and the server-side model is easy to converge to the saddle point.
For hierarchical-server parallel, as shown in Figure <a href="#A3.F8" title="Figure 8 ‣ Appendix C Impact of Average Period ‣ Safely Learning with Private Data: A Federated Learning Framework for Large Language Model" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, the increase in the number of clients makes the amount of data for a single client smaller, so the more the number of clients, the more obvious the overfitting phenomenon is.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2406.14897" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2406.14898" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2406.14898">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2406.14898" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2406.14900" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Jul  6 00:41:26 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
