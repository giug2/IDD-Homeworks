<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA</title>
<!--Generated on Mon Sep 23 20:05:24 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2409.15515v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S1" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S2" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S2.SS0.SSS0.Px1" title="In 2 Related Work ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">RAG.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S2.SS0.SSS0.Px2" title="In 2 Related Work ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">LLMs and Multi-turn Conversations.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S2.SS0.SSS0.Px3" title="In 2 Related Work ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Conversational Query Rewriting.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span><span class="ltx_text ltx_font_typewriter">SELF</span>-<span class="ltx_text ltx_font_italic">multi</span>-<span class="ltx_text ltx_font_typewriter">RAG</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS0.SSS0.Px1" title="In 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Understanding Conversational Context.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS0.SSS0.Px2" title="In 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Summarising Conversational Context.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS1" title="In 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Components</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS1.SSS0.Px1" title="In 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Critic.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS1.SSS0.Px2" title="In 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Generator.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS1.SSS0.Px3" title="In 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Retriever.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.SS2" title="In 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Overall Framework</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.SS0.SSS0.Px1" title="In 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">QReCC</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.SS0.SSS0.Px2" title="In 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">UltraChat</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.SS0.SSS0.Px3" title="In 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">MT-Eval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.SS1" title="In 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Training Data</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.SS2" title="In 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.SS3" title="In 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Evaluation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.SS0.SSS0.Px1" title="In 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Critic Performance.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.SS0.SSS0.Px2" title="In 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title">Response Generation.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.SS1" title="In 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Summarizing Conversations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.SS2" title="In 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Handling Previous-turn Retrieved Passages</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S6" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S7" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Limitations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A2" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Benchmark Statistics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A3" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A4" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>GPT-4 Evaluation Form</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A5" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Mechanical Turk Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A6" title="In Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">F </span>Examples of Generated Responses</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\NewTColorBox</span>
<p class="ltx_p" id="p1.2">NewBox s O O!htbp floatplacement=#3,
IfBooleanTF=#1float*,width=float,
colframe=blue!50!black,colback=blue!10!white,
title=#2,</p>
</div>
<h1 class="ltx_title ltx_title_document">Learning When to Retrieve, What to Rewrite, 
<br class="ltx_break"/>and How to Respond in Conversational QA</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<span class="ltx_inline-block ltx_minipage ltx_align_top" id="id4.4.4" style="width:433.6pt;">
<span class="ltx_p" id="id4.4.4.4">Nirmal Roy<sup class="ltx_sup" id="id4.4.4.4.1"><span class="ltx_text ltx_font_italic" id="id4.4.4.4.1.1">†</span></sup>  , Leonardo F. R. Ribeiro<sup class="ltx_sup" id="id4.4.4.4.2"><span class="ltx_text ltx_font_italic" id="id4.4.4.4.2.1">‡</span></sup>, Rexhina Blloshmi<sup class="ltx_sup" id="id4.4.4.4.3"><span class="ltx_text ltx_font_italic" id="id4.4.4.4.3.1">‡</span></sup>,
Kevin Small<sup class="ltx_sup" id="id4.4.4.4.4"><span class="ltx_text ltx_font_italic" id="id4.4.4.4.4.1">‡</span></sup></span>
</span>
<br class="ltx_break"/><span class="ltx_rule" style="width:0.0pt;height:10.8pt;background:black;display:inline-block;"></span>
<sup class="ltx_sup" id="id8.7.id1"><span class="ltx_text ltx_font_italic" id="id8.7.id1.1">†</span></sup>TU Delft, <sup class="ltx_sup" id="id9.8.id2"><span class="ltx_text ltx_font_italic" id="id9.8.id2.1">‡</span></sup>Amazon 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id10.9.id3">nroy000@gmail.com</span>, <span class="ltx_text ltx_font_typewriter" id="id11.10.id4">{leonribe, blloshmi, smakevin}@amazon.com</span>
<br class="ltx_break"/>
</span><span class="ltx_author_notes">  Work done as an intern at Amazon.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id7.1">Augmenting Large Language Models (LLMs) with information retrieval capabilities (i.e., Retrieval-Augmented Generation (RAG)) has proven beneficial for knowledge-intensive tasks. However, understanding users’ contextual search intent when generating responses is an understudied topic for conversational question answering (QA). This conversational extension leads to additional concerns when compared to single-turn QA as it is more challenging for systems to comprehend conversational context and manage retrieved passages over multiple turns. In this work, we propose a method for enabling LLMs to decide <span class="ltx_text ltx_font_italic" id="id7.1.1">when</span> to retrieve in RAG settings given a conversational context. When retrieval is deemed necessary, the LLM then rewrites the conversation for passage retrieval and judges the relevance of returned passages before response generation. Operationally, we build on the single-turn <span class="ltx_text ltx_font_typewriter" id="id7.1.2">SELF-RAG</span> framework <cite class="ltx_cite ltx_citemacro_cite">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite> and propose <span class="ltx_text ltx_font_typewriter" id="id7.1.3">SELF</span>-<span class="ltx_text ltx_font_italic" id="id7.1.4">multi</span>-<span class="ltx_text ltx_font_typewriter" id="id7.1.5">RAG</span> for conversational settings. <span class="ltx_text ltx_font_typewriter" id="id7.1.6">SELF</span>-<span class="ltx_text ltx_font_italic" id="id7.1.7">multi</span>-<span class="ltx_text ltx_font_typewriter" id="id7.1.8">RAG</span> demonstrates improved capabilities over single-turn variants with respect to retrieving relevant passages (by using summarized conversational context) and assessing the quality of generated responses. Experiments on three conversational QA datasets validate the enhanced response generation capabilities of <span class="ltx_text ltx_font_typewriter" id="id7.1.9">SELF</span>-<span class="ltx_text ltx_font_italic" id="id7.1.10">multi</span>-<span class="ltx_text ltx_font_typewriter" id="id7.1.11">RAG</span>, with improvements of <math alttext="\sim" class="ltx_Math" display="inline" id="id7.1.m1.1"><semantics id="id7.1.m1.1a"><mo id="id7.1.m1.1.1" xref="id7.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="id7.1.m1.1b"><csymbol cd="latexml" id="id7.1.m1.1.1.cmml" xref="id7.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="id7.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="id7.1.m1.1d">∼</annotation></semantics></math>13%
measured by human annotation.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="494" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span class="ltx_text ltx_font_bold" id="S1.F1.2.1">Understanding conversational context.</span> In multi-turn conversations user questions often refer to responses in previous turns based on passages already retrieved, as shown in the example above. To answer the follow-up question, it is not necessary to retrieve new passages and the LLM should refer back to the previously retrieved passage, which contains the response.</figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recent advances in LLM technology has made the conversational search paradigm <cite class="ltx_cite ltx_citemacro_cite">Culpepper et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib8" title="">2018</a>)</cite> increasingly viable for mainstream use as next generation search technology.
Unlike traditional search engines which primarily process keyword queries, users can treat conversational search systems as a knowledgeable expert and directly engage in a multi-turn natural language conversation to better resolve their search needs. However, despite impressive abilities in a variety of tasks including response generation and conversational understanding, factual errors and hallucinations remain persistent problems for LLM-based systems <cite class="ltx_cite ltx_citemacro_cite">Mallen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib22" title="">2023</a>); Wei et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib31" title="">2024</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Retrieval-Augmented Generation (RAG) methods have been shown to partially ameliorate these issues by augmenting the input of LLMs with relevant retrieved passages, aiming to reduce factual errors in knowledge-intensive tasks <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib18" title="">2020</a>)</cite>. Nonetheless, these approaches also can impede the flexibility of LLMs, introducing extraneous or unrelated passages or providing conflicting information with previous context/turns <cite class="ltx_cite ltx_citemacro_cite">Adlakha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib1" title="">2022</a>)</cite>, resulting in low-quality generation <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib29" title="">2023</a>)</cite>. Specifically, retrieving passages indiscriminately, without considering whether the factual grounding is beneficial can compromise the quality of the generated content <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib29" title="">2023</a>); Oh and Thorne (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib27" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Thus, understanding <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">if retrieval is necessary</span> for high-quality response generation is an important research question, especially in the context of conversational QA. In multi-turn question answering, comprehending users’ contextual intent and generating responses pose significant challenges due to complexities introduced by the extended context window containing previous user interactions <cite class="ltx_cite ltx_citemacro_cite">Aliannejadi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib2" title="">2020</a>); Mao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib24" title="">2023b</a>); Wu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib32" title="">2024</a>)</cite>.
The system, when deciding whether to retrieve or estimating the usefulness of its own response, must process a longer context of the conversation history, understand the user intent of current turn, ensure prevention of information repetition, maintain user engagement, etc. An example is provided in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">1</span></a>, which shows that the decision to retrieve or not might depend on the conversational context rather than last turn only.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Furthermore, when retrieval is expensive or noisy, it is beneficial to utilize already retrieved documents in the conversation, given they are relevant and contain the necessary answers. Additionally, detrimental context as a result of noisy retrieval can degrade response generation quality <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib29" title="">2023</a>); Oh and Thorne (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib27" title="">2023</a>)</cite>. Lastly, when conversation history is longer, traditional conversational query rewriting methods <cite class="ltx_cite ltx_citemacro_cite">Anantha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib3" title="">2020</a>); Ishii et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib12" title="">2022</a>); Ye et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib35" title="">2023</a>)</cite> that typically emphasize co-reference resolution, might be insufficient to contain all the information required for an effective retrieval <cite class="ltx_cite ltx_citemacro_cite">Bai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib6" title="">2024</a>)</cite>. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">2</span></a>, both the gold and a T5-based query rewriting miss potentially important signals (e.g., hip injury) for retrieving correct passages. In that case, representing the conversation history in a summarized form can lead to more effective retrieval.</p>
</div>
<figure class="ltx_figure" id="S1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="424" id="S1.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span class="ltx_text ltx_font_bold" id="S1.F2.2.1">Summarizing conversational context.</span> While using the entire conversational context as query to a retrieval model might introduce noise, using traditional rewriting methods might miss on important aspects of the conversations. Conversation summaries provide an adaptable approach as a retrieval query.</figcaption>
</figure>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">In this work, we propose <span class="ltx_text ltx_font_typewriter" id="S1.p5.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.p5.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.p5.1.3">RAG</span>, an approach for efficient retrieval during a multi-turn conversation for improved response generation. <span class="ltx_text ltx_font_typewriter" id="S1.p5.1.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.p5.1.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.p5.1.6">RAG</span> provides refined contextual signals for retrieval and enhances multi-turn answer generation by potentially reusing already retrieved passages in previous turns. In particular, <span class="ltx_text ltx_font_typewriter" id="S1.p5.1.7">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.p5.1.8">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.p5.1.9">RAG</span> enables: (i) better <span class="ltx_text ltx_font_italic" id="S1.p5.1.10">understanding of the conversational context</span> to decide whether retrieval is needed and to generate useful responses accordingly in a conversational setting and (ii) <span class="ltx_text ltx_font_italic" id="S1.p5.1.11">summarizing the conversational context</span> such that it can be used as a query to retrieve relevant documents, when needed, with high retrieval effectiveness.
Our specific contribution are as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We propose <span class="ltx_text ltx_font_typewriter" id="S1.I1.i1.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.I1.i1.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.I1.i1.p1.1.3">RAG</span>, a framework to train LLMs to respond to question-answer turns by adaptively retrieving passages and reflecting on the retrieved passages in multi-turn setting. <span class="ltx_text ltx_font_typewriter" id="S1.I1.i1.p1.1.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.I1.i1.p1.1.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.I1.i1.p1.1.6">RAG</span> determines the necessity of retrieval given a conversational context and summarizes the conversation into a query for use with off-the-shelf retrieval models.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We conduct extensive experiments to observe that response quality of <span class="ltx_text ltx_font_typewriter" id="S1.I1.i2.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.I1.i2.p1.1.3">RAG</span> significantly outperforms <span class="ltx_text ltx_font_typewriter" id="S1.I1.i2.p1.1.4">SELF-RAG</span> with an average improvement of <math alttext="\sim" class="ltx_Math" display="inline" id="S1.I1.i2.p1.1.m1.1"><semantics id="S1.I1.i2.p1.1.m1.1a"><mo id="S1.I1.i2.p1.1.m1.1.1" xref="S1.I1.i2.p1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S1.I1.i2.p1.1.m1.1b"><csymbol cd="latexml" id="S1.I1.i2.p1.1.m1.1.1.cmml" xref="S1.I1.i2.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i2.p1.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S1.I1.i2.p1.1.m1.1d">∼</annotation></semantics></math>13% for conversational datasets, measured by human annotations in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T4" title="Table 4 ‣ 4.2 Models ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">4</span></a>. Moreover, <span class="ltx_text ltx_font_typewriter" id="S1.I1.i2.p1.1.5">SELF</span>-<span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.6">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S1.I1.i2.p1.1.7">RAG</span> summarization capabilities improves the retrieval effectiveness by 13.5% on average (R@5), compared to query rewriting baselines (Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.T5" title="Table 5 ‣ 5.1 Summarizing Conversations ‣ 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">5</span></a>).</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">RAG.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">Retrieval-Augmented Generation (RAG) augments the LM input with retrieved text passages <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib18" title="">2020</a>); Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib11" title="">2020</a>)</cite>, leading to large improvements in knowledge-intensive tasks
 <cite class="ltx_cite ltx_citemacro_cite">Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib28" title="">2023</a>)</cite>.
However, the improved task performance of such approaches have been shown to come at the expense of runtime efficiency <cite class="ltx_cite ltx_citemacro_cite">Mallen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib22" title="">2023</a>)</cite>, robustness to irrelevant context <cite class="ltx_cite ltx_citemacro_cite">Oh and Thorne (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib27" title="">2023</a>); Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib29" title="">2023</a>)</cite>, and lack of attributions <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib20" title="">2023</a>); Gao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib10" title="">2023</a>)</cite>. <cite class="ltx_cite ltx_citemacro_citet">Yoran et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib36" title="">2023</a>)</cite> use a natural language inference model and <cite class="ltx_cite ltx_citemacro_citet">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib34" title="">2023</a>)</cite> employ a summarization model to filter out or compress retrieved passages before using them to prompt the LM to generate the output. In comparison, <span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.1">SELF-RAG</span> <cite class="ltx_cite ltx_citemacro_cite">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite> processes passages in parallel and filters out irrelevant ones through self-reflection, without relying on external models at inference. The self-reflection mechanism of <span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.2">SELF-RAG</span> also evaluates other aspects of the model output quality, including factuality and attribution. However, <span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.3">SELF-RAG</span> is not trained to comprehend conversational context, which we specifically equip <span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p1.1.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.6">RAG</span> to do. <cite class="ltx_cite ltx_citemacro_citet">Kulkarni et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib16" title="">2024</a>)</cite> propose a reinforcement learning (RL) based approach where the policy model can perform two actions: fetch conversation context or skip retrieval. Their approach was shown to save costs by reducing tokens when the model decides retrieval is not needed, while also slightly improving response generation. In contrast, the goal of <span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.7">SELF</span>-<span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p1.1.8">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S2.SS0.SSS0.Px1.p1.1.9">RAG</span> is not only to decrease retrieval redundancy but also increase retrieval effectiveness.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">LLMs and Multi-turn Conversations.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">In order to enable LLMs to interact with humans in a dialogue-based settings, the standard approach is to collect multi-turn instructions <cite class="ltx_cite ltx_citemacro_cite">Chiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib7" title="">2023</a>); Ji et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib14" title="">2023</a>)</cite>, often synthetically generated using strong LLMs, and used to fine tune the LLMs for the task of response generation.
This process is known as instruction fine-tuning, which enables LLMs to generate responses in a multi-turn dialogue setting. LLMs have also been used to perform conversational history modeling by rewriting user question <cite class="ltx_cite ltx_citemacro_cite">Mao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib23" title="">2023a</a>); Ye et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib35" title="">2023</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib30" title="">2023</a>)</cite>. Such query rewriting using LLMs have been shown to improve effectiveness for the retrieval of grounding passages. However, none of these works explicitly train the LLMs to reflect whether retrieval is needed or not (given the conversation history) or how to deal with irrelevant passages while generating RAG responses.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Conversational Query Rewriting.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p1.1">Query rewriting plays a vital role in enhancing conversational search by transforming context-dependent user queries into self-contained forms. Existing approaches <cite class="ltx_cite ltx_citemacro_cite">Wu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib33" title="">2021</a>); Mo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib25" title="">2023</a>)</cite> primarily leverage human-rewritten queries as labels to train query rewriting models and typically aim to convert the conversational into a single question. <cite class="ltx_cite ltx_citemacro_cite">Ye et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib35" title="">2023</a>)</cite> proposed to rewrite queries using the conversation history to make more informative queries. They show that rewriting queries by prompting ChatGPT with information from context helps in more effective retrieval performance.  <cite class="ltx_cite ltx_citemacro_citet">Kaiser et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib15" title="">2024</a>)</cite> performed RL based reformulations for better retrieval of entities for conversational QA over knowledge graphs.
Their reformulations are entity focused where the answers to the questions are entities (as compared to sentences in the case of open domain QA).
 <cite class="ltx_cite ltx_citemacro_citet">Ishii et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib12" title="">2022</a>)</cite> proposed query rewriting based on a reward based system. The current question + conversation history is passed to the QA model (e.g., RoBERTa) to extract answer span from provided evidence document. <cite class="ltx_cite ltx_citemacro_citet">Jang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib13" title="">2024</a>)</cite> rely on information retrieval signals directly to perform conversational query rewriting instead of relying on human-rewritten query as supervision signal. While the above works show improved retrieval effectiveness as compared to a human rewrite of the conversational context they <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px3.p1.1.1">do not</span> evaluate how the retrieved passages affect response generation of the models. Furthermore, we hypothesize that summarizing the conversational context instead of rewriting them to a single question will help in improving retrieval effectiveness and consequent response generation performance.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span><span class="ltx_text ltx_font_typewriter" id="S3.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.2.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.3.3">RAG</span>
</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this work, we propose <span class="ltx_text ltx_font_typewriter" id="S3.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.p1.1.3">RAG</span>, which extends <span class="ltx_text ltx_font_typewriter" id="S3.p1.1.4">SELF-RAG</span> <cite class="ltx_cite ltx_citemacro_cite">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite> to generate responses in a conversational setting. Our proposed methodology trains a LLM to comprehend longer conversational contexts to learn when retrieval is needed and also critiquing the quality of the passages and its own generation given the previous turns by generating <span class="ltx_text ltx_font_italic" id="S3.p1.1.5">special tokens</span>. Importantly, when the LLM decides retrieval is needed to generate a response, we train it to summarize the conversational context for more effective passage retrieval, which consequently leads to better response generation. <span class="ltx_text ltx_font_typewriter" id="S3.p1.1.6">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.p1.1.7">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.p1.1.8">RAG</span> has two important functions:</p>
</div>
<section class="ltx_paragraph" id="S3.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Understanding Conversational Context.</h4>
<div class="ltx_para" id="S3.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS0.SSS0.Px1.p1.1">In a multi-turn context, evaluating the relevance of a retrieved passage involves considering both the current question and the previous conversation history, unlike a single-turn question. Furthermore, retrieved passages from previous turns can also be provided in the conversational context or a user may simply provide a passage and ask questions based on that. When the cost of retrieval is high, a model should <span class="ltx_text ltx_font_italic" id="S3.SS0.SSS0.Px1.p1.1.1">not</span> decide to retrieve if the question in the current turn can be answered from passages retrieved in previous turns (as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">1</span></a>). In that case, the model should not only comprehend the conversational context but also the previously retrieved passages to be able to determine the necessity of retrieval. Utilizing already retrieved passages (given they are relevant) not only mitigates the harmful effects of noisy retrieval <cite class="ltx_cite ltx_citemacro_cite">Oh and Thorne (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib27" title="">2023</a>)</cite>, but also saves costs by reducing the number of context tokens <cite class="ltx_cite ltx_citemacro_cite">Kulkarni et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib16" title="">2024</a>)</cite>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Summarising Conversational Context.</h4>
<div class="ltx_para" id="S3.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS0.SSS0.Px2.p1.1">Representing conversational context using a single question is difficult <cite class="ltx_cite ltx_citemacro_cite">Anantha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib3" title="">2020</a>)</cite> and might result in loss of information while retrieving relevant passages (as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">2</span></a>). This is especially true in case of long conversations. Traditional conversation query rewriting methods <cite class="ltx_cite ltx_citemacro_cite">Ye et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib35" title="">2023</a>); Mo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib25" title="">2023</a>); Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib19" title="">2020</a>)</cite> are trained to select important parts of the conversation but, typically, in a single question format. Hence, we hypothesize that summarising a conversational context can potentially include more relevant signals when retrieving passages without adding noise. This can be beneficial for both sparse and bi-encoder based dense retrieval.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="499" id="S3.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S3.F3.2.1">SELF<span class="ltx_text ltx_font_serif" id="S3.F3.2.1.1">-<span class="ltx_text ltx_font_italic" id="S3.F3.2.1.1.1">multi</span>-</span>RAG<span class="ltx_text ltx_font_serif" id="S3.F3.2.1.2"> framework.</span></span> Components of the pipeline highlighted in yellow are specific to multi-turn conversations. The critic model is used to obtain the special reflection tokens that the generator model is trained to predict while generating response.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Components</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">Analogous to <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.1">SELF-RAG</span>, <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.4">RAG</span> has three main components: (i) Critic, (ii) Generator, and (iii) Retriever.</p>
</div>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Critic.</h4>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.1">The task of the critic model is to output the special reflection tokens given a conversational context (as compared to a single question like in the original <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px1.p1.1.1">SELF-RAG</span> framework). We employ the five critic tasks introduced by <cite class="ltx_cite ltx_citemacro_citet">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite>. However, we redesign the framework to include a conversational history instead of a single-turn question. The important distinction of our approach is that it teaches the critic model to judge whether retrieval is needed or not, and relevance of retrieved documents based on the entire conversation history. The critic tasks and special tokens are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.T1" title="Table 1 ‣ Critic. ‣ 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T1.1" style="width:433.6pt;height:375.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(28.7pt,-24.8pt) scale(1.15228361848356,1.15228361848356) ;">
<table class="ltx_tabular ltx_align_middle" id="S3.T1.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S3.T1.1.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.1.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.1.1.1" style="width:34.1pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.1.1">Task</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S3.T1.1.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.2.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.2.1.1" style="width:74.0pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.2.1.1.1">Definition</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S3.T1.1.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.3.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.3.1.1" style="width:71.1pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.3.1.1.1"># instances</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S3.T1.1.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.4.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.4.1.1" style="width:105.3pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.4.1.1.1">Tokens</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S3.T1.1.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.5.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.5.1.1.1">Total</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.2.2.1" rowspan="2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.2.2.1.1">
<span class="ltx_p" id="S3.T1.1.1.2.2.1.1.1" style="width:34.1pt;"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.1.2.2.1.1.1.1">Retrieval</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.2.2.2.1">
<span class="ltx_p" id="S3.T1.1.1.2.2.2.1.1" style="width:74.0pt;">whether retrieval is</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.2.2.3" rowspan="2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.2.2.3.1">
<span class="ltx_p" id="S3.T1.1.1.2.2.3.1.1" style="width:71.1pt;"><span class="ltx_text" id="S3.T1.1.1.2.2.3.1.1.1">232; Q=96, U=136</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.2.2.4">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.2.2.4.1">
<span class="ltx_p" id="S3.T1.1.1.2.2.4.1.1" style="width:105.3pt;">[Retrieve]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.2.2.5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.2.2.5.1">
<span class="ltx_p" id="S3.T1.1.1.2.2.5.1.1" style="width:28.5pt;">69%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.3.3.1.1">
<span class="ltx_p" id="S3.T1.1.1.3.3.1.1.1" style="width:74.0pt;">needed</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.3.3.2.1">
<span class="ltx_p" id="S3.T1.1.1.3.3.2.1.1" style="width:105.3pt;">[No Retrieve]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.3.3.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.3.3.3.1">
<span class="ltx_p" id="S3.T1.1.1.3.3.3.1.1" style="width:28.5pt;">31%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.4.4.1" rowspan="3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.4.4.1.1">
<span class="ltx_p" id="S3.T1.1.1.4.4.1.1.1" style="width:34.1pt;"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.1.4.4.1.1.1.1">3-way Retrieval</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.4.4.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.4.4.2.1">
<span class="ltx_p" id="S3.T1.1.1.4.4.2.1.1" style="width:74.0pt;">whether retrieval is</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.4.4.3" rowspan="3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.4.4.3.1">
<span class="ltx_p" id="S3.T1.1.1.4.4.3.1.1" style="width:71.1pt;"><span class="ltx_text" id="S3.T1.1.1.4.4.3.1.1.1">210; Q=116, U=94</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.4.4.4">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.4.4.4.1">
<span class="ltx_p" id="S3.T1.1.1.4.4.4.1.1" style="width:105.3pt;">[Retrieve]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.4.4.5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.4.4.5.1">
<span class="ltx_p" id="S3.T1.1.1.4.4.5.1.1" style="width:28.5pt;">36%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.5.5.1.1">
<span class="ltx_p" id="S3.T1.1.1.5.5.1.1.1" style="width:74.0pt;">needed or to use</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.5.5.2.1">
<span class="ltx_p" id="S3.T1.1.1.5.5.2.1.1" style="width:105.3pt;">[No Retrieve]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.5.5.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.5.5.3.1">
<span class="ltx_p" id="S3.T1.1.1.5.5.3.1.1" style="width:28.5pt;">21%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.6.6.1.1">
<span class="ltx_p" id="S3.T1.1.1.6.6.1.1.1" style="width:74.0pt;">conv. history</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.6.6.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.6.6.2.1">
<span class="ltx_p" id="S3.T1.1.1.6.6.2.1.1" style="width:105.3pt;">[Continue to Use Evidence]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.6.6.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.6.6.3.1">
<span class="ltx_p" id="S3.T1.1.1.6.6.3.1.1" style="width:28.5pt;">43%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.7.7.1" rowspan="2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.7.7.1.1">
<span class="ltx_p" id="S3.T1.1.1.7.7.1.1.1" style="width:34.1pt;"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.1.7.7.1.1.1.1">Relevance</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.7.7.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.7.7.2.1">
<span class="ltx_p" id="S3.T1.1.1.7.7.2.1.1" style="width:74.0pt;">of retrieved passages</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.7.7.3" rowspan="2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.7.7.3.1">
<span class="ltx_p" id="S3.T1.1.1.7.7.3.1.1" style="width:71.1pt;"><span class="ltx_text" id="S3.T1.1.1.7.7.3.1.1.1">301; Q=213, U=88</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.7.7.4">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.7.7.4.1">
<span class="ltx_p" id="S3.T1.1.1.7.7.4.1.1" style="width:105.3pt;">[Relevant]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.7.7.5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.7.7.5.1">
<span class="ltx_p" id="S3.T1.1.1.7.7.5.1.1" style="width:28.5pt;">41%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.8.8.1.1">
<span class="ltx_p" id="S3.T1.1.1.8.8.1.1.1" style="width:74.0pt;">given conv. history</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.8.8.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.8.8.2.1">
<span class="ltx_p" id="S3.T1.1.1.8.8.2.1.1" style="width:105.3pt;">[Non Relevant]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.8.8.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.8.8.3.1">
<span class="ltx_p" id="S3.T1.1.1.8.8.3.1.1" style="width:28.5pt;">59%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.9.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.9.9.1" rowspan="3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.9.9.1.1">
<span class="ltx_p" id="S3.T1.1.1.9.9.1.1.1" style="width:34.1pt;"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.1.9.9.1.1.1.1">Groundness</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.9.9.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.9.9.2.1">
<span class="ltx_p" id="S3.T1.1.1.9.9.2.1.1" style="width:74.0pt;">generated response</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.9.9.3" rowspan="3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.9.9.3.1">
<span class="ltx_p" id="S3.T1.1.1.9.9.3.1.1" style="width:71.1pt;"><span class="ltx_text" id="S3.T1.1.1.9.9.3.1.1.1">259; Q=229, U=30</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.9.9.4">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.9.9.4.1">
<span class="ltx_p" id="S3.T1.1.1.9.9.4.1.1" style="width:105.3pt;">[Fully supported]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.9.9.5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.9.9.5.1">
<span class="ltx_p" id="S3.T1.1.1.9.9.5.1.1" style="width:28.5pt;">43%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.10.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.10.10.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.10.10.1.1">
<span class="ltx_p" id="S3.T1.1.1.10.10.1.1.1" style="width:74.0pt;">is supported by</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.10.10.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.10.10.2.1">
<span class="ltx_p" id="S3.T1.1.1.10.10.2.1.1" style="width:105.3pt;">[Partially supported]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.10.10.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.10.10.3.1">
<span class="ltx_p" id="S3.T1.1.1.10.10.3.1.1" style="width:28.5pt;">13%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.11.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.11.11.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.11.11.1.1">
<span class="ltx_p" id="S3.T1.1.1.11.11.1.1.1" style="width:74.0pt;">retrieved passage</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.11.11.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.11.11.2.1">
<span class="ltx_p" id="S3.T1.1.1.11.11.2.1.1" style="width:105.3pt;">[No support]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.11.11.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.11.11.3.1">
<span class="ltx_p" id="S3.T1.1.1.11.11.3.1.1" style="width:28.5pt;">44%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.12.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="S3.T1.1.1.12.12.1" rowspan="5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.12.12.1.1">
<span class="ltx_p" id="S3.T1.1.1.12.12.1.1.1" style="width:34.1pt;"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.1.12.12.1.1.1.1">Utility</span></span>
</span>
</td>
<td class="ltx_td ltx_align_top ltx_border_t" id="S3.T1.1.1.12.12.2"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="S3.T1.1.1.12.12.3" rowspan="5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.12.12.3.1">
<span class="ltx_p" id="S3.T1.1.1.12.12.3.1.1" style="width:71.1pt;"><span class="ltx_text" id="S3.T1.1.1.12.12.3.1.1.1">269; Q=143, U=126</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.12.12.4">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.12.12.4.1">
<span class="ltx_p" id="S3.T1.1.1.12.12.4.1.1" style="width:105.3pt;">[Utility:1]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.1.12.12.5">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.12.12.5.1">
<span class="ltx_p" id="S3.T1.1.1.12.12.5.1.1" style="width:28.5pt;">34%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.13.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.13.13.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.13.13.1.1">
<span class="ltx_p" id="S3.T1.1.1.13.13.1.1.1" style="width:74.0pt;">usefulness of</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.13.13.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.13.13.2.1">
<span class="ltx_p" id="S3.T1.1.1.13.13.2.1.1" style="width:105.3pt;">[Utility:2]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.13.13.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.13.13.3.1">
<span class="ltx_p" id="S3.T1.1.1.13.13.3.1.1" style="width:28.5pt;">6%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.14.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.14.14.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.14.14.1.1">
<span class="ltx_p" id="S3.T1.1.1.14.14.1.1.1" style="width:74.0pt;">generated</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.14.14.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.14.14.2.1">
<span class="ltx_p" id="S3.T1.1.1.14.14.2.1.1" style="width:105.3pt;">[Utility:3]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.14.14.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.14.14.3.1">
<span class="ltx_p" id="S3.T1.1.1.14.14.3.1.1" style="width:28.5pt;">9%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.15.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.15.15.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.15.15.1.1">
<span class="ltx_p" id="S3.T1.1.1.15.15.1.1.1" style="width:74.0pt;">response</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.15.15.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.15.15.2.1">
<span class="ltx_p" id="S3.T1.1.1.15.15.2.1.1" style="width:105.3pt;">[Utility:4]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S3.T1.1.1.15.15.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.15.15.3.1">
<span class="ltx_p" id="S3.T1.1.1.15.15.3.1.1" style="width:28.5pt;">23%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.16.16">
<td class="ltx_td ltx_align_top ltx_border_bb" id="S3.T1.1.1.16.16.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S3.T1.1.1.16.16.2">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.16.16.2.1">
<span class="ltx_p" id="S3.T1.1.1.16.16.2.1.1" style="width:105.3pt;">[Utility:5]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S3.T1.1.1.16.16.3">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.16.16.3.1">
<span class="ltx_p" id="S3.T1.1.1.16.16.3.1.1" style="width:28.5pt;">29%</span>
</span>
</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Critic training data (QU-MTC) statistics. Q= and U= denotes number of instances sampled from QReCC and UltraChat, respectively.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Generator.</h4>
<div class="ltx_para" id="S3.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.5">The first task of the generator is to generate responses with the special reflection tokens. Given a conversation history as input <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.1.m1.1d">italic_x</annotation></semantics></math>, we augment the response <math alttext="y" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS1.SSS0.Px2.p1.2.m2.1a"><mi id="S3.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.2.m2.1b"><ci id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.2.m2.1d">italic_y</annotation></semantics></math> to create <math alttext="\hat{y}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.3.m3.1"><semantics id="S3.SS1.SSS0.Px2.p1.3.m3.1a"><mover accent="true" id="S3.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml">y</mi><mo id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.1" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1"><ci id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.1">^</ci><ci id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.3.m3.1c">\hat{y}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.3.m3.1d">over^ start_ARG italic_y end_ARG</annotation></semantics></math> by including the reflection tokens that is generated by our trained critic model. The generator is trained to generate <math alttext="\hat{y}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.4.m4.1"><semantics id="S3.SS1.SSS0.Px2.p1.4.m4.1a"><mover accent="true" id="S3.SS1.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml">y</mi><mo id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1"><ci id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.1">^</ci><ci id="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m4.1.1.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.4.m4.1c">\hat{y}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.4.m4.1d">over^ start_ARG italic_y end_ARG</annotation></semantics></math> given <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.5.m5.1"><semantics id="S3.SS1.SSS0.Px2.p1.5.m5.1a"><mi id="S3.SS1.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.5.m5.1b"><ci id="S3.SS1.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m5.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.5.m5.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.5.m5.1d">italic_x</annotation></semantics></math> using next token prediction objective. The second task of the generator is to summarise a conversational context to extract important aspects of the conversation <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.5.1">and</span> pose a question. Given a conversation history, when <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px2.p1.5.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.5.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px2.p1.5.4">RAG</span> decides retrieval is necessary, it is further prompted to create a summary of the conversation which can be used as query to any retrieval model to obtain passages. We <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.5.5">do not</span> create a separate critic task for summarization. Rather, we <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.5.6">only</span> train the generator model since the summarization task is performed <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.5.7">whenever</span> retrieval is deemed necessary.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Retriever.</h4>
<div class="ltx_para" id="S3.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p1.1">The retriever is the third component of <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px3.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.3">RAG</span> and can be used as a separate black-box component. In particular, we use 54M passages from Wikipedia and Common Crawl as the knowledge base.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The corpus is released as part of the QReCC dataset.</span></span></span> We use an off-the-shelf Contriever model trained on MS-MARCO as the retriever.<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/facebookresearch/contriever/" title="">https://github.com/facebookresearch/contriever/</a></span></span></span>. The retrieved passages are used by <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px3.p1.1.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.6">RAG</span> to generate responses during inference when it adaptively decides to call retrieval.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Overall Framework</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Given a conversation history (that may also include passages retrieved in previous turns), the LLM (generator model) first decides whether retrieval is needed or not by generating one of the three special retrieval tokens: [Retrieve], [No Retrieve], [Continue to use evidence] based on the conversation history and previously retrieved passages. [Retrieve] is typically generated when the response needs to retrieve new facts to respond to a factual question. [No Retrieve] is generated when the question in the conversation requires the model to answer with a creative response. [Continue to use evidence] is typically generated when that the facts needed to answer the current factual question is already present in conversation history or the previously retrieved passages. So no new retrieval is needed and it can rely on the context to generate the response.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.2">If retrieval is needed, <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS2.p2.2.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.3">RAG</span> then rewrites the conversational history which will be used as a query to retrieve passages from a corpus. The retriever retrieves <math alttext="K" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_K</annotation></semantics></math> passages which the generator process in parallel and retrieves <math alttext="K" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_K</annotation></semantics></math> different candidate outputs conditioned on the conversation history and the retrieved passages. <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS2.p2.2.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.6">RAG</span> then indicates the relevance of each passage to the conversation history by generating the special relevance tokens [Relevant] or [Non Relevant]. Following which <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.7">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS2.p2.2.8">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.9">RAG</span> judges whether the generated responses are [Fully supported], [Partially supported] or [No support] by the respective retrieved passages by generating the corresponding groundedness tokens. Finally, <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.10">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS2.p2.2.11">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.2.12">RAG</span> gives a usefulness score of [1-5] to the generated response using the utility special token.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.5">The final response is selected out of the candidate responses, using the one which has the highest score in terms of its usefulness, groundedness and the relevance of the passage from which it was generated. Following <cite class="ltx_cite ltx_citemacro_citet">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite>, we conduct a segment-level beam search (with the beam size=<math alttext="B" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><mi id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">B</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_B</annotation></semantics></math>) to obtain the top-<math alttext="B" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><mi id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><ci id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">B</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_B</annotation></semantics></math> segment continuations and return the best sequence at the end of generation. The score of each sequence <math alttext="y" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><mi id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><ci id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_y</annotation></semantics></math> with respect to passage <math alttext="d" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><mi id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><ci id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_d</annotation></semantics></math> is updated with a score <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><mi id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><ci id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_S</annotation></semantics></math> that is the linear weighted sum of the normalized probability of each special token type:</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A6.EGx1">
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle S=p(y_{t}|x,d,y_{t-1})" class="ltx_Math" display="inline" id="S3.Ex1.m1.3"><semantics id="S3.Ex1.m1.3a"><mrow id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml"><mi id="S3.Ex1.m1.3.3.3" xref="S3.Ex1.m1.3.3.3.cmml">S</mi><mo id="S3.Ex1.m1.3.3.2" xref="S3.Ex1.m1.3.3.2.cmml">=</mo><mrow id="S3.Ex1.m1.3.3.1" xref="S3.Ex1.m1.3.3.1.cmml"><mi id="S3.Ex1.m1.3.3.1.3" xref="S3.Ex1.m1.3.3.1.3.cmml">p</mi><mo id="S3.Ex1.m1.3.3.1.2" xref="S3.Ex1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.Ex1.m1.3.3.1.1.1" xref="S3.Ex1.m1.3.3.1.1.1.1.cmml"><mo id="S3.Ex1.m1.3.3.1.1.1.2" stretchy="false" xref="S3.Ex1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.3.3.1.1.1.1" xref="S3.Ex1.m1.3.3.1.1.1.1.cmml"><msub id="S3.Ex1.m1.3.3.1.1.1.1.3" xref="S3.Ex1.m1.3.3.1.1.1.1.3.cmml"><mi id="S3.Ex1.m1.3.3.1.1.1.1.3.2" xref="S3.Ex1.m1.3.3.1.1.1.1.3.2.cmml">y</mi><mi id="S3.Ex1.m1.3.3.1.1.1.1.3.3" xref="S3.Ex1.m1.3.3.1.1.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S3.Ex1.m1.3.3.1.1.1.1.2" xref="S3.Ex1.m1.3.3.1.1.1.1.2.cmml">|</mo><mrow id="S3.Ex1.m1.3.3.1.1.1.1.1.1" xref="S3.Ex1.m1.3.3.1.1.1.1.1.2.cmml"><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">x</mi><mo id="S3.Ex1.m1.3.3.1.1.1.1.1.1.2" xref="S3.Ex1.m1.3.3.1.1.1.1.1.2.cmml">,</mo><mi id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml">d</mi><mo id="S3.Ex1.m1.3.3.1.1.1.1.1.1.3" xref="S3.Ex1.m1.3.3.1.1.1.1.1.2.cmml">,</mo><msub id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="S3.Ex1.m1.3.3.1.1.1.3" stretchy="false" xref="S3.Ex1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.3b"><apply id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3"><eq id="S3.Ex1.m1.3.3.2.cmml" xref="S3.Ex1.m1.3.3.2"></eq><ci id="S3.Ex1.m1.3.3.3.cmml" xref="S3.Ex1.m1.3.3.3">𝑆</ci><apply id="S3.Ex1.m1.3.3.1.cmml" xref="S3.Ex1.m1.3.3.1"><times id="S3.Ex1.m1.3.3.1.2.cmml" xref="S3.Ex1.m1.3.3.1.2"></times><ci id="S3.Ex1.m1.3.3.1.3.cmml" xref="S3.Ex1.m1.3.3.1.3">𝑝</ci><apply id="S3.Ex1.m1.3.3.1.1.1.1.cmml" xref="S3.Ex1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.3.3.1.1.1.1.2.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.2">conditional</csymbol><apply id="S3.Ex1.m1.3.3.1.1.1.1.3.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex1.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.3.2">𝑦</ci><ci id="S3.Ex1.m1.3.3.1.1.1.1.3.3.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.3.3">𝑡</ci></apply><list id="S3.Ex1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1"><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝑥</ci><ci id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">𝑑</ci><apply id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3"><minus id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1"></minus><ci id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.3c">\displaystyle S=p(y_{t}|x,d,y_{t-1})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.3d">italic_S = italic_p ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x , italic_d , italic_y start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle+w_{1}*S(\texttt{Relevance})" class="ltx_Math" display="inline" id="S3.Ex1.m2.1"><semantics id="S3.Ex1.m2.1a"><mrow id="S3.Ex1.m2.1.2" xref="S3.Ex1.m2.1.2.cmml"><mo id="S3.Ex1.m2.1.2a" xref="S3.Ex1.m2.1.2.cmml">+</mo><mrow id="S3.Ex1.m2.1.2.2" xref="S3.Ex1.m2.1.2.2.cmml"><mrow id="S3.Ex1.m2.1.2.2.2" xref="S3.Ex1.m2.1.2.2.2.cmml"><msub id="S3.Ex1.m2.1.2.2.2.2" xref="S3.Ex1.m2.1.2.2.2.2.cmml"><mi id="S3.Ex1.m2.1.2.2.2.2.2" xref="S3.Ex1.m2.1.2.2.2.2.2.cmml">w</mi><mn id="S3.Ex1.m2.1.2.2.2.2.3" xref="S3.Ex1.m2.1.2.2.2.2.3.cmml">1</mn></msub><mo id="S3.Ex1.m2.1.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="S3.Ex1.m2.1.2.2.2.1.cmml">∗</mo><mi id="S3.Ex1.m2.1.2.2.2.3" xref="S3.Ex1.m2.1.2.2.2.3.cmml">S</mi></mrow><mo id="S3.Ex1.m2.1.2.2.1" xref="S3.Ex1.m2.1.2.2.1.cmml">⁢</mo><mrow id="S3.Ex1.m2.1.2.2.3.2" xref="S3.Ex1.m2.1.1a.cmml"><mo id="S3.Ex1.m2.1.2.2.3.2.1" stretchy="false" xref="S3.Ex1.m2.1.1a.cmml">(</mo><mtext class="ltx_mathvariant_monospace" id="S3.Ex1.m2.1.1" xref="S3.Ex1.m2.1.1.cmml">Relevance</mtext><mo id="S3.Ex1.m2.1.2.2.3.2.2" stretchy="false" xref="S3.Ex1.m2.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m2.1b"><apply id="S3.Ex1.m2.1.2.cmml" xref="S3.Ex1.m2.1.2"><plus id="S3.Ex1.m2.1.2.1.cmml" xref="S3.Ex1.m2.1.2"></plus><apply id="S3.Ex1.m2.1.2.2.cmml" xref="S3.Ex1.m2.1.2.2"><times id="S3.Ex1.m2.1.2.2.1.cmml" xref="S3.Ex1.m2.1.2.2.1"></times><apply id="S3.Ex1.m2.1.2.2.2.cmml" xref="S3.Ex1.m2.1.2.2.2"><times id="S3.Ex1.m2.1.2.2.2.1.cmml" xref="S3.Ex1.m2.1.2.2.2.1"></times><apply id="S3.Ex1.m2.1.2.2.2.2.cmml" xref="S3.Ex1.m2.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m2.1.2.2.2.2.1.cmml" xref="S3.Ex1.m2.1.2.2.2.2">subscript</csymbol><ci id="S3.Ex1.m2.1.2.2.2.2.2.cmml" xref="S3.Ex1.m2.1.2.2.2.2.2">𝑤</ci><cn id="S3.Ex1.m2.1.2.2.2.2.3.cmml" type="integer" xref="S3.Ex1.m2.1.2.2.2.2.3">1</cn></apply><ci id="S3.Ex1.m2.1.2.2.2.3.cmml" xref="S3.Ex1.m2.1.2.2.2.3">𝑆</ci></apply><ci id="S3.Ex1.m2.1.1a.cmml" xref="S3.Ex1.m2.1.2.2.3.2"><mtext class="ltx_mathvariant_monospace" id="S3.Ex1.m2.1.1.cmml" xref="S3.Ex1.m2.1.1">Relevance</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m2.1c">\displaystyle+w_{1}*S(\texttt{Relevance})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m2.1d">+ italic_w start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∗ italic_S ( Relevance )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle+w_{2}*S(\texttt{Groundedness})" class="ltx_Math" display="inline" id="S3.Ex2.m1.1"><semantics id="S3.Ex2.m1.1a"><mrow id="S3.Ex2.m1.1.2" xref="S3.Ex2.m1.1.2.cmml"><mo id="S3.Ex2.m1.1.2a" xref="S3.Ex2.m1.1.2.cmml">+</mo><mrow id="S3.Ex2.m1.1.2.2" xref="S3.Ex2.m1.1.2.2.cmml"><mrow id="S3.Ex2.m1.1.2.2.2" xref="S3.Ex2.m1.1.2.2.2.cmml"><msub id="S3.Ex2.m1.1.2.2.2.2" xref="S3.Ex2.m1.1.2.2.2.2.cmml"><mi id="S3.Ex2.m1.1.2.2.2.2.2" xref="S3.Ex2.m1.1.2.2.2.2.2.cmml">w</mi><mn id="S3.Ex2.m1.1.2.2.2.2.3" xref="S3.Ex2.m1.1.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.Ex2.m1.1.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="S3.Ex2.m1.1.2.2.2.1.cmml">∗</mo><mi id="S3.Ex2.m1.1.2.2.2.3" xref="S3.Ex2.m1.1.2.2.2.3.cmml">S</mi></mrow><mo id="S3.Ex2.m1.1.2.2.1" xref="S3.Ex2.m1.1.2.2.1.cmml">⁢</mo><mrow id="S3.Ex2.m1.1.2.2.3.2" xref="S3.Ex2.m1.1.1a.cmml"><mo id="S3.Ex2.m1.1.2.2.3.2.1" stretchy="false" xref="S3.Ex2.m1.1.1a.cmml">(</mo><mtext class="ltx_mathvariant_monospace" id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml">Groundedness</mtext><mo id="S3.Ex2.m1.1.2.2.3.2.2" stretchy="false" xref="S3.Ex2.m1.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.1b"><apply id="S3.Ex2.m1.1.2.cmml" xref="S3.Ex2.m1.1.2"><plus id="S3.Ex2.m1.1.2.1.cmml" xref="S3.Ex2.m1.1.2"></plus><apply id="S3.Ex2.m1.1.2.2.cmml" xref="S3.Ex2.m1.1.2.2"><times id="S3.Ex2.m1.1.2.2.1.cmml" xref="S3.Ex2.m1.1.2.2.1"></times><apply id="S3.Ex2.m1.1.2.2.2.cmml" xref="S3.Ex2.m1.1.2.2.2"><times id="S3.Ex2.m1.1.2.2.2.1.cmml" xref="S3.Ex2.m1.1.2.2.2.1"></times><apply id="S3.Ex2.m1.1.2.2.2.2.cmml" xref="S3.Ex2.m1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.2.2.2.2.1.cmml" xref="S3.Ex2.m1.1.2.2.2.2">subscript</csymbol><ci id="S3.Ex2.m1.1.2.2.2.2.2.cmml" xref="S3.Ex2.m1.1.2.2.2.2.2">𝑤</ci><cn id="S3.Ex2.m1.1.2.2.2.2.3.cmml" type="integer" xref="S3.Ex2.m1.1.2.2.2.2.3">2</cn></apply><ci id="S3.Ex2.m1.1.2.2.2.3.cmml" xref="S3.Ex2.m1.1.2.2.2.3">𝑆</ci></apply><ci id="S3.Ex2.m1.1.1a.cmml" xref="S3.Ex2.m1.1.2.2.3.2"><mtext class="ltx_mathvariant_monospace" id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1">Groundedness</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.1c">\displaystyle+w_{2}*S(\texttt{Groundedness})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.1d">+ italic_w start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∗ italic_S ( Groundedness )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle+w_{3}*S(\texttt{Utility})" class="ltx_Math" display="inline" id="S3.Ex3.m1.1"><semantics id="S3.Ex3.m1.1a"><mrow id="S3.Ex3.m1.1.2" xref="S3.Ex3.m1.1.2.cmml"><mo id="S3.Ex3.m1.1.2a" xref="S3.Ex3.m1.1.2.cmml">+</mo><mrow id="S3.Ex3.m1.1.2.2" xref="S3.Ex3.m1.1.2.2.cmml"><mrow id="S3.Ex3.m1.1.2.2.2" xref="S3.Ex3.m1.1.2.2.2.cmml"><msub id="S3.Ex3.m1.1.2.2.2.2" xref="S3.Ex3.m1.1.2.2.2.2.cmml"><mi id="S3.Ex3.m1.1.2.2.2.2.2" xref="S3.Ex3.m1.1.2.2.2.2.2.cmml">w</mi><mn id="S3.Ex3.m1.1.2.2.2.2.3" xref="S3.Ex3.m1.1.2.2.2.2.3.cmml">3</mn></msub><mo id="S3.Ex3.m1.1.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="S3.Ex3.m1.1.2.2.2.1.cmml">∗</mo><mi id="S3.Ex3.m1.1.2.2.2.3" xref="S3.Ex3.m1.1.2.2.2.3.cmml">S</mi></mrow><mo id="S3.Ex3.m1.1.2.2.1" xref="S3.Ex3.m1.1.2.2.1.cmml">⁢</mo><mrow id="S3.Ex3.m1.1.2.2.3.2" xref="S3.Ex3.m1.1.1a.cmml"><mo id="S3.Ex3.m1.1.2.2.3.2.1" stretchy="false" xref="S3.Ex3.m1.1.1a.cmml">(</mo><mtext class="ltx_mathvariant_monospace" id="S3.Ex3.m1.1.1" xref="S3.Ex3.m1.1.1.cmml">Utility</mtext><mo id="S3.Ex3.m1.1.2.2.3.2.2" stretchy="false" xref="S3.Ex3.m1.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.1b"><apply id="S3.Ex3.m1.1.2.cmml" xref="S3.Ex3.m1.1.2"><plus id="S3.Ex3.m1.1.2.1.cmml" xref="S3.Ex3.m1.1.2"></plus><apply id="S3.Ex3.m1.1.2.2.cmml" xref="S3.Ex3.m1.1.2.2"><times id="S3.Ex3.m1.1.2.2.1.cmml" xref="S3.Ex3.m1.1.2.2.1"></times><apply id="S3.Ex3.m1.1.2.2.2.cmml" xref="S3.Ex3.m1.1.2.2.2"><times id="S3.Ex3.m1.1.2.2.2.1.cmml" xref="S3.Ex3.m1.1.2.2.2.1"></times><apply id="S3.Ex3.m1.1.2.2.2.2.cmml" xref="S3.Ex3.m1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.1.2.2.2.2.1.cmml" xref="S3.Ex3.m1.1.2.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.1.2.2.2.2.2.cmml" xref="S3.Ex3.m1.1.2.2.2.2.2">𝑤</ci><cn id="S3.Ex3.m1.1.2.2.2.2.3.cmml" type="integer" xref="S3.Ex3.m1.1.2.2.2.2.3">3</cn></apply><ci id="S3.Ex3.m1.1.2.2.2.3.cmml" xref="S3.Ex3.m1.1.2.2.2.3">𝑆</ci></apply><ci id="S3.Ex3.m1.1.1a.cmml" xref="S3.Ex3.m1.1.2.2.3.2"><mtext class="ltx_mathvariant_monospace" id="S3.Ex3.m1.1.1.cmml" xref="S3.Ex3.m1.1.1">Utility</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.1c">\displaystyle+w_{3}*S(\texttt{Utility})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m1.1d">+ italic_w start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT ∗ italic_S ( Utility )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p4.4">where <math alttext="x" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><mi id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><ci id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_x</annotation></semantics></math> is the conversation history, <math alttext="y_{t-1}" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.1"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">y</mi><mrow id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.3.2" xref="S3.SS2.p4.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p4.2.m2.1.1.3.1" xref="S3.SS2.p4.2.m2.1.1.3.1.cmml">−</mo><mn id="S3.SS2.p4.2.m2.1.1.3.3" xref="S3.SS2.p4.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝑦</ci><apply id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3"><minus id="S3.SS2.p4.2.m2.1.1.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3.1"></minus><ci id="S3.SS2.p4.2.m2.1.1.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2">𝑡</ci><cn id="S3.SS2.p4.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS2.p4.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">y_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> is the generated response so far and <math alttext="w_{i}" class="ltx_Math" display="inline" id="S3.SS2.p4.3.m3.1"><semantics id="S3.SS2.p4.3.m3.1a"><msub id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">w</mi><mi id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2">𝑤</ci><ci id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">w_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.3.m3.1d">italic_w start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> are hyperparameters that can be tuned to enable custom behavior during inference.<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>We use default values defined by <cite class="ltx_cite ltx_citemacro_citet">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite>.</span></span></span> <math alttext="S(.)" class="ltx_math_unparsed" display="inline" id="S3.SS2.p4.4.m4.1"><semantics id="S3.SS2.p4.4.m4.1a"><mrow id="S3.SS2.p4.4.m4.1b"><mi id="S3.SS2.p4.4.m4.1.1">S</mi><mrow id="S3.SS2.p4.4.m4.1.2"><mo id="S3.SS2.p4.4.m4.1.2.1" stretchy="false">(</mo><mo id="S3.SS2.p4.4.m4.1.2.2" lspace="0em" rspace="0.167em">.</mo><mo id="S3.SS2.p4.4.m4.1.2.3" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">S(.)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.4.m4.1d">italic_S ( . )</annotation></semantics></math> indicates the generation probability of the most desirable reflection token, e.g., [Relevant] in case of <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p4.4.1">Relevance</span> or [Fully Supported] in case of <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p4.4.2">Groundedness</span>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1"><span class="ltx_text ltx_font_typewriter" id="S3.SS2.p5.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S3.SS2.p5.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S3.SS2.p5.1.3">RAG</span> is thus capable of comprehending longer conversational contexts (for the various critic tasks) than <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p5.1.4">SELF-RAG</span> and also summarizing the conversational context that when used as a query can improve retrieval effectiveness. The framework is depicted
in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.F3" title="Figure 3 ‣ Summarising Conversational Context. ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Setup</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">We evaluate <span class="ltx_text ltx_font_typewriter" id="S4.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.p1.1.3">RAG</span> on three benchmarks: QReCC <cite class="ltx_cite ltx_citemacro_cite">Anantha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib3" title="">2020</a>)</cite>, UltraChat <cite class="ltx_cite ltx_citemacro_cite">Ding et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib9" title="">2023</a>)</cite> and MT-Eval <cite class="ltx_cite ltx_citemacro_cite">Kwan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib17" title="">2024</a>)</cite>.</p>
</div>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">QReCC</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px1.p1.1">contains conversational questions answers to which can be found within a collection of 10M web pages. Answers to questions in the same conversation may be distributed across several web pages. QReCC provides gold passage annotations which indicates the passage from where a question in a conversation can be answered from.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">UltraChat</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px2.p1.1">is traditionally used as supervised fine tuning (SFT) data for LLMs. It contains diverse and informative instructional conversations and covers a wide range of topics and instructions. While conversations in QReCC are knowledge-grounded and ideally RAG should be beneficial for every turn of the conversation, it is not so for UltraChat.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">MT-Eval</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px3.p1.1">is similar to UltraChat as it also contains diverse instructional conversations. It forms our out-of-domain evaluation benchmark as we use samples freom QReCC and UltraChat for training <span class="ltx_text ltx_font_typewriter" id="S4.SS0.SSS0.Px3.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.SS0.SSS0.Px3.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.SS0.SSS0.Px3.p1.1.3">RAG</span>. Additional details on the benchmarks are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A2" title="Appendix B Benchmark Statistics ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.8.9.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.1.1">
<span class="ltx_p" id="S4.T2.8.9.1.1.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.1.1.1.1">Dataset</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.2.1">
<span class="ltx_p" id="S4.T2.8.9.1.2.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.2.1.1.1">Model</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.3.1">
<span class="ltx_p" id="S4.T2.8.9.1.3.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.T2.8.9.1.3.1.1.1">Ret.<span class="ltx_text ltx_font_serif" id="S4.T2.8.9.1.3.1.1.1.1"> w/o P.</span></span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.4.1">
<span class="ltx_p" id="S4.T2.8.9.1.4.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.T2.8.9.1.4.1.1.1">Ret.<span class="ltx_text ltx_font_serif" id="S4.T2.8.9.1.4.1.1.1.1"> w P.</span></span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.5.1">
<span class="ltx_p" id="S4.T2.8.9.1.5.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.T2.8.9.1.5.1.1.1">3-way Ret.</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.6.1">
<span class="ltx_p" id="S4.T2.8.9.1.6.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.T2.8.9.1.6.1.1.1">Relevance</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.7.1">
<span class="ltx_p" id="S4.T2.8.9.1.7.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.T2.8.9.1.7.1.1.1">Groundedness</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.9.1.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.8.1">
<span class="ltx_p" id="S4.T2.8.9.1.8.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.T2.8.9.1.8.1.1.1">Utility</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1">
<td class="ltx_td ltx_align_top ltx_border_t" id="S4.T2.1.1.2"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.1.1">
<span class="ltx_p" id="S4.T2.1.1.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.1.1.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.1.1.1.1.1.1.1">o</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.3.1">
<span class="ltx_p" id="S4.T2.1.1.3.1.1" style="width:42.7pt;">0.58</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.4.1">
<span class="ltx_p" id="S4.T2.1.1.4.1.1" style="width:42.7pt;">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.5.1">
<span class="ltx_p" id="S4.T2.1.1.5.1.1" style="width:42.7pt;">0.52</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.6.1">
<span class="ltx_p" id="S4.T2.1.1.6.1.1" style="width:42.7pt;">0.66</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.7.1">
<span class="ltx_p" id="S4.T2.1.1.7.1.1" style="width:56.9pt;">0.58</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.1.1.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.1.1.8.1">
<span class="ltx_p" id="S4.T2.1.1.8.1.1" style="width:28.5pt;">0.69</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.2.1">
<span class="ltx_p" id="S4.T2.2.2.2.1.1" style="width:56.9pt;">STC</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.1.1">
<span class="ltx_p" id="S4.T2.2.2.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.2.2.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.2.2.1.1.1.1.1">s</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.3.1">
<span class="ltx_p" id="S4.T2.2.2.3.1.1" style="width:42.7pt;">0.47</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.4.1">
<span class="ltx_p" id="S4.T2.2.2.4.1.1" style="width:42.7pt;">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.5.1">
<span class="ltx_p" id="S4.T2.2.2.5.1.1" style="width:42.7pt;">0.53</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.6.1">
<span class="ltx_p" id="S4.T2.2.2.6.1.1" style="width:42.7pt;">0.43</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.7.1">
<span class="ltx_p" id="S4.T2.2.2.7.1.1" style="width:56.9pt;">0.58</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.8.1">
<span class="ltx_p" id="S4.T2.2.2.8.1.1" style="width:28.5pt;">0.62</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.2.1">
<span class="ltx_p" id="S4.T2.3.3.2.1.1" style="width:56.9pt;">single-turn</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.1.1">
<span class="ltx_p" id="S4.T2.3.3.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.3.3.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.3.3.1.1.1.1.1">m</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.3.1">
<span class="ltx_p" id="S4.T2.3.3.3.1.1" style="width:42.7pt;">0.50</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.4.1">
<span class="ltx_p" id="S4.T2.3.3.4.1.1" style="width:42.7pt;">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.5.1">
<span class="ltx_p" id="S4.T2.3.3.5.1.1" style="width:42.7pt;">0.52</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.6.1">
<span class="ltx_p" id="S4.T2.3.3.6.1.1" style="width:42.7pt;">0.62</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.7.1">
<span class="ltx_p" id="S4.T2.3.3.7.1.1" style="width:56.9pt;">0.40</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.8.1">
<span class="ltx_p" id="S4.T2.3.3.8.1.1" style="width:28.5pt;">0.68</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<td class="ltx_td ltx_align_top" id="S4.T2.4.4.2"></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.1.1">
<span class="ltx_p" id="S4.T2.4.4.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.4.4.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.4.4.1.1.1.1.1">sm</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.3.1">
<span class="ltx_p" id="S4.T2.4.4.3.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.4.4.3.1.1.1">0.84</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.4.1">
<span class="ltx_p" id="S4.T2.4.4.4.1.1" style="width:42.7pt;">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.5.1">
<span class="ltx_p" id="S4.T2.4.4.5.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.4.4.5.1.1.1">0.69</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.6.1">
<span class="ltx_p" id="S4.T2.4.4.6.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.4.4.6.1.1.1">0.78</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.7.1">
<span class="ltx_p" id="S4.T2.4.4.7.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.4.4.7.1.1.1">0.71</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.4.4.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.4.4.8.1">
<span class="ltx_p" id="S4.T2.4.4.8.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.4.4.8.1.1.1">0.75</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5">
<td class="ltx_td ltx_align_top ltx_border_t" id="S4.T2.5.5.2"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.1.1">
<span class="ltx_p" id="S4.T2.5.5.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.5.5.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.5.5.1.1.1.1.1">o</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.3.1">
<span class="ltx_p" id="S4.T2.5.5.3.1.1" style="width:42.7pt;">0.43</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.4.1">
<span class="ltx_p" id="S4.T2.5.5.4.1.1" style="width:42.7pt;">0.51</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.5.1">
<span class="ltx_p" id="S4.T2.5.5.5.1.1" style="width:42.7pt;">0.28</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.6.1">
<span class="ltx_p" id="S4.T2.5.5.6.1.1" style="width:42.7pt;">0.61</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.7.1">
<span class="ltx_p" id="S4.T2.5.5.7.1.1" style="width:56.9pt;">0.35</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.5.5.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.8.1">
<span class="ltx_p" id="S4.T2.5.5.8.1.1" style="width:28.5pt;">0.46</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.2.1">
<span class="ltx_p" id="S4.T2.6.6.2.1.1" style="width:56.9pt;">QU-MTC:</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.1.1">
<span class="ltx_p" id="S4.T2.6.6.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.6.6.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.6.6.1.1.1.1.1">s</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.3.1">
<span class="ltx_p" id="S4.T2.6.6.3.1.1" style="width:42.7pt;">0.68</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.4.1">
<span class="ltx_p" id="S4.T2.6.6.4.1.1" style="width:42.7pt;">0.28</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.5.1">
<span class="ltx_p" id="S4.T2.6.6.5.1.1" style="width:42.7pt;">0.62</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.6.1">
<span class="ltx_p" id="S4.T2.6.6.6.1.1" style="width:42.7pt;">0.72</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.7.1">
<span class="ltx_p" id="S4.T2.6.6.7.1.1" style="width:56.9pt;">0.55</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.8.1">
<span class="ltx_p" id="S4.T2.6.6.8.1.1" style="width:28.5pt;">0.45</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.2.1">
<span class="ltx_p" id="S4.T2.7.7.2.1.1" style="width:56.9pt;">multi-turn</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.1.1">
<span class="ltx_p" id="S4.T2.7.7.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.7.7.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.7.7.1.1.1.1.1">m</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.3.1">
<span class="ltx_p" id="S4.T2.7.7.3.1.1" style="width:42.7pt;">0.76</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.4.1">
<span class="ltx_p" id="S4.T2.7.7.4.1.1" style="width:42.7pt;">0.58</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.5.1">
<span class="ltx_p" id="S4.T2.7.7.5.1.1" style="width:42.7pt;">0.48</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.6.1">
<span class="ltx_p" id="S4.T2.7.7.6.1.1" style="width:42.7pt;">0.75</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.7.1">
<span class="ltx_p" id="S4.T2.7.7.7.1.1" style="width:56.9pt;">0.58</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.8.1">
<span class="ltx_p" id="S4.T2.7.7.8.1.1" style="width:28.5pt;">0.79</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8">
<td class="ltx_td ltx_align_top ltx_border_bb" id="S4.T2.8.8.2"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.1.1">
<span class="ltx_p" id="S4.T2.8.8.1.1.1" style="width:42.7pt;">Critic<sub class="ltx_sub" id="S4.T2.8.8.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.8.8.1.1.1.1.1">sm</span></sub></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.3">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.3.1">
<span class="ltx_p" id="S4.T2.8.8.3.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.3.1.1.1">0.83</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.4">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.4.1">
<span class="ltx_p" id="S4.T2.8.8.4.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.4.1.1.1">0.77</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.5.1">
<span class="ltx_p" id="S4.T2.8.8.5.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.5.1.1.1">0.63</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.6.1">
<span class="ltx_p" id="S4.T2.8.8.6.1.1" style="width:42.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.6.1.1.1">0.77</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.7.1">
<span class="ltx_p" id="S4.T2.8.8.7.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.7.1.1.1">0.61</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.8.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.8.1">
<span class="ltx_p" id="S4.T2.8.8.8.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.8.1.1.1">0.80</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Critic performance on self-reflection tasks on the test splits of each dataset. We report classification accuracy of predicting the correct special tokens for each task as outlined in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.T1" title="Table 1 ‣ Critic. ‣ 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">1</span></a>. For the <span class="ltx_text ltx_font_typewriter" id="S4.T2.12.1">Retrieval</span> task, we evaluate critic accuracy, either with passages in the conversation history (<span class="ltx_text ltx_font_typewriter" id="S4.T2.13.2">Ret.</span> w P.) or without (<span class="ltx_text ltx_font_typewriter" id="S4.T2.14.3">Ret.</span> w/o P.).</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Training Data</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">The training data for our critic and generator models are sampled from QReCC and UltraChat. We employ GPT-4 to collect the labels for training data for critic model. The prompt for collecting GPT-4 labels are provided in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1" title="Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">A</span></a>. We denote this training data as QReCC-UltraChat Multi-turn Critic Data (QU-MTC), details of which are provided in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.T1" title="Table 1 ‣ Critic. ‣ 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">1</span></a>.
Furthermore, we also create a single-turn variant (QU-STC) by flattening the conversation history to a single-turn using a T5 based query rewriter T5QR <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib19" title="">2020</a>)</cite>. Thus QU-MTC and QU-STC come from the same data distribution, with the difference being the representation of the conversation history. Lastly, we also use the <span class="ltx_text ltx_font_italic" id="S4.SS1.p1.1.1">original</span> single-turn critic training dataset, STC, released by <cite class="ltx_cite ltx_citemacro_citet">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">We employ our trained critic models to create training data for the generator using samples from QReCC and UltraChat (different from those sampled for training the critic), referred to as QReCC UltraChat Multi-turn Generator Data, QU-MTG. As in the case of the critic, we create a single-turn variant of the data, QU-STG, by rewriting the conversation history to a single-turn. Lastly, we sample data from both datasets to create the Conversation Summarization Data (CSD) where we prompt GPT-4 to generate ground truth summaries of <math alttext="\sim" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1"><semantics id="S4.SS1.p2.1.m1.1a"><mo id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><csymbol cd="latexml" id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.1.m1.1d">∼</annotation></semantics></math>5000 conversations.<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>The prompt for GPT-4 summary collection is provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1" title="Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">A</span></a>.</span></span></span></p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Models</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.3">We train our own critic models from scratch using <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.3.1">mistralai/Mistral-7B-Instruct-v0.2</span> as initial checkpoint. The different versions of critic models are outlined in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T3" title="Table 3 ‣ 4.2 Models ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">3</span></a>. Critic<sub class="ltx_sub" id="S4.SS2.p1.3.2"><span class="ltx_text ltx_font_italic" id="S4.SS2.p1.3.2.1">o</span></sub> is equivalent to the original critic model trained by <cite class="ltx_cite ltx_citemacro_citet">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite> that is sampled from a number of single-turn benchmarks. However, to understand the impact of training in the conversational setting, Critic<sub class="ltx_sub" id="S4.SS2.p1.3.3"><span class="ltx_text ltx_font_italic" id="S4.SS2.p1.3.3.1">sm</span></sub> must be compared with Critic<sub class="ltx_sub" id="S4.SS2.p1.3.4"><span class="ltx_text ltx_font_italic" id="S4.SS2.p1.3.4.1">s</span></sub> as they are trained on the same data distribution.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T3.9">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.9.10.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T3.9.10.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.9.10.1.1.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.9.10.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.9.10.1.2.1">Critic</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T3.9.10.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.9.10.1.3.1">Training Data</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.1">Critic<sub class="ltx_sub" id="S4.T3.1.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.T3.1.1.1.1.1">o</span></sub>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2">-</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.3">STC</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2">
<td class="ltx_td ltx_align_left" id="S4.T3.2.2.1">Critic<sub class="ltx_sub" id="S4.T3.2.2.1.1"><span class="ltx_text ltx_font_italic" id="S4.T3.2.2.1.1.1">s</span></sub>
</td>
<td class="ltx_td ltx_align_center" id="S4.T3.2.2.2">-</td>
<td class="ltx_td ltx_align_left" id="S4.T3.2.2.3">STC + QU-STC</td>
</tr>
<tr class="ltx_tr" id="S4.T3.3.3">
<td class="ltx_td ltx_align_left" id="S4.T3.3.3.1">Critic<sub class="ltx_sub" id="S4.T3.3.3.1.1"><span class="ltx_text ltx_font_italic" id="S4.T3.3.3.1.1.1">m</span></sub>
</td>
<td class="ltx_td ltx_align_center" id="S4.T3.3.3.2">-</td>
<td class="ltx_td ltx_align_left" id="S4.T3.3.3.3">QU-MTC</td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.4">
<td class="ltx_td ltx_align_left" id="S4.T3.4.4.1">Critic<sub class="ltx_sub" id="S4.T3.4.4.1.1"><span class="ltx_text ltx_font_italic" id="S4.T3.4.4.1.1.1">sm</span></sub>
</td>
<td class="ltx_td ltx_align_center" id="S4.T3.4.4.2">-</td>
<td class="ltx_td ltx_align_left" id="S4.T3.4.4.3">STC + QU-MTC</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.5.5.1"><span class="ltx_text ltx_font_typewriter" id="S4.T3.5.5.1.1">SELF-RAG<sub class="ltx_sub" id="S4.T3.5.5.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S4.T3.5.5.1.1.1.1">s</span></sub></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.6.6.2">Critic<sub class="ltx_sub" id="S4.T3.6.6.2.1"><span class="ltx_text ltx_font_italic" id="S4.T3.6.6.2.1.1">s</span></sub>
</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.6.6.3">QU-STG</td>
</tr>
<tr class="ltx_tr" id="S4.T3.8.8">
<td class="ltx_td ltx_align_left" id="S4.T3.7.7.1"><span class="ltx_text ltx_font_typewriter" id="S4.T3.7.7.1.1">SELF-RAG<sub class="ltx_sub" id="S4.T3.7.7.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S4.T3.7.7.1.1.1.1">sm</span></sub></span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.8.8.2">Critic<sub class="ltx_sub" id="S4.T3.8.8.2.1"><span class="ltx_text ltx_font_italic" id="S4.T3.8.8.2.1.1">sm</span></sub>
</td>
<td class="ltx_td ltx_align_left" id="S4.T3.8.8.3">QU-MTG</td>
</tr>
<tr class="ltx_tr" id="S4.T3.9.9">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T3.9.9.2">
<span class="ltx_text ltx_font_typewriter" id="S4.T3.9.9.2.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.T3.9.9.2.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.T3.9.9.2.3">RAG</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.9.9.1">Critic<sub class="ltx_sub" id="S4.T3.9.9.1.1"><span class="ltx_text ltx_font_italic" id="S4.T3.9.9.1.1.1">sm</span></sub>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T3.9.9.3">QU-MTG + CSD</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Configurations explored as training data for our approaches; ST = single-turn; MT = multi-turn; C = Critic, G = Generator. CSD refers to the conversation summarization dataset.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">We also train our generator model from the <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.1.1">mistralai/Mistral-7B-Instruct-v0.2</span> checkpoint. The different versions of generator models, that we use to compare the performance of <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.SS2.p2.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.1.4">RAG</span> with, are also outlined in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T3" title="Table 3 ‣ 4.2 Models ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">3</span></a>.
Henceforth, we use <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.1.5">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.SS2.p2.1.6">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.1.7">RAG</span> to refer to the final model that is trained end-to-end on single-turn, multi-turn conversation data and also trained to summarise conversational context and compare its performance against the other generator models.</p>
</div>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="159" id="S4.F4.g1" src="extracted/5874371/plots/QU_plot.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>(a) Relation between retrieval calls and number of turns considered in QReCC and UltraChat. (b) Answer quality measured by BERTScore for different turn configurations.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.16">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.2.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.3.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.4.1">GPT4</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.5.1">BERT</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.6"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.6.1">Coherence</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.1">Groundness<sup class="ltx_sup" id="S4.T4.1.1.1.1.1"><span class="ltx_text ltx_font_medium" id="S4.T4.1.1.1.1.1.1">∗</span></sup></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.7"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.7.1">Human</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.2.2" rowspan="4"><span class="ltx_text" id="S4.T4.2.2.2.1">QReCC</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.2.2.1.1">Mistral-7B-Instruct-v0.2<sup class="ltx_sup" id="S4.T4.2.2.1.1.2"><span class="ltx_text ltx_font_serif" id="S4.T4.2.2.1.1.2.1">-</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.3">2.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.4">0.75</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.5"><span class="ltx_text ltx_font_bold" id="S4.T4.2.2.5.1">0.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.6">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.7">4.08</td>
</tr>
<tr class="ltx_tr" id="S4.T4.3.3">
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.3.3.1.1">SELF-RAG<sup class="ltx_sup" id="S4.T4.3.3.1.1.2"><span class="ltx_text ltx_font_serif" id="S4.T4.3.3.1.1.2.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.2">1.60</td>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.3">0.74</td>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.4">0.90</td>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.5">0.77</td>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.6">3.50</td>
</tr>
<tr class="ltx_tr" id="S4.T4.5.5">
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.2"><span class="ltx_text ltx_font_typewriter" id="S4.T4.5.5.2.2">SELF-RAG<sub class="ltx_sub" id="S4.T4.5.5.2.2.3"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S4.T4.5.5.2.2.3.1">s</span></sub><sup class="ltx_sup" id="S4.T4.5.5.2.2.4"><span class="ltx_text ltx_font_serif" id="S4.T4.5.5.2.2.4.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.3">1.51</td>
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.4">0.75</td>
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.5">0.96</td>
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.6">0.78</td>
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.7">3.71</td>
</tr>
<tr class="ltx_tr" id="S4.T4.6.6">
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.1"><span class="ltx_text" id="S4.T4.6.6.1.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.6.6.1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.T4.6.6.1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.T4.6.6.1.1.1">RAG<sup class="ltx_sup" id="S4.T4.6.6.1.1.1.1"><span class="ltx_text ltx_font_serif" id="S4.T4.6.6.1.1.1.1.1">†</span></sup></span></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.2"><span class="ltx_text ltx_font_bold" id="S4.T4.6.6.2.1">4.15</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.3"><span class="ltx_text ltx_font_bold" id="S4.T4.6.6.3.1">0.80</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.4">0.97</td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.5"><span class="ltx_text ltx_font_bold" id="S4.T4.6.6.5.1">0.87</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.6"><span class="ltx_text ltx_font_bold" id="S4.T4.6.6.6.1">4.20</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.7.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.7.7.2" rowspan="4"><span class="ltx_text" id="S4.T4.7.7.2.1">UltraChat</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.7.7.1.1">Mistral-7B-Instruct-v0.2<sup class="ltx_sup" id="S4.T4.7.7.1.1.2"><span class="ltx_text ltx_font_serif" id="S4.T4.7.7.1.1.2.1">-</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.3">1.71</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.4">0.75</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.5">0.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.6">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.7">3.95</td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.8">
<td class="ltx_td ltx_align_center" id="S4.T4.8.8.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.8.8.1.1">SELF-RAG<sup class="ltx_sup" id="S4.T4.8.8.1.1.2"><span class="ltx_text ltx_font_serif" id="S4.T4.8.8.1.1.2.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.8.2">1.57</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.8.3">0.74</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.8.4">0.95</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.8.5">0.89</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.8.6">4.00</td>
</tr>
<tr class="ltx_tr" id="S4.T4.10.10">
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.2"><span class="ltx_text ltx_font_typewriter" id="S4.T4.10.10.2.2">SELF-RAG<sub class="ltx_sub" id="S4.T4.10.10.2.2.3"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S4.T4.10.10.2.2.3.1">s</span></sub><sup class="ltx_sup" id="S4.T4.10.10.2.2.4"><span class="ltx_text ltx_font_serif" id="S4.T4.10.10.2.2.4.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.3">1.45</td>
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.4">0.75</td>
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.5">0.98</td>
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.6">0.95</td>
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.7">4.05</td>
</tr>
<tr class="ltx_tr" id="S4.T4.11.11">
<td class="ltx_td ltx_align_center" id="S4.T4.11.11.1"><span class="ltx_text" id="S4.T4.11.11.1.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.11.11.1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.T4.11.11.1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.T4.11.11.1.1.1">RAG<sup class="ltx_sup" id="S4.T4.11.11.1.1.1.1"><span class="ltx_text ltx_font_serif" id="S4.T4.11.11.1.1.1.1.1">†</span></sup></span></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.11.11.2">2.70</td>
<td class="ltx_td ltx_align_center" id="S4.T4.11.11.3"><span class="ltx_text ltx_font_bold" id="S4.T4.11.11.3.1">0.78</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.11.11.4">0.99</td>
<td class="ltx_td ltx_align_center" id="S4.T4.11.11.5"><span class="ltx_text ltx_font_bold" id="S4.T4.11.11.5.1">0.99</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.11.11.6"><span class="ltx_text ltx_font_bold" id="S4.T4.11.11.6.1">4.46</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.12.12">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S4.T4.12.12.2" rowspan="4"><span class="ltx_text" id="S4.T4.12.12.2.1">MT-Eval</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.12.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.12.12.1.1">Mistral-7B-Instruct-v0.2<sup class="ltx_sup" id="S4.T4.12.12.1.1.2"><span class="ltx_text ltx_font_serif" id="S4.T4.12.12.1.1.2.1">-</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.12.3">2.04</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.12.4">0.62</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.12.5">0.92</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.12.6">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.12.7">3.49</td>
</tr>
<tr class="ltx_tr" id="S4.T4.13.13">
<td class="ltx_td ltx_align_center" id="S4.T4.13.13.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.13.13.1.1">SELF-RAG<sup class="ltx_sup" id="S4.T4.13.13.1.1.2"><span class="ltx_text ltx_font_serif" id="S4.T4.13.13.1.1.2.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.13.13.2">1.50</td>
<td class="ltx_td ltx_align_center" id="S4.T4.13.13.3">0.71</td>
<td class="ltx_td ltx_align_center" id="S4.T4.13.13.4">0.94</td>
<td class="ltx_td ltx_align_center" id="S4.T4.13.13.5">0.82</td>
<td class="ltx_td ltx_align_center" id="S4.T4.13.13.6">3.84</td>
</tr>
<tr class="ltx_tr" id="S4.T4.15.15">
<td class="ltx_td ltx_align_center" id="S4.T4.15.15.2"><span class="ltx_text ltx_font_typewriter" id="S4.T4.15.15.2.2">SELF-RAG<sub class="ltx_sub" id="S4.T4.15.15.2.2.3"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S4.T4.15.15.2.2.3.1">s</span></sub><sup class="ltx_sup" id="S4.T4.15.15.2.2.4"><span class="ltx_text ltx_font_serif" id="S4.T4.15.15.2.2.4.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.15.15.3">1.20</td>
<td class="ltx_td ltx_align_center" id="S4.T4.15.15.4">0.72</td>
<td class="ltx_td ltx_align_center" id="S4.T4.15.15.5">0.95</td>
<td class="ltx_td ltx_align_center" id="S4.T4.15.15.6">0.80</td>
<td class="ltx_td ltx_align_center" id="S4.T4.15.15.7">4.01</td>
</tr>
<tr class="ltx_tr" id="S4.T4.16.16">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.16.16.1"><span class="ltx_text" id="S4.T4.16.16.1.1"><span class="ltx_text ltx_font_typewriter" id="S4.T4.16.16.1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S4.T4.16.16.1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S4.T4.16.16.1.1.1">RAG<sup class="ltx_sup" id="S4.T4.16.16.1.1.1.1"><span class="ltx_text ltx_font_serif" id="S4.T4.16.16.1.1.1.1.1">†</span></sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.16.16.2"><span class="ltx_text ltx_font_bold" id="S4.T4.16.16.2.1">3.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.16.16.3"><span class="ltx_text ltx_font_bold" id="S4.T4.16.16.3.1">0.74</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.16.16.4"><span class="ltx_text ltx_font_bold" id="S4.T4.16.16.4.1">0.96</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.16.16.5"><span class="ltx_text ltx_font_bold" id="S4.T4.16.16.5.1">0.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.16.16.6"><span class="ltx_text ltx_font_bold" id="S4.T4.16.16.6.1">4.23</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Performance of response generation models on the three dataset. QR = rewritten conversation history as context; FC = full conversation history as context. <sup class="ltx_sup" id="S4.T4.26.1">†</sup> indicates adaptive retrieval; <sup class="ltx_sup" id="S4.T4.27.2">-</sup> indicates no retrieval. <sup class="ltx_sup" id="S4.T4.28.3">∗</sup> We measure groundness with retrieved documents only for the cases when the model decides to call retrieval.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Evaluation</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">We first evaluate critic performance on the self-reflection tasks by calculating the accuracy of the predicted tokens described in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S3.T1" title="Table 1 ‣ Critic. ‣ 3.1 Components ‣ 3 SELF-multi-RAG ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">1</span></a>. We use held out test split of STC and QU-MTC for evaluating critic. To measure the quality of the responses of the generator models, we employ both automatic metrics and human annotations. We collect GPT-4 and human evaluation scores that rate the responses generated by the models on a scale of 1-5 that includes different dimensions such coherence, understandability, and overall quality. The prompt for GPT-4 evaluation is provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A4" title="Appendix D GPT-4 Evaluation Form ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">D</span></a>. We employ BERTScore <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib37" title="">2019</a>)</cite> to measure similarity of generated response with ground truth response. To measure coherence of response given the conversation history and grounding of response given retrieved documents, we employ UniEval <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib38" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">We employ Amazon Mechanical Turk for human evaluation of generated responses. Crowd-workers annotate the quality of the generated responses on a scale of 1 to 5 on the dimensions of coherence, engagingness, and understandability. We collect scores from 3 annotators and aggregate the score using majority voting for each of those dimensions. The overall score is the average of the scores across the three dimensions. In order to ensure high-quality human judgment, we use several mitigation strategies such as simplified task setups, clear annotation guidelines, and time checks to exclude potential spammers. Further details of the human annotation guidelines and disaggregated scores are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A5" title="Appendix E Mechanical Turk Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results</h2>
<section class="ltx_paragraph" id="S5.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Critic Performance.</h4>
<div class="ltx_para" id="S5.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p1.2">Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T2" title="Table 2 ‣ MT-Eval ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">2</span></a> shows that the critic model trained on both single and multi-turn data Critic<sub class="ltx_sub" id="S5.SS0.SSS0.Px1.p1.2.1"><span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px1.p1.2.1.1">sm</span></sub> has overall the best accuracy (generating <span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px1.p1.2.2">correct</span> reflection tokens) on the critic tasks (based on GPT 4 labels), even improving in the single-turn setting. This suggests that Critic<sub class="ltx_sub" id="S5.SS0.SSS0.Px1.p1.2.3"><span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px1.p1.2.3.1">sm</span></sub> is better at handling longer context of conversations while judging whether retrieval is needed or not, judging relevance of retrieved passages, and utility of an answer.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Response Generation.</h4>
<div class="ltx_para" id="S5.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S5.SS0.SSS0.Px2.p1.5">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T4" title="Table 4 ‣ 4.2 Models ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">4</span></a>, <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.4">RAG</span>, trained on data created by Critic<sub class="ltx_sub" id="S5.SS0.SSS0.Px2.p1.5.5"><span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.5.1">sm</span></sub>, leads to improvement on all conversational benchmarks according to the evaluation metrics. Comparing its performance with <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.2.1">SELF-RAG<sub class="ltx_sub" id="S5.SS0.SSS0.Px2.p1.2.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.2.1.1.1">s</span></sub></span>, that has been trained on data from the same dataset but using single-turn contexts, <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.6">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.7">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.8">RAG</span> performs better in comprehending the conversational context. The decision of whether retrieval is required is more accurate for <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.9">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.10">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.11">RAG</span> as compared to the baselines. As evidence, we see Critic<sub class="ltx_sub" id="S5.SS0.SSS0.Px2.p1.5.12"><span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.12.1">sm</span></sub> has higher accuracy on retrieval tasks (both with and without passages included in the conversation history) than Critic<sub class="ltx_sub" id="S5.SS0.SSS0.Px2.p1.5.13"><span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.13.1">s</span></sub>. Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.F4" title="Figure 4 ‣ 4.2 Models ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">4</span></a> shows that <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.14">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.15">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.16">RAG</span> decides to call retrieval <math alttext="\sim 100" class="ltx_Math" display="inline" id="S5.SS0.SSS0.Px2.p1.5.m4.1"><semantics id="S5.SS0.SSS0.Px2.p1.5.m4.1a"><mrow id="S5.SS0.SSS0.Px2.p1.5.m4.1.1" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.cmml"><mi id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.2" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.2.cmml"></mi><mo id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.1" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.1.cmml">∼</mo><mn id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.3" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px2.p1.5.m4.1b"><apply id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.cmml" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1"><csymbol cd="latexml" id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.1.cmml" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.2.cmml" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.2">absent</csymbol><cn id="S5.SS0.SSS0.Px2.p1.5.m4.1.1.3.cmml" type="integer" xref="S5.SS0.SSS0.Px2.p1.5.m4.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px2.p1.5.m4.1c">\sim 100</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px2.p1.5.m4.1d">∼ 100</annotation></semantics></math>% of time for QReCC, however not so for UltraChat. This is the expected behaviour as conversations in QReCC are mostly knowledge grounded, whereas in UltraChat there are more instructional conversations that not always require retrieved knowledge. This suggests that the decision to call retrieval or not is indeed important for conversational QA and adapting the model to better handle conversational context is beneficial. Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.F4" title="Figure 4 ‣ 4.2 Models ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">4</span></a> further shows that <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.17">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.18">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.19">RAG</span> generated responses are better at all turns (upto 6) of the conversations further providing evidence to its ability to understand long conversational context. Some of the cases where <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.20">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.21">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.22">RAG</span> called retrieval and could not provide a satisfactory answer is typically the cases where it could not find relevant answers within the retrieved documents. Groundedness of the generated response to the conversational context and retrieved passages, as measured using UniEval, is also higher for <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.23">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.24">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.25">RAG</span> as compared to its single-turn counterparts. Lastly, we see <span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.26">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS0.SSS0.Px2.p1.5.27">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS0.SSS0.Px2.p1.5.28">RAG</span> perform the best on MT-Eval, indicating strong performance on held-out conversational benchmarks.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Summarizing Conversations</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Since QReCC provides ground truth labels of relevant passages (to a conversational context), we use it to evaluate retrieval effectiveness of different representations of the conversational context. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.T5" title="Table 5 ‣ 5.1 Summarizing Conversations ‣ 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">5</span></a> shows that summaries generated by our approach perform better than rewrites in the form of single-questions (using T5QR) in case of both sparse and dense retrievals. This is in line with research that show expanding queries and documents help in improving retrieval effectiveness <cite class="ltx_cite ltx_citemacro_cite">Ayoub et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib5" title="">2024</a>); Mackie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib21" title="">2023</a>); Nogueira et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib26" title="">2019</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">To better understand observed superior performance of <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS1.p2.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.3">RAG</span> as compared to its other variants, we perform ablations to narrow down the causes of gain. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S5.T6" title="Table 6 ‣ 5.2 Handling Previous-turn Retrieved Passages ‣ 5 Results ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">6</span></a> reports the performance of different conversation history representations as query to retrieve relevant passages. Note that when we use the <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS1.p2.1.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.6">RAG</span> generated summary as a query to the retrieval model, the response generation is the best for both datasets. Other forms of conversation context as query representations (e.g., T5QR) have lower performance. Overall, <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.7">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS1.p2.1.8">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.9">RAG</span> improves in two directions, (i) it generates summaries as query with better retrieval effectiveness, and (ii) enhances response generation quality taking into account more suitable retrieval knowledge and conversational context.</p>
</div>
<figure class="ltx_table" id="S5.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T5.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T5.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.1.1">Retrieval</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.2.1">Conv. representation</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.3.1">R@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.4.1">R@10</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T5.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T5.1.2.1.1" rowspan="4"><span class="ltx_text" id="S5.T5.1.2.1.1.1">BM25</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.2.1.2">Full conv.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.2.1.3">0.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.2.1.4">0.58</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.3.2">
<td class="ltx_td ltx_align_center" id="S5.T5.1.3.2.1">Gold Rewrite</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.3.2.2">0.50</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.3.2.3">0.61</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.4.3">
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.3.1">T5QR Rewrite</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.3.2">0.45</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.3.3">0.55</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.5.4">
<td class="ltx_td ltx_align_center" id="S5.T5.1.5.4.1">
<span class="ltx_text ltx_font_typewriter" id="S5.T5.1.5.4.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T5.1.5.4.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T5.1.5.4.1.3">RAG</span> Summary</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.5.4.2">0.56</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.5.4.3">0.66</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.6.5">
<th class="ltx_td ltx_th ltx_th_row" id="S5.T5.1.6.5.1"></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.6.5.2">GPT4 Summary</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.6.5.3"><span class="ltx_text ltx_font_bold" id="S5.T5.1.6.5.3.1">0.60</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.6.5.4"><span class="ltx_text ltx_font_bold" id="S5.T5.1.6.5.4.1">0.70</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.7.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T5.1.7.6.1" rowspan="4"><span class="ltx_text" id="S5.T5.1.7.6.1.1">Contriever</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.7.6.2">Full conv.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.7.6.3">0.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.7.6.4">0.61</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.8.7">
<td class="ltx_td ltx_align_center" id="S5.T5.1.8.7.1">Gold Rewrite</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.8.7.2">0.58</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.8.7.3">0.69</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.9.8">
<td class="ltx_td ltx_align_center" id="S5.T5.1.9.8.1">T5QR Rewrite</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.9.8.2">0.53</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.9.8.3">0.64</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.10.9">
<td class="ltx_td ltx_align_center" id="S5.T5.1.10.9.1">
<span class="ltx_text ltx_font_typewriter" id="S5.T5.1.10.9.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T5.1.10.9.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T5.1.10.9.1.3">RAG</span> Summary</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.10.9.2">0.61</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.10.9.3">0.71</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.11.10">
<th class="ltx_td ltx_th ltx_th_row ltx_border_bb" id="S5.T5.1.11.10.1"></th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T5.1.11.10.2">GPT4 Summary</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T5.1.11.10.3"><span class="ltx_text ltx_font_bold" id="S5.T5.1.11.10.3.1">0.62</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T5.1.11.10.4"><span class="ltx_text ltx_font_bold" id="S5.T5.1.11.10.4.1">0.72</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Retrieval effectiveness of different conversational context representation. GPT-4 summaries are the ground truth summaries that we collect for training <span class="ltx_text ltx_font_typewriter" id="S5.T5.5.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T5.6.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T5.7.3">RAG</span> for the summarization task.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Handling Previous-turn Retrieved Passages</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.2">Returning to Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T2" title="Table 2 ‣ MT-Eval ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">2</span></a>, we also explore the value of previously retrieved passages into the context history of the input for the critic model in the <span class="ltx_text ltx_font_typewriter" id="S5.SS2.p1.2.1">Retrieval</span> critic task. We evaluate critic accuracy, either with previous retrieved passages in the conversation history (<span class="ltx_text ltx_font_typewriter" id="S5.SS2.p1.2.2">Ret.</span> w P.) or without (<span class="ltx_text ltx_font_typewriter" id="S5.SS2.p1.2.3">Ret.</span> w/o P.). For QReCC, we include ground truth passages of previous turn in the context. For UltraChat, we sample instances where passages are present as part of a question in a conversation. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S4.T2" title="Table 2 ‣ MT-Eval ‣ 4 Experimental Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">2</span></a>, Critic<sub class="ltx_sub" id="S5.SS2.p1.2.4"><span class="ltx_text ltx_font_italic" id="S5.SS2.p1.2.4.1">sm</span></sub> performs the best in <span class="ltx_text ltx_font_typewriter" id="S5.SS2.p1.2.5">Ret.</span> w P., where the model has to judge whether retrieval is needed or not given both the conversation history and passages retrieved in previous turn. This indicates superior ability of Critic<sub class="ltx_sub" id="S5.SS2.p1.2.6"><span class="ltx_text ltx_font_italic" id="S5.SS2.p1.2.6.1">sm</span></sub> to comprehend not only the conversation history but also previously retrieved passages to deem the necessity of retrieval in a multi-turn setting. Overall, the critic models have lower performance in this task compared to the <span class="ltx_text ltx_font_italic" id="S5.SS2.p1.2.7">Retrieval without passages</span> (<span class="ltx_text ltx_font_typewriter" id="S5.SS2.p1.2.8">Ret.</span> w/o P.) indicating the increased difficulty of the task.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#S6.T7" title="Table 7 ‣ 6 Conclusion ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">7</span></a> compares response generation performance with and without retrieved passages from previous turns are included in the input together with the conversation history. We observe that <span class="ltx_text ltx_font_typewriter" id="S5.SS2.p2.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.SS2.p2.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.SS2.p2.1.3">RAG</span> not only (correctly) decides to call retrieval less number of times, as compared to its single-turn baseline, but is also better at generating responses when the conversation context is composed of both the dialogue and previously retrieved passages indicating its ability to comprehend more complex contexts. Moreover, either configuration (<span class="ltx_text ltx_font_typewriter" id="S5.SS2.p2.1.4">Ret.</span> w P., <span class="ltx_text ltx_font_typewriter" id="S5.SS2.p2.1.5">Ret.</span> w/o P.) can be chosen based on the desired balance between efficiency and accuracy; <span class="ltx_text ltx_font_typewriter" id="S5.SS2.p2.1.6">Ret.</span> w/o P. is useful when performance is prioritized over efficiency, whereas <span class="ltx_text ltx_font_typewriter" id="S5.SS2.p2.1.7">Ret.</span> w/o P. is suitable when efficiency is crucial and a slight reduction in performance is acceptable. We present examples when passages are included in the context in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A6" title="Appendix F Examples of Generated Responses ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">F</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T6.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T6.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T6.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T6.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.2.1">Conv. Representation</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T6.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.3.1">GPT4</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T6.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.4.1">BERT</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T6.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T6.1.2.1.1" rowspan="3"><span class="ltx_text" id="S5.T6.1.2.1.1.1">QReCC</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T6.1.2.1.2">Full</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.1.3">3.75</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.1.4">0.786</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S5.T6.1.3.2.1">T5QR</th>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.2.2">3.52</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.2.3">0.782</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S5.T6.1.4.3.1">
<span class="ltx_text ltx_font_typewriter" id="S5.T6.1.4.3.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T6.1.4.3.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T6.1.4.3.1.3">RAG</span> summ.</th>
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.3.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.4.3.2.1">4.15</span></td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.4.3.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.4.3.3.1">0.808</span></td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.5.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T6.1.5.4.1" rowspan="3"><span class="ltx_text" id="S5.T6.1.5.4.1.1">UltraChat</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T6.1.5.4.2">Full</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.5.4.3">2.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.5.4.4">0.756</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.6.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S5.T6.1.6.5.1">T5QR</th>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.5.2">2.12</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.5.3">0.751</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.7.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S5.T6.1.7.6.1">
<span class="ltx_text ltx_font_typewriter" id="S5.T6.1.7.6.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T6.1.7.6.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T6.1.7.6.1.3">RAG</span> summ.</th>
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.6.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.6.2.1">2.70</span></td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.7.6.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.6.3.1">0.780</span></td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.8.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S5.T6.1.8.7.1" rowspan="3"><span class="ltx_text" id="S5.T6.1.8.7.1.1">MT-Eval</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S5.T6.1.8.7.2">Full</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.8.7.3">2.65</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.8.7.4">0.720</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.9.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S5.T6.1.9.8.1">T5QR</th>
<td class="ltx_td ltx_align_center" id="S5.T6.1.9.8.2">2.52</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.9.8.3">0.712</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.10.9">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S5.T6.1.10.9.1">
<span class="ltx_text ltx_font_typewriter" id="S5.T6.1.10.9.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T6.1.10.9.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T6.1.10.9.1.3">RAG</span> summ.</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.9.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.10.9.2.1">3.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T6.1.10.9.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.10.9.3.1">0.743</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Response generation quality of <span class="ltx_text ltx_font_typewriter" id="S5.T6.5.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S5.T6.6.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S5.T6.7.3">RAG</span> with different conversation history representations as query to retrieve relevant passages.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this work, we propose <span class="ltx_text ltx_font_typewriter" id="S6.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.p1.1.3">RAG</span>, a framework to train LLMs to learn when to retrieve and generate response for better conversational QA. We perform extensive evaluation on three conversational QA benchmarks and demonstrated improved performance over previous approaches. This is achieved by overcoming the previous limitations to accurately critic when to retrieve or whether the retrieved documents are relevant or the usefulness of generated response given a multi-turn dialogue. <span class="ltx_text ltx_font_typewriter" id="S6.p1.1.4">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.p1.1.5">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.p1.1.6">RAG</span> is better at comprehending the longer contexts of multi-turn conversations resulting in better critic and consequently generator performances. Finally, we observe that summaries of conversational history generated by <span class="ltx_text ltx_font_typewriter" id="S6.p1.1.7">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.p1.1.8">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.p1.1.9">RAG</span>, increase retrieval effectiveness when used as query to retrieve passages and consequently leads to improved response generation. As future work, we would like to (i) consider longer and multi-threaded conversations, (ii) including diversity as a metric while considering passages for response generation.</p>
</div>
<figure class="ltx_table" id="S6.T7">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T7.6" style="width:433.6pt;height:316.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(56.7pt,-41.5pt) scale(1.35435519704256,1.35435519704256) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T7.6.6">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T7.6.6.7.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S6.T7.6.6.7.1.1"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.7.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S6.T7.6.6.7.1.2"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.7.1.2.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T7.6.6.7.1.3"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.7.1.3.1">Ret.?</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T7.6.6.7.1.4"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.7.1.4.1">Groundness</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T7.6.6.7.1.5"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.7.1.5.1">BERT</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T7.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S6.T7.1.1.1.2" rowspan="4"><span class="ltx_text" id="S6.T7.1.1.1.2.1">QReCC</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S6.T7.1.1.1.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.1.1.1.1.1">SELF-RAG<sub class="ltx_sub" id="S6.T7.1.1.1.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S6.T7.1.1.1.1.1.1.1">s</span></sub></span> w/o P.</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.1.3">99%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.1.4">0.78</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.1.1.5">0.75</td>
</tr>
<tr class="ltx_tr" id="S6.T7.2.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.2.2.2.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.2.2.2.1.1">SELF-RAG<sub class="ltx_sub" id="S6.T7.2.2.2.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S6.T7.2.2.2.1.1.1.1">s</span></sub></span> w P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.2.2.2.2">99%</td>
<td class="ltx_td ltx_align_center" id="S6.T7.2.2.2.3">0.73</td>
<td class="ltx_td ltx_align_center" id="S6.T7.2.2.2.4">0.74</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.8.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.6.6.8.1.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.8.1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.T7.6.6.8.1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.8.1.1.3">RAG</span> w/o P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.8.1.2">98%</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.8.1.3">0.87</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.8.1.4">0.80</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.9.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.6.6.9.2.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.9.2.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.T7.6.6.9.2.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.9.2.1.3">RAG</span> w P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.9.2.2"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.9.2.2.1">54%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.9.2.3">0.79</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.9.2.4">0.78</td>
</tr>
<tr class="ltx_tr" id="S6.T7.3.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S6.T7.3.3.3.2" rowspan="4"><span class="ltx_text" id="S6.T7.3.3.3.2.1">UltraChat</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S6.T7.3.3.3.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.3.3.3.1.1">SELF-RAG<sub class="ltx_sub" id="S6.T7.3.3.3.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S6.T7.3.3.3.1.1.1.1">s</span></sub></span> w/o P.</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.3.3.3.3">56%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.3.3.3.4">0.95</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.3.3.3.5">0.75</td>
</tr>
<tr class="ltx_tr" id="S6.T7.4.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.4.4.4.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.4.4.4.1.1">SELF-RAG<sub class="ltx_sub" id="S6.T7.4.4.4.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S6.T7.4.4.4.1.1.1.1">s</span></sub></span> w P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.4.4.4.2">67%</td>
<td class="ltx_td ltx_align_center" id="S6.T7.4.4.4.3">0.91</td>
<td class="ltx_td ltx_align_center" id="S6.T7.4.4.4.4">0.73</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.10.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.6.6.10.3.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.10.3.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.T7.6.6.10.3.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.10.3.1.3">RAG</span> w/o P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.10.3.2">62%</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.10.3.3">0.99</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.10.3.4">0.78</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.11.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.6.6.11.4.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.11.4.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.T7.6.6.11.4.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.11.4.1.3">RAG</span> w P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.11.4.2"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.11.4.2.1">37%</span></td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.11.4.3">0.97</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.11.4.4">0.75</td>
</tr>
<tr class="ltx_tr" id="S6.T7.5.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S6.T7.5.5.5.2" rowspan="4"><span class="ltx_text" id="S6.T7.5.5.5.2.1">MT-Eval</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S6.T7.5.5.5.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.5.5.5.1.1">SELF-RAG<sub class="ltx_sub" id="S6.T7.5.5.5.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S6.T7.5.5.5.1.1.1.1">s</span></sub></span> w/o P.</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.5.5.5.3">60%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.5.5.5.4">0.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.5.5.5.5">0.72</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.6.6.6.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.6.1.1">SELF-RAG<sub class="ltx_sub" id="S6.T7.6.6.6.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="S6.T7.6.6.6.1.1.1.1">s</span></sub></span> w P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.6.2">69%</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.6.3">0.78</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.6.4">0.70</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.12.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T7.6.6.12.5.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.12.5.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.T7.6.6.12.5.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.12.5.1.3">RAG</span> w/o P.</th>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.12.5.2">58%</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.12.5.3">0.92</td>
<td class="ltx_td ltx_align_center" id="S6.T7.6.6.12.5.4">0.74</td>
</tr>
<tr class="ltx_tr" id="S6.T7.6.6.13.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S6.T7.6.6.13.6.1">
<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.13.6.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="S6.T7.6.6.13.6.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S6.T7.6.6.13.6.1.3">RAG</span> w P.</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.6.6.13.6.2"><span class="ltx_text ltx_font_bold" id="S6.T7.6.6.13.6.2.1">40%</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.6.6.13.6.3">0.90</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.6.6.13.6.4">0.73</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Comparison of response generation performance with and without passages included in the context. Ret? = % of instances retrieval was used.</figcaption>
</figure>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Limitations</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this paper, we propose an approach to enhance the ability of retrieved augmented models on conversational settings. While this is not specific to any particular language, we conducted all of our experiments and analysis exclusively on English-language QA datasets. Hence, this paper does not offer insights into the range of style variations found in non-English and datasets, nor does it ascertain the generalizability of our findings to other datasets and domains. Second, we limit our experiments using one model for critic and generator, <span class="ltx_text ltx_font_typewriter" id="S7.p1.1.1">mistralai/Mistral-7B-Instruct-v0.2</span> and one retrieval model, Contriever. Extending <span class="ltx_text ltx_font_typewriter" id="S7.p1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="S7.p1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="S7.p1.1.4">RAG</span> to other models is left for future work. Finally, we perform retrieval in an offline manner for reducing computation overhead. In a more realistic scenario, retrieval will be performed online during response generation.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Adlakha et al. (2022)</span>
<span class="ltx_bibblock">
Vaibhav Adlakha, Shehzaad Dhuliawala, Kaheer Suleman, Harm de Vries, and Siva Reddy. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1162/tacl_a_00471" title="">TopiOCQA: Open-domain conversational question answering with topic switching</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Transactions of the Association for Computational Linguistics</em>, 10:468–483.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Aliannejadi et al. (2020)</span>
<span class="ltx_bibblock">
Mohammad Aliannejadi, Manajit Chakraborty, Esteban Andrés Ríssola, and Fabio Crestani. 2020.

</span>
<span class="ltx_bibblock">Harnessing evolution of multi-turn conversations for effective answer retrieval.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Proceedings of the 2020 conference on human information interaction and retrieval</em>, pages 33–42.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anantha et al. (2020)</span>
<span class="ltx_bibblock">
Raviteja Anantha, Svitlana Vakulenko, Zhucheng Tu, Shayne Longpre, Stephen Pulman, and Srinivas Chappidi. 2020.

</span>
<span class="ltx_bibblock">Open-domain question answering goes conversational via question rewriting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2010.04898</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">Self-rag: Learning to retrieve, generate, and critique through self-reflection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2310.11511</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ayoub et al. (2024)</span>
<span class="ltx_bibblock">
Michael Antonios Kruse Ayoub, Zhan Su, and Qiuchi Li. 2024.

</span>
<span class="ltx_bibblock">A case study of enhancing sparse retrieval using llms.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Companion Proceedings of the ACM on Web Conference 2024</em>, pages 1609–1615.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al. (2024)</span>
<span class="ltx_bibblock">
Ge Bai, Jie Liu, Xingyuan Bu, Yancheng He, Jiaheng Liu, Zhanhui Zhou, Zhuoran Lin, Wenbo Su, Tiezheng Ge, Bo Zheng, and Wanli Ouyang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2402.14762" title="">Mt-bench-101: A fine-grained benchmark for evaluating large language models in multi-turn dialogues</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiang et al. (2023)</span>
<span class="ltx_bibblock">
Wei-Lin Chiang, Zhuohan Li, Zi Lin, Ying Sheng, Zhanghao Wu, Hao Zhang, Lianmin Zheng, Siyuan Zhuang, Yonghao Zhuang, Joseph E Gonzalez, et al. 2023.

</span>
<span class="ltx_bibblock">Vicuna: An open-source chatbot impressing gpt-4 with 90%* chatgpt quality.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">See https://vicuna. lmsys. org (accessed 14 April 2023)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Culpepper et al. (2018)</span>
<span class="ltx_bibblock">
J Shane Culpepper, Fernando Diaz, and Mark D Smucker. 2018.

</span>
<span class="ltx_bibblock">Research frontiers in information retrieval: Report from the third strategic workshop on information retrieval in lorne (swirl 2018).

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">ACM SIGIR Forum</em>, volume 52, pages 34–90. ACM New York, NY, USA.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ding et al. (2023)</span>
<span class="ltx_bibblock">
Ning Ding, Yulin Chen, Bokai Xu, Yujia Qin, Zhi Zheng, Shengding Hu, Zhiyuan Liu, Maosong Sun, and Bowen Zhou. 2023.

</span>
<span class="ltx_bibblock">Enhancing chat language models by scaling high-quality instructional conversations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2305.14233</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Tianyu Gao, Howard Yen, Jiatong Yu, and Danqi Chen. 2023.

</span>
<span class="ltx_bibblock">Enabling large language models to generate text with citations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2305.14627</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang. 2020.

</span>
<span class="ltx_bibblock">Retrieval augmented language model pre-training.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">International conference on machine learning</em>, pages 3929–3938. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ishii et al. (2022)</span>
<span class="ltx_bibblock">
Etsuko Ishii, Bryan Wilie, Yan Xu, Samuel Cahyawijaya, and Pascale Fung. 2022.

</span>
<span class="ltx_bibblock">Integrating question rewrites in conversational question answering: A reinforcement learning approach.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics: Student Research Workshop</em>, pages 55–66.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jang et al. (2024)</span>
<span class="ltx_bibblock">
Yunah Jang, Kang-il Lee, Hyunkyung Bae, Hwanhee Lee, and Kyomin Jung. 2024.

</span>
<span class="ltx_bibblock">Itercqr: Iterative conversational query reformulation with retrieval guidance.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the 2024 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies (Volume 1: Long Papers)</em>, pages 8114–8131.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji et al. (2023)</span>
<span class="ltx_bibblock">
Yunjie Ji, Yan Gong, Yong Deng, Yiping Peng, Qiang Niu, Baochang Ma, and Xiangang Li. 2023.

</span>
<span class="ltx_bibblock">Towards better instruction following language models for chinese: Investigating the impact of training data and evaluation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2304.07854</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaiser et al. (2024)</span>
<span class="ltx_bibblock">
Magdalena Kaiser, Rishiraj Saha Roy, and Gerhard Weikum. 2024.

</span>
<span class="ltx_bibblock">Robust training for conversational question answering models with reinforced reformulation generation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Proceedings of the 17th ACM International Conference on Web Search and Data Mining</em>, pages 322–331.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kulkarni et al. (2024)</span>
<span class="ltx_bibblock">
Mandar Kulkarni, Praveen Tangarajan, Kyung Kim, and Anusua Trivedi. 2024.

</span>
<span class="ltx_bibblock">Reinforcement learning for optimizing rag for domain chatbots.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">arXiv preprint arXiv:2401.06800</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwan et al. (2024)</span>
<span class="ltx_bibblock">
Wai-Chung Kwan, Xingshan Zeng, Yuxin Jiang, Yufei Wang, Liangyou Li, Lifeng Shang, Xin Jiang, Qun Liu, and Kam-Fai Wong. 2024.

</span>
<span class="ltx_bibblock">Mt-eval: A multi-turn capabilities evaluation benchmark for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2401.16745</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Advances in Neural Information Processing Systems</em>, 33:9459–9474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2020)</span>
<span class="ltx_bibblock">
Sheng-Chieh Lin, Jheng-Hong Yang, Rodrigo Nogueira, Ming-Feng Tsai, Chuan-Ju Wang, and Jimmy Lin. 2020.

</span>
<span class="ltx_bibblock">Conversational question reformulation via sequence-to-sequence architectures and pretrained language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2004.01909</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Nelson F Liu, Tianyi Zhang, and Percy Liang. 2023.

</span>
<span class="ltx_bibblock">Evaluating verifiability in generative search engines.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2304.09848</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mackie et al. (2023)</span>
<span class="ltx_bibblock">
Iain Mackie, Shubham Chatterjee, and Jeffrey Dalton. 2023.

</span>
<span class="ltx_bibblock">Generative relevance feedback with large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, pages 2026–2031.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mallen et al. (2023)</span>
<span class="ltx_bibblock">
Alex Mallen, Akari Asai, Victor Zhong, Rajarshi Das, Daniel Khashabi, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">When not to trust language models: Investigating effectiveness of parametric and non-parametric memories.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 9802–9822.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mao et al. (2023a)</span>
<span class="ltx_bibblock">
Kelong Mao, Zhicheng Dou, Haonan Chen, Fengran Mo, and Hongjin Qian. 2023a.

</span>
<span class="ltx_bibblock">Large language models know your contextual search intent: A prompting framework for conversational search.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2303.06573</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mao et al. (2023b)</span>
<span class="ltx_bibblock">
Kelong Mao, Hongjin Qian, Fengran Mo, Zhicheng Dou, Bang Liu, Xiaohua Cheng, and Zhao Cao. 2023b.

</span>
<span class="ltx_bibblock">Learning denoised and interpretable session representation for conversational search.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Proceedings of the ACM Web Conference</em>, pages 3193–3202.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mo et al. (2023)</span>
<span class="ltx_bibblock">
Fengran Mo, Kelong Mao, Yutao Zhu, Yihong Wu, Kaiyu Huang, and Jian-Yun Nie. 2023.

</span>
<span class="ltx_bibblock">Convgqr: Generative query reformulation for conversational search.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2305.15645</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nogueira et al. (2019)</span>
<span class="ltx_bibblock">
Rodrigo Nogueira, Jimmy Lin, and AI Epistemic. 2019.

</span>
<span class="ltx_bibblock">From doc2query to doctttttquery.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Online preprint</em>, 6(2).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oh and Thorne (2023)</span>
<span class="ltx_bibblock">
Philhoon Oh and James Thorne. 2023.

</span>
<span class="ltx_bibblock">Detrimental contexts in open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2310.18077</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al. (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.

</span>
<span class="ltx_bibblock">In-context retrieval-augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2302.00083</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2023)</span>
<span class="ltx_bibblock">
Freda Shi, Xinyun Chen, Kanishka Misra, Nathan Scales, David Dohan, Ed H Chi, Nathanael Schärli, and Denny Zhou. 2023.

</span>
<span class="ltx_bibblock">Large language models can be easily distracted by irrelevant context.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">International Conference on Machine Learning</em>, pages 31210–31227. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Ante Wang, Linfeng Song, Ge Xu, and Jinsong Su. 2023.

</span>
<span class="ltx_bibblock">Domain adaptation for conversational query production with the rag model feedback.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023</em>, pages 9129–9141.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2024)</span>
<span class="ltx_bibblock">
Jerry Wei, Chengrun Yang, Xinying Song, Yifeng Lu, Nathan Hu, Jie Huang, Dustin Tran, Daiyi Peng, Ruibo Liu, Da Huang, Cosmo Du, and Quoc V. Le. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2403.18802" title="">Long-form factuality in large language models</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2024)</span>
<span class="ltx_bibblock">
Kevin Wu, Eric Wu, and James Zou. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2404.10198" title="">How faithful are rag models? quantifying the tug-of-war between rag and llms’ internal prior</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2021)</span>
<span class="ltx_bibblock">
Zeqiu Wu, Yi Luan, Hannah Rashkin, David Reitter, Hannaneh Hajishirzi, Mari Ostendorf, and Gaurav Singh Tomar. 2021.

</span>
<span class="ltx_bibblock">Conqrr: Conversational query rewriting for retrieval with reinforcement learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2112.08558</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Fangyuan Xu, Weijia Shi, and Eunsol Choi. 2023.

</span>
<span class="ltx_bibblock">Recomp: Improving retrieval-augmented lms with compression and selective augmentation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:2310.04408</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al. (2023)</span>
<span class="ltx_bibblock">
Fanghua Ye, Meng Fang, Shenghui Li, and Emine Yilmaz. 2023.

</span>
<span class="ltx_bibblock">Enhancing conversational search: Large language model-aided informative query rewriting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">arXiv preprint arXiv:2310.09716</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yoran et al. (2023)</span>
<span class="ltx_bibblock">
Ori Yoran, Tomer Wolfson, Ori Ram, and Jonathan Berant. 2023.

</span>
<span class="ltx_bibblock">Making retrieval-augmented language models robust to irrelevant context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">arXiv preprint arXiv:2310.01558</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2019)</span>
<span class="ltx_bibblock">
Tianyi Zhang, Varsha Kishore, Felix Wu, Kilian Q Weinberger, and Yoav Artzi. 2019.

</span>
<span class="ltx_bibblock">Bertscore: Evaluating text generation with bert.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">arXiv preprint arXiv:1904.09675</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhong et al. (2022)</span>
<span class="ltx_bibblock">
Ming Zhong, Yang Liu, Da Yin, Yuning Mao, Yizhu Jiao, Pengfei Liu, Chenguang Zhu, Heng Ji, and Jiawei Han. 2022.

</span>
<span class="ltx_bibblock">Towards a unified multi-dimensional evaluator for text generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">arXiv preprint arXiv:2210.07197</em>.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="Ax1">
<h2 class="ltx_title ltx_title_appendix">Appendix</h2>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">Prompts to collect critic training data for the different tasks using GPT-4 are outlined in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1.T8" title="Table 8 ‣ Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">8</span></a> (<span class="ltx_text ltx_font_typewriter" id="A1.p1.1.1">Retrieval</span>), Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1.T9" title="Table 9 ‣ Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">9</span></a> (<span class="ltx_text ltx_font_typewriter" id="A1.p1.1.2">3-way Retrieval</span>), Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1.T10" title="Table 10 ‣ Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">10</span></a> (<span class="ltx_text ltx_font_typewriter" id="A1.p1.1.3">Relevance</span>), Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1.T11" title="Table 11 ‣ Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">11</span></a> (<span class="ltx_text ltx_font_typewriter" id="A1.p1.1.4">Groundedness</span>), Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1.T12" title="Table 12 ‣ Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">12</span></a> (<span class="ltx_text ltx_font_typewriter" id="A1.p1.1.5">Utility</span>), We modify the prompts of <cite class="ltx_cite ltx_citemacro_citet">Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#bib.bib4" title="">2023</a>)</cite> to be compatible with multi-turn dialogues (as compared to single-turn QA). Furthermore, we collect conversation summarization training data for our generator model using GPT-4 prompt detailed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A1.T13" title="Table 13 ‣ Appendix A GPT-4 Prompt: Critic Training Data &amp; Conversation Summarization Training Data ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">13</span></a>.</p>
</div>
<figure class="ltx_table" id="A1.T8">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T8.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T8.1.1.1" style="background-color:#CCCCCC;">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T8.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.1.1.1.1" style="background-color:#CCCCCC;">
<span class="ltx_p" id="A1.T8.1.1.1.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A1.T8.1.1.1.1.1.1.1" style="background-color:#CCCCCC;">Retrieval</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T8.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T8.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.2.1.1.1">
<span class="ltx_p" id="A1.T8.1.2.1.1.1.1" style="width:426.8pt;">Given <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T8.1.2.1.1.1.1.1">a conversation history</span>, please make a judgment on whether finding some external documents from the web (e.g., Wikipedia) helps to generate a better response. Please answer [Retrieval] or [No Retrieval].</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.3.2.1.1">
<span class="ltx_p" id="A1.T8.1.3.2.1.1.1" style="width:426.8pt;"><span class="ltx_ERROR undefined" id="A1.T8.1.3.2.1.1.1.1">\hdashline</span><span class="ltx_text ltx_font_bold" id="A1.T8.1.3.2.1.1.1.2">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.4.3.1.1">
<span class="ltx_p" id="A1.T8.1.4.3.1.1.1" style="width:426.8pt;">How did the Boer war start?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.5.4.1.1">
<span class="ltx_p" id="A1.T8.1.5.4.1.1.1" style="width:426.8pt;">Many historians stress that in reality the contest was for control of the rich Witwatersrand gold-mining complex located in the SAR.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.6.5.1.1">
<span class="ltx_p" id="A1.T8.1.6.5.1.1.1" style="width:426.8pt;">What were the Boer Commandos?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.7.6.1.1">
<span class="ltx_p" id="A1.T8.1.7.6.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.7.6.1.1.1.1">Rating</span>: [Retrieval]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.8.7.1.1">
<span class="ltx_p" id="A1.T8.1.8.7.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.8.7.1.1.1.1">Explanation</span>: Retrieving documents will help in generating a good response to the conversation.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.9.8.1.1">
<span class="ltx_p" id="A1.T8.1.9.8.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.9.8.1.1.1.1">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.10.9.1.1">
<span class="ltx_p" id="A1.T8.1.10.9.1.1.1" style="width:426.8pt;">How does the taste and texture of swordfish change depending on how it’s prepared, and what are some popular cooking methods?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.11.10.1.1">
<span class="ltx_p" id="A1.T8.1.11.10.1.1.1" style="width:426.8pt;">The taste and texture of swordfish can vary greatly depending
on how it is prepared. Here are some popular cooking methods and how they affect the taste and texture of the fish: 1. Grilling: Grilling swordfish gives it a smoky flavor and a slightly charred texture. The meat becomes firmer and less flaky. 2. Broiling: Broiling swordfish can give it a crispy exterior while keeping the inside moist and tender. 3. Baking: Baking swordfish at a high temperature can create a crust on the outside of the fish while keeping the inside moist and tender. 4. Pan-searing: Searing swordfish in a hot skillet with oil can give it a crispy exterior while keeping the inside moist and flaky. 5. Poaching: Poaching swordfish in a liquid such as wine, lemon juice or stock can add flavor to the fish and keep it moist and tender. 6. Raw: Swordfish can also be served raw as sushi or sashimi. Raw swordfish has a firm texture and a mild, sweet flavor.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.12.11.1.1">
<span class="ltx_p" id="A1.T8.1.12.11.1.1.1" style="width:426.8pt;">I’ve only ever had swordfish grilled, what other methods do you recommend trying?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.13.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.13.12.1.1">
<span class="ltx_p" id="A1.T8.1.13.12.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.13.12.1.1.1.1">Rating</span>: [No Retrieval]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.14.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.14.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.14.13.1.1">
<span class="ltx_p" id="A1.T8.1.14.13.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.14.13.1.1.1.1">Explanation</span>: The response doesn’t require any external evidence as it can be generated based on the conversation history.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.15.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.15.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.15.14.1.1">
<span class="ltx_p" id="A1.T8.1.15.14.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.15.14.1.1.1.1">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.16.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.16.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.16.15.1.1">
<span class="ltx_p" id="A1.T8.1.16.15.1.1.1" style="width:426.8pt;">when did Joe Satriani start his music career?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.17.16">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.17.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.17.16.1.1">
<span class="ltx_p" id="A1.T8.1.17.16.1.1.1" style="width:426.8pt;">Satriani started playing in a San Francisco-based band called the Squares what instrument does Joe Satriani play?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.18.17">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.18.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.18.17.1.1">
<span class="ltx_p" id="A1.T8.1.18.17.1.1.1" style="width:426.8pt;">He was inspired to play guitar at age 14, after hearing of the death of Jimi Hendrix.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.19.18">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.19.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.19.18.1.1">
<span class="ltx_p" id="A1.T8.1.19.18.1.1.1" style="width:426.8pt;">what year did he start his music career?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.20.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T8.1.20.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.20.19.1.1">
<span class="ltx_p" id="A1.T8.1.20.19.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.20.19.1.1.1.1" style="color:#0000FF;">GPT-4-Rating</span>: [Retrieval]</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>GPT-4 prompt for collecting training data for Retrieval critic task.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T9">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T9.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T9.1.1.1" style="background-color:#CCCCCC;">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T9.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.1.1.1.1" style="background-color:#CCCCCC;">
<span class="ltx_p" id="A1.T9.1.1.1.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A1.T9.1.1.1.1.1.1.1" style="background-color:#CCCCCC;">3-way-Retrieval</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T9.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T9.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.2.1.1.1">
<span class="ltx_p" id="A1.T9.1.2.1.1.1.1" style="width:426.8pt;">You will be provided with <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T9.1.2.1.1.1.1.1">a conversation history</span>, evidence, response to the <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T9.1.2.1.1.1.1.2">conversation</span>, and preceding sentences (optional). If the preceding sentence is given, the response should be the sentence that follows those preceding sentences. Your task is to determine whether the information in the response sentence can be fully verified by the evidence or the <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T9.1.2.1.1.1.1.3">conversation history</span>. There are three cases:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.3.2.1.1">
<span class="ltx_p" id="A1.T9.1.3.2.1.1.1" style="width:426.8pt;">- If the response can be verified solely with the evidence or the <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T9.1.3.2.1.1.1.1">conversation history</span>, then respond with [Continue to Use Evidence].</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.4.3.1.1">
<span class="ltx_p" id="A1.T9.1.4.3.1.1.1" style="width:426.8pt;">- If the sentence doesn’t require any factual verification (e.g., a subjective sentence or a sentence about common sense), then respond with [No Retrieval].</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.5.4.1.1">
<span class="ltx_p" id="A1.T9.1.5.4.1.1.1" style="width:426.8pt;">- If additional information is needed to verify the output sentence, respond with [Retrieval]. Please provide explanations for your judgments.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.6.5.1.1">
<span class="ltx_p" id="A1.T9.1.6.5.1.1.1" style="width:426.8pt;"><span class="ltx_ERROR undefined" id="A1.T9.1.6.5.1.1.1.1">\hdashline</span><span class="ltx_text ltx_font_bold" id="A1.T9.1.6.5.1.1.1.2">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.7.6.1.1">
<span class="ltx_p" id="A1.T9.1.7.6.1.1.1" style="width:426.8pt;">Given the text: that truth might finally win. The candidates deceive us all. in jets and campaign buses. The smiles they wore were painted on. So sly, those hungry foxes. on top of their soapboxes. "Hey, I’ll do much more taxing. so you can be relaxing." I’ll give you fruits of their hard work. "You’ve heard me, one and all! We need a woman president! We need a leader NOW! We need to have a first "first man" to be since smoking pot in college with Bill.. because I JUST WANT TO BE PRESIDENT!! We do not need a woman. but someone true who can. for answers to be found. so maybe we should look. So why is he not jailed? Now here’s another "great" debate. What difference does it really make? It tells me this: Who cares?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.8.7.1.1">
<span class="ltx_p" id="A1.T9.1.8.7.1.1.1" style="width:426.8pt;">Can you summarize the text material to describe the main message and theme it conveys?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.9.8.1.1">
<span class="ltx_p" id="A1.T9.1.9.8.1.1.1" style="width:426.8pt;">The text criticizes political candidates and their deceitful tactics during campaigns, highlighting their insincerity and lack of concern for the public. The message suggests a need for a truthful and effective leader to bring about change and progress, rather than focusing on superficial qualities such as gender or past indiscretions. The theme centers around the importance of honesty and integrity in leadership</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.10.9.1.1">
<span class="ltx_p" id="A1.T9.1.10.9.1.1.1" style="width:426.8pt;">Can you provide examples from the text that show the candidates’ insincerity and deceitful tactics during campaigns?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.11.10.1.1">
<span class="ltx_p" id="A1.T9.1.11.10.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.11.10.1.1.1.1">Preceding sentences</span>: Here are a few examples from the text that demonstrate the candidates’ insincerity and deceitful tactics during campaigns.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.12.11.1.1">
<span class="ltx_p" id="A1.T9.1.12.11.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.12.11.1.1.1.1">Evidence</span>: The charisma of the sender of a message may affect how the message is received. Political candidates are often chosen more for their possession of this quality than for their other attributes. A charismatic person can often make tired, trivial messages seem new and important to the recipient; however, this too can become detrimental to communication, as the receiver of the message is less likely to question or ask for clarification of the message.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.13.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.13.12.1.1">
<span class="ltx_p" id="A1.T9.1.13.12.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.13.12.1.1.1.1">Response</span>: ’The smiles they wore were painted on’ suggests that the candidates are not genuinely happy or friendly, but are instead putting on a façade to deceive the public. - ’So sly, those hungry foxes’ implies that the candidates are cunning and opportunistic, willing to say or do whatever it takes to win. - ’Hey, I’ll do much more taxing. So you can be relaxing.’ This statement is a classic political promise that is often made but rarely kept, highlighting the candidates’ tendency to make unrealistic claims in order to garner support.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.14.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.14.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.14.13.1.1">
<span class="ltx_p" id="A1.T9.1.14.13.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.14.13.1.1.1.1">Rating</span>: [Continue to Use Evidence]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.15.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.15.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.15.14.1.1">
<span class="ltx_p" id="A1.T9.1.15.14.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.15.14.1.1.1.1">Explanation</span>: The response can be generated solely using the conversational history.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.16.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.16.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.16.15.1.1">
<span class="ltx_p" id="A1.T9.1.16.15.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.16.15.1.1.1.1">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.17.16">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.17.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.17.16.1.1">
<span class="ltx_p" id="A1.T9.1.17.16.1.1.1" style="width:426.8pt;">In a small sauce pot on low heat, melt butter and add the vegetable oil. Add onions and cook on low heat until they are browned and soft. Approximately 20 minutes. Add sugar and cook for 2 minutes. Stir in vinegar and stock and cook for an additional 10 minutes or until gravy has reduced by half. Stir in mustard and pepper. Season to taste with salt. Remove from heat and using a hand blender, blend until smooth. Is there a substitute for vegetable oil that can be used in this recipe?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.18.17">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.18.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.18.17.1.1">
<span class="ltx_p" id="A1.T9.1.18.17.1.1.1" style="width:426.8pt;">Yes, you can use any other type of neutral oil such as canola oil, grapeseed oil, or sunflower oil as a substitute for vegetable oil in this recipe.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.19.18">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.19.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.19.18.1.1">
<span class="ltx_p" id="A1.T9.1.19.18.1.1.1" style="width:426.8pt;">Can you give me some tips on how to make sure the onions are properly browned and soft?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.20.19">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.20.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.20.19.1.1">
<span class="ltx_p" id="A1.T9.1.20.19.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.20.19.1.1.1.1">Preceding sentences</span>: Sure! Here are some tips to ensure your onions are browned and soft: 1. Use a low heat: Cooking the onions on low heat allows them to slowly caramelize and become sweet and tender. 2. Stir regularly: Stirring the onions regularly will help prevent them from burning and ensure that they are evenly browned. 3. Use a heavy-bottomed pot: A heavy-bottomed pot ensures even heat distribution and helps prevent burning. 4. Don’t overcrowd the pot: Overcrowding the pot will cause the onions to steam instead of caramelize, so make sure there is enough room for them to spread out.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.21.20">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.21.20.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.21.20.1.1">
<span class="ltx_p" id="A1.T9.1.21.20.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.21.20.1.1.1.1">Evidence</span>: Palm oil adds some great firmness to your soap, and there is no direct replacement for it. Grapeseed and sunflower oil are both liquid at room temperature. They’re considered soft oils, and will make this recipe softer than if it had palm oil. You can leave palm oil out.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.22.21">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T9.1.22.21.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.22.21.1.1">
<span class="ltx_p" id="A1.T9.1.22.21.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.22.21.1.1.1.1">Response</span>: 5. Be patient: Properly caramelizing onions takes time, so don’t rush the process.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.23.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T9.1.23.22.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.23.22.1.1">
<span class="ltx_p" id="A1.T9.1.23.22.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.23.22.1.1.1.1" style="color:#0000FF;">GPT-4-Rating</span>: [No Retrieval]</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9: </span>GPT-4 prompt for collecting training data for Multi-Retrieval critic task.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T10">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T10.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T10.1.1.1" style="background-color:#CCCCCC;">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T10.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.1.1.1.1" style="background-color:#CCCCCC;">
<span class="ltx_p" id="A1.T10.1.1.1.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A1.T10.1.1.1.1.1.1.1" style="background-color:#CCCCCC;">Relevance</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T10.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T10.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.2.1.1.1">
<span class="ltx_p" id="A1.T10.1.2.1.1.1.1" style="width:426.8pt;">You’ll be provided with <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T10.1.2.1.1.1.1.1">a conversation history</span>, along with an evidence.Your job is to determine if the evidence is relevant and provides useful information to generate the response of the given <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T10.1.2.1.1.1.1.2">conversation history</span>. If the evidence meets this requirement, respond with [Relevant]; otherwise, generate [Irrelevant].</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.3.2.1.1">
<span class="ltx_p" id="A1.T10.1.3.2.1.1.1" style="width:426.8pt;"><span class="ltx_ERROR undefined" id="A1.T10.1.3.2.1.1.1.1">\hdashline</span><span class="ltx_text ltx_font_bold" id="A1.T10.1.3.2.1.1.1.2">Conversation History</span>:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.4.3.1.1">
<span class="ltx_p" id="A1.T10.1.4.3.1.1.1" style="width:426.8pt;">How did the Boer war start?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.5.4.1.1">
<span class="ltx_p" id="A1.T10.1.5.4.1.1.1" style="width:426.8pt;">Many historians stress that in reality the contest was for control of the rich Witwatersrand gold-mining complex located in the SAR.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.6.5.1.1">
<span class="ltx_p" id="A1.T10.1.6.5.1.1.1" style="width:426.8pt;">What were the Boer Commandos?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.7.6.1.1">
<span class="ltx_p" id="A1.T10.1.7.6.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.7.6.1.1.1.1">Evidence</span>: Boer Commando Not to be confused with Commando System (South Africa) or Kommandokorps. The Boer commandos or " Kommandos " were volunteer military units of guerilla militia organized by the Boer people of South Africa . The term came into English usage during the Second Boer War of 1899-1902. Boer Commando in action during the First Boer War , 1881 In 1658, war erupted between the Dutch settlers at Cape Colony and the Khoi-khoi . In order to protect the settlement, all able bodied men were conscripted. After the conclusion of this war, all men in the colony were liable for military service and were expected to be ready on short notice.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.8.7.1.1">
<span class="ltx_p" id="A1.T10.1.8.7.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.8.7.1.1.1.1">Rating</span>: [Relevant]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.9.8.1.1">
<span class="ltx_p" id="A1.T10.1.9.8.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.9.8.1.1.1.1">Explanation</span>: The evidence explicitly talks about Boer commandos from which the response to the conversation can be generated.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.10.9.1.1">
<span class="ltx_p" id="A1.T10.1.10.9.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.10.9.1.1.1.1">Conversation History</span>:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.11.10.1.1">
<span class="ltx_p" id="A1.T10.1.11.10.1.1.1" style="width:426.8pt;">What was the origin of the Olmec?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.12.11.1.1">
<span class="ltx_p" id="A1.T10.1.12.11.1.1.1" style="width:426.8pt;">The beginnings of Olmec civilization have traditionally been placed between 1400 and 1200 BCE. It seems that the Olmec had their roots in early farming cultures of Tabasco.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.13.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.13.12.1.1">
<span class="ltx_p" id="A1.T10.1.13.12.1.1.1" style="width:426.8pt;">What can you tell me about the Olmec at El Manati?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.14.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.14.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.14.13.1.1">
<span class="ltx_p" id="A1.T10.1.14.13.1.1.1" style="width:426.8pt;">Past finds of Olmec remains were ritually deposited at El Manati shrine.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.15.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.15.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.15.14.1.1">
<span class="ltx_p" id="A1.T10.1.15.14.1.1.1" style="width:426.8pt;">How did they start?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.16.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.16.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.16.15.1.1">
<span class="ltx_p" id="A1.T10.1.16.15.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.16.15.1.1.1.1">Evidence</span>: It is a theory that according to many, could explain the incredible technologies and skills of this enigmatic Ancient Civilization. Even though the Olmec civilization is surrounded by numerous mysteries, researchers believe that all the classical cultures of Mesoamerica originated from this mysterious civilization. But where did this ancient civilization originate? And why is it that we know so little about one of the most influential ancient civilizations of Mesoamerica.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.17.16">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.17.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.17.16.1.1">
<span class="ltx_p" id="A1.T10.1.17.16.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.17.16.1.1.1.1">Rating</span>: [Irrelevant]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.18.17">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.18.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.18.17.1.1">
<span class="ltx_p" id="A1.T10.1.18.17.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.18.17.1.1.1.1">Explanation</span>: Although the evidence talks about Olmecs, they do not provide information as to how the Olmec civilisation started.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.19.18">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.19.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.19.18.1.1">
<span class="ltx_p" id="A1.T10.1.19.18.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.19.18.1.1.1.1">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.20.19">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.20.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.20.19.1.1">
<span class="ltx_p" id="A1.T10.1.20.19.1.1.1" style="width:426.8pt;">Where did J. R. Jayewardene live in his early life?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.21.20">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.21.20.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.21.20.1.1">
<span class="ltx_p" id="A1.T10.1.21.20.1.1.1" style="width:426.8pt;">J. R. Jayewardene was born in Colombo, British Ceylon.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.22.21">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.22.21.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.22.21.1.1">
<span class="ltx_p" id="A1.T10.1.22.21.1.1.1" style="width:426.8pt;">Where did he go to school?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.23.22">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T10.1.23.22.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.23.22.1.1">
<span class="ltx_p" id="A1.T10.1.23.22.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.23.22.1.1.1.1">Evidence</span>: Highly respected in Japan for his call for peace and reconciliation with post-war Japan at the Peace Conference in San Francisco in 1951, a statue of Jayewardene was erected at the Kamakura Temple in the Kanagawa Prefecture in Japan in his honor. [18] J.R Jayewardene Centre [ edit ] In 1988, the J.R. Jayewardene Centre was established by the J.R Jayewardene Centre Act No. 77 of 1988 by Parliament at the childhood home of J. R. Jayewardene Dharmapala Mawatha, Colombo. It serves as archive for J.R Jayewardene’s personal library and papers as well as papers, records from the Presidential Secretariat and gifts he received in his tenure as</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.24.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T10.1.24.23.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.24.23.1.1">
<span class="ltx_p" id="A1.T10.1.24.23.1.1.1" style="width:426.8pt;">President.</span>
<span class="ltx_p" id="A1.T10.1.24.23.1.1.2"><span class="ltx_text ltx_font_bold" id="A1.T10.1.24.23.1.1.2.1" style="color:#0000FF;">GPT-4-Rating</span>: [Irrelevant]</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 10: </span>GPT-4 prompt for collecting training data for Relevance critic task.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T11">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T11.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T11.1.1.1" style="background-color:#CCCCCC;">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T11.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.1.1.1.1" style="background-color:#CCCCCC;">
<span class="ltx_p" id="A1.T11.1.1.1.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A1.T11.1.1.1.1.1.1.1" style="background-color:#CCCCCC;">Groundedness</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T11.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T11.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.2.1.1.1">
<span class="ltx_p" id="A1.T11.1.2.1.1.1.1" style="width:426.8pt;">You will receive<span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T11.1.2.1.1.1.1.1"> a conversation history</span>, evidence, and a response to the <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T11.1.2.1.1.1.1.2">conversation</span>. Your task is to evaluate if the response is fully supported by the information provided in the evidence or <span class="ltx_text ltx_font_bold ltx_font_italic" id="A1.T11.1.2.1.1.1.1.3">in the conversation history</span>. Use the following entailment scale to generate a score:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.3.2.1.1">
<span class="ltx_p" id="A1.T11.1.3.2.1.1.1" style="width:426.8pt;">[Fully supported] - All information in output is supported by the evidence, or extractions from the evidence or <span class="ltx_text ltx_font_bold" id="A1.T11.1.3.2.1.1.1.1">the conversation history</span>.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.4.3.1.1">
<span class="ltx_p" id="A1.T11.1.4.3.1.1.1" style="width:426.8pt;">[Partially supported] - The response is supported to some extent, but there is major information in the response that is not discussed in the evidence or the conversation history.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.5.4.1.1">
<span class="ltx_p" id="A1.T11.1.5.4.1.1.1" style="width:426.8pt;">[No support / Contradictory] - The response completely ignores, is unrelated to, or contradicts the evidence and the conversation history. This can also happen if the evidence is irrelevant to the conversation history. Make sure to not use any external information/knowledge to judge whether the response is true or not.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.6.5.1.1">
<span class="ltx_p" id="A1.T11.1.6.5.1.1.1" style="width:426.8pt;"><span class="ltx_ERROR undefined" id="A1.T11.1.6.5.1.1.1.1">\hdashline</span><span class="ltx_text ltx_font_bold" id="A1.T11.1.6.5.1.1.1.2">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.7.6.1.1">
<span class="ltx_p" id="A1.T11.1.7.6.1.1.1" style="width:426.8pt;">I was thinking of buying a cheesecake, can you tell me some information about them?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.8.7.1.1">
<span class="ltx_p" id="A1.T11.1.8.7.1.1.1" style="width:426.8pt;">Sure! Cheesecakes are actually my speciality. Usually it is a baked dessert but it can also be unbaked.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.9.8.1.1">
<span class="ltx_p" id="A1.T11.1.9.8.1.1.1" style="width:426.8pt;">I had no idea you didn’t have to bake them, is there any interesting history behind the cheesecake?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.10.9.1.1">
<span class="ltx_p" id="A1.T11.1.10.9.1.1.1" style="width:426.8pt;">Forms of it go back all the way to greece!</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.11.10.1.1">
<span class="ltx_p" id="A1.T11.1.11.10.1.1.1" style="width:426.8pt;">That’s fascinating, can you tell me more about the Greek cheescake origins?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.12.11.1.1">
<span class="ltx_p" id="A1.T11.1.12.11.1.1.1" style="width:426.8pt;">Sure. The earliest mentions of it were in a Greek book. Essentially it was a cookbook about the art of making cheesecakes I wonder why they were so fond of them.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.13.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.13.12.1.1">
<span class="ltx_p" id="A1.T11.1.13.12.1.1.1" style="width:426.8pt;">Is there a traditional recipe for modern cheesecakes?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.14.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.14.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.14.13.1.1">
<span class="ltx_p" id="A1.T11.1.14.13.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.14.13.1.1.1.1">Response</span>: My favourite layer is the biscuit base, particularly if ginger biscuits are mixed in with the graham crackers.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.15.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.15.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.15.14.1.1">
<span class="ltx_p" id="A1.T11.1.15.14.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.15.14.1.1.1.1">Evidence</span>: Cheesecakes, having a crust that is separately prepared and baked. A more modern version is found in Forme of Cury’, an English cookbook from 1390. On this basis, chef Heston Blumenthal has argued that cheesecake is an English invention. Cheesecake did not evolve into the dessert that we see today up until somewhere around the 18th century. Europeans began removing yeast and adding beaten eggs to the cheesecake instead.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.16.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.16.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.16.15.1.1">
<span class="ltx_p" id="A1.T11.1.16.15.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.16.15.1.1.1.1">Rating</span>: [No support / Contradictory]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.17.16">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.17.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.17.16.1.1">
<span class="ltx_p" id="A1.T11.1.17.16.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.17.16.1.1.1.1">Explanation</span>: The response is neither supported by the evidence or the conversation history</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.18.17">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.18.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.18.17.1.1">
<span class="ltx_p" id="A1.T11.1.18.17.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.18.17.1.1.1.1">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.19.18">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.19.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.19.18.1.1">
<span class="ltx_p" id="A1.T11.1.19.18.1.1.1" style="width:426.8pt;">What does it mean to be a vegan?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.20.19">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.20.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.20.19.1.1">
<span class="ltx_p" id="A1.T11.1.20.19.1.1.1" style="width:426.8pt;">Veganism is a stricter form of vegetarianism; like vegetarians, vegans don’t eat any animals that have been killed and also avoid animal products altogether, so that means no eggs or dairy products and, usually, no honey either.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.21.20">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.21.20.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.21.20.1.1">
<span class="ltx_p" id="A1.T11.1.21.20.1.1.1" style="width:426.8pt;">What is the environmental argument for being a vegan?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.22.21">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.22.21.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.22.21.1.1">
<span class="ltx_p" id="A1.T11.1.22.21.1.1.1" style="width:426.8pt;">Studies on world food security estimate that an affluent diet containing meat requires up to 3 times as many resources as a vegetarian diet</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.23.22">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.23.22.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.23.22.1.1">
<span class="ltx_p" id="A1.T11.1.23.22.1.1.1" style="width:426.8pt;">Do you need milk for strong bones?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.24.23">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.24.23.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.24.23.1.1">
<span class="ltx_p" id="A1.T11.1.24.23.1.1.1" style="width:426.8pt;">If you want to drink milk for strong bones, I recommend no more than one glass a day</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.25.24">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.25.24.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.25.24.1.1">
<span class="ltx_p" id="A1.T11.1.25.24.1.1.1" style="width:426.8pt;">What are other good sources of calcium</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.26.25">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.26.25.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.26.25.1.1">
<span class="ltx_p" id="A1.T11.1.26.25.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.26.25.1.1.1.1">Response</span>: However, many non-dairy sources are also high in this mineral. These include seafood, leafy greens, legumes, dried fruit, tofu and various foods that are fortified with calcium.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.27.26">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T11.1.27.26.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.27.26.1.1">
<span class="ltx_p" id="A1.T11.1.27.26.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.27.26.1.1.1.1">Evidence</span>: Top 15 Calcium-Rich Foods (Many Are Non-Dairy) Subscribe Nutrition Evidence Based Top 15 Calcium-Rich Foods (Many Are Non-Dairy) Written by Kerri-Ann Jennings, MS, RD on July 27, 2018 If you buy something through a link on this page, we may earn a small commission. How this works. Calcium is very.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.28.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T11.1.28.27.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.1.28.27.1.1">
<span class="ltx_p" id="A1.T11.1.28.27.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.28.27.1.1.1.1" style="color:#0000FF;">GPT-4-Rating</span>: [Partially supported]</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 11: </span>GPT-4 prompt for collecting training data for Groundedness critic task.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T12">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T12.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T12.1.1.1" style="background-color:#CCCCCC;">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T12.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.1.1.1.1" style="background-color:#CCCCCC;">
<span class="ltx_p" id="A1.T12.1.1.1.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A1.T12.1.1.1.1.1.1.1" style="background-color:#CCCCCC;">Utility</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T12.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T12.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.2.1.1.1">
<span class="ltx_p" id="A1.T12.1.2.1.1.1.1" style="width:426.8pt;">Given a conversation history and a response, rate whether the response appears to be a helpful and informative answer to the query, from 1 (lowest) - 5 (highest). We call this score perceived utility.The detailed criterion is as follows:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.3.2.1.1">
<span class="ltx_p" id="A1.T12.1.3.2.1.1.1" style="width:426.8pt;">5: The response provides a complete, highly detailed, and informative response to the conversation, fully satisfying the information needs.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.4.3.1.1">
<span class="ltx_p" id="A1.T12.1.4.3.1.1.1" style="width:426.8pt;">4: The response mostly fulfills the need in the conversation, while there can be some minor improvements such as discussing more detailed information, having better structure of the response, or improving coherence.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.5.4.1.1">
<span class="ltx_p" id="A1.T12.1.5.4.1.1.1" style="width:426.8pt;">3: The response is acceptable, but some major additions or improvements are needed to satisfy users’ needs.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.6.5.1.1">
<span class="ltx_p" id="A1.T12.1.6.5.1.1.1" style="width:426.8pt;">2: The response still addresses the main request, but it is not complete or not relevant to the conversation.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.7.6.1.1">
<span class="ltx_p" id="A1.T12.1.7.6.1.1.1" style="width:426.8pt;">1: The response is barely on-topic or completely irrelevant.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.8.7.1.1">
<span class="ltx_p" id="A1.T12.1.8.7.1.1.1" style="width:426.8pt;"><span class="ltx_ERROR undefined" id="A1.T12.1.8.7.1.1.1.1">\hdashline</span><span class="ltx_text ltx_font_bold" id="A1.T12.1.8.7.1.1.1.2">Conversation History</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.9.8.1.1">
<span class="ltx_p" id="A1.T12.1.9.8.1.1.1" style="width:426.8pt;">What was snake river canyon for Evel Knievel?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.10.9.1.1">
<span class="ltx_p" id="A1.T12.1.10.9.1.1.1" style="width:426.8pt;">Knievel hired subcontractor and aeronautical engineer Doug Malewicki to build him a rocket-powered cycle to jump across the Snake River, and called it the Skycycle X-1.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.11.10.1.1">
<span class="ltx_p" id="A1.T12.1.11.10.1.1.1" style="width:426.8pt;">What was the Evel Knievel’s snake river canyon jump a launch of?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.12.11.1.1">
<span class="ltx_p" id="A1.T12.1.12.11.1.1.1" style="width:426.8pt;">The decision was then made to have Truax build the Skycycle X-2 and have it take off and fly more like a rocket than a motorcycle.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.13.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.13.12.1.1">
<span class="ltx_p" id="A1.T12.1.13.12.1.1.1" style="width:426.8pt;">When was the launch?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.14.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.14.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.14.13.1.1">
<span class="ltx_p" id="A1.T12.1.14.13.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.14.13.1.1.1.1">Response</span>: It was launched on September 7, 1974.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.15.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.15.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.15.14.1.1">
<span class="ltx_p" id="A1.T12.1.15.14.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.15.14.1.1.1.1">Perceived utility</span>: 5</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.16.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.16.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.16.15.1.1">
<span class="ltx_p" id="A1.T12.1.16.15.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.16.15.1.1.1.1">Explanation</span>: The response is accurate, brief, and directly addresses the user’s question. It provides the exact date of the launch, which is the specific information that the user was asking for.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.17.16">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.17.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.17.16.1.1">
<span class="ltx_p" id="A1.T12.1.17.16.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.17.16.1.1.1.1">Conversation History:</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.18.17">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.18.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.18.17.1.1">
<span class="ltx_p" id="A1.T12.1.18.17.1.1.1" style="width:426.8pt;">How do elephants use their trunks for communication and sensing their environment?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.19.18">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.19.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.19.18.1.1">
<span class="ltx_p" id="A1.T12.1.19.18.1.1.1" style="width:426.8pt;">Elephants use their trunks for communication and sensing their environment in several ways: 1. Smelling: Elephants have a highly developed sense of smell and can detect scents from miles away. They use their trunks to smell for food, water, mates, predators, and other elephants. They can also smell the scent left by other elephants as a means of identifying them. 2. Touch: Elephants use their trunks to touch and feel their environment. They can use their trunks to brush away leaves or branches to get a clear view of their surroundings, and they can touch other elephants to communicate their mood or intentions. 3. Vocalizations: Elephants can produce a wide range of vocalizations, from low rumbles to high-pitched trumpets. These sounds are produced by muscles in their trunks and are used for communication with other elephants.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.20.19">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.20.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.20.19.1.1">
<span class="ltx_p" id="A1.T12.1.20.19.1.1.1" style="width:426.8pt;">I wonder if elephants have ever been observed using their trunks to communicate with other animals besides other elephants?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.21.20">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.21.20.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.21.20.1.1">
<span class="ltx_p" id="A1.T12.1.21.20.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.21.20.1.1.1.1">Response</span>: I’m not sure, but elephants are known to be highly intelligent and social animals, so it’s possible that they have developed complex communication systems with other animals as well.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.22.21">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.22.21.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.22.21.1.1">
<span class="ltx_p" id="A1.T12.1.22.21.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.22.21.1.1.1.1">Perceived utility</span>: 2</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.23.22">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.23.22.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.23.22.1.1">
<span class="ltx_p" id="A1.T12.1.23.22.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.23.22.1.1.1.1">Explanation</span>: The assistant did provide some relevant information about elephants being highly intelligent and social animals, but doesn’t fully satisfy the user’s need for a definite answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.24.23">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.24.23.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.24.23.1.1">
<span class="ltx_p" id="A1.T12.1.24.23.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.24.23.1.1.1.1">Conversation History</span>:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.25.24">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.25.24.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.25.24.1.1">
<span class="ltx_p" id="A1.T12.1.25.24.1.1.1" style="width:426.8pt;">What was the relation between Dimebag and Darrell?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.26.25">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.26.25.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.26.25.1.1">
<span class="ltx_p" id="A1.T12.1.26.25.1.1.1" style="width:426.8pt;">Dimebag Darrell was an American musician and songwriter.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.27.26">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.27.26.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.27.26.1.1">
<span class="ltx_p" id="A1.T12.1.27.26.1.1.1" style="width:426.8pt;">He was the guitarist of the heavy metal bands Pantera and Damageplan.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.28.27">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.28.27.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.28.27.1.1">
<span class="ltx_p" id="A1.T12.1.28.27.1.1.1" style="width:426.8pt;">When was the band Pantera formed?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.29.28">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.29.28.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.29.28.1.1">
<span class="ltx_p" id="A1.T12.1.29.28.1.1.1" style="width:426.8pt;">Pantera was formed in 1981.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.30.29">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.30.29.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.30.29.1.1">
<span class="ltx_p" id="A1.T12.1.30.29.1.1.1" style="width:426.8pt;">What was the purpose of the band?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.31.30">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T12.1.31.30.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.31.30.1.1">
<span class="ltx_p" id="A1.T12.1.31.30.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.31.30.1.1.1.1">Response</span>: Vinnie Paul was asked to join a band alongside his high school classmates Terry Glaze (guitar), Tommy Bradford (bass) and Donny Hart (vocals).</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.32.31">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T12.1.32.31.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.1.32.31.1.1">
<span class="ltx_p" id="A1.T12.1.32.31.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.32.31.1.1.1.1" style="color:#0000FF;">GPT-4-Rating</span>: 2</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 12: </span>GPT-4 prompt for collecting training data for Utility critic task.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T13">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T13.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T13.1.1.1" style="background-color:#CCCCCC;">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T13.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.1.1.1.1" style="background-color:#CCCCCC;">
<span class="ltx_p" id="A1.T13.1.1.1.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.1.1.1.1.1">Conversation summarization</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T13.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T13.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.2.1.1.1">
<span class="ltx_p" id="A1.T13.1.2.1.1.1.1" style="width:426.8pt;">Given a conversation history, your task is to summarise the conversation history in 40-50 words and ask a question so that the summary and the question can be used without the conversation history to generate a meaningful response.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.3.2.1.1">
<span class="ltx_p" id="A1.T13.1.3.2.1.1.1" style="width:426.8pt;"><span class="ltx_ERROR undefined" id="A1.T13.1.3.2.1.1.1.1">\hdashline</span></span>
<span class="ltx_p" id="A1.T13.1.3.2.1.1.2"><span class="ltx_text ltx_font_bold" id="A1.T13.1.3.2.1.1.2.1">Converation History</span>:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.4.3.1.1">
<span class="ltx_p" id="A1.T13.1.4.3.1.1.1" style="width:426.8pt;">What was the first job John Sherman Cooper held?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.5.4.1.1">
<span class="ltx_p" id="A1.T13.1.5.4.1.1.1" style="width:426.8pt;">He was admitted to the bar by examination in 1928 and opened a legal practice in Somerset.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.6.5.1.1">
<span class="ltx_p" id="A1.T13.1.6.5.1.1.1" style="width:426.8pt;">What was the first office John Sherman Cooper ran for?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.7.6.1.1">
<span class="ltx_p" id="A1.T13.1.7.6.1.1.1" style="width:426.8pt;">After being urged into politics by his uncle, Judge Roscoe Tartar, Cooper ran unopposed for a seat in the Kentucky House of Representatives as a Republican in 1927.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.8.7.1.1">
<span class="ltx_p" id="A1.T13.1.8.7.1.1.1" style="width:426.8pt;">How long was John Sherman Cooper in office in the Kentucky House of Representatives?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.9.8.1.1">
<span class="ltx_p" id="A1.T13.1.9.8.1.1.1" style="width:426.8pt;">Member of the Kentucky House of Representatives from the 41st district. In office, 1928–1930</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.10.9.1.1">
<span class="ltx_p" id="A1.T13.1.10.9.1.1.1" style="width:426.8pt;">Did he run for another political office after that?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.11.10.1.1">
<span class="ltx_p" id="A1.T13.1.11.10.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.11.10.1.1.1.1">Summary:</span> John Sherman Cooper started his career as a lawyer in Somerset after being admitted to the bar in 1928. He was later encouraged by his uncle, Judge Roscoe Tartar, to join politics and subsequently ran for a seat in the Kentucky House of Representatives as a Republican candidate in 1927. He went unopposed and served in office from 1928-1930.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.12.11.1.1">
<span class="ltx_p" id="A1.T13.1.12.11.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.12.11.1.1.1.1">Question</span>: Did John Sherman Cooper pursue any other political offices after his term in the Kentucky House of Representatives?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.13.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.13.12.1.1">
<span class="ltx_p" id="A1.T13.1.13.12.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.13.12.1.1.1.1">Converation History</span>:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.14.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.14.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.14.13.1.1">
<span class="ltx_p" id="A1.T13.1.14.13.1.1.1" style="width:426.8pt;">When did Sachin Tendulkar first join a team?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.15.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.15.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.15.14.1.1">
<span class="ltx_p" id="A1.T13.1.15.14.1.1.1" style="width:426.8pt;">On 14 November 1987, Sachin Tendulkar was selected to represent Bombay in the Ranji Trophy, India’s premier domestic First-class cricket tournament, for the 1987–88 season.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.16.15">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.16.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.16.15.1.1">
<span class="ltx_p" id="A1.T13.1.16.15.1.1.1" style="width:426.8pt;">Was he successful with that team?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.17.16">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T13.1.17.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.17.16.1.1">
<span class="ltx_p" id="A1.T13.1.17.16.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.17.16.1.1.1.1">Summary</span>: Sachin Tendulkar first joined the Bombay team in the Ranji Trophy, India’s premier domestic First-class cricket tournament, on November 14, 1987.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.18.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T13.1.18.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T13.1.18.17.1.1">
<span class="ltx_p" id="A1.T13.1.18.17.1.1.1" style="width:426.8pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.18.17.1.1.1.1">Question</span>: Was Sachin Tendulkar’s performance successful with this team?</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 13: </span>GPT-4 prompt for collecting generator training data for conversation summarization.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Benchmark Statistics</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">While QReCC is traditionally used as the primary benchmark for evaluating conversational query rewriting models or response generation, we note a few differences with UltraChat and MT-Eval. Firstly, as mentioned earlier, responses to all conversation turns are grounded in passage from Wikipedia/Common Crawl. Hence, ideally retrieval should be needed at every turn, and hence RAG should lead to the best response. Whereas in the other two datasets there are examples where a passage is already included in a conversation turn or ones where the response to a turn should be based on response generated in previous turns or conversations where users ask creative questions (examples provided in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A2.T14" title="Table 14 ‣ Appendix B Benchmark Statistics ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">14</span></a>). Hence, in these two datasets the decision to call retrieval is more important where a model should understand from the context whether retrieval is needed or not. Secondly, questions and gold responses in QReCC are an order of magnitude shorter than UltraChat as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A2.T14" title="Table 14 ‣ Appendix B Benchmark Statistics ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">14</span></a>).</p>
</div>
<figure class="ltx_table" id="A2.T14">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A2.T14.1" style="width:433.6pt;height:774.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-39.3pt,70.3pt) scale(0.846471196357844,0.846471196357844) ;">
<table class="ltx_tabular ltx_align_middle" id="A2.T14.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T14.1.1.1.1">
<td class="ltx_td ltx_align_top ltx_border_r ltx_border_tt" id="A2.T14.1.1.1.1.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T14.1.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.1.1.2.1">
<span class="ltx_p" id="A2.T14.1.1.1.1.2.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.1.1.2.1.1.1">QReCC</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T14.1.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.1.1.3.1">
<span class="ltx_p" id="A2.T14.1.1.1.1.3.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.1.1.3.1.1.1">Ultrachat</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T14.1.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.1.1.4.1">
<span class="ltx_p" id="A2.T14.1.1.1.1.4.1.1" style="width:133.7pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.1.1.4.1.1.1">MT-Eval</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.2.2.1.1">
<span class="ltx_p" id="A2.T14.1.1.2.2.1.1.1" style="width:42.7pt;">Avg. # words in one question</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.2.2.2.1">
<span class="ltx_p" id="A2.T14.1.1.2.2.2.1.1" style="width:142.3pt;">7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.2.2.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.2.2.3.1">
<span class="ltx_p" id="A2.T14.1.1.2.2.3.1.1" style="width:142.3pt;">19</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.1.1.2.2.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.2.2.4.1">
<span class="ltx_p" id="A2.T14.1.1.2.2.4.1.1" style="width:133.7pt;">32</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.3.3.1.1">
<span class="ltx_p" id="A2.T14.1.1.3.3.1.1.1" style="width:42.7pt;">Avg. # words in response</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.3.3.2.1">
<span class="ltx_p" id="A2.T14.1.1.3.3.2.1.1" style="width:142.3pt;">67</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.3.3.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.3.3.3.1">
<span class="ltx_p" id="A2.T14.1.1.3.3.3.1.1" style="width:142.3pt;">208</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.1.1.3.3.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.3.3.4.1">
<span class="ltx_p" id="A2.T14.1.1.3.3.4.1.1" style="width:133.7pt;">144</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.4.4.1.1">
<span class="ltx_p" id="A2.T14.1.1.4.4.1.1.1" style="width:42.7pt;">Example conversation</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.4.4.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.4.4.2.1">
<span class="ltx_p" id="A2.T14.1.1.4.4.2.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.4.4.2.1.1.1">User:</span> which is the best jekyll and hyde film?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.1.1.4.4.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.4.4.3.1">
<span class="ltx_p" id="A2.T14.1.1.4.4.3.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.4.4.3.1.1.1">User:</span> Provide a detailed analysis of the role of artificial intelligence in enhancing customer experience within the hospitality industry.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.1.1.4.4.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.4.4.4.1">
<span class="ltx_p" id="A2.T14.1.1.4.4.4.1.1" style="width:133.7pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.4.4.4.1.1.1">User:</span> What is the central dogma of molecular biology? What processes are involved? Who named this?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.5.5">
<td class="ltx_td ltx_align_top ltx_border_r" id="A2.T14.1.1.5.5.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.1.1.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.5.5.2.1">
<span class="ltx_p" id="A2.T14.1.1.5.5.2.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.5.5.2.1.1.1">Assistant:</span> The 1931 film adaptation of Robert Louis Stevenson’s horror novella is considered to be the best Jekyll an Hyde film of all time.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.1.1.5.5.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.5.5.3.1">
<span class="ltx_p" id="A2.T14.1.1.5.5.3.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.5.5.3.1.1.1">Assistant:</span> Artificial intelligence (AI) has been playing an increasingly important role in enhancing customer experience in various industries, including hospitality. Hospitality businesses such as hotels, restaurants, and travel companies are using AI to improve their customer service, streamline processes and gain a competitive edge. Below are some of the ways AI is transforming customer experience in the hospitality industry: 1. Personalized recommendations and experiences AI-powered systems can analyze guest data such as booking history, preferences, demographics, and behavior to provide personalized recommendations and experiences. For instance, a hotel can use AI to suggest personalized room upgrades, recommend nearby attractions, or offer personalized dining recommendations based on guests’ dietary requirements. 2. Chatbots and virtual assistants …. In summary, AI is transforming the hospitality industry by enhancing customer experience, increasing efficiency, and reducing costs. With the implementation of AI, businesses can provide personalized experiences, streamline processes, and gain a competitive edge. As AI technology continues to improve, it is likely to become an essential aspect of the hospitality industry.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.1.5.5.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.5.5.4.1">
<span class="ltx_p" id="A2.T14.1.1.5.5.4.1.1" style="width:133.7pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.5.5.4.1.1.1">Assistant:</span> The central dogma of molecular biology is a fundamental principle that describes the flow of genetic information within a biological system. It was first proposed by Francis Crick in 1958. The central dogma states that genetic information flows from DNA to RNA to proteins, which are responsible for the structure and function of cells. … In summary, the central dogma of molecular biology, proposed by Francis Crick, describes the flow of genetic information from DNA to RNA to proteins, involving the processes of DNA replication, transcription, and translation.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.6.6">
<td class="ltx_td ltx_align_top ltx_border_r" id="A2.T14.1.1.6.6.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.1.1.6.6.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.6.6.2.1">
<span class="ltx_p" id="A2.T14.1.1.6.6.2.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.6.6.2.1.1.1">User:</span> when was strange case of dr jekyll and mr hyde published</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.1.1.6.6.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.6.6.3.1">
<span class="ltx_p" id="A2.T14.1.1.6.6.3.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.6.6.3.1.1.1">User:</span> I love the idea of personalized recommendations and experiences. Can you give me an example of a hotel that effectively uses AI for this purpose?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.1.6.6.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.6.6.4.1">
<span class="ltx_p" id="A2.T14.1.1.6.6.4.1.1" style="width:133.7pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.6.6.4.1.1.1">User:</span> Identify and fix one incorrect fact in your previous response.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.7.7">
<td class="ltx_td ltx_align_top ltx_border_r" id="A2.T14.1.1.7.7.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.1.1.7.7.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.7.7.2.1">
<span class="ltx_p" id="A2.T14.1.1.7.7.2.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.7.7.2.1.1.1">Assistant</span>: Strange Case of Dr Jekyll and Mr Hyde is a gothic novella by Scottish author Robert Louis Stevenson, first published in 1886.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.1.1.7.7.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.7.7.3.1">
<span class="ltx_p" id="A2.T14.1.1.7.7.3.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.7.7.3.1.1.1">Assistant: </span>Sure! One example of a hotel that effectively uses AI for personalized recommendations and experiences is the Henn-na Hotel in Japan. This hotel uses robot receptionists and facial recognition technology to provide personalized experiences for their guests. … Overall, the use of AI in Henn-na Hotel provides a seamless and personalized hospitality experience that’s entirely automated while maximizing customer service.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.1.1.7.7.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.7.7.4.1">
<span class="ltx_p" id="A2.T14.1.1.7.7.4.1.1" style="width:133.7pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.7.7.4.1.1.1">Assistant:</span> Apologies for the mistake in my previous response. The central dogma of molecular biology was first proposed by Francis Crick in 1957, not 1958. The rest of the information provided remains accurate.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.1.8.8">
<td class="ltx_td ltx_align_top ltx_border_bb ltx_border_r" id="A2.T14.1.1.8.8.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T14.1.1.8.8.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.8.8.2.1">
<span class="ltx_p" id="A2.T14.1.1.8.8.2.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.8.8.2.1.1.1">User:</span> what other books did the author write"</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T14.1.1.8.8.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.8.8.3.1">
<span class="ltx_p" id="A2.T14.1.1.8.8.3.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.8.8.3.1.1.1">User:</span> Wow, that sounds really futuristic. I’d love to stay at that hotel and experience all of their AI-powered amenities. Do you know if more hotels are adopting these technologies?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T14.1.1.8.8.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.8.8.4.1">
<span class="ltx_p" id="A2.T14.1.1.8.8.4.1.1" style="width:133.7pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.1.1.8.8.4.1.1.1">User:</span> Can you elaborate on how DNA replication in stem cells differs from that in other types of cells, particularly in the context of its accuracy and regulation?</span>
</span>
</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 14: </span>Statistics and examples for the three datasets considered in this study.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Implementation Details</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.4">We use <span class="ltx_text ltx_font_typewriter" id="A3.p1.4.1">Mistral-7B-Instruct-v0.2</span> as our critic an generator models. Critic training is performed using 4 nodes, each containing 8 NVIDIA A10G Tensor Core GPUs. The models are trained for 3 epochs, learning rate of <math alttext="2e^{-5}" class="ltx_Math" display="inline" id="A3.p1.1.m1.1"><semantics id="A3.p1.1.m1.1a"><mrow id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml"><mn id="A3.p1.1.m1.1.1.2" xref="A3.p1.1.m1.1.1.2.cmml">2</mn><mo id="A3.p1.1.m1.1.1.1" xref="A3.p1.1.m1.1.1.1.cmml">⁢</mo><msup id="A3.p1.1.m1.1.1.3" xref="A3.p1.1.m1.1.1.3.cmml"><mi id="A3.p1.1.m1.1.1.3.2" xref="A3.p1.1.m1.1.1.3.2.cmml">e</mi><mrow id="A3.p1.1.m1.1.1.3.3" xref="A3.p1.1.m1.1.1.3.3.cmml"><mo id="A3.p1.1.m1.1.1.3.3a" xref="A3.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="A3.p1.1.m1.1.1.3.3.2" xref="A3.p1.1.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b"><apply id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1"><times id="A3.p1.1.m1.1.1.1.cmml" xref="A3.p1.1.m1.1.1.1"></times><cn id="A3.p1.1.m1.1.1.2.cmml" type="integer" xref="A3.p1.1.m1.1.1.2">2</cn><apply id="A3.p1.1.m1.1.1.3.cmml" xref="A3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A3.p1.1.m1.1.1.3.1.cmml" xref="A3.p1.1.m1.1.1.3">superscript</csymbol><ci id="A3.p1.1.m1.1.1.3.2.cmml" xref="A3.p1.1.m1.1.1.3.2">𝑒</ci><apply id="A3.p1.1.m1.1.1.3.3.cmml" xref="A3.p1.1.m1.1.1.3.3"><minus id="A3.p1.1.m1.1.1.3.3.1.cmml" xref="A3.p1.1.m1.1.1.3.3"></minus><cn id="A3.p1.1.m1.1.1.3.3.2.cmml" type="integer" xref="A3.p1.1.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">2e^{-5}</annotation><annotation encoding="application/x-llamapun" id="A3.p1.1.m1.1d">2 italic_e start_POSTSUPERSCRIPT - 5 end_POSTSUPERSCRIPT</annotation></semantics></math> and warm up ratio of <math alttext="0.01" class="ltx_Math" display="inline" id="A3.p1.2.m2.1"><semantics id="A3.p1.2.m2.1a"><mn id="A3.p1.2.m2.1.1" xref="A3.p1.2.m2.1.1.cmml">0.01</mn><annotation-xml encoding="MathML-Content" id="A3.p1.2.m2.1b"><cn id="A3.p1.2.m2.1.1.cmml" type="float" xref="A3.p1.2.m2.1.1">0.01</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.2.m2.1c">0.01</annotation><annotation encoding="application/x-llamapun" id="A3.p1.2.m2.1d">0.01</annotation></semantics></math>. Generator training is performed using 5 nodes, 2 epochs, learning rate of <math alttext="2e^{-5}" class="ltx_Math" display="inline" id="A3.p1.3.m3.1"><semantics id="A3.p1.3.m3.1a"><mrow id="A3.p1.3.m3.1.1" xref="A3.p1.3.m3.1.1.cmml"><mn id="A3.p1.3.m3.1.1.2" xref="A3.p1.3.m3.1.1.2.cmml">2</mn><mo id="A3.p1.3.m3.1.1.1" xref="A3.p1.3.m3.1.1.1.cmml">⁢</mo><msup id="A3.p1.3.m3.1.1.3" xref="A3.p1.3.m3.1.1.3.cmml"><mi id="A3.p1.3.m3.1.1.3.2" xref="A3.p1.3.m3.1.1.3.2.cmml">e</mi><mrow id="A3.p1.3.m3.1.1.3.3" xref="A3.p1.3.m3.1.1.3.3.cmml"><mo id="A3.p1.3.m3.1.1.3.3a" xref="A3.p1.3.m3.1.1.3.3.cmml">−</mo><mn id="A3.p1.3.m3.1.1.3.3.2" xref="A3.p1.3.m3.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.p1.3.m3.1b"><apply id="A3.p1.3.m3.1.1.cmml" xref="A3.p1.3.m3.1.1"><times id="A3.p1.3.m3.1.1.1.cmml" xref="A3.p1.3.m3.1.1.1"></times><cn id="A3.p1.3.m3.1.1.2.cmml" type="integer" xref="A3.p1.3.m3.1.1.2">2</cn><apply id="A3.p1.3.m3.1.1.3.cmml" xref="A3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A3.p1.3.m3.1.1.3.1.cmml" xref="A3.p1.3.m3.1.1.3">superscript</csymbol><ci id="A3.p1.3.m3.1.1.3.2.cmml" xref="A3.p1.3.m3.1.1.3.2">𝑒</ci><apply id="A3.p1.3.m3.1.1.3.3.cmml" xref="A3.p1.3.m3.1.1.3.3"><minus id="A3.p1.3.m3.1.1.3.3.1.cmml" xref="A3.p1.3.m3.1.1.3.3"></minus><cn id="A3.p1.3.m3.1.1.3.3.2.cmml" type="integer" xref="A3.p1.3.m3.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.3.m3.1c">2e^{-5}</annotation><annotation encoding="application/x-llamapun" id="A3.p1.3.m3.1d">2 italic_e start_POSTSUPERSCRIPT - 5 end_POSTSUPERSCRIPT</annotation></semantics></math> and warm up ratio of <math alttext="0.03" class="ltx_Math" display="inline" id="A3.p1.4.m4.1"><semantics id="A3.p1.4.m4.1a"><mn id="A3.p1.4.m4.1.1" xref="A3.p1.4.m4.1.1.cmml">0.03</mn><annotation-xml encoding="MathML-Content" id="A3.p1.4.m4.1b"><cn id="A3.p1.4.m4.1.1.cmml" type="float" xref="A3.p1.4.m4.1.1">0.03</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.4.m4.1c">0.03</annotation><annotation encoding="application/x-llamapun" id="A3.p1.4.m4.1d">0.03</annotation></semantics></math>. The distributed training is performed using deepspeed<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/microsoft/DeepSpeed" title="">https://github.com/microsoft/DeepSpeed</a></span></span></span>. For computing BERT-Score, we use <span class="ltx_text ltx_font_typewriter" id="A3.p1.4.2">roberta-large-mnli</span> as our model.</p>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>GPT-4 Evaluation Form</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.2">We employ GPT-4 to evaluate the responses generated from the different SELF-RAG models. We set temperature to be <math alttext="1.0" class="ltx_Math" display="inline" id="A4.p1.1.m1.1"><semantics id="A4.p1.1.m1.1a"><mn id="A4.p1.1.m1.1.1" xref="A4.p1.1.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="A4.p1.1.m1.1b"><cn id="A4.p1.1.m1.1.1.cmml" type="float" xref="A4.p1.1.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.1.m1.1c">1.0</annotation><annotation encoding="application/x-llamapun" id="A4.p1.1.m1.1d">1.0</annotation></semantics></math> and maximum number of generated tokens (<span class="ltx_text ltx_font_typewriter" id="A4.p1.2.1">max_tokens</span>) to be <math alttext="512" class="ltx_Math" display="inline" id="A4.p1.2.m2.1"><semantics id="A4.p1.2.m2.1a"><mn id="A4.p1.2.m2.1.1" xref="A4.p1.2.m2.1.1.cmml">512</mn><annotation-xml encoding="MathML-Content" id="A4.p1.2.m2.1b"><cn id="A4.p1.2.m2.1.1.cmml" type="integer" xref="A4.p1.2.m2.1.1">512</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.2.m2.1c">512</annotation><annotation encoding="application/x-llamapun" id="A4.p1.2.m2.1d">512</annotation></semantics></math>. The prompt for GPT-4 evaluation is detailed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A4.T15" title="Table 15 ‣ Appendix D GPT-4 Evaluation Form ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">15</span></a>.</p>
</div>
<figure class="ltx_table" id="A4.T15">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A4.T15.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A4.T15.1.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A4.T15.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.1.1.1.1">
<span class="ltx_p" id="A4.T15.1.1.1.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A4.T15.1.1.1.1.1.1.1">Prompt for GPT-4 Evaluation</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T15.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A4.T15.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.2.1.1.1">
<span class="ltx_p" id="A4.T15.1.2.1.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A4.T15.1.2.1.1.1.1.1">Conversation History:</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.3.2.1.1">
<span class="ltx_p" id="A4.T15.1.3.2.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_typewriter" id="A4.T15.1.3.2.1.1.1.1">conversation</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.4.3.1.1">
<span class="ltx_p" id="A4.T15.1.4.3.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A4.T15.1.4.3.1.1.1.1">The Last User Question:</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.5.4.1.1">
<span class="ltx_p" id="A4.T15.1.5.4.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_typewriter" id="A4.T15.1.5.4.1.1.1.1">question</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.6.5.1.1">
<span class="ltx_p" id="A4.T15.1.6.5.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A4.T15.1.6.5.1.1.1.1">The Start of Assistant’s Answer</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.7.6.1.1">
<span class="ltx_p" id="A4.T15.1.7.6.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_typewriter" id="A4.T15.1.7.6.1.1.1.1">generated_response</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.8.7.1.1">
<span class="ltx_p" id="A4.T15.1.8.7.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A4.T15.1.8.7.1.1.1.1">The End of Assistant’s Answer</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.9.8.1.1">
<span class="ltx_p" id="A4.T15.1.9.8.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A4.T15.1.9.8.1.1.1.1">System:</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.10.9.1.1">
<span class="ltx_p" id="A4.T15.1.10.9.1.1.1" style="width:433.6pt;">Given the conversation history given above, we would like to request your feedback on the performance of the assistant in response to the <span class="ltx_text ltx_font_bold" id="A4.T15.1.10.9.1.1.1.1">Last User Question</span> as displayed above. Please rate the quality, helpfulness, level of details, and relevance of the assistant’s answer to the conversation.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A4.T15.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.11.10.1.1">
<span class="ltx_p" id="A4.T15.1.11.10.1.1.1" style="width:433.6pt;">Use your judgement considering factors such as informativeness, satisfaction, readability, ease of understanding etc. You can also base your judgement on the naturalness, factuality, correctness, usefulness and objectiveness of the answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T15.1.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A4.T15.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T15.1.12.11.1.1">
<span class="ltx_p" id="A4.T15.1.12.11.1.1.1" style="width:433.6pt;">The assistant receives an overall score on a scale of 0 to 5, where a higher score indicates better overall performance. Please output "Score: an integer number between 0 and 5". In the subsequent line, please provide a comprehensive explanation of your evaluation, avoiding any potential bias.</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 15: </span>Prompt for GPT-4 evaluation of generate responses.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Mechanical Turk Setup</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">We conduct human evaluations using Amazon Mechanical Turk to determine the quality of the generated answers based on coherence, engagingness and understandability. We give annotators fair compensation. We also use a bonus incentive structure. Every worker who passes the automatic quality checks receives a bonus at the end. In addition, we only consider workers from a country whose main language is English, who has completed 100 or more HITs so far with an acceptance rate of 95% or higher. Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A5.F5" title="Figure 5 ‣ Appendix E Mechanical Turk Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">5</span></a> shows the template for evaluating the generated response with respect to the question and conversational history. In Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A5.T16" title="Table 16 ‣ Appendix E Mechanical Turk Setup ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">16</span></a>, we provide the scores of generated response along the dimensions of coherence, engagingness and understandability as rate by the human annotators.</p>
</div>
<figure class="ltx_figure" id="A5.F5"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="896" id="A5.F5.g1" src="x4.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Screenshot of the human annotation template for the response quality measurement.</figcaption>
</figure>
<figure class="ltx_table" id="A5.T16">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A5.T16.15">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A5.T16.15.16.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A5.T16.15.16.1.1"><span class="ltx_text ltx_font_bold" id="A5.T16.15.16.1.1.1">Benchmark</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A5.T16.15.16.1.2"><span class="ltx_text ltx_font_bold" id="A5.T16.15.16.1.2.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A5.T16.15.16.1.3"><span class="ltx_text ltx_font_bold" id="A5.T16.15.16.1.3.1">Coherence</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A5.T16.15.16.1.4"><span class="ltx_text ltx_font_bold" id="A5.T16.15.16.1.4.1">Engagingness</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A5.T16.15.16.1.5"><span class="ltx_text ltx_font_bold" id="A5.T16.15.16.1.5.1">Understandability</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A5.T16.1.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.1.1.2" rowspan="4"><span class="ltx_text" id="A5.T16.1.1.2.1">QReCC</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.1.1.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.1.1.1.1">Mistral-7B-Instruct-v0.2<sup class="ltx_sup" id="A5.T16.1.1.1.1.2"><span class="ltx_text ltx_font_serif" id="A5.T16.1.1.1.1.2.1">-</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.1.1.3">4.26</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.1.1.4"><span class="ltx_text ltx_font_bold" id="A5.T16.1.1.4.1">3.17</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.1.1.5">4.78</td>
</tr>
<tr class="ltx_tr" id="A5.T16.2.2">
<td class="ltx_td ltx_align_center" id="A5.T16.2.2.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.2.2.1.1">SELF-RAG<sup class="ltx_sup" id="A5.T16.2.2.1.1.2"><span class="ltx_text ltx_font_serif" id="A5.T16.2.2.1.1.2.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.2.2.2">3.91</td>
<td class="ltx_td ltx_align_center" id="A5.T16.2.2.3">2.21</td>
<td class="ltx_td ltx_align_center" id="A5.T16.2.2.4">4.52</td>
</tr>
<tr class="ltx_tr" id="A5.T16.4.4">
<td class="ltx_td ltx_align_center" id="A5.T16.4.4.2"><span class="ltx_text ltx_font_typewriter" id="A5.T16.4.4.2.2">SELF-RAG<sub class="ltx_sub" id="A5.T16.4.4.2.2.3"><span class="ltx_text ltx_font_serif ltx_font_italic" id="A5.T16.4.4.2.2.3.1">s</span></sub><sup class="ltx_sup" id="A5.T16.4.4.2.2.4"><span class="ltx_text ltx_font_serif" id="A5.T16.4.4.2.2.4.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.4.4.3">4.26</td>
<td class="ltx_td ltx_align_center" id="A5.T16.4.4.4">2.3</td>
<td class="ltx_td ltx_align_center" id="A5.T16.4.4.5">4.72</td>
</tr>
<tr class="ltx_tr" id="A5.T16.5.5">
<td class="ltx_td ltx_align_center" id="A5.T16.5.5.1"><span class="ltx_text" id="A5.T16.5.5.1.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.5.5.1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="A5.T16.5.5.1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="A5.T16.5.5.1.1.1">RAG<sup class="ltx_sup" id="A5.T16.5.5.1.1.1.1"><span class="ltx_text ltx_font_serif" id="A5.T16.5.5.1.1.1.1.1">†</span></sup></span></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.5.5.2"><span class="ltx_text ltx_font_bold" id="A5.T16.5.5.2.1">4.75</span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.5.5.3">2.88</td>
<td class="ltx_td ltx_align_center" id="A5.T16.5.5.4"><span class="ltx_text ltx_font_bold" id="A5.T16.5.5.4.1">4.89</span></td>
</tr>
<tr class="ltx_tr" id="A5.T16.6.6">
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.6.6.2" rowspan="4"><span class="ltx_text" id="A5.T16.6.6.2.1">Ultrachat</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.6.6.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.6.6.1.1">Mistral-7B-Instruct-v0.2<sup class="ltx_sup" id="A5.T16.6.6.1.1.2"><span class="ltx_text ltx_font_serif" id="A5.T16.6.6.1.1.2.1">-</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.6.6.3">4.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.6.6.4">3.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.6.6.5">4.70</td>
</tr>
<tr class="ltx_tr" id="A5.T16.7.7">
<td class="ltx_td ltx_align_center" id="A5.T16.7.7.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.7.7.1.1">SELF-RAG<sup class="ltx_sup" id="A5.T16.7.7.1.1.2"><span class="ltx_text ltx_font_serif" id="A5.T16.7.7.1.1.2.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.7.7.2">4.03</td>
<td class="ltx_td ltx_align_center" id="A5.T16.7.7.3">2.63</td>
<td class="ltx_td ltx_align_center" id="A5.T16.7.7.4">4.59</td>
</tr>
<tr class="ltx_tr" id="A5.T16.9.9">
<td class="ltx_td ltx_align_center" id="A5.T16.9.9.2"><span class="ltx_text ltx_font_typewriter" id="A5.T16.9.9.2.2">SELF-RAG<sub class="ltx_sub" id="A5.T16.9.9.2.2.3"><span class="ltx_text ltx_font_serif ltx_font_italic" id="A5.T16.9.9.2.2.3.1">s</span></sub><sup class="ltx_sup" id="A5.T16.9.9.2.2.4"><span class="ltx_text ltx_font_serif" id="A5.T16.9.9.2.2.4.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.9.9.3">4.39</td>
<td class="ltx_td ltx_align_center" id="A5.T16.9.9.4">2.55</td>
<td class="ltx_td ltx_align_center" id="A5.T16.9.9.5">4.72</td>
</tr>
<tr class="ltx_tr" id="A5.T16.10.10">
<td class="ltx_td ltx_align_center" id="A5.T16.10.10.1"><span class="ltx_text" id="A5.T16.10.10.1.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.10.10.1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="A5.T16.10.10.1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="A5.T16.10.10.1.1.1">RAG<sup class="ltx_sup" id="A5.T16.10.10.1.1.1.1"><span class="ltx_text ltx_font_serif" id="A5.T16.10.10.1.1.1.1.1">†</span></sup></span></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.10.10.2"><span class="ltx_text ltx_font_bold" id="A5.T16.10.10.2.1">4.81</span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.10.10.3"><span class="ltx_text ltx_font_bold" id="A5.T16.10.10.3.1">3.20</span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.10.10.4"><span class="ltx_text ltx_font_bold" id="A5.T16.10.10.4.1">4.85</span></td>
</tr>
<tr class="ltx_tr" id="A5.T16.11.11">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A5.T16.11.11.2" rowspan="4"><span class="ltx_text" id="A5.T16.11.11.2.1">MT-Eval</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.11.11.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.11.11.1.1">Mistral-7B-Instruct-v0.2<sup class="ltx_sup" id="A5.T16.11.11.1.1.2"><span class="ltx_text ltx_font_serif" id="A5.T16.11.11.1.1.2.1">-</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.11.11.3">4.13</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.11.11.4">3.08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T16.11.11.5">4.62</td>
</tr>
<tr class="ltx_tr" id="A5.T16.12.12">
<td class="ltx_td ltx_align_center" id="A5.T16.12.12.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.12.12.1.1">SELF-RAG<sup class="ltx_sup" id="A5.T16.12.12.1.1.2"><span class="ltx_text ltx_font_serif" id="A5.T16.12.12.1.1.2.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.12.12.2">4.08</td>
<td class="ltx_td ltx_align_center" id="A5.T16.12.12.3">2.64</td>
<td class="ltx_td ltx_align_center" id="A5.T16.12.12.4">4.58</td>
</tr>
<tr class="ltx_tr" id="A5.T16.14.14">
<td class="ltx_td ltx_align_center" id="A5.T16.14.14.2"><span class="ltx_text ltx_font_typewriter" id="A5.T16.14.14.2.2">SELF-RAG<sub class="ltx_sub" id="A5.T16.14.14.2.2.3"><span class="ltx_text ltx_font_serif ltx_font_italic" id="A5.T16.14.14.2.2.3.1">s</span></sub><sup class="ltx_sup" id="A5.T16.14.14.2.2.4"><span class="ltx_text ltx_font_serif" id="A5.T16.14.14.2.2.4.1">†</span></sup></span></td>
<td class="ltx_td ltx_align_center" id="A5.T16.14.14.3">4.38</td>
<td class="ltx_td ltx_align_center" id="A5.T16.14.14.4">2.63</td>
<td class="ltx_td ltx_align_center" id="A5.T16.14.14.5">4.71</td>
</tr>
<tr class="ltx_tr" id="A5.T16.15.15">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A5.T16.15.15.1"><span class="ltx_text" id="A5.T16.15.15.1.1"><span class="ltx_text ltx_font_typewriter" id="A5.T16.15.15.1.1.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="A5.T16.15.15.1.1.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="A5.T16.15.15.1.1.1">RAG<sup class="ltx_sup" id="A5.T16.15.15.1.1.1.1"><span class="ltx_text ltx_font_serif" id="A5.T16.15.15.1.1.1.1.1">†</span></sup></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A5.T16.15.15.2"><span class="ltx_text ltx_font_bold" id="A5.T16.15.15.2.1">4.77</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A5.T16.15.15.3"><span class="ltx_text ltx_font_bold" id="A5.T16.15.15.3.1">3.23</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A5.T16.15.15.4"><span class="ltx_text ltx_font_bold" id="A5.T16.15.15.4.1">4.81</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 16: </span>Detailed result of human annotation scores along different dimensions of generated responses by different models.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A6">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Examples of Generated Responses</h2>
<div class="ltx_para" id="A6.p1">
<p class="ltx_p" id="A6.p1.1">In Table <a class="ltx_ref" href="https://arxiv.org/html/2409.15515v1#A6.T17" title="Table 17 ‣ Appendix F Examples of Generated Responses ‣ Learning When to Retrieve, What to Rewrite, and How to Respond in Conversational QA"><span class="ltx_text ltx_ref_tag">17</span></a>, we provide an example where <span class="ltx_text ltx_font_typewriter" id="A6.p1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="A6.p1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="A6.p1.1.3">RAG</span> comprehends longer conversational contexts better than its single-turn counterpart.</p>
</div>
<figure class="ltx_table" id="A6.T17">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A6.T17.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A6.T17.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A6.T17.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.1.2.1">
<span class="ltx_p" id="A6.T17.1.1.2.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_bold" id="A6.T17.1.1.2.1.1.1">Type</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A6.T17.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.1.3.1">
<span class="ltx_p" id="A6.T17.1.1.3.1.1" style="width:227.6pt;"><span class="ltx_text ltx_font_bold" id="A6.T17.1.1.3.1.1.1">Conversation History</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A6.T17.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.1.1.1">
<span class="ltx_p" id="A6.T17.1.1.1.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_typewriter" id="A6.T17.1.1.1.1.1.1">SELF-RAG<sub class="ltx_sub" id="A6.T17.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="A6.T17.1.1.1.1.1.1.1.1">s</span></sub></span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A6.T17.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.1.4.1">
<span class="ltx_p" id="A6.T17.1.1.4.1.1" style="width:56.9pt;"><span class="ltx_text ltx_font_typewriter" id="A6.T17.1.1.4.1.1.1">SELF</span>-<span class="ltx_text ltx_font_italic" id="A6.T17.1.1.4.1.1.2">multi</span>-<span class="ltx_text ltx_font_typewriter" id="A6.T17.1.1.4.1.1.3">RAG</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A6.T17.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.2.1.1" rowspan="2">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.2.1.1.1">
<span class="ltx_p" id="A6.T17.1.2.1.1.1.1" style="width:56.9pt;"><span class="ltx_text" id="A6.T17.1.2.1.1.1.1.1">I. Better processing of conversation history</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.2.1.2.1">
<span class="ltx_p" id="A6.T17.1.2.1.2.1.1" style="width:227.6pt;">Q: Who was the father of programming? A: Ada Lovelace is often credited as the ’father (or rather, Mother) of programming’ or the first computer programmer. Ada was an English mathematician and writer who worked with Charles Babbage on the design of his proposed mechanical general-purpose computer, the Analytical Engine. She is known for writing the first algorithm intended to be processed by a machine, specifically the Analytical Engine. Her work on the engine, including her notes on the method of using the machine to calculate Bernoulli numbers, is considered the first published algorithm and has led her to be recognized as the world’s first computer programmer. Q: When was that algorithm written?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.2.1.3.1">
<span class="ltx_p" id="A6.T17.1.2.1.3.1.1" style="width:56.9pt;">She was born in 1815. Her father was the poet Lord Byron. She was a gifted mathematician and wrote an algorithm for the first mechanical computer, the Analytical Engine</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.2.1.4.1">
<span class="ltx_p" id="A6.T17.1.2.1.4.1.1" style="width:56.9pt;">Ada Lovelace’s algorithm was written between 1842 and 1843.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A6.T17.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A6.T17.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.3.2.1.1">
<span class="ltx_p" id="A6.T17.1.3.2.1.1.1" style="width:227.6pt;">Q: Where did the i have a dream speech happen? A: I Have a Dream was delivered from the steps of the Lincoln Memorial in Washington, D.C. Q: Who made the i have a dream speech? A: I Have a Dream is a public speech that was delivered by American civil rights activist Martin Luther King Jr. Q: how big was the audience for the i have a dream speech? A: I Have a Dream is a public speech that was delivered to over 250,000 civil rights supporters. Q: Qass the speech important?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A6.T17.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.3.2.2.1">
<span class="ltx_p" id="A6.T17.1.3.2.2.1.1" style="width:56.9pt;">Martin Luther King Jr. made the I Have a Dream speech from the steps of the Lincoln Memorial in Washington, D. C</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A6.T17.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.3.2.3.1">
<span class="ltx_p" id="A6.T17.1.3.2.3.1.1" style="width:56.9pt;">Yes, the I Have a Dream speech was a pivotal moment in American history and is considered to be one of the most important speeches in American history</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A6.T17.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.4.3.1.1">
<span class="ltx_p" id="A6.T17.1.4.3.1.1.1" style="width:56.9pt;">II. Passage provided in question</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.4.3.2.1">
<span class="ltx_p" id="A6.T17.1.4.3.2.1.1" style="width:227.6pt;">Q: <span class="ltx_text ltx_font_bold" id="A6.T17.1.4.3.2.1.1.1">Here is a piece of text:</span> ShadowParty – a supergroup consisting of Devo, New Order and Verve members – have announced their first ever gig. The band is made up of Josh Hager, currently playing guitar and keyboards in Devo, New Order bassist Tom Chapman and guitarist Phil Cunningham and Devo drummer Jeff Friedl. Speaking of the band’s origins, Chapman says it was due to him feeling a bit “restless” after moving to Boston due to family commitments. <span class="ltx_text ltx_font_bold ltx_font_italic" id="A6.T17.1.4.3.2.1.1.2">The four piece have recorded an album, with guests including Denise Johnson (Primal Scream) and The Verve’s guitarist Nick McCabe.</span> It’s said to have <span class="ltx_text ltx_font_bold ltx_font_italic" id="A6.T17.1.4.3.2.1.1.3">a synth-pop vibe, with strings and guitars</span>. They’ll be making their live debut on May 18th at 1930s cinema, The Plaza, as part of The Charlatans North By Northwich. The gig is free and the show will start around 8pm. You can see the poster below. Last year, Devo were given their own set of emojis. Devo formed in 1973 and released debut album ‘Q: Are We Not Men? A: We Are Devo!’ in 1978. Their last full-length LP ‘Something for Everybody’ was released in 2010. Many of the new emojis reference memorable moments from videos for Devo hits like ‘Whip It’ and ‘(I Can’t Get No) Satisfaction’ as well as other imagery unique to the band. Based on the text material above, generate the response to the following quesion or instruction: <span class="ltx_text ltx_font_italic" id="A6.T17.1.4.3.2.1.1.4">Can you describe the musical style of ShadowParty and their upcoming debut album?</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.4.3.3.1">
<span class="ltx_p" id="A6.T17.1.4.3.3.1.1" style="width:56.9pt;">I’m not sure.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A6.T17.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.4.3.4.1">
<span class="ltx_p" id="A6.T17.1.4.3.4.1.1" style="width:56.9pt;">ShadowParty’s upcoming debut album is said to have <span class="ltx_text ltx_font_bold ltx_font_italic" id="A6.T17.1.4.3.4.1.1.1">a synth-pop vibe with strings and guitars</span>. The band has <span class="ltx_text ltx_font_bold ltx_font_italic" id="A6.T17.1.4.3.4.1.1.2">recorded an album with guests including Denise Johnson (Primal Scream) and Nick McCabe (The Verve)</span>.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A6.T17.1.5.4">
<td class="ltx_td ltx_align_top ltx_border_bb" id="A6.T17.1.5.4.1"></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A6.T17.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.5.4.2.1">
<span class="ltx_p" id="A6.T17.1.5.4.2.1.1" style="width:227.6pt;">Q: MILAN (Reuters) - Italian luxury yacht builder Ferretti is preparing for a return to the Milan stock exchange it abandoned more than 15 years ago, a source close to the matter said on Thursday. The group was delisted in 2003 and acquired by private equity firms before being bought by Chinese industrial conglomerate Weichai Group in 2012. <span class="ltx_text ltx_font_italic" id="A6.T17.1.5.4.2.1.1.1">Under the Chinese ownership, the maker of Riva and Pershing yachts has paid off its debt and returned to profit in 2016.</span> <span class="ltx_text ltx_font_italic" id="A6.T17.1.5.4.2.1.1.2">According to the most recent results available on the company’s website, Ferretti said it had a “production value” of 623 million euros ($709 million) in 2017. The website said 2017 core profit was up 11 percent at 59 million euros, with net profit jumping 71 percent to 24 million euros.</span> Owner Weichai Group believes that a new listing would improve the company’s reputation and give it the visibility a luxury group deserves, the source said, adding that timing has yet to be decided and will depend on market conditions. The source said the process is at an early stage, with the company having yet to appoint a bank as adviser and no detail available on how much of the company might be floated or at what price. A Ferretti Yachts representative was not immediately available for comment. The group considered a return to the stock market in 2008 but halted the process as the global financial crisis unfolded. The news of Ferretti potentially planning a market comeback were first reported by Italian daily MF. <span class="ltx_text ltx_font_bold" id="A6.T17.1.5.4.2.1.1.3">Based on the passage above answer:</span> Has Ferretti made any previous attempts to return to the stock market, and what factors led to the company halting those attempts? A: Yes, Ferretti considered a return to the stock market in 2008, but halted the process as the global financial crisis unfolded. Q: Can you provide more information on Ferretti’s financial performance in 2016 and 2017, and how it has improved under Chinese ownership?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A6.T17.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.5.4.3.1">
<span class="ltx_p" id="A6.T17.1.5.4.3.1.1" style="width:56.9pt;">Ferretti is preparing for a return to the Milan share market it abandoned more than 15 years ago, a source close to the matter said on Thursday. The group was delisted in 2003 and acquired by private equity firms before being bought by Chinese industrial conglomerate Weichai Group in 2012. <span class="ltx_text ltx_font_italic" id="A6.T17.1.5.4.3.1.1.1">Under the Chinese ownership, the maker of Riva and Pershing yachts has paid off its debt and returned to profit in 2016</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A6.T17.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="A6.T17.1.5.4.4.1">
<span class="ltx_p" id="A6.T17.1.5.4.4.1.1" style="width:56.9pt;">Absolutely. <span class="ltx_text ltx_font_italic" id="A6.T17.1.5.4.4.1.1.1">According to the most recent financial reports available on Ferretti’s website, the company had a ‘production value’ of 623 million euros ($709 million) in 2017. Core profit for that year was up 11 percent at 59 million euros, with net profit jumping 71 percent to 24 million euros. The company has improved under Chinese ownership, having paid off its debt.</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 17: </span>Examples of <span class="ltx_text ltx_font_typewriter" id="A6.T17.7.2">SELF</span>-<span class="ltx_text ltx_font_italic" id="A6.T17.8.3">multi</span>-<span class="ltx_text ltx_font_typewriter" id="A6.T17.9.4">RAG</span> improvements in conversational QA over <span class="ltx_text ltx_font_typewriter" id="A6.T17.3.1">SELF-RAG<sub class="ltx_sub" id="A6.T17.3.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="A6.T17.3.1.1.1">s</span></sub></span>.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Sep 23 20:05:24 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
