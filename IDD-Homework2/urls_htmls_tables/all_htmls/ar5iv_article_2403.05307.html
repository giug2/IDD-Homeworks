<article class="ltx_document ltx_authors_1line">
 <h1 class="ltx_title ltx_title_document">
  Tapilot-Crossing: Benchmarking and Evolving LLMs
  <br class="ltx_break"/>
  Towards Interactive Data Analysis Agents
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Jinyang Li
    <sup class="ltx_sup" id="id1.1.1">
     <math alttext="\clubsuit" class="ltx_Math" display="inline" id="id1.1.1.m1.1">
      <semantics id="id1.1.1.m1.1a">
       <mi id="id1.1.1.m1.1.1" mathvariant="normal" xref="id1.1.1.m1.1.1.cmml">
        ♣
       </mi>
       <annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b">
        <ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">
         ♣
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="id1.1.1.m1.1c">
        \clubsuit
       </annotation>
      </semantics>
     </math>
    </sup>
    <sup class="ltx_sup" id="id14.14.id1">
     <span class="ltx_text ltx_font_italic" id="id14.14.id1.1">
      ∗
     </span>
    </sup>
    , Nan Huo
    <sup class="ltx_sup" id="id3.3.2">
     <math alttext="\clubsuit" class="ltx_Math" display="inline" id="id3.3.2.m1.1">
      <semantics id="id3.3.2.m1.1a">
       <mi id="id3.3.2.m1.1.1" mathvariant="normal" xref="id3.3.2.m1.1.1.cmml">
        ♣
       </mi>
       <annotation-xml encoding="MathML-Content" id="id3.3.2.m1.1b">
        <ci id="id3.3.2.m1.1.1.cmml" xref="id3.3.2.m1.1.1">
         ♣
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="id3.3.2.m1.1c">
        \clubsuit
       </annotation>
      </semantics>
     </math>
    </sup>
    <sup class="ltx_sup" id="id15.15.id2">
     <span class="ltx_text ltx_font_italic" id="id15.15.id2.1">
      ∗
     </span>
    </sup>
    , Yan Gao
    <sup class="ltx_sup" id="id5.5.3">
     <math alttext="\heartsuit" class="ltx_Math" display="inline" id="id5.5.3.m1.1">
      <semantics id="id5.5.3.m1.1a">
       <mi id="id5.5.3.m1.1.1" mathvariant="normal" xref="id5.5.3.m1.1.1.cmml">
        ♡
       </mi>
       <annotation-xml encoding="MathML-Content" id="id5.5.3.m1.1b">
        <ci id="id5.5.3.m1.1.1.cmml" xref="id5.5.3.m1.1.1">
         ♡
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="id5.5.3.m1.1c">
        \heartsuit
       </annotation>
      </semantics>
     </math>
    </sup>
    ,
    <span class="ltx_text ltx_font_bold" id="id6.6.4">
     Jiayi Shi
     <sup class="ltx_sup" id="id6.6.4.1">
      <math alttext="\spadesuit" class="ltx_Math" display="inline" id="id6.6.4.1.m1.1">
       <semantics id="id6.6.4.1.m1.1a">
        <mi id="id6.6.4.1.m1.1.1" mathvariant="normal" xref="id6.6.4.1.m1.1.1.cmml">
         ♠
        </mi>
        <annotation-xml encoding="MathML-Content" id="id6.6.4.1.m1.1b">
         <ci id="id6.6.4.1.m1.1.1.cmml" xref="id6.6.4.1.m1.1.1">
          ♠
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="id6.6.4.1.m1.1c">
         \spadesuit
        </annotation>
       </semantics>
      </math>
     </sup>
    </span>
    , Yingxiu Zhao, Ge Qu
    <sup class="ltx_sup" id="id7.7.5">
     <math alttext="\clubsuit" class="ltx_Math" display="inline" id="id7.7.5.m1.1">
      <semantics id="id7.7.5.m1.1a">
       <mi id="id7.7.5.m1.1.1" mathvariant="normal" xref="id7.7.5.m1.1.1.cmml">
        ♣
       </mi>
       <annotation-xml encoding="MathML-Content" id="id7.7.5.m1.1b">
        <ci id="id7.7.5.m1.1.1.cmml" xref="id7.7.5.m1.1.1">
         ♣
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="id7.7.5.m1.1c">
        \clubsuit
       </annotation>
      </semantics>
     </math>
    </sup>
    ,
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_bold" id="id16.16.id3">
     Yurong Wu
    </span>
    ,
    <span class="ltx_text ltx_font_bold" id="id8.8.6">
     Chenhao Ma
     <sup class="ltx_sup" id="id8.8.6.1">
      <math alttext="\spadesuit" class="ltx_Math" display="inline" id="id8.8.6.1.m1.1">
       <semantics id="id8.8.6.1.m1.1a">
        <mi id="id8.8.6.1.m1.1.1" mathvariant="normal" xref="id8.8.6.1.m1.1.1.cmml">
         ♠
        </mi>
        <annotation-xml encoding="MathML-Content" id="id8.8.6.1.m1.1b">
         <ci id="id8.8.6.1.m1.1.1.cmml" xref="id8.8.6.1.m1.1.1">
          ♠
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="id8.8.6.1.m1.1c">
         \spadesuit
        </annotation>
       </semantics>
      </math>
     </sup>
    </span>
    ,
    <span class="ltx_text ltx_font_bold" id="id9.9.7">
     Jian-Guang Lou
     <sup class="ltx_sup" id="id9.9.7.1">
      <math alttext="\heartsuit" class="ltx_Math" display="inline" id="id9.9.7.1.m1.1">
       <semantics id="id9.9.7.1.m1.1a">
        <mi id="id9.9.7.1.m1.1.1" mathvariant="normal" xref="id9.9.7.1.m1.1.1.cmml">
         ♡
        </mi>
        <annotation-xml encoding="MathML-Content" id="id9.9.7.1.m1.1b">
         <ci id="id9.9.7.1.m1.1.1.cmml" xref="id9.9.7.1.m1.1.1">
          ♡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="id9.9.7.1.m1.1c">
         \heartsuit
        </annotation>
       </semantics>
      </math>
     </sup>
    </span>
    ,
    <span class="ltx_text ltx_font_bold" id="id11.11.9">
     Reynold Cheng
     <sup class="ltx_sup" id="id10.10.8.1">
      <math alttext="\clubsuit" class="ltx_Math" display="inline" id="id10.10.8.1.m1.1">
       <semantics id="id10.10.8.1.m1.1a">
        <mi id="id10.10.8.1.m1.1.1" mathvariant="normal" xref="id10.10.8.1.m1.1.1.cmml">
         ♣
        </mi>
        <annotation-xml encoding="MathML-Content" id="id10.10.8.1.m1.1b">
         <ci id="id10.10.8.1.m1.1.1.cmml" xref="id10.10.8.1.m1.1.1">
          ♣
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="id10.10.8.1.m1.1c">
         \clubsuit
        </annotation>
       </semantics>
      </math>
     </sup>
     <br class="ltx_break"/>
     <sup class="ltx_sup" id="id11.11.9.2">
      <math alttext="\clubsuit" class="ltx_Math" display="inline" id="id11.11.9.2.m1.1">
       <semantics id="id11.11.9.2.m1.1a">
        <mi id="id11.11.9.2.m1.1.1" mathvariant="normal" xref="id11.11.9.2.m1.1.1.cmml">
         ♣
        </mi>
        <annotation-xml encoding="MathML-Content" id="id11.11.9.2.m1.1b">
         <ci id="id11.11.9.2.m1.1.1.cmml" xref="id11.11.9.2.m1.1.1">
          ♣
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="id11.11.9.2.m1.1c">
         \clubsuit
        </annotation>
       </semantics>
      </math>
     </sup>
    </span>
    The University of Hong Kong,
    <sup class="ltx_sup" id="id12.12.10">
     <math alttext="\heartsuit" class="ltx_Math" display="inline" id="id12.12.10.m1.1">
      <semantics id="id12.12.10.m1.1a">
       <mi id="id12.12.10.m1.1.1" mathvariant="normal" xref="id12.12.10.m1.1.1.cmml">
        ♡
       </mi>
       <annotation-xml encoding="MathML-Content" id="id12.12.10.m1.1b">
        <ci id="id12.12.10.m1.1.1.cmml" xref="id12.12.10.m1.1.1">
         ♡
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="id12.12.10.m1.1c">
        \heartsuit
       </annotation>
      </semantics>
     </math>
    </sup>
    Microsoft Research Asia
    <br class="ltx_break"/>
    <sup class="ltx_sup" id="id13.13.11">
     <math alttext="\spadesuit" class="ltx_Math" display="inline" id="id13.13.11.m1.1">
      <semantics id="id13.13.11.m1.1a">
       <mi id="id13.13.11.m1.1.1" mathvariant="normal" xref="id13.13.11.m1.1.1.cmml">
        ♠
       </mi>
       <annotation-xml encoding="MathML-Content" id="id13.13.11.m1.1b">
        <ci id="id13.13.11.m1.1.1.cmml" xref="id13.13.11.m1.1.1">
         ♠
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="id13.13.11.m1.1c">
        \spadesuit
       </annotation>
      </semantics>
     </math>
    </sup>
    The Chinese University of Hong Kong, Shenzhen
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_typewriter" id="id17.17.id4">
     {jl0725,huonan,quge}@connect.hku.hk
    </span>
    ,
    <span class="ltx_text ltx_font_typewriter" id="id18.18.id5">
     ckcheng@cs.hku.hk
    </span>
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_typewriter" id="id19.19.id6">
     {yan.gao,jlou}@microsoft.com
    </span>
    <br class="ltx_break"/>
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id20.id1">
   Interactive Data Analysis, a collaboration between humans and LLM agents, enables real-time data exploration for informed decision-making. The challenges and costs of collecting realistic interactive logs for data analysis hinder the quantitative evaluation of Large Language Model (LLM) agents in this task. To mitigate this issue, we introduce
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.1">
    Tapilot-Crossing
   </span>
   , a new benchmark to evaluate LLM agents on interactive data analysis.
   <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="id20.id1.2">
    Tapilot-Crossing
   </span>
   contains 1024 interactions, covering 4 practical scenarios:
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.3">
    Normal
   </span>
   ,
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.4">
    Action
   </span>
   ,
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.5">
    Private
   </span>
   , and
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.6">
    Private Action
   </span>
   . Notably,
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.7">
    Tapilot-Crossing
   </span>
   is constructed by an economical multi-agent environment,
   <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="id20.id1.8">
    Decision Company
   </span>
   , with few human efforts. We evaluate popular and advanced LLM agents in
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.9">
    Tapilot-Crossing
   </span>
   , which underscores the challenges of interactive data analysis. Furthermore, we propose
   <span class="ltx_text ltx_font_bold" id="id20.id1.10">
    A
   </span>
   daptive
   <span class="ltx_text ltx_font_bold" id="id20.id1.11">
    I
   </span>
   nteraction
   <span class="ltx_text ltx_font_bold" id="id20.id1.12">
    R
   </span>
   eflection (
   <span class="ltx_text ltx_font_bold" id="id20.id1.13">
    AIR
   </span>
   ), a self-generated reflection strategy that guides LLM agents to
   <span class="ltx_text ltx_font_bold ltx_font_italic" id="id20.id1.14">
    learn from successful history
   </span>
   .
Experiments demonstrate that
   <span class="ltx_text ltx_font_smallcaps" id="id20.id1.15">
    Air
   </span>
   can evolve LLMs into effective interactive data analysis agents, achieving a relative performance improvement of up to 44.5%.
   <span class="ltx_note ltx_role_footnote" id="footnotex2">
    <sup class="ltx_note_mark">
     2
    </sup>
    <span class="ltx_note_outer">
     <span class="ltx_note_content">
      <sup class="ltx_note_mark">
       2
      </sup>
      <span class="ltx_tag ltx_tag_note">
       2
      </span>
      <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://tapilot-crossing.github.io/" target="_blank" title="">
       https://tapilot-crossing.github.io/
      </a>
     </span>
    </span>
   </span>
  </p>
 </div>
 <span class="ltx_note ltx_role_footnotetext" id="footnotex1">
  <sup class="ltx_note_mark">
   1
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     1
    </sup>
    <span class="ltx_note_type">
     footnotetext:
    </span>
    Equal contribution.
   </span>
  </span>
 </span>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    1
   </span>
   Introduction
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    The exponential growth of the big data calls for accessible data analysis or data science techniques that cater to a range of technical backgrounds in various data-driven domains, such as healthcare, games, and entertainment
    <cite class="ltx_cite ltx_citemacro_citep">
     (Khanbabaei et al.,
     <a class="ltx_ref" href="#bib.bib23" title="">
      2018
     </a>
     ; Han et al.,
     <a class="ltx_ref" href="#bib.bib16" title="">
      2011
     </a>
     ; Fayyad et al.,
     <a class="ltx_ref" href="#bib.bib11" title="">
      1996
     </a>
     )
    </cite>
    .
Recently, the fast development of Large Language Model (LLM) agents
    <cite class="ltx_cite ltx_citemacro_citep">
     (Liu et al.,
     <a class="ltx_ref" href="#bib.bib34" title="">
      2023b
     </a>
     ; Xu et al.,
     <a class="ltx_ref" href="#bib.bib48" title="">
      2023b
     </a>
     ; Zeng et al.,
     <a class="ltx_ref" href="#bib.bib58" title="">
      2023
     </a>
     ; Xu et al.,
     <a class="ltx_ref" href="#bib.bib47" title="">
      2023a
     </a>
     ; Deng et al.,
     <a class="ltx_ref" href="#bib.bib8" title="">
      2024
     </a>
     ; Si et al.,
     <a class="ltx_ref" href="#bib.bib41" title="">
      2023
     </a>
     )
    </cite>
    have been recevied much attention. They are capable of understanding natural language queries and generating corresponding code or analysis for data manipulation and visualization by reasoning
    <cite class="ltx_cite ltx_citemacro_citep">
     (Huang and Chang,
     <a class="ltx_ref" href="#bib.bib19" title="">
      2023
     </a>
     ; Wei et al.,
     <a class="ltx_ref" href="#bib.bib45" title="">
      2022
     </a>
     ; Yao et al.,
     <a class="ltx_ref" href="#bib.bib51" title="">
      2023
     </a>
     )
    </cite>
    and tool calls
    <cite class="ltx_cite ltx_citemacro_citep">
     (Li et al.,
     <a class="ltx_ref" href="#bib.bib30" title="">
      2023b
     </a>
     ; Huang et al.,
     <a class="ltx_ref" href="#bib.bib21" title="">
      2023b
     </a>
     ; Qin et al.,
     <a class="ltx_ref" href="#bib.bib39" title="">
      2023
     </a>
     )
    </cite>
    .
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="200" id="S1.F1.g1" src="/html/2403.05307/assets/x1.png" width="216"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1:
    </span>
    This is an overview of the four interaction modes in
    <span class="ltx_text ltx_font_smallcaps" id="S1.F1.3.1">
     Tapilot-Crossing
    </span>
    .
    <span class="ltx_text ltx_font_typewriter" id="S1.F1.4.2">
     Notable Opponents
    </span>
    is ambiguous which requires clarification in multi-turn interaction.
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    SheetCopilot
    <cite class="ltx_cite ltx_citemacro_citep">
     (Li et al.,
     <a class="ltx_ref" href="#bib.bib28" title="">
      2024c
     </a>
     )
    </cite>
    , TableGPT
    <cite class="ltx_cite ltx_citemacro_citep">
     (Zha et al.,
     <a class="ltx_ref" href="#bib.bib59" title="">
      2023
     </a>
     )
    </cite>
    , Data-Copilot
    <cite class="ltx_cite ltx_citemacro_citep">
     (Zhang et al.,
     <a class="ltx_ref" href="#bib.bib60" title="">
      2023a
     </a>
     )
    </cite>
    showcase the potential of tabular data analysis agents through automatic workflow given the user queries.
However, the dynamic and uncertain nature of real-world analysis obliges effective human-agent interaction. This is because user intents can often be ambiguous
    <cite class="ltx_cite ltx_citemacro_citep">
     (De Vries et al.,
     <a class="ltx_ref" href="#bib.bib7" title="">
      2020
     </a>
     ; Yan et al.,
     <a class="ltx_ref" href="#bib.bib49" title="">
      2023
     </a>
     ; Wang et al.,
     <a class="ltx_ref" href="#bib.bib43" title="">
      2024
     </a>
     )
    </cite>
    , and users may need to adjust their analysis strategies based on intermediate results
    <cite class="ltx_cite ltx_citemacro_citep">
     (Yan et al.,
     <a class="ltx_ref" href="#bib.bib49" title="">
      2023
     </a>
     ; Yao et al.,
     <a class="ltx_ref" href="#bib.bib52" title="">
      2020
     </a>
     )
    </cite>
    .
For example, in Figure
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    , the
    <span class="ltx_text ltx_font_typewriter" id="S1.p2.1.1">
     notable opponents
    </span>
    could refer to a variety of interpretations, such as the opponents with the highest wins, or the most frequent opponents.
To this end, a thorough benchmark for gauging their capability for interactive user engagement in data analysis scenarios is indispensable.
   </p>
  </div>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    In this paper, we introduce
    <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.1">
     Tapilot-Crossing
    </span>
    , a new benchmark for evaluating LLM agents in interactive data analysis tasks.
    <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.2">
     Tapilot-Crossing
    </span>
    is designed to simulate real-world data analysis scenarios, where users interact with LLM agents to generate codes for data exploration and decision makings. It includes 1024 user-machine interactions with 1176 user intents, spanning four practical scenarios:
    <span class="ltx_text ltx_font_bold" id="S1.p3.1.3">
     1) Normal
    </span>
    , where all questions and user requirements are explicit, requiring no actions from agents;
    <span class="ltx_text ltx_font_bold" id="S1.p3.1.4">
     2) Action
    </span>
    , where agents must respond to diverse user feedback or instructions;
    <span class="ltx_text ltx_font_bold" id="S1.p3.1.5">
     3) Private
    </span>
    , which examines the true semantic parsing capability of agents when encountering unseen packages during the pre-training phase
    <cite class="ltx_cite ltx_citemacro_citep">
     (Zan et al.,
     <a class="ltx_ref" href="#bib.bib57" title="">
      2022
     </a>
     )
    </cite>
    ; and
    <span class="ltx_text ltx_font_bold" id="S1.p3.1.6">
     4) Private Action
    </span>
    , a mode that combines the features of Private and Action, more closely reflecting real-world data analysis. There are two answer types:
    <span class="ltx_text ltx_font_bold" id="S1.p3.1.7">
     1) Code Generation
    </span>
    , which can test whether the agent can correctly interpret the user’s query and generate the corresponding code for data analysis, and
    <span class="ltx_text ltx_font_bold" id="S1.p3.1.8">
     2) Multiple-Choice questions
    </span>
    , which can evaluate the agent’s ability to understand the returned results being executed and provide appropriate insights for users.
   </p>
  </div>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    The conventional construction of datasets or benchmarks based on crowdsourcing, especially for high-quality and interactive scenarios, is time-consuming and costly due to the significant human effort and expertise required
    <cite class="ltx_cite ltx_citemacro_citep">
     (Yu et al.,
     <a class="ltx_ref" href="#bib.bib54" title="">
      2019a
     </a>
     ; Li et al.,
     <a class="ltx_ref" href="#bib.bib29" title="">
      2023a
     </a>
     ; Guo et al.,
     <a class="ltx_ref" href="#bib.bib15" title="">
      2021
     </a>
     ; Li et al.,
     <a class="ltx_ref" href="#bib.bib32" title="">
      2023d
     </a>
     ; Zhang et al.,
     <a class="ltx_ref" href="#bib.bib62" title="">
      2023c
     </a>
     )
    </cite>
    .
In this case, we design a novel multi-agent environment,
    <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S1.p4.1.1">
     Decision Company
    </span>
    , to construct
    <span class="ltx_text ltx_font_smallcaps" id="S1.p4.1.2">
     Tapilot-Crossing
    </span>
    .
    <span class="ltx_text ltx_font_smallcaps" id="S1.p4.1.3">
     Decision Company
    </span>
    is a simulated environment where 4 GPT-4 agents communicate with each other to perform data analysis tasks.
By using this environment, two PhD students are able to construct
    <span class="ltx_text ltx_font_smallcaps" id="S1.p4.1.4">
     Tapilot-Crossing
    </span>
    within a span of one months at a cost of less than 100 US dollars.
   </p>
  </div>
  <div class="ltx_para" id="S1.p5">
   <p class="ltx_p" id="S1.p5.1">
    We evaluate the popular advanced LLM agents on
    <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.1">
     Tapilot-Crossing
    </span>
    . The results underscore the challenges of interactive data analysis and fuel the need for more advanced LLM agents that can handle diverse user intents and feedback.
   </p>
  </div>
  <div class="ltx_para" id="S1.p6">
   <p class="ltx_p" id="S1.p6.1">
    To further evolve the LLMs towards effective interactive data analysis agents, we propose
    <span class="ltx_text ltx_font_bold" id="S1.p6.1.1">
     A
    </span>
    daptive
    <span class="ltx_text ltx_font_bold" id="S1.p6.1.2">
     I
    </span>
    nteraction
    <span class="ltx_text ltx_font_bold" id="S1.p6.1.3">
     R
    </span>
    eflection (
    <span class="ltx_text ltx_font_bold" id="S1.p6.1.4">
     AIR
    </span>
    ), which guides LLM agents to
    <span class="ltx_text ltx_font_bold ltx_font_italic" id="S1.p6.1.5">
     learn from successful history
    </span>
    via self-generated pseudo logic reflection.
   </p>
  </div>
  <div class="ltx_para" id="S1.p7">
   <p class="ltx_p" id="S1.p7.1">
    Our experiments demonstrate that
    <span class="ltx_text ltx_font_bold" id="S1.p7.1.1">
     AIR
    </span>
    can significantly enhance the performance of LLMs, in which GPT-4 can gain relative improvement of 44.5% compared to its model base. offering an insight of how to actively improve the interaction between human and LLM agents in data analysis tasks.
   </p>
  </div>
  <div class="ltx_para" id="S1.p8">
   <p class="ltx_p" id="S1.p8.1">
    In summary, our contributions are threefold:
   </p>
   <ul class="ltx_itemize" id="S1.I1">
    <li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i1.p1">
      <p class="ltx_p" id="S1.I1.i1.p1.1">
       We introduce
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i1.p1.1.1">
        Tapilot-Crossing
       </span>
       , a new benchmark for evaluating LLM agents in interactive data analysis tasks.
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i1.p1.1.2">
        Tapilot-Crossing
       </span>
       is constructed by our designed multi-agent environment within few human efforts,
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i1.p1.1.3">
        Decision Company
       </span>
       , and covers a wide range of practical scenarios.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i2.p1">
      <p class="ltx_p" id="S1.I1.i2.p1.1">
       We evaluate popular LLM agents on
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i2.p1.1.1">
        Tapilot-Crossing
       </span>
       , highlighting the challenges of interactive data analysis and the need for more advanced LLM agents.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i3.p1">
      <p class="ltx_p" id="S1.I1.i3.p1.1">
       We propose
       <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S1.I1.i3.p1.1.1">
        AIR
       </span>
       , an effective and efficient reflection strategy that significantly improves the performance of LLM agents in interactive data analysis tasks.
      </p>
     </div>
    </li>
   </ul>
  </div>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    2
   </span>
   Preliminaries
  </h2>
  <figure class="ltx_figure" id="S2.F2">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="338" id="S2.F2.g1" src="/html/2403.05307/assets/x2.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 2:
    </span>
    This figure provides an overview of action types in
    <span class="ltx_text ltx_font_smallcaps" id="S2.F2.4.1">
     Tapilot-Crossing
    </span>
    , illustrated by examples. We emphasize the keywords specific to each category, and demonstrate the relevant sections of the associated queries, as well as the agent actions. The number of
    <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="2" id="S2.F2.2.g1" src="/html/2403.05307/assets/img/star.png" width="10"/>
    symbols represents the relative difficulty of each action.
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="S2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.1
    </span>
    Interactive Data analysis
   </h3>
   <div class="ltx_para" id="S2.SS1.p1">
    <p class="ltx_p" id="S2.SS1.p1.9">
     The task of interactive data analysis with LLM agents involves a user and an LLM agent engaging in a sequence of user-agent turns, denoted as
     <math alttext="[(u_{1},a_{1}),(u_{2},a_{2}),...,(u_{n},a_{n})]" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.4">
      <semantics id="S2.SS1.p1.1.m1.4a">
       <mrow id="S2.SS1.p1.1.m1.4.4.3" xref="S2.SS1.p1.1.m1.4.4.4.cmml">
        <mo id="S2.SS1.p1.1.m1.4.4.3.4" stretchy="false" xref="S2.SS1.p1.1.m1.4.4.4.cmml">
         [
        </mo>
        <mrow id="S2.SS1.p1.1.m1.2.2.1.1.2" xref="S2.SS1.p1.1.m1.2.2.1.1.3.cmml">
         <mo id="S2.SS1.p1.1.m1.2.2.1.1.2.3" stretchy="false" xref="S2.SS1.p1.1.m1.2.2.1.1.3.cmml">
          (
         </mo>
         <msub id="S2.SS1.p1.1.m1.2.2.1.1.1.1" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.cmml">
          <mi id="S2.SS1.p1.1.m1.2.2.1.1.1.1.2" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.2.cmml">
           u
          </mi>
          <mn id="S2.SS1.p1.1.m1.2.2.1.1.1.1.3" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.3.cmml">
           1
          </mn>
         </msub>
         <mo id="S2.SS1.p1.1.m1.2.2.1.1.2.4" xref="S2.SS1.p1.1.m1.2.2.1.1.3.cmml">
          ,
         </mo>
         <msub id="S2.SS1.p1.1.m1.2.2.1.1.2.2" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2.cmml">
          <mi id="S2.SS1.p1.1.m1.2.2.1.1.2.2.2" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2.2.cmml">
           a
          </mi>
          <mn id="S2.SS1.p1.1.m1.2.2.1.1.2.2.3" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2.3.cmml">
           1
          </mn>
         </msub>
         <mo id="S2.SS1.p1.1.m1.2.2.1.1.2.5" stretchy="false" xref="S2.SS1.p1.1.m1.2.2.1.1.3.cmml">
          )
         </mo>
        </mrow>
        <mo id="S2.SS1.p1.1.m1.4.4.3.5" xref="S2.SS1.p1.1.m1.4.4.4.cmml">
         ,
        </mo>
        <mrow id="S2.SS1.p1.1.m1.3.3.2.2.2" xref="S2.SS1.p1.1.m1.3.3.2.2.3.cmml">
         <mo id="S2.SS1.p1.1.m1.3.3.2.2.2.3" stretchy="false" xref="S2.SS1.p1.1.m1.3.3.2.2.3.cmml">
          (
         </mo>
         <msub id="S2.SS1.p1.1.m1.3.3.2.2.1.1" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1.cmml">
          <mi id="S2.SS1.p1.1.m1.3.3.2.2.1.1.2" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1.2.cmml">
           u
          </mi>
          <mn id="S2.SS1.p1.1.m1.3.3.2.2.1.1.3" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1.3.cmml">
           2
          </mn>
         </msub>
         <mo id="S2.SS1.p1.1.m1.3.3.2.2.2.4" xref="S2.SS1.p1.1.m1.3.3.2.2.3.cmml">
          ,
         </mo>
         <msub id="S2.SS1.p1.1.m1.3.3.2.2.2.2" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2.cmml">
          <mi id="S2.SS1.p1.1.m1.3.3.2.2.2.2.2" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2.2.cmml">
           a
          </mi>
          <mn id="S2.SS1.p1.1.m1.3.3.2.2.2.2.3" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2.3.cmml">
           2
          </mn>
         </msub>
         <mo id="S2.SS1.p1.1.m1.3.3.2.2.2.5" stretchy="false" xref="S2.SS1.p1.1.m1.3.3.2.2.3.cmml">
          )
         </mo>
        </mrow>
        <mo id="S2.SS1.p1.1.m1.4.4.3.6" xref="S2.SS1.p1.1.m1.4.4.4.cmml">
         ,
        </mo>
        <mi id="S2.SS1.p1.1.m1.1.1" mathvariant="normal" xref="S2.SS1.p1.1.m1.1.1.cmml">
         …
        </mi>
        <mo id="S2.SS1.p1.1.m1.4.4.3.7" xref="S2.SS1.p1.1.m1.4.4.4.cmml">
         ,
        </mo>
        <mrow id="S2.SS1.p1.1.m1.4.4.3.3.2" xref="S2.SS1.p1.1.m1.4.4.3.3.3.cmml">
         <mo id="S2.SS1.p1.1.m1.4.4.3.3.2.3" stretchy="false" xref="S2.SS1.p1.1.m1.4.4.3.3.3.cmml">
          (
         </mo>
         <msub id="S2.SS1.p1.1.m1.4.4.3.3.1.1" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1.cmml">
          <mi id="S2.SS1.p1.1.m1.4.4.3.3.1.1.2" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1.2.cmml">
           u
          </mi>
          <mi id="S2.SS1.p1.1.m1.4.4.3.3.1.1.3" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S2.SS1.p1.1.m1.4.4.3.3.2.4" xref="S2.SS1.p1.1.m1.4.4.3.3.3.cmml">
          ,
         </mo>
         <msub id="S2.SS1.p1.1.m1.4.4.3.3.2.2" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2.cmml">
          <mi id="S2.SS1.p1.1.m1.4.4.3.3.2.2.2" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2.2.cmml">
           a
          </mi>
          <mi id="S2.SS1.p1.1.m1.4.4.3.3.2.2.3" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S2.SS1.p1.1.m1.4.4.3.3.2.5" stretchy="false" xref="S2.SS1.p1.1.m1.4.4.3.3.3.cmml">
          )
         </mo>
        </mrow>
        <mo id="S2.SS1.p1.1.m1.4.4.3.8" stretchy="false" xref="S2.SS1.p1.1.m1.4.4.4.cmml">
         ]
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.4b">
        <list id="S2.SS1.p1.1.m1.4.4.4.cmml" xref="S2.SS1.p1.1.m1.4.4.3">
         <interval closure="open" id="S2.SS1.p1.1.m1.2.2.1.1.3.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.2">
          <apply id="S2.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1">
           <csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S2.SS1.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.2">
            𝑢
           </ci>
           <cn id="S2.SS1.p1.1.m1.2.2.1.1.1.1.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.3">
            1
           </cn>
          </apply>
          <apply id="S2.SS1.p1.1.m1.2.2.1.1.2.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2">
           <csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.1.1.2.2.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2">
            subscript
           </csymbol>
           <ci id="S2.SS1.p1.1.m1.2.2.1.1.2.2.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2.2">
            𝑎
           </ci>
           <cn id="S2.SS1.p1.1.m1.2.2.1.1.2.2.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.2.2.1.1.2.2.3">
            1
           </cn>
          </apply>
         </interval>
         <interval closure="open" id="S2.SS1.p1.1.m1.3.3.2.2.3.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2">
          <apply id="S2.SS1.p1.1.m1.3.3.2.2.1.1.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1">
           <csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.3.3.2.2.1.1.1.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1">
            subscript
           </csymbol>
           <ci id="S2.SS1.p1.1.m1.3.3.2.2.1.1.2.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1.2">
            𝑢
           </ci>
           <cn id="S2.SS1.p1.1.m1.3.3.2.2.1.1.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.3.3.2.2.1.1.3">
            2
           </cn>
          </apply>
          <apply id="S2.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2">
           <csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.3.3.2.2.2.2.1.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2">
            subscript
           </csymbol>
           <ci id="S2.SS1.p1.1.m1.3.3.2.2.2.2.2.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2.2">
            𝑎
           </ci>
           <cn id="S2.SS1.p1.1.m1.3.3.2.2.2.2.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2.3">
            2
           </cn>
          </apply>
         </interval>
         <ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">
          …
         </ci>
         <interval closure="open" id="S2.SS1.p1.1.m1.4.4.3.3.3.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.2">
          <apply id="S2.SS1.p1.1.m1.4.4.3.3.1.1.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1">
           <csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.4.4.3.3.1.1.1.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1">
            subscript
           </csymbol>
           <ci id="S2.SS1.p1.1.m1.4.4.3.3.1.1.2.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1.2">
            𝑢
           </ci>
           <ci id="S2.SS1.p1.1.m1.4.4.3.3.1.1.3.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.1.1.3">
            𝑛
           </ci>
          </apply>
          <apply id="S2.SS1.p1.1.m1.4.4.3.3.2.2.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2">
           <csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.4.4.3.3.2.2.1.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2">
            subscript
           </csymbol>
           <ci id="S2.SS1.p1.1.m1.4.4.3.3.2.2.2.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2.2">
            𝑎
           </ci>
           <ci id="S2.SS1.p1.1.m1.4.4.3.3.2.2.3.cmml" xref="S2.SS1.p1.1.m1.4.4.3.3.2.2.3">
            𝑛
           </ci>
          </apply>
         </interval>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.4c">
        [(u_{1},a_{1}),(u_{2},a_{2}),...,(u_{n},a_{n})]
       </annotation>
      </semantics>
     </math>
     , where
     <math alttext="n" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1">
      <semantics id="S2.SS1.p1.2.m2.1a">
       <mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b">
        <ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">
         𝑛
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">
        n
       </annotation>
      </semantics>
     </math>
     is the number of turns in the dialog. Each user-agent turn is a tuple
     <math alttext="(u,a)" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.2">
      <semantics id="S2.SS1.p1.3.m3.2a">
       <mrow id="S2.SS1.p1.3.m3.2.3.2" xref="S2.SS1.p1.3.m3.2.3.1.cmml">
        <mo id="S2.SS1.p1.3.m3.2.3.2.1" stretchy="false" xref="S2.SS1.p1.3.m3.2.3.1.cmml">
         (
        </mo>
        <mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">
         u
        </mi>
        <mo id="S2.SS1.p1.3.m3.2.3.2.2" xref="S2.SS1.p1.3.m3.2.3.1.cmml">
         ,
        </mo>
        <mi id="S2.SS1.p1.3.m3.2.2" xref="S2.SS1.p1.3.m3.2.2.cmml">
         a
        </mi>
        <mo id="S2.SS1.p1.3.m3.2.3.2.3" stretchy="false" xref="S2.SS1.p1.3.m3.2.3.1.cmml">
         )
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.2b">
        <interval closure="open" id="S2.SS1.p1.3.m3.2.3.1.cmml" xref="S2.SS1.p1.3.m3.2.3.2">
         <ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">
          𝑢
         </ci>
         <ci id="S2.SS1.p1.3.m3.2.2.cmml" xref="S2.SS1.p1.3.m3.2.2">
          𝑎
         </ci>
        </interval>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.2c">
        (u,a)
       </annotation>
      </semantics>
     </math>
     , where
     <math alttext="u" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1">
      <semantics id="S2.SS1.p1.4.m4.1a">
       <mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">
        u
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b">
        <ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">
         𝑢
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">
        u
       </annotation>
      </semantics>
     </math>
     is the user’s query and
     <math alttext="a" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.1">
      <semantics id="S2.SS1.p1.5.m5.1a">
       <mi id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml">
        a
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b">
        <ci id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">
         𝑎
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">
        a
       </annotation>
      </semantics>
     </math>
     is the agent’s response. The user’s query
     <math alttext="u" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.1">
      <semantics id="S2.SS1.p1.6.m6.1a">
       <mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">
        u
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b">
        <ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">
         𝑢
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">
        u
       </annotation>
      </semantics>
     </math>
     can be a natural language instruction or a feedback to the user’s or agent’s previous response. The agent’s response
     <math alttext="a" class="ltx_Math" display="inline" id="S2.SS1.p1.7.m7.1">
      <semantics id="S2.SS1.p1.7.m7.1a">
       <mi id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">
        a
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b">
        <ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">
         𝑎
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">
        a
       </annotation>
      </semantics>
     </math>
     can be a code snippet for data analysis or the correct answer chosen from a list of options provided with the question. Each dialog starts with the user’s initial query
     <math alttext="u_{1}" class="ltx_Math" display="inline" id="S2.SS1.p1.8.m8.1">
      <semantics id="S2.SS1.p1.8.m8.1a">
       <msub id="S2.SS1.p1.8.m8.1.1" xref="S2.SS1.p1.8.m8.1.1.cmml">
        <mi id="S2.SS1.p1.8.m8.1.1.2" xref="S2.SS1.p1.8.m8.1.1.2.cmml">
         u
        </mi>
        <mn id="S2.SS1.p1.8.m8.1.1.3" xref="S2.SS1.p1.8.m8.1.1.3.cmml">
         1
        </mn>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b">
        <apply id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">
         <csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.1.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS1.p1.8.m8.1.1.2.cmml" xref="S2.SS1.p1.8.m8.1.1.2">
          𝑢
         </ci>
         <cn id="S2.SS1.p1.8.m8.1.1.3.cmml" type="integer" xref="S2.SS1.p1.8.m8.1.1.3">
          1
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">
        u_{1}
       </annotation>
      </semantics>
     </math>
     and ends with the agent’s final response
     <math alttext="a_{n}" class="ltx_Math" display="inline" id="S2.SS1.p1.9.m9.1">
      <semantics id="S2.SS1.p1.9.m9.1a">
       <msub id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml">
        <mi id="S2.SS1.p1.9.m9.1.1.2" xref="S2.SS1.p1.9.m9.1.1.2.cmml">
         a
        </mi>
        <mi id="S2.SS1.p1.9.m9.1.1.3" xref="S2.SS1.p1.9.m9.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b">
        <apply id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">
         <csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.1.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS1.p1.9.m9.1.1.2.cmml" xref="S2.SS1.p1.9.m9.1.1.2">
          𝑎
         </ci>
         <ci id="S2.SS1.p1.9.m9.1.1.3.cmml" xref="S2.SS1.p1.9.m9.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">
        a_{n}
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.2
    </span>
    Agent Actions in Interactions
   </h3>
   <div class="ltx_para" id="S2.SS2.p1">
    <p class="ltx_p" id="S2.SS2.p1.4">
     In
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS2.p1.4.1">
      Tapilot-Crossing
     </span>
     , we summarize 6 common agent actions in interactions to deal with the user intents and the contexts as described in Figure
     <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‣ 2 Preliminaries ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     . We denote the agent action set as
     <math alttext="A" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1">
      <semantics id="S2.SS2.p1.1.m1.1a">
       <mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">
        A
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b">
        <ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">
         𝐴
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">
        A
       </annotation>
      </semantics>
     </math>
     , which is a function of the user’s query
     <math alttext="u" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1">
      <semantics id="S2.SS2.p1.2.m2.1a">
       <mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">
        u
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b">
        <ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">
         𝑢
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">
        u
       </annotation>
      </semantics>
     </math>
     , the dialog history of the interaction
     <math alttext="H" class="ltx_Math" display="inline" id="S2.SS2.p1.3.m3.1">
      <semantics id="S2.SS2.p1.3.m3.1a">
       <mi id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml">
        H
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b">
        <ci id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">
         𝐻
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">
        H
       </annotation>
      </semantics>
     </math>
     , and
     <math alttext="T" class="ltx_Math" display="inline" id="S2.SS2.p1.4.m4.1">
      <semantics id="S2.SS2.p1.4.m4.1a">
       <mi id="S2.SS2.p1.4.m4.1.1" xref="S2.SS2.p1.4.m4.1.1.cmml">
        T
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.1b">
        <ci id="S2.SS2.p1.4.m4.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1">
         𝑇
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.1c">
        T
       </annotation>
      </semantics>
     </math>
     refers to the table contents. In this work, we mainly focus on data analysis of tabular data.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS2.p2">
    <p class="ltx_p" id="S2.SS2.p2.4">
     Formally, we represent the agent action set as
     <math alttext="A=f_{\theta}(u,H,T)" class="ltx_Math" display="inline" id="S2.SS2.p2.1.m1.3">
      <semantics id="S2.SS2.p2.1.m1.3a">
       <mrow id="S2.SS2.p2.1.m1.3.4" xref="S2.SS2.p2.1.m1.3.4.cmml">
        <mi id="S2.SS2.p2.1.m1.3.4.2" xref="S2.SS2.p2.1.m1.3.4.2.cmml">
         A
        </mi>
        <mo id="S2.SS2.p2.1.m1.3.4.1" xref="S2.SS2.p2.1.m1.3.4.1.cmml">
         =
        </mo>
        <mrow id="S2.SS2.p2.1.m1.3.4.3" xref="S2.SS2.p2.1.m1.3.4.3.cmml">
         <msub id="S2.SS2.p2.1.m1.3.4.3.2" xref="S2.SS2.p2.1.m1.3.4.3.2.cmml">
          <mi id="S2.SS2.p2.1.m1.3.4.3.2.2" xref="S2.SS2.p2.1.m1.3.4.3.2.2.cmml">
           f
          </mi>
          <mi id="S2.SS2.p2.1.m1.3.4.3.2.3" xref="S2.SS2.p2.1.m1.3.4.3.2.3.cmml">
           θ
          </mi>
         </msub>
         <mo id="S2.SS2.p2.1.m1.3.4.3.1" lspace="0em" rspace="0em" xref="S2.SS2.p2.1.m1.3.4.3.1.cmml">
          ​
         </mo>
         <mrow id="S2.SS2.p2.1.m1.3.4.3.3.2" xref="S2.SS2.p2.1.m1.3.4.3.3.1.cmml">
          <mo id="S2.SS2.p2.1.m1.3.4.3.3.2.1" stretchy="false" xref="S2.SS2.p2.1.m1.3.4.3.3.1.cmml">
           (
          </mo>
          <mi id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml">
           u
          </mi>
          <mo id="S2.SS2.p2.1.m1.3.4.3.3.2.2" xref="S2.SS2.p2.1.m1.3.4.3.3.1.cmml">
           ,
          </mo>
          <mi id="S2.SS2.p2.1.m1.2.2" xref="S2.SS2.p2.1.m1.2.2.cmml">
           H
          </mi>
          <mo id="S2.SS2.p2.1.m1.3.4.3.3.2.3" xref="S2.SS2.p2.1.m1.3.4.3.3.1.cmml">
           ,
          </mo>
          <mi id="S2.SS2.p2.1.m1.3.3" xref="S2.SS2.p2.1.m1.3.3.cmml">
           T
          </mi>
          <mo id="S2.SS2.p2.1.m1.3.4.3.3.2.4" stretchy="false" xref="S2.SS2.p2.1.m1.3.4.3.3.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.3b">
        <apply id="S2.SS2.p2.1.m1.3.4.cmml" xref="S2.SS2.p2.1.m1.3.4">
         <eq id="S2.SS2.p2.1.m1.3.4.1.cmml" xref="S2.SS2.p2.1.m1.3.4.1">
         </eq>
         <ci id="S2.SS2.p2.1.m1.3.4.2.cmml" xref="S2.SS2.p2.1.m1.3.4.2">
          𝐴
         </ci>
         <apply id="S2.SS2.p2.1.m1.3.4.3.cmml" xref="S2.SS2.p2.1.m1.3.4.3">
          <times id="S2.SS2.p2.1.m1.3.4.3.1.cmml" xref="S2.SS2.p2.1.m1.3.4.3.1">
          </times>
          <apply id="S2.SS2.p2.1.m1.3.4.3.2.cmml" xref="S2.SS2.p2.1.m1.3.4.3.2">
           <csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.3.4.3.2.1.cmml" xref="S2.SS2.p2.1.m1.3.4.3.2">
            subscript
           </csymbol>
           <ci id="S2.SS2.p2.1.m1.3.4.3.2.2.cmml" xref="S2.SS2.p2.1.m1.3.4.3.2.2">
            𝑓
           </ci>
           <ci id="S2.SS2.p2.1.m1.3.4.3.2.3.cmml" xref="S2.SS2.p2.1.m1.3.4.3.2.3">
            𝜃
           </ci>
          </apply>
          <vector id="S2.SS2.p2.1.m1.3.4.3.3.1.cmml" xref="S2.SS2.p2.1.m1.3.4.3.3.2">
           <ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">
            𝑢
           </ci>
           <ci id="S2.SS2.p2.1.m1.2.2.cmml" xref="S2.SS2.p2.1.m1.2.2">
            𝐻
           </ci>
           <ci id="S2.SS2.p2.1.m1.3.3.cmml" xref="S2.SS2.p2.1.m1.3.3">
            𝑇
           </ci>
          </vector>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.3c">
        A=f_{\theta}(u,H,T)
       </annotation>
      </semantics>
     </math>
     , where
     <math alttext="f_{\theta}" class="ltx_Math" display="inline" id="S2.SS2.p2.2.m2.1">
      <semantics id="S2.SS2.p2.2.m2.1a">
       <msub id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml">
        <mi id="S2.SS2.p2.2.m2.1.1.2" xref="S2.SS2.p2.2.m2.1.1.2.cmml">
         f
        </mi>
        <mi id="S2.SS2.p2.2.m2.1.1.3" xref="S2.SS2.p2.2.m2.1.1.3.cmml">
         θ
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b">
        <apply id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">
         <csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">
          subscript
         </csymbol>
         <ci id="S2.SS2.p2.2.m2.1.1.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2">
          𝑓
         </ci>
         <ci id="S2.SS2.p2.2.m2.1.1.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3">
          𝜃
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">
        f_{\theta}
       </annotation>
      </semantics>
     </math>
     refers to agent
based on LLMs with parameter
     <math alttext="\theta" class="ltx_Math" display="inline" id="S2.SS2.p2.3.m3.1">
      <semantics id="S2.SS2.p2.3.m3.1a">
       <mi id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml">
        θ
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b">
        <ci id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">
         𝜃
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">
        \theta
       </annotation>
      </semantics>
     </math>
     .
In
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS2.p2.4.1">
      Tapilot-Crossing
     </span>
     , we evaluate performance of LLM agents separately in each
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS2.p2.4.2">
      Action
     </span>
     mode of set
     <math alttext="A" class="ltx_Math" display="inline" id="S2.SS2.p2.4.m4.1">
      <semantics id="S2.SS2.p2.4.m4.1a">
       <mi id="S2.SS2.p2.4.m4.1.1" xref="S2.SS2.p2.4.m4.1.1.cmml">
        A
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m4.1b">
        <ci id="S2.SS2.p2.4.m4.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1">
         𝐴
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.SS2.p2.4.m4.1c">
        A
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    3
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S3.1.1">
    Tapilot-Crossing
   </span>
   Dataset
  </h2>
  <figure class="ltx_figure" id="S3.F3">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="206" id="S3.F3.g1" src="/html/2403.05307/assets/x3.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 3:
    </span>
    This describes the construction pipeline of
    <span class="ltx_text ltx_font_smallcaps" id="S3.F3.5.1">
     Tapilot-Crossing
    </span>
    by the AI Agent Sandbox
    <span class="ltx_text ltx_font_smallcaps" id="S3.F3.6.2">
     Decision Company
    </span>
    .
    <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="2" id="S3.F3.2.g1" src="/html/2403.05307/assets/img/cursors.png" width="10"/>
    denotes human intervention during construction. For a more detailed describing, please refer to Section
    <a class="ltx_ref" href="#S3" title="3 Tapilot-Crossing Dataset ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      3
     </span>
    </a>
    .
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.1
    </span>
    Dataset Construction.
   </h3>
   <div class="ltx_para" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     The construction of
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.p1.1.1">
      Tapilot-Crossing
     </span>
     is mainly based on the AI Agent Sandbox,
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.p1.1.2">
      Decision Company
     </span>
     , as depicted in Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3 Tapilot-Crossing Dataset ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     .
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.p1.1.3">
      Decision Company
     </span>
     is a multi-agent environment where four GPT-4 agents (Administrator, Client, Data Scientist and AI Chatbot) interact with each other to perform data analysis tasks. The construction process involves the following steps: Data Acquisition &amp; Preprocessing, Client Persona Generation, Analysis Scenario Generation, Plan Discussion and Interaction Log Simulation. During these stages, human intervention may be required to correct errors or eliminate harmful or biased content. Ultimately, the prototype data is adapted to private and action settings.
    </p>
   </div>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Data Acquisition &amp; Prepossessing.
    </h4>
    <div class="ltx_para" id="S3.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.1">
      The first step in the construction of
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.SSS0.Px1.p1.1.1">
       Tapilot-Crossing
      </span>
      is the acquisition and preprocessing of data. We collect 5 open-source tables from Kaggle
      <span class="ltx_note ltx_role_footnote" id="footnote1">
       <sup class="ltx_note_mark">
        *
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          *
         </sup>
         <span class="ltx_tag ltx_tag_note">
          *
         </span>
         <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.kaggle.com/" target="_blank" title="">
          https://www.kaggle.com/
         </a>
        </span>
       </span>
      </span>
      , a popular data sicence platform. These datasets span diverse domains, namely
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px1.p1.1.2">
       ATP Tennis
      </span>
      ,
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px1.p1.1.3">
       Credit Card
      </span>
      ,
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px1.p1.1.4">
       Fast Food
      </span>
      ,
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px1.p1.1.5">
       Laptop Price
      </span>
      , and
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px1.p1.1.6">
       Melbourne Housing
      </span>
      . Then the Administrator Agent will generate column meanings and value illustrations.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Client Persona Generation.
    </h4>
    <div class="ltx_para" id="S3.SS1.SSS0.Px2.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.1">
      The construction of
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.SSS0.Px2.p1.1.1">
       Tapilot-Crossing
      </span>
      proceeds to the generation of client personas. These personas with specific tasks and topics related to the data are founded by the Administrator Agent. Each persona is defined by a
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px2.p1.1.2">
       Name
      </span>
      ,
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px2.p1.1.3">
       Location
      </span>
      ,
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px2.p1.1.4">
       Job
      </span>
      , and
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px2.p1.1.5">
       Background
      </span>
      with diverse range of interests and backgrounds.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Simulation of Analysis Scenarios.
    </h4>
    <div class="ltx_para" id="S3.SS1.SSS0.Px3.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px3.p1.1">
      Then, the Administrator Agent conducts interviews with each Client Agent to ask about their
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.1">
       Scenario
      </span>
      description,
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.2">
       Scenario Name
      </span>
      , and the
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.3">
       Goal
      </span>
      of using the dataset for the scenario. In the
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.SSS0.Px3.p1.1.4">
       Tapilot-Crossing
      </span>
      dataset, human annotators will interrupt here and select the most reasonable or interesting scenarios. This ensures that the scenarios included in the
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS1.SSS0.Px3.p1.1.5">
       Tapilot-Crossing
      </span>
      dataset are meaningful, not too general across different clients. For instance, in B.3 of Figure
      <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3 Tapilot-Crossing Dataset ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      , we select
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.6">
       Court Condition Impact
      </span>
      because
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.7">
       Player Performance Analysis
      </span>
      is too general and
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px3.p1.1.8">
       Sponsor Attraction
      </span>
      requires too much additional information out of the table contents, which leads to too many unawserable questions.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px4">
    <h4 class="ltx_title ltx_title_paragraph">
     Plan Discussion.
    </h4>
    <div class="ltx_para" id="S3.SS1.SSS0.Px4.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px4.p1.1">
      In this process, the Client Agent and Data Scientist Agent collaborate to convert the client’s requirements into a set of specific data analysis questions. Each question is provided by an expected result type, such as dataframes, lists, or various plot types, which helps reduce question ambiguity and ease the pressure on evaluation metrics
      <cite class="ltx_cite ltx_citemacro_citep">
       (Yin et al.,
       <a class="ltx_ref" href="#bib.bib53" title="">
        2023
       </a>
       ; He et al.,
       <a class="ltx_ref" href="#bib.bib17" title="">
        2023
       </a>
       ; Zhang et al.,
       <a class="ltx_ref" href="#bib.bib63" title="">
        2023d
       </a>
       )
      </cite>
      . The dialogue between the agents further refines the questions with specific conditions. For example, as depicted in Figure
      <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3 Tapilot-Crossing Dataset ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      B.4, the client
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px4.p1.1.1">
       Garcia
      </span>
      ’s question could be further elaborated on the basis of his following responses, making all questions more answerable. In particular, Agent
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px4.p1.1.2">
       Garcia
      </span>
      , fully cognizant of his persona created in B.2, adds the condition
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px4.p1.1.3">
       grass
      </span>
      , reflecting his
      <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS0.Px4.p1.1.4">
       London
      </span>
      location. This implies that the role-playing aspect of the agent can be instrumental in generating a wider range of questions that are both diverse and reasonable
      <cite class="ltx_cite ltx_citemacro_citep">
       (Li et al.,
       <a class="ltx_ref" href="#bib.bib26" title="">
        2024a
       </a>
       ; Park et al.,
       <a class="ltx_ref" href="#bib.bib36" title="">
        2023
       </a>
       )
      </cite>
      .
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS1.SSS0.Px5">
    <h4 class="ltx_title ltx_title_paragraph">
     Interaction Log Annotation.
    </h4>
    <div class="ltx_para" id="S3.SS1.SSS0.Px5.p1">
     <p class="ltx_p" id="S3.SS1.SSS0.Px5.p1.1">
      Following the plan discussion, the interaction simulation phase begins. Here, the AI Chatbot Agent takes the lead, executing the data analysis plan agreed on during the previous stage. The Chatbot Agent interacts with the Data Scientist Agent to answer a series of questions defined in the plan by generating codes and analyzing returned results.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.2
    </span>
    Human Calibration
   </h3>
   <div class="ltx_para" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     While the
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p1.1.1">
      Decision Company
     </span>
     can generate a wealth of data analysis interactions in a zero-shot prompting manner, human intervention is indispensable to ensure the quality of the data set
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lu et al.,
      <a class="ltx_ref" href="#bib.bib35" title="">
       2023
      </a>
      )
     </cite>
     . Our observations indicate that only 23.5% of the original codes produced by Chatbot Agent can be directly used as reference codes. Therefore, human experts, two PhD students, participate in each stage of the generation process to calibrate the errors and meaningless interactions. While human intervention is required, it is worth noting that modifying existing answers or codes is more efficient than creating them from scratch. We preserve all natural and meaningful interactions, both agent-to-agent and human-to-machine, throughout the action setting collection.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.3
    </span>
    Private Lib Mode Evolution
   </h3>
   <div class="ltx_para" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.1">
     Data analyst frequently relies on their private libraries
     <cite class="ltx_cite ltx_citemacro_citep">
      (Zan et al.,
      <a class="ltx_ref" href="#bib.bib57" title="">
       2022
      </a>
      )
     </cite>
     . These libraries, often tailored to their specific needs, allow for more efficient and customized data processing and analysis. Furthermore, generating code through user-defined packages can test the true semantic parsing abilities of agents rather than merely testing their memorization of standard syntax from libraries such as Pandas
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lai et al.,
      <a class="ltx_ref" href="#bib.bib24" title="">
       2023
      </a>
      )
     </cite>
     . It also evaluates their ability to understand and implement custom functions, which is a crucial aspect of real-world data analysis. In this work, we prompt GPT-4 to autonomously convert prototype codes with pre-trained functions like Pandas or Numpy into private codes. The details can refer to Appendix
     <a class="ltx_ref" href="#A10.SS5" title="J.5 Private Lib Evolution ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       J.5
      </span>
     </a>
     .
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    4
   </span>
   Data Statistics &amp; Metrics
  </h2>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.1
    </span>
    Dataset Statistics
   </h3>
   <figure class="ltx_table" id="S4.T1">
    <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.9" style="width:346.9pt;height:401.9pt;vertical-align:-0.0pt;">
     <span class="ltx_transformed_inner" style="transform:translate(72.5pt,-83.9pt) scale(1.7175065875145,1.7175065875145) ;">
      <table class="ltx_tabular ltx_align_middle" id="S4.T1.9.9">
       <tr class="ltx_tr" id="S4.T1.9.9.10">
        <td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T1.9.9.10.1">
         <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S4.T1.9.9.10.1.1">
          Statistic
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.9.9.10.2">
         <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S4.T1.9.9.10.2.1">
          Number
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.9.9.11">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.9.9.11.1">
         <span class="ltx_text ltx_font_bold" id="S4.T1.9.9.11.1.1">
          Total Interactions
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.11.2">
         1024
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.1">
        <td class="ltx_td ltx_align_left" id="S4.T1.1.1.1.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.1.1.1.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         clear interactions
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.1.2">
         284
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.2.2.2">
        <td class="ltx_td ltx_align_left" id="S4.T1.2.2.2.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.2.2.2.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         action interactions
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.2.2.2.2">
         485
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.3.3.3">
        <td class="ltx_td ltx_align_left" id="S4.T1.3.3.3.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.3.3.3.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         private lib. interactions
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.3.3.3.2">
         206
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.4.4.4">
        <td class="ltx_td ltx_align_left" id="S4.T1.4.4.4.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.4.4.4.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         private act. interactions
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.4.4.4.2">
         49
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.5.5.5">
        <td class="ltx_td ltx_align_left" id="S4.T1.5.5.5.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.5.5.5.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         # of pirvate lib functions
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.5.5.5.2">
         137
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.9.9.12">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.9.9.12.1">
         <span class="ltx_text ltx_font_bold" id="S4.T1.9.9.12.1.1">
          Answer Types
         </span>
        </td>
        <td class="ltx_td ltx_border_t" id="S4.T1.9.9.12.2">
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.6.6.6">
        <td class="ltx_td ltx_align_left" id="S4.T1.6.6.6.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.6.6.6.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         # of code generation answers
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.6.6.6.2">
         594
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.7.7.7">
        <td class="ltx_td ltx_align_left" id="S4.T1.7.7.7.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.7.7.7.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         # of multi-choice answers
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.2">
         430
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.9.9.13">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.9.9.13.1">
         <span class="ltx_text ltx_font_bold" id="S4.T1.9.9.13.1.1">
          Quality &amp; Cost
         </span>
        </td>
        <td class="ltx_td ltx_border_t" id="S4.T1.9.9.13.2">
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.8.8.8">
        <td class="ltx_td ltx_align_left" id="S4.T1.8.8.8.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.8.8.8.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         inner-agreement
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.2">
         93.64
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.9.9.9">
        <td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.9.9.9.1">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="2" id="S4.T1.9.9.9.1.g1" src="/html/2403.05307/assets/img/before.png" width="10"/>
         total costs (USD)
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.9.9.9.2">
         66.7
        </td>
       </tr>
      </table>
     </span>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 1:
     </span>
     The statistics of
     <span class="ltx_text ltx_font_smallcaps" id="S4.T1.11.1">
      Tapilot-Crossing
     </span>
     .
    </figcaption>
   </figure>
   <figure class="ltx_table" id="S4.T2">
    <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.45" style="width:433.6pt;height:88pt;vertical-align:-1.0pt;">
     <span class="ltx_transformed_inner" style="transform:translate(-231.9pt,46.5pt) scale(0.48323098171982,0.48323098171982) ;">
      <table class="ltx_tabular ltx_align_middle" id="S4.T2.45.45">
       <tr class="ltx_tr" id="S4.T2.45.45.46">
        <td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T2.45.45.46.1" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.1.1">
          Dataset
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.2" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.2.1">
          # Q | # Intents
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.3" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.3.1">
          # Toks. / Q
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.4" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.4.1">
          # Toks. / Code
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.5" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.5.1">
          Code Type
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.6" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.6.1">
          Analysis
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.7" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.7.1">
          Multi-Turn
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.8.1">
          Private Lib
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.9.1">
          Multi-modal
         </span>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T2.45.45.46.10" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.46.10.1">
          Evaluation
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.5.5.5">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.5.6" style="padding-top:1pt;padding-bottom:1pt;">
         HumanEval
         <cite class="ltx_cite ltx_citemacro_citep">
          (Chen et al.,
          <a class="ltx_ref" href="#bib.bib2" title="">
           2021
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.5.7" style="padding-top:1pt;padding-bottom:1pt;">
         164 | 164
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.5.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.5.5.5.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         60.9
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.5.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.5.5.5.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         24.4
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.1.1.1.1.g1" src="/html/2403.05307/assets/img/python.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.2.2.2.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.3.3.3.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.3.3.3.3.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.4.4.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.4.4.4.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.5.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.5.5.5.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T2.5.5.5.10" style="padding-top:1pt;padding-bottom:1pt;">
         Test Cases
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.10.10.10">
        <td class="ltx_td ltx_align_left" id="S4.T2.10.10.10.6" style="padding-top:1pt;padding-bottom:1pt;">
         MBPP
         <cite class="ltx_cite ltx_citemacro_citep">
          (Austin et al.,
          <a class="ltx_ref" href="#bib.bib1" title="">
           2021
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.10.10.10.7" style="padding-top:1pt;padding-bottom:1pt;">
         974 | 974
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.10.10.10.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.10.10.10.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         14.5
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.10.10.10.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.10.10.10.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         24.2
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.6.6.6.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.6.6.6.1.g1" src="/html/2403.05307/assets/img/python.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.7.7.7.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.7.7.7.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.8.8.8.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.8.8.8.3.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.9.9.9.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.9.9.9.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.10.10.10.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.10.10.10.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.10.10.10.10" style="padding-top:1pt;padding-bottom:1pt;">
         Test Cases
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.15.15.15">
        <td class="ltx_td ltx_align_left" id="S4.T2.15.15.15.6" style="padding-top:1pt;padding-bottom:1pt;">
         Spider
         <cite class="ltx_cite ltx_citemacro_citep">
          (Yu et al.,
          <a class="ltx_ref" href="#bib.bib55" title="">
           2018
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.15.15.15.7" style="padding-top:1pt;padding-bottom:1pt;">
         1034 | 1034
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.15.15.15.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.15.15.15.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         12.4
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.15.15.15.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.15.15.15.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         18.3
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.11.11.11.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.11.11.11.1.g1" src="/html/2403.05307/assets/img/sql.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.12.12.12.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.12.12.12.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.13.13.13.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.13.13.13.3.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.14.14.14.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.14.14.14.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.15.15.15.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.15.15.15.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.15.15.15.10" style="padding-top:1pt;padding-bottom:1pt;">
         Acc + EM
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.20.20.20">
        <td class="ltx_td ltx_align_left" id="S4.T2.20.20.20.6" style="padding-top:1pt;padding-bottom:1pt;">
         BIRD
         <cite class="ltx_cite ltx_citemacro_citep">
          (Li et al.,
          <a class="ltx_ref" href="#bib.bib29" title="">
           2023a
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.20.20.20.7" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.20.20.20.7.1">
          1534
         </span>
         |
         <span class="ltx_text ltx_font_bold" id="S4.T2.20.20.20.7.2">
          1534
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.20.20.20.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.20.20.20.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         14.5
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.20.20.20.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.20.20.20.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.20.20.20.9.2">
          49.6
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.16.16.16.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.16.16.16.1.g1" src="/html/2403.05307/assets/img/sql.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.17.17.17.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.17.17.17.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.18.18.18.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.18.18.18.3.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.19.19.19.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.19.19.19.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.20.20.20.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.20.20.20.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.20.20.20.10" style="padding-top:1pt;padding-bottom:1pt;">
         Acc + VES
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.25.25.25">
        <td class="ltx_td ltx_align_left" id="S4.T2.25.25.25.6" style="padding-top:1pt;padding-bottom:1pt;">
         DS-1000
         <cite class="ltx_cite ltx_citemacro_citep">
          (Lai et al.,
          <a class="ltx_ref" href="#bib.bib24" title="">
           2023
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.25.25.25.7" style="padding-top:1pt;padding-bottom:1pt;">
         1000 | 1000
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.25.25.25.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom ltx_font_bold" id="S4.T2.25.25.25.8.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         <span class="ltx_text ltx_font_bold" id="S4.T2.25.25.25.8.2">
          282.4
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.25.25.25.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.25.25.25.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         42.1
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.21.21.21.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.21.21.21.1.g1" src="/html/2403.05307/assets/img/python.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.22.22.22.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.22.22.22.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.23.23.23.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.23.23.23.3.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.24.24.24.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.24.24.24.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.25.25.25.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.25.25.25.5.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.25.25.25.10" style="padding-top:1pt;padding-bottom:1pt;">
         Test Cases + SFC
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.30.30.30">
        <td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.30.30.30.6" style="padding-top:1pt;padding-bottom:1pt;">
         SparC
         <cite class="ltx_cite ltx_citemacro_citep">
          (Yu et al.,
          <a class="ltx_ref" href="#bib.bib56" title="">
           2019b
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.30.30.7" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.30.30.30.7.1">
          1203
         </span>
         |
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.30.30.30.7.2">
          1203
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.30.30.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.30.30.30.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         9.4
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.30.30.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.30.30.30.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         26.3
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.26.26.26.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.26.26.26.1.g1" src="/html/2403.05307/assets/img/sql.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.27.27.27.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.27.27.27.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.28.28.28.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.28.28.28.3.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.29.29.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.29.29.29.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.30.30.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.30.30.30.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T2.30.30.30.10" style="padding-top:1pt;padding-bottom:1pt;">
         Acc
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.35.35.35">
        <td class="ltx_td ltx_align_left" id="S4.T2.35.35.35.6" style="padding-top:1pt;padding-bottom:1pt;">
         CoSQL
         <cite class="ltx_cite ltx_citemacro_citep">
          (Yu et al.,
          <a class="ltx_ref" href="#bib.bib54" title="">
           2019a
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.35.35.35.7" style="padding-top:1pt;padding-bottom:1pt;">
         1008 | 1008
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.35.35.35.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.35.35.35.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         13.1
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.35.35.35.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.35.35.35.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         31.4
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.31.31.31.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.31.31.31.1.g1" src="/html/2403.05307/assets/img/sql.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.32.32.32.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.32.32.32.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.33.33.33.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.33.33.33.3.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.34.34.34.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.34.34.34.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.35.35.35.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.35.35.35.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.35.35.35.10" style="padding-top:1pt;padding-bottom:1pt;">
         Acc
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.40.40.40">
        <td class="ltx_td ltx_align_left" id="S4.T2.40.40.40.6" style="padding-top:1pt;padding-bottom:1pt;">
         ARCADE
         <cite class="ltx_cite ltx_citemacro_citep">
          (Yin et al.,
          <a class="ltx_ref" href="#bib.bib53" title="">
           2023
          </a>
          )
         </cite>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.40.40.40.7" style="padding-top:1pt;padding-bottom:1pt;">
         1066 | 1066
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.40.40.40.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.40.40.40.8.1">
          <span style="visibility:hidden">
           00
          </span>
         </span>
         19.2
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.40.40.40.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.40.40.40.9.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         48.2
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.36.36.36.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.36.36.36.1.g1" src="/html/2403.05307/assets/img/python.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.37.37.37.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.37.37.37.2.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.38.38.38.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.38.38.38.3.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.39.39.39.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.39.39.39.4.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T2.40.40.40.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.40.40.40.5.g1" src="/html/2403.05307/assets/img/no.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.40.40.40.10" style="padding-top:1pt;padding-bottom:1pt;">
         Acc + Fuzzy
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T2.45.45.45">
        <td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S4.T2.45.45.45.6" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S4.T2.45.45.45.6.1">
          Tapilot-Crossing
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.45.45.45.7" style="padding-top:1pt;padding-bottom:1pt;">
         1024 | 1176
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.45.45.45.8" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_phantom" id="S4.T2.45.45.45.8.1">
          <span style="visibility:hidden">
           0
          </span>
         </span>
         <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.45.45.45.8.2">
          273.6
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.45.45.45.9" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_text ltx_font_bold" id="S4.T2.45.45.45.9.1">
          110.6
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.41.41.41.1" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.41.41.41.1.g1" src="/html/2403.05307/assets/img/python.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.42.42.42.2" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.42.42.42.2.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.43.43.43.3" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.43.43.43.3.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.44.44.44.4" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.44.44.44.4.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.45.45.45.5" style="padding-top:1pt;padding-bottom:1pt;">
         <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="S4.T2.45.45.45.5.g1" src="/html/2403.05307/assets/img/yes.png" width="16"/>
        </td>
        <td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.45.45.45.10" style="padding-top:1pt;padding-bottom:1pt;">
         <span class="ltx_inline-block ltx_align_center" id="S4.T2.45.45.45.10.1">
          <span class="ltx_p" id="S4.T2.45.45.45.10.1.1">
           Acc + AccR
          </span>
         </span>
        </td>
       </tr>
      </table>
     </span>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      Table 2:
     </span>
     Comparison of
     <span class="ltx_text ltx_font_smallcaps" id="S4.T2.52.1">
      Tapilot-Crossing
     </span>
     to other data analysis datasets. The first 5 datasets are single-turn data analysis sets featuring both SQL and Python codes. The following 3 benchmarks are multi-turn or interactive data analysis datasets.
     <span class="ltx_text ltx_font_smallcaps" id="S4.T2.53.2">
      Tapilot-Crossing
     </span>
     represents a challenging dataset in data analysis with more comprehensive settings.
     <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="12" id="S4.T2.48.g1" src="/html/2403.05307/assets/img/python.png" width="12"/>
     represents that the end code is Python.
     <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="12" id="S4.T2.49.g2" src="/html/2403.05307/assets/img/sql.png" width="12"/>
     means the target code is SQL.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S4.SS1.p1">
    <p class="ltx_p" id="S4.SS1.p1.1">
     Table
     <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.1 Dataset Statistics ‣ 4 Data Statistics &amp; Metrics ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     provides key statistics for our dataset, while Table
     <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ 4.1 Dataset Statistics ‣ 4 Data Statistics &amp; Metrics ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     offers a comparison between
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p1.1.1">
      Tapilot-Crossing
     </span>
     and other datasets related to data analysis or science. To ensure a fair comparison regarding question and code length, we utilize
     <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.1.2">
      tiktoken
     </span>
     to compute the number of tokens for each dataset. As shown in Table
     <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ 4.1 Dataset Statistics ‣ 4 Data Statistics &amp; Metrics ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     ,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p1.1.3">
      Tapilot-Crossing
     </span>
     includes the comprehensive evaluation settings across private library, multi-turn, and multi-modal interactions. Additionally, the complexity of this dataset, reflected in the extended lengths of questions and associated code snippets, is further amplified by the inclusion of multi-intent queries. These queries, encapsulating multiple intents within a single question, require a versatile array of computational strategies for effective handling. For example, the query,
     <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.1.4">
      "Please provide mean, median, mode, range, and histogram plots for age, employment status, and credit history."
     </span>
     demands both statistical computations and data visualization. Finally, despite
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p1.1.5">
      Tapilot-Crossing
     </span>
     comprising 1024 data analysis interactions, it only incurs a cost of 66.7 USD, making it an economical choice for dataset generation. The inner-agreement promises the high quality of the dataset.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.2
    </span>
    Evaluation Metrics
   </h3>
   <section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Accuracy (Acc).
    </h4>
    <div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
     <p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.4">
      Acc is a thorough metric that evaluates ability of agents to generate code that executes correctly and to accurately answer multi-choice questions. It is defined as the proportion of instances where the predicted outputs match the expected reference output, across all evaluated tasks. For a given dataset with
      <math alttext="N" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.1.m1.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.1.m1.1a">
        <mi id="S4.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">
         N
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.1.m1.1b">
         <ci id="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1">
          𝑁
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.1.m1.1c">
         N
        </annotation>
       </semantics>
      </math>
      instances, where
      <math alttext="C_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.2.m2.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.2.m2.1a">
        <msub id="S4.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">
         <mi id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml">
          C
         </mi>
         <mi id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.2.m2.1b">
         <apply id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2">
           𝐶
          </ci>
          <ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.2.m2.1c">
         C_{i}
        </annotation>
       </semantics>
      </math>
      is the expected outcome (either execution result or correct answer) and
      <math alttext="\hat{C}_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.3.m3.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.3.m3.1a">
        <msub id="S4.SS2.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.cmml">
         <mover accent="true" id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml">
          <mi id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.2.cmml">
           C
          </mi>
          <mo id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.1" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">
           ^
          </mo>
         </mover>
         <mi id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.3.m3.1b">
         <apply id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1">
           subscript
          </csymbol>
          <apply id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2">
           <ci id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.1">
            ^
           </ci>
           <ci id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.2.2">
            𝐶
           </ci>
          </apply>
          <ci id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.3.m3.1c">
         \hat{C}_{i}
        </annotation>
       </semantics>
      </math>
      is the predicted outputs for the
      <math alttext="i^{th}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.4.m4.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.4.m4.1a">
        <msup id="S4.SS2.SSS0.Px1.p1.4.m4.1.1" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.cmml">
         <mi id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.cmml">
          i
         </mi>
         <mrow id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.cmml">
          <mi id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.2" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.1" lspace="0em" rspace="0em" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.3" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.3.cmml">
           h
          </mi>
         </mrow>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.4.m4.1b">
         <apply id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1">
           superscript
          </csymbol>
          <ci id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2">
           𝑖
          </ci>
          <apply id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3">
           <times id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.1">
           </times>
           <ci id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.2">
            𝑡
           </ci>
           <ci id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.3">
            ℎ
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.4.m4.1c">
         i^{th}
        </annotation>
       </semantics>
      </math>
      instance, Acc is calculated as follows:
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S4.E1">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathrm{Acc}=\frac{1}{N}\sum_{i=1}^{N}\mathbf{I}(C_{i}=\hat{C}_{i})," class="ltx_Math" display="block" id="S4.E1.m1.1">
          <semantics id="S4.E1.m1.1a">
           <mrow id="S4.E1.m1.1.1.1" xref="S4.E1.m1.1.1.1.1.cmml">
            <mrow id="S4.E1.m1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.cmml">
             <mi id="S4.E1.m1.1.1.1.1.3" xref="S4.E1.m1.1.1.1.1.3.cmml">
              Acc
             </mi>
             <mo id="S4.E1.m1.1.1.1.1.2" xref="S4.E1.m1.1.1.1.1.2.cmml">
              =
             </mo>
             <mrow id="S4.E1.m1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.cmml">
              <mfrac id="S4.E1.m1.1.1.1.1.1.3" xref="S4.E1.m1.1.1.1.1.1.3.cmml">
               <mn id="S4.E1.m1.1.1.1.1.1.3.2" xref="S4.E1.m1.1.1.1.1.1.3.2.cmml">
                1
               </mn>
               <mi id="S4.E1.m1.1.1.1.1.1.3.3" xref="S4.E1.m1.1.1.1.1.1.3.3.cmml">
                N
               </mi>
              </mfrac>
              <mo id="S4.E1.m1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S4.E1.m1.1.1.1.1.1.2.cmml">
               ​
              </mo>
              <mrow id="S4.E1.m1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.cmml">
               <munderover id="S4.E1.m1.1.1.1.1.1.1.2" xref="S4.E1.m1.1.1.1.1.1.1.2.cmml">
                <mo id="S4.E1.m1.1.1.1.1.1.1.2.2.2" movablelimits="false" xref="S4.E1.m1.1.1.1.1.1.1.2.2.2.cmml">
                 ∑
                </mo>
                <mrow id="S4.E1.m1.1.1.1.1.1.1.2.2.3" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.cmml">
                 <mi id="S4.E1.m1.1.1.1.1.1.1.2.2.3.2" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.2.cmml">
                  i
                 </mi>
                 <mo id="S4.E1.m1.1.1.1.1.1.1.2.2.3.1" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.1.cmml">
                  =
                 </mo>
                 <mn id="S4.E1.m1.1.1.1.1.1.1.2.2.3.3" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.3.cmml">
                  1
                 </mn>
                </mrow>
                <mi id="S4.E1.m1.1.1.1.1.1.1.2.3" xref="S4.E1.m1.1.1.1.1.1.1.2.3.cmml">
                 N
                </mi>
               </munderover>
               <mrow id="S4.E1.m1.1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.1.cmml">
                <mi id="S4.E1.m1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.1.1.1.1.1.1.1.3.cmml">
                 𝐈
                </mi>
                <mo id="S4.E1.m1.1.1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S4.E1.m1.1.1.1.1.1.1.1.2.cmml">
                 ​
                </mo>
                <mrow id="S4.E1.m1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">
                 <mo id="S4.E1.m1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">
                  (
                 </mo>
                 <mrow id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">
                  <msub id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                   <mi id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">
                    C
                   </mi>
                   <mi id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">
                    i
                   </mi>
                  </msub>
                  <mo id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                   =
                  </mo>
                  <msub id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                   <mover accent="true" id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">
                    <mi id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">
                     C
                    </mi>
                    <mo id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.1" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml">
                     ^
                    </mo>
                   </mover>
                   <mi id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">
                    i
                   </mi>
                  </msub>
                 </mrow>
                 <mo id="S4.E1.m1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml">
                  )
                 </mo>
                </mrow>
               </mrow>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S4.E1.m1.1.1.1.2" xref="S4.E1.m1.1.1.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S4.E1.m1.1b">
            <apply id="S4.E1.m1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1">
             <eq id="S4.E1.m1.1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.1.2">
             </eq>
             <ci id="S4.E1.m1.1.1.1.1.3.cmml" xref="S4.E1.m1.1.1.1.1.3">
              Acc
             </ci>
             <apply id="S4.E1.m1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1">
              <times id="S4.E1.m1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.1.1.2">
              </times>
              <apply id="S4.E1.m1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.1.1.1.1.1.3">
               <divide id="S4.E1.m1.1.1.1.1.1.3.1.cmml" xref="S4.E1.m1.1.1.1.1.1.3">
               </divide>
               <cn id="S4.E1.m1.1.1.1.1.1.3.2.cmml" type="integer" xref="S4.E1.m1.1.1.1.1.1.3.2">
                1
               </cn>
               <ci id="S4.E1.m1.1.1.1.1.1.3.3.cmml" xref="S4.E1.m1.1.1.1.1.1.3.3">
                𝑁
               </ci>
              </apply>
              <apply id="S4.E1.m1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1">
               <apply id="S4.E1.m1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2">
                <csymbol cd="ambiguous" id="S4.E1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2">
                 superscript
                </csymbol>
                <apply id="S4.E1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2">
                 <csymbol cd="ambiguous" id="S4.E1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2">
                  subscript
                 </csymbol>
                 <sum id="S4.E1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2.2.2">
                 </sum>
                 <apply id="S4.E1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3">
                  <eq id="S4.E1.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.1">
                  </eq>
                  <ci id="S4.E1.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.2">
                   𝑖
                  </ci>
                  <cn id="S4.E1.m1.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S4.E1.m1.1.1.1.1.1.1.2.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <ci id="S4.E1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.1.1.1.1.1.1.2.3">
                 𝑁
                </ci>
               </apply>
               <apply id="S4.E1.m1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1">
                <times id="S4.E1.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.2">
                </times>
                <ci id="S4.E1.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.3">
                 𝐈
                </ci>
                <apply id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1">
                 <eq id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.1">
                 </eq>
                 <apply id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2">
                  <csymbol cd="ambiguous" id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2">
                   subscript
                  </csymbol>
                  <ci id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.2">
                   𝐶
                  </ci>
                  <ci id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.2.3">
                   𝑖
                  </ci>
                 </apply>
                 <apply id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3">
                   subscript
                  </csymbol>
                  <apply id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2">
                   <ci id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.1">
                    ^
                   </ci>
                   <ci id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.2.2">
                    𝐶
                   </ci>
                  </apply>
                  <ci id="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E1.m1.1.1.1.1.1.1.1.1.1.1.3.3">
                   𝑖
                  </ci>
                 </apply>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.E1.m1.1c">
            \mathrm{Acc}=\frac{1}{N}\sum_{i=1}^{N}\mathbf{I}(C_{i}=\hat{C}_{i}),
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (1)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.8">
      where
      <math alttext="\mathbf{I}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.5.m1.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.5.m1.1a">
        <mi id="S4.SS2.SSS0.Px1.p1.5.m1.1.1" xref="S4.SS2.SSS0.Px1.p1.5.m1.1.1.cmml">
         𝐈
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.5.m1.1b">
         <ci id="S4.SS2.SSS0.Px1.p1.5.m1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.5.m1.1.1">
          𝐈
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.5.m1.1c">
         \mathbf{I}
        </annotation>
       </semantics>
      </math>
      is an indicator function that returns
      <math alttext="1" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.6.m2.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.6.m2.1a">
        <mn id="S4.SS2.SSS0.Px1.p1.6.m2.1.1" xref="S4.SS2.SSS0.Px1.p1.6.m2.1.1.cmml">
         1
        </mn>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.6.m2.1b">
         <cn id="S4.SS2.SSS0.Px1.p1.6.m2.1.1.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.6.m2.1.1">
          1
         </cn>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.6.m2.1c">
         1
        </annotation>
       </semantics>
      </math>
      if
      <math alttext="C_{i}=\hat{C}_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.7.m3.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.7.m3.1a">
        <mrow id="S4.SS2.SSS0.Px1.p1.7.m3.1.1" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.cmml">
         <msub id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.cmml">
          <mi id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.2" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.2.cmml">
           C
          </mi>
          <mi id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.3" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.3.cmml">
           i
          </mi>
         </msub>
         <mo id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.1" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.1.cmml">
          =
         </mo>
         <msub id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.cmml">
          <mover accent="true" id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.cmml">
           <mi id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.2" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.2.cmml">
            C
           </mi>
           <mo id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.1" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.1.cmml">
            ^
           </mo>
          </mover>
          <mi id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.3" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.3.cmml">
           i
          </mi>
         </msub>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.7.m3.1b">
         <apply id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1">
          <eq id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.1">
          </eq>
          <apply id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2">
           <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2">
            subscript
           </csymbol>
           <ci id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.2">
            𝐶
           </ci>
           <ci id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.3.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.2.3">
            𝑖
           </ci>
          </apply>
          <apply id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3">
           <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3">
            subscript
           </csymbol>
           <apply id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2">
            <ci id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.1">
             ^
            </ci>
            <ci id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.2.2">
             𝐶
            </ci>
           </apply>
           <ci id="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m3.1.1.3.3">
            𝑖
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.7.m3.1c">
         C_{i}=\hat{C}_{i}
        </annotation>
       </semantics>
      </math>
      , and
      <math alttext="0" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.8.m4.1">
       <semantics id="S4.SS2.SSS0.Px1.p1.8.m4.1a">
        <mn id="S4.SS2.SSS0.Px1.p1.8.m4.1.1" xref="S4.SS2.SSS0.Px1.p1.8.m4.1.1.cmml">
         0
        </mn>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.8.m4.1b">
         <cn id="S4.SS2.SSS0.Px1.p1.8.m4.1.1.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.8.m4.1.1">
          0
         </cn>
        </annotation-xml>
       </semantics>
      </math>
      otherwise.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Acc with Private Lib Recall (AccR).
    </h4>
    <div class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
     <p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.4">
      Recognizing the importance of accurately leveraging specific user-defined libraries in code generation, we extend Acc to include a recall-based adjustment for instances involving private libraries. This ensures that AccR not only evaluates the direct accuracy of code execution and question answering but also evaluates the inclusion and correct usage of private library functions. AccR can be computed as follows:
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S4.E2">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathrm{AccR}=\frac{1}{N}\sum_{i=1}^{N}\mathbf{I}(C_{i}=\hat{C}_{i})\cdot\mathbf{R}(C_{i},\hat{C}_{i})," class="ltx_Math" display="block" id="S4.E2.m1.1">
          <semantics id="S4.E2.m1.1a">
           <mrow id="S4.E2.m1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml">
            <mrow id="S4.E2.m1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml">
             <mi id="S4.E2.m1.1.1.1.1.5" xref="S4.E2.m1.1.1.1.1.5.cmml">
              AccR
             </mi>
             <mo id="S4.E2.m1.1.1.1.1.4" xref="S4.E2.m1.1.1.1.1.4.cmml">
              =
             </mo>
             <mrow id="S4.E2.m1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.3.cmml">
              <mfrac id="S4.E2.m1.1.1.1.1.3.5" xref="S4.E2.m1.1.1.1.1.3.5.cmml">
               <mn id="S4.E2.m1.1.1.1.1.3.5.2" xref="S4.E2.m1.1.1.1.1.3.5.2.cmml">
                1
               </mn>
               <mi id="S4.E2.m1.1.1.1.1.3.5.3" xref="S4.E2.m1.1.1.1.1.3.5.3.cmml">
                N
               </mi>
              </mfrac>
              <mo id="S4.E2.m1.1.1.1.1.3.4" lspace="0em" rspace="0em" xref="S4.E2.m1.1.1.1.1.3.4.cmml">
               ​
              </mo>
              <mrow id="S4.E2.m1.1.1.1.1.3.3" xref="S4.E2.m1.1.1.1.1.3.3.cmml">
               <munderover id="S4.E2.m1.1.1.1.1.3.3.4" xref="S4.E2.m1.1.1.1.1.3.3.4.cmml">
                <mo id="S4.E2.m1.1.1.1.1.3.3.4.2.2" movablelimits="false" xref="S4.E2.m1.1.1.1.1.3.3.4.2.2.cmml">
                 ∑
                </mo>
                <mrow id="S4.E2.m1.1.1.1.1.3.3.4.2.3" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.cmml">
                 <mi id="S4.E2.m1.1.1.1.1.3.3.4.2.3.2" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.2.cmml">
                  i
                 </mi>
                 <mo id="S4.E2.m1.1.1.1.1.3.3.4.2.3.1" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.1.cmml">
                  =
                 </mo>
                 <mn id="S4.E2.m1.1.1.1.1.3.3.4.2.3.3" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.3.cmml">
                  1
                 </mn>
                </mrow>
                <mi id="S4.E2.m1.1.1.1.1.3.3.4.3" xref="S4.E2.m1.1.1.1.1.3.3.4.3.cmml">
                 N
                </mi>
               </munderover>
               <mrow id="S4.E2.m1.1.1.1.1.3.3.3" xref="S4.E2.m1.1.1.1.1.3.3.3.cmml">
                <mrow id="S4.E2.m1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.cmml">
                 <mrow id="S4.E2.m1.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml">
                  <mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml">
                   𝐈
                  </mi>
                  <mo id="S4.E2.m1.1.1.1.1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml">
                   ​
                  </mo>
                  <mrow id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                   <mo id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                    (
                   </mo>
                   <mrow id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                    <msub id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                     <mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">
                      C
                     </mi>
                     <mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">
                      i
                     </mi>
                    </msub>
                    <mo id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                     =
                    </mo>
                    <msub id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                     <mover accent="true" id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">
                      <mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">
                       C
                      </mi>
                      <mo id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml">
                       ^
                      </mo>
                     </mover>
                     <mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">
                      i
                     </mi>
                    </msub>
                   </mrow>
                   <mo id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                    )
                   </mo>
                  </mrow>
                 </mrow>
                 <mo id="S4.E2.m1.1.1.1.1.1.1.1.1.2" rspace="0.222em" xref="S4.E2.m1.1.1.1.1.1.1.1.1.2.cmml">
                  ⋅
                 </mo>
                 <mi id="S4.E2.m1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.3.cmml">
                  𝐑
                 </mi>
                </mrow>
                <mo id="S4.E2.m1.1.1.1.1.3.3.3.4" lspace="0em" rspace="0em" xref="S4.E2.m1.1.1.1.1.3.3.3.4.cmml">
                 ​
                </mo>
                <mrow id="S4.E2.m1.1.1.1.1.3.3.3.3.2" xref="S4.E2.m1.1.1.1.1.3.3.3.3.3.cmml">
                 <mo id="S4.E2.m1.1.1.1.1.3.3.3.3.2.3" stretchy="false" xref="S4.E2.m1.1.1.1.1.3.3.3.3.3.cmml">
                  (
                 </mo>
                 <msub id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.cmml">
                  <mi id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.2" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.2.cmml">
                   C
                  </mi>
                  <mi id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.3" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.3.cmml">
                   i
                  </mi>
                 </msub>
                 <mo id="S4.E2.m1.1.1.1.1.3.3.3.3.2.4" xref="S4.E2.m1.1.1.1.1.3.3.3.3.3.cmml">
                  ,
                 </mo>
                 <msub id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.cmml">
                  <mover accent="true" id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.cmml">
                   <mi id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.2" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.2.cmml">
                    C
                   </mi>
                   <mo id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.1" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.1.cmml">
                    ^
                   </mo>
                  </mover>
                  <mi id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.3" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.3.cmml">
                   i
                  </mi>
                 </msub>
                 <mo id="S4.E2.m1.1.1.1.1.3.3.3.3.2.5" stretchy="false" xref="S4.E2.m1.1.1.1.1.3.3.3.3.3.cmml">
                  )
                 </mo>
                </mrow>
               </mrow>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S4.E2.m1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S4.E2.m1.1b">
            <apply id="S4.E2.m1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1">
             <eq id="S4.E2.m1.1.1.1.1.4.cmml" xref="S4.E2.m1.1.1.1.1.4">
             </eq>
             <ci id="S4.E2.m1.1.1.1.1.5.cmml" xref="S4.E2.m1.1.1.1.1.5">
              AccR
             </ci>
             <apply id="S4.E2.m1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.3">
              <times id="S4.E2.m1.1.1.1.1.3.4.cmml" xref="S4.E2.m1.1.1.1.1.3.4">
              </times>
              <apply id="S4.E2.m1.1.1.1.1.3.5.cmml" xref="S4.E2.m1.1.1.1.1.3.5">
               <divide id="S4.E2.m1.1.1.1.1.3.5.1.cmml" xref="S4.E2.m1.1.1.1.1.3.5">
               </divide>
               <cn id="S4.E2.m1.1.1.1.1.3.5.2.cmml" type="integer" xref="S4.E2.m1.1.1.1.1.3.5.2">
                1
               </cn>
               <ci id="S4.E2.m1.1.1.1.1.3.5.3.cmml" xref="S4.E2.m1.1.1.1.1.3.5.3">
                𝑁
               </ci>
              </apply>
              <apply id="S4.E2.m1.1.1.1.1.3.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3">
               <apply id="S4.E2.m1.1.1.1.1.3.3.4.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4">
                <csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.3.3.4.1.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4">
                 superscript
                </csymbol>
                <apply id="S4.E2.m1.1.1.1.1.3.3.4.2.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4">
                 <csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.3.3.4.2.1.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4">
                  subscript
                 </csymbol>
                 <sum id="S4.E2.m1.1.1.1.1.3.3.4.2.2.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4.2.2">
                 </sum>
                 <apply id="S4.E2.m1.1.1.1.1.3.3.4.2.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3">
                  <eq id="S4.E2.m1.1.1.1.1.3.3.4.2.3.1.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.1">
                  </eq>
                  <ci id="S4.E2.m1.1.1.1.1.3.3.4.2.3.2.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.2">
                   𝑖
                  </ci>
                  <cn id="S4.E2.m1.1.1.1.1.3.3.4.2.3.3.cmml" type="integer" xref="S4.E2.m1.1.1.1.1.3.3.4.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <ci id="S4.E2.m1.1.1.1.1.3.3.4.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3.4.3">
                 𝑁
                </ci>
               </apply>
               <apply id="S4.E2.m1.1.1.1.1.3.3.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3">
                <times id="S4.E2.m1.1.1.1.1.3.3.3.4.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.4">
                </times>
                <apply id="S4.E2.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1">
                 <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.2">
                  ⋅
                 </ci>
                 <apply id="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1">
                  <times id="S4.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.2">
                  </times>
                  <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.3">
                   𝐈
                  </ci>
                  <apply id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1">
                   <eq id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1">
                   </eq>
                   <apply id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">
                    <csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">
                     subscript
                    </csymbol>
                    <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">
                     𝐶
                    </ci>
                    <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">
                     𝑖
                    </ci>
                   </apply>
                   <apply id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">
                    <csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">
                     subscript
                    </csymbol>
                    <apply id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">
                     <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1">
                      ^
                     </ci>
                     <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2">
                      𝐶
                     </ci>
                    </apply>
                    <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">
                     𝑖
                    </ci>
                   </apply>
                  </apply>
                 </apply>
                 <ci id="S4.E2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.3">
                  𝐑
                 </ci>
                </apply>
                <interval closure="open" id="S4.E2.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2">
                 <apply id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.cmml" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1">
                  <csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1">
                   subscript
                  </csymbol>
                  <ci id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.2">
                   𝐶
                  </ci>
                  <ci id="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.2.2.2.2.1.1.3">
                   𝑖
                  </ci>
                 </apply>
                 <apply id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2">
                  <csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.1.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2">
                   subscript
                  </csymbol>
                  <apply id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2">
                   <ci id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.1.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.1">
                    ^
                   </ci>
                   <ci id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.2.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.2.2">
                    𝐶
                   </ci>
                  </apply>
                  <ci id="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3.3.3.2.2.3">
                   𝑖
                  </ci>
                 </apply>
                </interval>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.E2.m1.1c">
            \mathrm{AccR}=\frac{1}{N}\sum_{i=1}^{N}\mathbf{I}(C_{i}=\hat{C}_{i})\cdot\mathbf{R}(C_{i},\hat{C}_{i}),
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (2)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <table class="ltx_equation ltx_eqn_table" id="S4.E3">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathbf{R}(C{i},\hat{C}{i})=\frac{|\mathbf{F}(C{i})\cap\mathbf{F}(\hat{C}{i})|}{|\mathbf{F}(C{i})|}," class="ltx_Math" display="block" id="S4.E3.m1.3">
          <semantics id="S4.E3.m1.3a">
           <mrow id="S4.E3.m1.3.3.1" xref="S4.E3.m1.3.3.1.1.cmml">
            <mrow id="S4.E3.m1.3.3.1.1" xref="S4.E3.m1.3.3.1.1.cmml">
             <mrow id="S4.E3.m1.3.3.1.1.2" xref="S4.E3.m1.3.3.1.1.2.cmml">
              <mi id="S4.E3.m1.3.3.1.1.2.4" xref="S4.E3.m1.3.3.1.1.2.4.cmml">
               𝐑
              </mi>
              <mo id="S4.E3.m1.3.3.1.1.2.3" lspace="0em" rspace="0em" xref="S4.E3.m1.3.3.1.1.2.3.cmml">
               ​
              </mo>
              <mrow id="S4.E3.m1.3.3.1.1.2.2.2" xref="S4.E3.m1.3.3.1.1.2.2.3.cmml">
               <mo id="S4.E3.m1.3.3.1.1.2.2.2.3" stretchy="false" xref="S4.E3.m1.3.3.1.1.2.2.3.cmml">
                (
               </mo>
               <mrow id="S4.E3.m1.3.3.1.1.1.1.1.1" xref="S4.E3.m1.3.3.1.1.1.1.1.1.cmml">
                <mi id="S4.E3.m1.3.3.1.1.1.1.1.1.2" xref="S4.E3.m1.3.3.1.1.1.1.1.1.2.cmml">
                 C
                </mi>
                <mo id="S4.E3.m1.3.3.1.1.1.1.1.1.1" lspace="0em" rspace="0em" xref="S4.E3.m1.3.3.1.1.1.1.1.1.1.cmml">
                 ​
                </mo>
                <mi id="S4.E3.m1.3.3.1.1.1.1.1.1.3" xref="S4.E3.m1.3.3.1.1.1.1.1.1.3.cmml">
                 i
                </mi>
               </mrow>
               <mo id="S4.E3.m1.3.3.1.1.2.2.2.4" xref="S4.E3.m1.3.3.1.1.2.2.3.cmml">
                ,
               </mo>
               <mrow id="S4.E3.m1.3.3.1.1.2.2.2.2" xref="S4.E3.m1.3.3.1.1.2.2.2.2.cmml">
                <mover accent="true" id="S4.E3.m1.3.3.1.1.2.2.2.2.2" xref="S4.E3.m1.3.3.1.1.2.2.2.2.2.cmml">
                 <mi id="S4.E3.m1.3.3.1.1.2.2.2.2.2.2" xref="S4.E3.m1.3.3.1.1.2.2.2.2.2.2.cmml">
                  C
                 </mi>
                 <mo id="S4.E3.m1.3.3.1.1.2.2.2.2.2.1" xref="S4.E3.m1.3.3.1.1.2.2.2.2.2.1.cmml">
                  ^
                 </mo>
                </mover>
                <mo id="S4.E3.m1.3.3.1.1.2.2.2.2.1" lspace="0em" rspace="0em" xref="S4.E3.m1.3.3.1.1.2.2.2.2.1.cmml">
                 ​
                </mo>
                <mi id="S4.E3.m1.3.3.1.1.2.2.2.2.3" xref="S4.E3.m1.3.3.1.1.2.2.2.2.3.cmml">
                 i
                </mi>
               </mrow>
               <mo id="S4.E3.m1.3.3.1.1.2.2.2.5" stretchy="false" xref="S4.E3.m1.3.3.1.1.2.2.3.cmml">
                )
               </mo>
              </mrow>
             </mrow>
             <mo id="S4.E3.m1.3.3.1.1.3" xref="S4.E3.m1.3.3.1.1.3.cmml">
              =
             </mo>
             <mfrac id="S4.E3.m1.2.2" xref="S4.E3.m1.2.2.cmml">
              <mrow id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.2.cmml">
               <mo id="S4.E3.m1.1.1.1.1.2" stretchy="false" xref="S4.E3.m1.1.1.1.2.1.cmml">
                |
               </mo>
               <mrow id="S4.E3.m1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.cmml">
                <mrow id="S4.E3.m1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.cmml">
                 <mi id="S4.E3.m1.1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.1.3.cmml">
                  𝐅
                 </mi>
                 <mo id="S4.E3.m1.1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S4.E3.m1.1.1.1.1.1.1.2.cmml">
                  ​
                 </mo>
                 <mrow id="S4.E3.m1.1.1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.cmml">
                  <mo id="S4.E3.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.cmml">
                   (
                  </mo>
                  <mrow id="S4.E3.m1.1.1.1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.cmml">
                   <mi id="S4.E3.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml">
                    C
                   </mi>
                   <mo id="S4.E3.m1.1.1.1.1.1.1.1.1.1.1" lspace="0em" rspace="0em" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.1.cmml">
                    ​
                   </mo>
                   <mi id="S4.E3.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml">
                    i
                   </mi>
                  </mrow>
                  <mo id="S4.E3.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
                <mo id="S4.E3.m1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.3.cmml">
                 ∩
                </mo>
                <mrow id="S4.E3.m1.1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.2.cmml">
                 <mi id="S4.E3.m1.1.1.1.1.1.2.3" xref="S4.E3.m1.1.1.1.1.1.2.3.cmml">
                  𝐅
                 </mi>
                 <mo id="S4.E3.m1.1.1.1.1.1.2.2" lspace="0em" rspace="0em" xref="S4.E3.m1.1.1.1.1.1.2.2.cmml">
                  ​
                 </mo>
                 <mrow id="S4.E3.m1.1.1.1.1.1.2.1.1" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.cmml">
                  <mo id="S4.E3.m1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.cmml">
                   (
                  </mo>
                  <mrow id="S4.E3.m1.1.1.1.1.1.2.1.1.1" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.cmml">
                   <mover accent="true" id="S4.E3.m1.1.1.1.1.1.2.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.cmml">
                    <mi id="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.2" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.2.cmml">
                     C
                    </mi>
                    <mo id="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.1" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.1.cmml">
                     ^
                    </mo>
                   </mover>
                   <mo id="S4.E3.m1.1.1.1.1.1.2.1.1.1.1" lspace="0em" rspace="0em" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.1.cmml">
                    ​
                   </mo>
                   <mi id="S4.E3.m1.1.1.1.1.1.2.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.3.cmml">
                    i
                   </mi>
                  </mrow>
                  <mo id="S4.E3.m1.1.1.1.1.1.2.1.1.3" stretchy="false" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mrow>
               <mo id="S4.E3.m1.1.1.1.1.3" stretchy="false" xref="S4.E3.m1.1.1.1.2.1.cmml">
                |
               </mo>
              </mrow>
              <mrow id="S4.E3.m1.2.2.2.1" xref="S4.E3.m1.2.2.2.2.cmml">
               <mo id="S4.E3.m1.2.2.2.1.2" stretchy="false" xref="S4.E3.m1.2.2.2.2.1.cmml">
                |
               </mo>
               <mrow id="S4.E3.m1.2.2.2.1.1" xref="S4.E3.m1.2.2.2.1.1.cmml">
                <mi id="S4.E3.m1.2.2.2.1.1.3" xref="S4.E3.m1.2.2.2.1.1.3.cmml">
                 𝐅
                </mi>
                <mo id="S4.E3.m1.2.2.2.1.1.2" lspace="0em" rspace="0em" xref="S4.E3.m1.2.2.2.1.1.2.cmml">
                 ​
                </mo>
                <mrow id="S4.E3.m1.2.2.2.1.1.1.1" xref="S4.E3.m1.2.2.2.1.1.1.1.1.cmml">
                 <mo id="S4.E3.m1.2.2.2.1.1.1.1.2" stretchy="false" xref="S4.E3.m1.2.2.2.1.1.1.1.1.cmml">
                  (
                 </mo>
                 <mrow id="S4.E3.m1.2.2.2.1.1.1.1.1" xref="S4.E3.m1.2.2.2.1.1.1.1.1.cmml">
                  <mi id="S4.E3.m1.2.2.2.1.1.1.1.1.2" xref="S4.E3.m1.2.2.2.1.1.1.1.1.2.cmml">
                   C
                  </mi>
                  <mo id="S4.E3.m1.2.2.2.1.1.1.1.1.1" lspace="0em" rspace="0em" xref="S4.E3.m1.2.2.2.1.1.1.1.1.1.cmml">
                   ​
                  </mo>
                  <mi id="S4.E3.m1.2.2.2.1.1.1.1.1.3" xref="S4.E3.m1.2.2.2.1.1.1.1.1.3.cmml">
                   i
                  </mi>
                 </mrow>
                 <mo id="S4.E3.m1.2.2.2.1.1.1.1.3" stretchy="false" xref="S4.E3.m1.2.2.2.1.1.1.1.1.cmml">
                  )
                 </mo>
                </mrow>
               </mrow>
               <mo id="S4.E3.m1.2.2.2.1.3" stretchy="false" xref="S4.E3.m1.2.2.2.2.1.cmml">
                |
               </mo>
              </mrow>
             </mfrac>
            </mrow>
            <mo id="S4.E3.m1.3.3.1.2" xref="S4.E3.m1.3.3.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S4.E3.m1.3b">
            <apply id="S4.E3.m1.3.3.1.1.cmml" xref="S4.E3.m1.3.3.1">
             <eq id="S4.E3.m1.3.3.1.1.3.cmml" xref="S4.E3.m1.3.3.1.1.3">
             </eq>
             <apply id="S4.E3.m1.3.3.1.1.2.cmml" xref="S4.E3.m1.3.3.1.1.2">
              <times id="S4.E3.m1.3.3.1.1.2.3.cmml" xref="S4.E3.m1.3.3.1.1.2.3">
              </times>
              <ci id="S4.E3.m1.3.3.1.1.2.4.cmml" xref="S4.E3.m1.3.3.1.1.2.4">
               𝐑
              </ci>
              <interval closure="open" id="S4.E3.m1.3.3.1.1.2.2.3.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2">
               <apply id="S4.E3.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E3.m1.3.3.1.1.1.1.1.1">
                <times id="S4.E3.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.3.3.1.1.1.1.1.1.1">
                </times>
                <ci id="S4.E3.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.3.3.1.1.1.1.1.1.2">
                 𝐶
                </ci>
                <ci id="S4.E3.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.3.3.1.1.1.1.1.1.3">
                 𝑖
                </ci>
               </apply>
               <apply id="S4.E3.m1.3.3.1.1.2.2.2.2.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2.2">
                <times id="S4.E3.m1.3.3.1.1.2.2.2.2.1.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2.2.1">
                </times>
                <apply id="S4.E3.m1.3.3.1.1.2.2.2.2.2.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2.2.2">
                 <ci id="S4.E3.m1.3.3.1.1.2.2.2.2.2.1.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2.2.2.1">
                  ^
                 </ci>
                 <ci id="S4.E3.m1.3.3.1.1.2.2.2.2.2.2.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2.2.2.2">
                  𝐶
                 </ci>
                </apply>
                <ci id="S4.E3.m1.3.3.1.1.2.2.2.2.3.cmml" xref="S4.E3.m1.3.3.1.1.2.2.2.2.3">
                 𝑖
                </ci>
               </apply>
              </interval>
             </apply>
             <apply id="S4.E3.m1.2.2.cmml" xref="S4.E3.m1.2.2">
              <divide id="S4.E3.m1.2.2.3.cmml" xref="S4.E3.m1.2.2">
              </divide>
              <apply id="S4.E3.m1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1">
               <abs id="S4.E3.m1.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.1.2">
               </abs>
               <apply id="S4.E3.m1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1">
                <intersect id="S4.E3.m1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.3">
                </intersect>
                <apply id="S4.E3.m1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1">
                 <times id="S4.E3.m1.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.2">
                 </times>
                 <ci id="S4.E3.m1.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.3">
                  𝐅
                 </ci>
                 <apply id="S4.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.1">
                  <times id="S4.E3.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.1">
                  </times>
                  <ci id="S4.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.2">
                   𝐶
                  </ci>
                  <ci id="S4.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.1.1.3">
                   𝑖
                  </ci>
                 </apply>
                </apply>
                <apply id="S4.E3.m1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.2">
                 <times id="S4.E3.m1.1.1.1.1.1.2.2.cmml" xref="S4.E3.m1.1.1.1.1.1.2.2">
                 </times>
                 <ci id="S4.E3.m1.1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.1.1.1.1.1.2.3">
                  𝐅
                 </ci>
                 <apply id="S4.E3.m1.1.1.1.1.1.2.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.2.1.1">
                  <times id="S4.E3.m1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.1">
                  </times>
                  <apply id="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.2">
                   <ci id="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.1">
                    ^
                   </ci>
                   <ci id="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.2.2">
                    𝐶
                   </ci>
                  </apply>
                  <ci id="S4.E3.m1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.2.1.1.1.3">
                   𝑖
                  </ci>
                 </apply>
                </apply>
               </apply>
              </apply>
              <apply id="S4.E3.m1.2.2.2.2.cmml" xref="S4.E3.m1.2.2.2.1">
               <abs id="S4.E3.m1.2.2.2.2.1.cmml" xref="S4.E3.m1.2.2.2.1.2">
               </abs>
               <apply id="S4.E3.m1.2.2.2.1.1.cmml" xref="S4.E3.m1.2.2.2.1.1">
                <times id="S4.E3.m1.2.2.2.1.1.2.cmml" xref="S4.E3.m1.2.2.2.1.1.2">
                </times>
                <ci id="S4.E3.m1.2.2.2.1.1.3.cmml" xref="S4.E3.m1.2.2.2.1.1.3">
                 𝐅
                </ci>
                <apply id="S4.E3.m1.2.2.2.1.1.1.1.1.cmml" xref="S4.E3.m1.2.2.2.1.1.1.1">
                 <times id="S4.E3.m1.2.2.2.1.1.1.1.1.1.cmml" xref="S4.E3.m1.2.2.2.1.1.1.1.1.1">
                 </times>
                 <ci id="S4.E3.m1.2.2.2.1.1.1.1.1.2.cmml" xref="S4.E3.m1.2.2.2.1.1.1.1.1.2">
                  𝐶
                 </ci>
                 <ci id="S4.E3.m1.2.2.2.1.1.1.1.1.3.cmml" xref="S4.E3.m1.2.2.2.1.1.1.1.1.3">
                  𝑖
                 </ci>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.E3.m1.3c">
            \mathbf{R}(C{i},\hat{C}{i})=\frac{|\mathbf{F}(C{i})\cap\mathbf{F}(\hat{C}{i})|}{|\mathbf{F}(C{i})|},
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (3)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.3">
      where
      <math alttext="\mathbf{R}(C_{i},\hat{C}_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.1.m1.2">
       <semantics id="S4.SS2.SSS0.Px2.p1.1.m1.2a">
        <mrow id="S4.SS2.SSS0.Px2.p1.1.m1.2.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.cmml">
         <mi id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.4" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.4.cmml">
          𝐑
         </mi>
         <mo id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.3" lspace="0em" rspace="0em" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.3.cmml">
          ​
         </mo>
         <mrow id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
          <mo id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
           (
          </mo>
          <msub id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml">
           <mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2.cmml">
            C
           </mi>
           <mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.cmml">
            i
           </mi>
          </msub>
          <mo id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.4" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
           ,
          </mo>
          <msub id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.cmml">
           <mover accent="true" id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.cmml">
            <mi id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.cmml">
             C
            </mi>
            <mo id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.1" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.1.cmml">
             ^
            </mo>
           </mover>
           <mi id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.3" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml">
            i
           </mi>
          </msub>
          <mo id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.1.m1.2b">
         <apply id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2">
          <times id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.3.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.3">
          </times>
          <ci id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.4.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.4">
           𝐑
          </ci>
          <interval closure="open" id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.3.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2">
           <apply id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2">
             𝐶
            </ci>
            <ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3">
             𝑖
            </ci>
           </apply>
           <apply id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2">
            <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2">
             subscript
            </csymbol>
            <apply id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2">
             <ci id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.1">
              ^
             </ci>
             <ci id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2">
              𝐶
             </ci>
            </apply>
            <ci id="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.2.2.2.2.2.3">
             𝑖
            </ci>
           </apply>
          </interval>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.1.m1.2c">
         \mathbf{R}(C_{i},\hat{C}_{i})
        </annotation>
       </semantics>
      </math>
      quantifies the recall rate of relevant library functions in the predicted code.
      <math alttext="\mathbf{F}(C_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.2.m2.1">
       <semantics id="S4.SS2.SSS0.Px2.p1.2.m2.1a">
        <mrow id="S4.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml">
         <mi id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">
          𝐅
         </mi>
         <mo id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2" lspace="0em" rspace="0em" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">
          ​
         </mo>
         <mrow id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml">
          <mo id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml">
           (
          </mo>
          <msub id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml">
           <mi id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2.cmml">
            C
           </mi>
           <mi id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3.cmml">
            i
           </mi>
          </msub>
          <mo id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.2.m2.1b">
         <apply id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1">
          <times id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2">
          </times>
          <ci id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3">
           𝐅
          </ci>
          <apply id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1">
           <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2">
            𝐶
           </ci>
           <ci id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3">
            𝑖
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.2.m2.1c">
         \mathbf{F}(C_{i})
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\mathbf{F}(\hat{C}_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.3.m3.1">
       <semantics id="S4.SS2.SSS0.Px2.p1.3.m3.1a">
        <mrow id="S4.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">
         <mi id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.3" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml">
          𝐅
         </mi>
         <mo id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.2" lspace="0em" rspace="0em" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml">
          ​
         </mo>
         <mrow id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.cmml">
          <mo id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.cmml">
           (
          </mo>
          <msub id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.cmml">
           <mover accent="true" id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.cmml">
            <mi id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.2.cmml">
             C
            </mi>
            <mo id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.1.cmml">
             ^
            </mo>
           </mover>
           <mi id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.3.cmml">
            i
           </mi>
          </msub>
          <mo id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.3.m3.1b">
         <apply id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1">
          <times id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.2">
          </times>
          <ci id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.3">
           𝐅
          </ci>
          <apply id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1">
           <csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1">
            subscript
           </csymbol>
           <apply id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2">
            <ci id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.1">
             ^
            </ci>
            <ci id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.2.2">
             𝐶
            </ci>
           </apply>
           <ci id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.1.1.1.3">
            𝑖
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.3.m3.1c">
         \mathbf{F}(\hat{C}_{i})
        </annotation>
       </semantics>
      </math>
      denote the set of private library functions in the reference codes and the set actually utilized by agents in the predicted codes, respectively.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    5
   </span>
   Evolving LLMs Towards Interactive Data Analysis Agents
  </h2>
  <div class="ltx_para" id="S5.p1">
   <p class="ltx_p" id="S5.p1.1">
    In this section, we discuss our approach of equipping LLMs as data analysis agents with tools and reasoning. Then, we introduce our self-generated reflection strategy
    <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.1">
     Air
    </span>
    to enhancing their performance in interactive settings.
   </p>
  </div>
  <section class="ltx_subsection" id="S5.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.1
    </span>
    Toolkit
   </h3>
   <div class="ltx_para" id="S5.SS1.p1">
    <p class="ltx_p" id="S5.SS1.p1.1">
     Our tool sets include an executor, a user simulator, and a chart-to-table converter. The executor provides an environment for models to observe real-time feedback on their intermediate code results
     <cite class="ltx_cite ltx_citemacro_citep">
      (Xie et al.,
      <a class="ltx_ref" href="#bib.bib46" title="">
       2023
      </a>
      ; Wang et al.,
      <a class="ltx_ref" href="#bib.bib43" title="">
       2024
      </a>
      )
     </cite>
     . The user simulator
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al.,
      <a class="ltx_ref" href="#bib.bib43" title="">
       2024
      </a>
      ; Yan et al.,
      <a class="ltx_ref" href="#bib.bib49" title="">
       2023
      </a>
      )
     </cite>
     , powered by GPT-4-Turbo, tests the agents’ ability to generate code after clarifying details when facing under-specific questions. The chart-to-table
     <cite class="ltx_cite ltx_citemacro_citep">
      (Liu et al.,
      <a class="ltx_ref" href="#bib.bib33" title="">
       2023a
      </a>
      )
     </cite>
     converter mitigates the prevalent issue of LLMs’ inability to comprehend plots by converting them into tables. Detailed descriptions of these tool sets are provided in the Appendix
     <a class="ltx_ref" href="#A5.SS1" title="E.1 Toolkit ‣ Appendix E Agent Implementation ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       E.1
      </span>
     </a>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S5.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.2
    </span>
    Reasoning
   </h3>
   <div class="ltx_para" id="S5.SS2.p1">
    <p class="ltx_p" id="S5.SS2.p1.1">
     Reasoning is a critical process in transitioning LLMs into data analysis agents
     <cite class="ltx_cite ltx_citemacro_citep">
      (Huang and Chang,
      <a class="ltx_ref" href="#bib.bib19" title="">
       2023
      </a>
      )
     </cite>
     . In
     <span class="ltx_text ltx_font_smallcaps" id="S5.SS2.p1.1.1">
      Tapilot-Crossing
     </span>
     , we incorporate two primary reasoning methods for code generation and multiple-choice answers. The first is the
     <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.2">
      Chain-of-Thought (COT)
     </span>
     prompting technique
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wei et al.,
      <a class="ltx_ref" href="#bib.bib45" title="">
       2022
      </a>
      )
     </cite>
     , which enhances the complex reasoning abilities of LLMs by dividing the reasoning path into multiple steps. The second method is
     <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.3">
      Reasoning &amp; Action (ReAct)
     </span>
     , which enables models to make decisions by generating reasoning traces and actions in an interleaved manner, inducing writing codes, executing and understanding results, and make decision based on analysis
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yao et al.,
      <a class="ltx_ref" href="#bib.bib51" title="">
       2023
      </a>
      )
     </cite>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S5.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.3
    </span>
    Adapative Interaction Reflection (
    <span class="ltx_text ltx_font_smallcaps" id="S5.SS3.1.1">
     Air
    </span>
    )
   </h3>
   <div class="ltx_para" id="S5.SS3.p1">
    <p class="ltx_p" id="S5.SS3.p1.1">
     Successful interactions are important since they encapsulate the logic necessary to meet user requirements and ensure correct steps of analysis or code generation. Motivated by this, we propose an
     <span class="ltx_text ltx_font_bold" id="S5.SS3.p1.1.1">
      A
     </span>
     daptive
     <span class="ltx_text ltx_font_bold" id="S5.SS3.p1.1.2">
      I
     </span>
     nteraction
     <span class="ltx_text ltx_font_bold" id="S5.SS3.p1.1.3">
      R
     </span>
     eflection (
     <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S5.SS3.p1.1.4">
      Air
     </span>
     ) approach to enable data analysis agents to learn from successful user-code histories with two steps.
    </p>
   </div>
   <section class="ltx_paragraph" id="S5.SS3.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Pseudo Code Logic Generation.
    </h4>
    <div class="ltx_para" id="S5.SS3.SSS0.Px1.p1">
     <p class="ltx_p" id="S5.SS3.SSS0.Px1.p1.9">
      First, given the last previous history
      <math alttext="(\mathbf{u}_{t-1};\mathbf{a}_{t-1})" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.1.m1.2">
       <semantics id="S5.SS3.SSS0.Px1.p1.1.m1.2a">
        <mrow id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.3.cmml">
         <mo id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.3" stretchy="false" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.3.cmml">
          (
         </mo>
         <msub id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.cmml">
          <mi id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml">
           𝐮
          </mi>
          <mrow id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml">
           <mi id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.2" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.2.cmml">
            t
           </mi>
           <mo id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.1" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.1.cmml">
            −
           </mo>
           <mn id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.3" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.3.cmml">
            1
           </mn>
          </mrow>
         </msub>
         <mo id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.4" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.3.cmml">
          ;
         </mo>
         <msub id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.cmml">
          <mi id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.2" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml">
           𝐚
          </mi>
          <mrow id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml">
           <mi id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.2" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.2.cmml">
            t
           </mi>
           <mo id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.1" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.1.cmml">
            −
           </mo>
           <mn id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.3" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.3.cmml">
            1
           </mn>
          </mrow>
         </msub>
         <mo id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.5" stretchy="false" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.3.cmml">
          )
         </mo>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.1.m1.2b">
         <list id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.3.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2">
          <apply id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1">
           <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.2">
            𝐮
           </ci>
           <apply id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3">
            <minus id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.1">
            </minus>
            <ci id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.2">
             𝑡
            </ci>
            <cn id="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3.3">
             1
            </cn>
           </apply>
          </apply>
          <apply id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2">
           <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.1.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2">
            subscript
           </csymbol>
           <ci id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.2">
            𝐚
           </ci>
           <apply id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3">
            <minus id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.1.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.1">
            </minus>
            <ci id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.2.cmml" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.2">
             𝑡
            </ci>
            <cn id="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px1.p1.1.m1.2.2.2.2.3.3">
             1
            </cn>
           </apply>
          </apply>
         </list>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.1.m1.2c">
         (\mathbf{u}_{t-1};\mathbf{a}_{t-1})
        </annotation>
       </semantics>
      </math>
      , when
      <math alttext="t&gt;1" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.2.m2.1">
       <semantics id="S5.SS3.SSS0.Px1.p1.2.m2.1a">
        <mrow id="S5.SS3.SSS0.Px1.p1.2.m2.1.1" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.2" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.2.cmml">
          t
         </mi>
         <mo id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.1" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.1.cmml">
          &gt;
         </mo>
         <mn id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.3" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.2.m2.1b">
         <apply id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1">
          <gt id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.1">
          </gt>
          <ci id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.2">
           𝑡
          </ci>
          <cn id="S5.SS3.SSS0.Px1.p1.2.m2.1.1.3.cmml" type="integer" xref="S5.SS3.SSS0.Px1.p1.2.m2.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.2.m2.1c">
         t&gt;1
        </annotation>
       </semantics>
      </math>
      , we prompt the data analysis agent to reflect and generate its underlying logic
      <math alttext="\mathbf{m}_{t-1}=f_{\theta}(\mathbf{u}_{t-1};\mathbf{a}_{t-1})" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.3.m3.2">
       <semantics id="S5.SS3.SSS0.Px1.p1.3.m3.2a">
        <mrow id="S5.SS3.SSS0.Px1.p1.3.m3.2.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.cmml">
         <msub id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.cmml">
          <mi id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.2.cmml">
           𝐦
          </mi>
          <mrow id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.cmml">
           <mi id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.2.cmml">
            t
           </mi>
           <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.1" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.1.cmml">
            −
           </mo>
           <mn id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.3.cmml">
            1
           </mn>
          </mrow>
         </msub>
         <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.3.cmml">
          =
         </mo>
         <mrow id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.cmml">
          <msub id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.cmml">
           <mi id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.2.cmml">
            f
           </mi>
           <mi id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.3.cmml">
            θ
           </mi>
          </msub>
          <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.3" lspace="0em" rspace="0em" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.3.cmml">
           ​
          </mo>
          <mrow id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.3.cmml">
           <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.3" stretchy="false" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.3.cmml">
            (
           </mo>
           <msub id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.cmml">
            <mi id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.2.cmml">
             𝐮
            </mi>
            <mrow id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.cmml">
             <mi id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.2.cmml">
              t
             </mi>
             <mo id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.1" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.1.cmml">
              −
             </mo>
             <mn id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.3.cmml">
              1
             </mn>
            </mrow>
           </msub>
           <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.4" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.3.cmml">
            ;
           </mo>
           <msub id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.cmml">
            <mi id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.2.cmml">
             𝐚
            </mi>
            <mrow id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.cmml">
             <mi id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.2" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.2.cmml">
              t
             </mi>
             <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.1" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.1.cmml">
              −
             </mo>
             <mn id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.3" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.3.cmml">
              1
             </mn>
            </mrow>
           </msub>
           <mo id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.5" stretchy="false" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.3.m3.2b">
         <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2">
          <eq id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.3">
          </eq>
          <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4">
           <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4">
            subscript
           </csymbol>
           <ci id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.2">
            𝐦
           </ci>
           <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3">
            <minus id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.1">
            </minus>
            <ci id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.2">
             𝑡
            </ci>
            <cn id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.4.3.3">
             1
            </cn>
           </apply>
          </apply>
          <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2">
           <times id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.3">
           </times>
           <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4">
            <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4">
             subscript
            </csymbol>
            <ci id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.2">
             𝑓
            </ci>
            <ci id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.4.3">
             𝜃
            </ci>
           </apply>
           <list id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2">
            <apply id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.2">
              𝐮
             </ci>
             <apply id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3">
              <minus id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.1">
              </minus>
              <ci id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.2">
               𝑡
              </ci>
              <cn id="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px1.p1.3.m3.1.1.1.1.1.1.3.3">
               1
              </cn>
             </apply>
            </apply>
            <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.2">
              𝐚
             </ci>
             <apply id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3">
              <minus id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.1.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.1">
              </minus>
              <ci id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.2.cmml" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.2">
               𝑡
              </ci>
              <cn id="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px1.p1.3.m3.2.2.2.2.2.2.3.3">
               1
              </cn>
             </apply>
            </apply>
           </list>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.3.m3.2c">
         \mathbf{m}_{t-1}=f_{\theta}(\mathbf{u}_{t-1};\mathbf{a}_{t-1})
        </annotation>
       </semantics>
      </math>
      , where
      <math alttext="f_{\theta}" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.4.m4.1">
       <semantics id="S5.SS3.SSS0.Px1.p1.4.m4.1a">
        <msub id="S5.SS3.SSS0.Px1.p1.4.m4.1.1" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px1.p1.4.m4.1.1.2" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1.2.cmml">
          f
         </mi>
         <mi id="S5.SS3.SSS0.Px1.p1.4.m4.1.1.3" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1.3.cmml">
          θ
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.4.m4.1b">
         <apply id="S5.SS3.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S5.SS3.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1.2">
           𝑓
          </ci>
          <ci id="S5.SS3.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S5.SS3.SSS0.Px1.p1.4.m4.1.1.3">
           𝜃
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.4.m4.1c">
         f_{\theta}
        </annotation>
       </semantics>
      </math>
      refers to agent based on LLMs with parameter
      <math alttext="\theta" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.5.m5.1">
       <semantics id="S5.SS3.SSS0.Px1.p1.5.m5.1a">
        <mi id="S5.SS3.SSS0.Px1.p1.5.m5.1.1" xref="S5.SS3.SSS0.Px1.p1.5.m5.1.1.cmml">
         θ
        </mi>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.5.m5.1b">
         <ci id="S5.SS3.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.5.m5.1.1">
          𝜃
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.5.m5.1c">
         \theta
        </annotation>
       </semantics>
      </math>
      . And
      <math alttext="(x;y)" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.6.m6.2">
       <semantics id="S5.SS3.SSS0.Px1.p1.6.m6.2a">
        <mrow id="S5.SS3.SSS0.Px1.p1.6.m6.2.3.2" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.3.1.cmml">
         <mo id="S5.SS3.SSS0.Px1.p1.6.m6.2.3.2.1" stretchy="false" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.3.1.cmml">
          (
         </mo>
         <mi id="S5.SS3.SSS0.Px1.p1.6.m6.1.1" xref="S5.SS3.SSS0.Px1.p1.6.m6.1.1.cmml">
          x
         </mi>
         <mo id="S5.SS3.SSS0.Px1.p1.6.m6.2.3.2.2" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.3.1.cmml">
          ;
         </mo>
         <mi id="S5.SS3.SSS0.Px1.p1.6.m6.2.2" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.2.cmml">
          y
         </mi>
         <mo id="S5.SS3.SSS0.Px1.p1.6.m6.2.3.2.3" stretchy="false" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.3.1.cmml">
          )
         </mo>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.6.m6.2b">
         <list id="S5.SS3.SSS0.Px1.p1.6.m6.2.3.1.cmml" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.3.2">
          <ci id="S5.SS3.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.6.m6.1.1">
           𝑥
          </ci>
          <ci id="S5.SS3.SSS0.Px1.p1.6.m6.2.2.cmml" xref="S5.SS3.SSS0.Px1.p1.6.m6.2.2">
           𝑦
          </ci>
         </list>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.6.m6.2c">
         (x;y)
        </annotation>
       </semantics>
      </math>
      represents two elements
      <math alttext="x" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.7.m7.1">
       <semantics id="S5.SS3.SSS0.Px1.p1.7.m7.1a">
        <mi id="S5.SS3.SSS0.Px1.p1.7.m7.1.1" xref="S5.SS3.SSS0.Px1.p1.7.m7.1.1.cmml">
         x
        </mi>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.7.m7.1b">
         <ci id="S5.SS3.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.7.m7.1.1">
          𝑥
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.7.m7.1c">
         x
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="y" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.8.m8.1">
       <semantics id="S5.SS3.SSS0.Px1.p1.8.m8.1a">
        <mi id="S5.SS3.SSS0.Px1.p1.8.m8.1.1" xref="S5.SS3.SSS0.Px1.p1.8.m8.1.1.cmml">
         y
        </mi>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.8.m8.1b">
         <ci id="S5.SS3.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.8.m8.1.1">
          𝑦
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.8.m8.1c">
         y
        </annotation>
       </semantics>
      </math>
      are concatenated in the prompt. In our work, we consider pseudo code as
      <math alttext="\mathbf{m}" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px1.p1.9.m9.1">
       <semantics id="S5.SS3.SSS0.Px1.p1.9.m9.1a">
        <mi id="S5.SS3.SSS0.Px1.p1.9.m9.1.1" xref="S5.SS3.SSS0.Px1.p1.9.m9.1.1.cmml">
         𝐦
        </mi>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px1.p1.9.m9.1b">
         <ci id="S5.SS3.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S5.SS3.SSS0.Px1.p1.9.m9.1.1">
          𝐦
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px1.p1.9.m9.1c">
         \mathbf{m}
        </annotation>
       </semantics>
      </math>
      since it is an intermediate logics between natural language queries and codes.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S5.SS3.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Re-Org One-Shot Reasoning.
    </h4>
    <div class="ltx_para" id="S5.SS3.SSS0.Px2.p1">
     <p class="ltx_p" id="S5.SS3.SSS0.Px2.p1.9">
      Second, we re-organize them into a self-generated one-shot example with the order:
      <math alttext="\mathbf{p}_{t-1}=(\mathbf{u}_{t-1};\{\mathbf{m}_{t-1};\mathbf{a}_{t-1}\})" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.1.m1.2">
       <semantics id="S5.SS3.SSS0.Px2.p1.1.m1.2a">
        <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.2.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.cmml">
         <msub id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.2.cmml">
           𝐩
          </mi>
          <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.cmml">
           <mi id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.2.cmml">
            t
           </mi>
           <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.1" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.1.cmml">
            −
           </mo>
           <mn id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.3.cmml">
            1
           </mn>
          </mrow>
         </msub>
         <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.3.cmml">
          =
         </mo>
         <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
          <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
           (
          </mo>
          <msub id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml">
           <mi id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.2.cmml">
            𝐮
           </mi>
           <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.2.cmml">
             t
            </mi>
            <mo id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.1.cmml">
             −
            </mo>
            <mn id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.3.cmml">
             1
            </mn>
           </mrow>
          </msub>
          <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.4" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
           ;
          </mo>
          <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml">
           <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.3" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml">
            {
           </mo>
           <msub id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.2.cmml">
             𝐦
            </mi>
            <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.cmml">
             <mi id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.2.cmml">
              t
             </mi>
             <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.1.cmml">
              −
             </mo>
             <mn id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.3.cmml">
              1
             </mn>
            </mrow>
           </msub>
           <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.4" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml">
            ;
           </mo>
           <msub id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.2.cmml">
             𝐚
            </mi>
            <mrow id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.cmml">
             <mi id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.2" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.2.cmml">
              t
             </mi>
             <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.1" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.1.cmml">
              −
             </mo>
             <mn id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.3" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.3.cmml">
              1
             </mn>
            </mrow>
           </msub>
           <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.5" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml">
            }
           </mo>
          </mrow>
          <mo id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.3.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.1.m1.2b">
         <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2">
          <eq id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.3">
          </eq>
          <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4">
           <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4">
            subscript
           </csymbol>
           <ci id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.2">
            𝐩
           </ci>
           <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3">
            <minus id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.1">
            </minus>
            <ci id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.2">
             𝑡
            </ci>
            <cn id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.4.3.3">
             1
            </cn>
           </apply>
          </apply>
          <list id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2">
           <apply id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.2">
             𝐮
            </ci>
            <apply id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3">
             <minus id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.1">
             </minus>
             <ci id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.2">
              𝑡
             </ci>
             <cn id="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.3">
              1
             </cn>
            </apply>
           </apply>
           <list id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2">
            <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.2">
              𝐦
             </ci>
             <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3">
              <minus id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.1">
              </minus>
              <ci id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.2">
               𝑡
              </ci>
              <cn id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.1.1.3.3">
               1
              </cn>
             </apply>
            </apply>
            <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.2">
              𝐚
             </ci>
             <apply id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3">
              <minus id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.1">
              </minus>
              <ci id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.2">
               𝑡
              </ci>
              <cn id="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.1.m1.2.2.2.2.2.2.2.3.3">
               1
              </cn>
             </apply>
            </apply>
           </list>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.1.m1.2c">
         \mathbf{p}_{t-1}=(\mathbf{u}_{t-1};\{\mathbf{m}_{t-1};\mathbf{a}_{t-1}\})
        </annotation>
       </semantics>
      </math>
      , which represents the scenario where the input
      <math alttext="\mathbf{u}_{t-1}" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.2.m2.1">
       <semantics id="S5.SS3.SSS0.Px2.p1.2.m2.1a">
        <msub id="S5.SS3.SSS0.Px2.p1.2.m2.1.1" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.2" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.2.cmml">
          𝐮
         </mi>
         <mrow id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.2.m2.1b">
         <apply id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.2">
           𝐮
          </ci>
          <apply id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3">
           <minus id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.1">
           </minus>
           <ci id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.2">
            𝑡
           </ci>
           <cn id="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.2.m2.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.2.m2.1c">
         \mathbf{u}_{t-1}
        </annotation>
       </semantics>
      </math>
      is given, the agent should generate a logic
      <math alttext="\mathbf{m}_{t-1}" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.3.m3.1">
       <semantics id="S5.SS3.SSS0.Px2.p1.3.m3.1a">
        <msub id="S5.SS3.SSS0.Px2.p1.3.m3.1.1" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.2" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml">
          𝐦
         </mi>
         <mrow id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.3.m3.1b">
         <apply id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.2">
           𝐦
          </ci>
          <apply id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3">
           <minus id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.1">
           </minus>
           <ci id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.2">
            𝑡
           </ci>
           <cn id="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.3.m3.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.3.m3.1c">
         \mathbf{m}_{t-1}
        </annotation>
       </semantics>
      </math>
      first, generate the answers
      <math alttext="\mathbf{a}_{t-1}" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.4.m4.1">
       <semantics id="S5.SS3.SSS0.Px2.p1.4.m4.1a">
        <msub id="S5.SS3.SSS0.Px2.p1.4.m4.1.1" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.2" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.2.cmml">
          𝐚
         </mi>
         <mrow id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.4.m4.1b">
         <apply id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.2">
           𝐚
          </ci>
          <apply id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3">
           <minus id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.1">
           </minus>
           <ci id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.2">
            𝑡
           </ci>
           <cn id="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.4.m4.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.4.m4.1c">
         \mathbf{a}_{t-1}
        </annotation>
       </semantics>
      </math>
      . Finally, data analysis agent can learn from
      <math alttext="\mathbf{p}_{t-1}" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.5.m5.1">
       <semantics id="S5.SS3.SSS0.Px2.p1.5.m5.1a">
        <msub id="S5.SS3.SSS0.Px2.p1.5.m5.1.1" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.2" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.2.cmml">
          𝐩
         </mi>
         <mrow id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.5.m5.1b">
         <apply id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1">
          <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.2">
           𝐩
          </ci>
          <apply id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3">
           <minus id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.1">
           </minus>
           <ci id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.2">
            𝑡
           </ci>
           <cn id="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.5.m5.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.5.m5.1c">
         \mathbf{p}_{t-1}
        </annotation>
       </semantics>
      </math>
      to first generate logic
      <math alttext="\mathbf{m}_{t}=f_{\theta}(\mathbf{p}_{t-1};\mathbf{u}_{t})" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.6.m6.2">
       <semantics id="S5.SS3.SSS0.Px2.p1.6.m6.2a">
        <mrow id="S5.SS3.SSS0.Px2.p1.6.m6.2.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.cmml">
         <msub id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.2.cmml">
           𝐦
          </mi>
          <mi id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.3" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.3.cmml">
           t
          </mi>
         </msub>
         <mo id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.3" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.3.cmml">
          =
         </mo>
         <mrow id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.cmml">
          <msub id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.cmml">
           <mi id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.2.cmml">
            f
           </mi>
           <mi id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.3" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.3.cmml">
            θ
           </mi>
          </msub>
          <mo id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.3" lspace="0em" rspace="0em" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.3.cmml">
           ​
          </mo>
          <mrow id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.3.cmml">
           <mo id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.3" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.3.cmml">
            (
           </mo>
           <msub id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.2.cmml">
             𝐩
            </mi>
            <mrow id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.cmml">
             <mi id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.2.cmml">
              t
             </mi>
             <mo id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.1" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.1.cmml">
              −
             </mo>
             <mn id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.3" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.3.cmml">
              1
             </mn>
            </mrow>
           </msub>
           <mo id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.4" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.3.cmml">
            ;
           </mo>
           <msub id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.2.cmml">
             𝐮
            </mi>
            <mi id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.3" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.3.cmml">
             t
            </mi>
           </msub>
           <mo id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.5" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.6.m6.2b">
         <apply id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2">
          <eq id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.3">
          </eq>
          <apply id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4">
           <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4">
            subscript
           </csymbol>
           <ci id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.2">
            𝐦
           </ci>
           <ci id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.4.3">
            𝑡
           </ci>
          </apply>
          <apply id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2">
           <times id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.3">
           </times>
           <apply id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4">
            <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4">
             subscript
            </csymbol>
            <ci id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.2">
             𝑓
            </ci>
            <ci id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.4.3">
             𝜃
            </ci>
           </apply>
           <list id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2">
            <apply id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.2">
              𝐩
             </ci>
             <apply id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3">
              <minus id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.1.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.1">
              </minus>
              <ci id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.2">
               𝑡
              </ci>
              <cn id="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.6.m6.1.1.1.1.1.1.3.3">
               1
              </cn>
             </apply>
            </apply>
            <apply id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.1.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.2">
              𝐮
             </ci>
             <ci id="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.6.m6.2.2.2.2.2.2.3">
              𝑡
             </ci>
            </apply>
           </list>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.6.m6.2c">
         \mathbf{m}_{t}=f_{\theta}(\mathbf{p}_{t-1};\mathbf{u}_{t})
        </annotation>
       </semantics>
      </math>
      and generate answer
      <math alttext="\mathbf{a}_{t}=f_{\theta}(\mathbf{u}_{t};\mathbf{m}_{t})" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.7.m7.2">
       <semantics id="S5.SS3.SSS0.Px2.p1.7.m7.2a">
        <mrow id="S5.SS3.SSS0.Px2.p1.7.m7.2.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.cmml">
         <msub id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.cmml">
          <mi id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.2.cmml">
           𝐚
          </mi>
          <mi id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.3" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.3.cmml">
           t
          </mi>
         </msub>
         <mo id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.3" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.3.cmml">
          =
         </mo>
         <mrow id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.cmml">
          <msub id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.cmml">
           <mi id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.2.cmml">
            f
           </mi>
           <mi id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.3" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.3.cmml">
            θ
           </mi>
          </msub>
          <mo id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.3" lspace="0em" rspace="0em" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.3.cmml">
           ​
          </mo>
          <mrow id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.3.cmml">
           <mo id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.3" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.3.cmml">
            (
           </mo>
           <msub id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.2.cmml">
             𝐮
            </mi>
            <mi id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.3" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.3.cmml">
             t
            </mi>
           </msub>
           <mo id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.4" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.3.cmml">
            ;
           </mo>
           <msub id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.cmml">
            <mi id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.2" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.2.cmml">
             𝐦
            </mi>
            <mi id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.3" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.3.cmml">
             t
            </mi>
           </msub>
           <mo id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.5" stretchy="false" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.7.m7.2b">
         <apply id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2">
          <eq id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.3">
          </eq>
          <apply id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4">
           <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4">
            subscript
           </csymbol>
           <ci id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.2">
            𝐚
           </ci>
           <ci id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.4.3">
            𝑡
           </ci>
          </apply>
          <apply id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2">
           <times id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.3">
           </times>
           <apply id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4">
            <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.1.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4">
             subscript
            </csymbol>
            <ci id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.2">
             𝑓
            </ci>
            <ci id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.4.3">
             𝜃
            </ci>
           </apply>
           <list id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2">
            <apply id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.2">
              𝐮
             </ci>
             <ci id="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.1.1.1.1.1.1.3">
              𝑡
             </ci>
            </apply>
            <apply id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2">
             <csymbol cd="ambiguous" id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.1.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2">
              subscript
             </csymbol>
             <ci id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.2.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.2">
              𝐦
             </ci>
             <ci id="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.3.cmml" xref="S5.SS3.SSS0.Px2.p1.7.m7.2.2.2.2.2.2.3">
              𝑡
             </ci>
            </apply>
           </list>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.7.m7.2c">
         \mathbf{a}_{t}=f_{\theta}(\mathbf{u}_{t};\mathbf{m}_{t})
        </annotation>
       </semantics>
      </math>
      in the current turn
      <math alttext="t" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.8.m8.1">
       <semantics id="S5.SS3.SSS0.Px2.p1.8.m8.1a">
        <mi id="S5.SS3.SSS0.Px2.p1.8.m8.1.1" xref="S5.SS3.SSS0.Px2.p1.8.m8.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.8.m8.1b">
         <ci id="S5.SS3.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.8.m8.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.8.m8.1c">
         t
        </annotation>
       </semantics>
      </math>
      .
When
      <math alttext="t=1" class="ltx_Math" display="inline" id="S5.SS3.SSS0.Px2.p1.9.m9.1">
       <semantics id="S5.SS3.SSS0.Px2.p1.9.m9.1a">
        <mrow id="S5.SS3.SSS0.Px2.p1.9.m9.1.1" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.cmml">
         <mi id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.2" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.2.cmml">
          t
         </mi>
         <mo id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.1" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.1.cmml">
          =
         </mo>
         <mn id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.3" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS0.Px2.p1.9.m9.1b">
         <apply id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1">
          <eq id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.1.cmml" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.1">
          </eq>
          <ci id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.2.cmml" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.2">
           𝑡
          </ci>
          <cn id="S5.SS3.SSS0.Px2.p1.9.m9.1.1.3.cmml" type="integer" xref="S5.SS3.SSS0.Px2.p1.9.m9.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS0.Px2.p1.9.m9.1c">
         t=1
        </annotation>
       </semantics>
      </math>
      , we keep the same reasoning method of the original agent.
Figure
      <a class="ltx_ref" href="#A4.F7" title="Figure 7 ‣ Appendix D Air Implementation ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        7
       </span>
      </a>
      provides a detailed example.
     </p>
    </div>
    <figure class="ltx_table" id="S5.T3">
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.1" style="width:433.6pt;height:244.4pt;vertical-align:-1.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(-7.7pt,4.3pt) scale(0.965744549044201,0.965744549044201) ;">
       <table class="ltx_tabular ltx_align_middle" id="S5.T3.1.1">
        <tr class="ltx_tr" id="S5.T3.1.1.1">
         <td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T3.1.1.1.1" rowspan="2">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.1.1">
           Model
          </span>
         </td>
         <td class="ltx_td ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.2" rowspan="2">
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="4" id="S5.T3.1.1.1.3">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.3.1">
           Interaction Mode
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="S5.T3.1.1.1.4">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.4.1">
           Result Type
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.1.5" rowspan="2">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.5.1">
           Overall
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.2">
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.1.1">
           Normal
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.2">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.2.1">
           Action
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.3">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.3.1">
           Private
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.4">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.4.1">
           Pri-Act
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.5">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.5.1">
           Code
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.6">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.6.1">
           Choice
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.3">
         <td class="ltx_td ltx_align_left ltx_border_t" id="S5.T3.1.1.3.1" rowspan="3">
          <span class="ltx_text" id="S5.T3.1.1.3.1.1">
           Code-LLama-34B
          </span>
         </td>
         <td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T3.1.1.3.2">
          Model Base
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.3">
          27.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.4">
          18.7
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.5">
          2.4
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.3.6">
          0.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.7">
          15.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.3.8">
          19.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.9">
          16.7
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.4">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.4.1">
          Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.2">
          18.5
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.3">
          22.3
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.4">
          1.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.4.5">
          0.0
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.6">
          9.9
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.4.7">
          24.4
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.8">
          15.2
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.5">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.5.1">
          Inter-Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.2">
          28.8
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.3">
          22.9
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.4">
          2.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.5.5">
          0.2
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.6">
          15.7
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.5.7">
          24.8
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.8">
          19.2
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.6">
         <td class="ltx_td ltx_align_left ltx_border_t" id="S5.T3.1.1.6.1" rowspan="3">
          <span class="ltx_text" id="S5.T3.1.1.6.1.1">
           Claude-2.1
          </span>
         </td>
         <td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T3.1.1.6.2">
          Model Base
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.3">
          20.2
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.4">
          16.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.5">
          1.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.6.6">
          4.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.7">
          11.4
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.6.8">
          17.9
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.6.9">
          13.7
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.7">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.7.1">
          Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.7.2">
          23.4
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.7.3">
          18.0
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.7.4">
          3.9
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.7.5">
          0.0
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.7.6">
          13.6
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.7.7">
          19.1
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.7.8">
          15.6
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.8">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.8.1">
          Inter-Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.8.2">
          24.8
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.8.3">
          18.0
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.8.4">
          5.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.8.5">
          0.6
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.8.6">
          15.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.8.7">
          18.2
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.8.8">
          16.4
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.9">
         <td class="ltx_td ltx_align_left ltx_border_t" id="S5.T3.1.1.9.1" rowspan="3">
          <span class="ltx_text" id="S5.T3.1.1.9.1.1">
           GPT-4-Turbo
          </span>
         </td>
         <td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T3.1.1.9.2">
          Model Base
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.9.3">
          27.6
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.9.4">
          17.5
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.9.5">
          5.3
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.9.6">
          4.3
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.9.7">
          17.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.9.8">
          16.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.9.9">
          17.2
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.10">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.10.1">
          Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.10.2">
          29.1
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.10.3">
          21.7
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.10.4">
          10.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.10.5">
          3.6
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.10.6">
          20.2
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.10.7">
          20.6
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.10.8">
          20.4
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.11">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.11.1">
          Inter-Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.11.2">
          29.2
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.11.3">
          22.8
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.11.4">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.11.4.1">
           12.0
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.11.5">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.11.5.1">
           7.9
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.11.6">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.11.6.1">
           20.6
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.11.7">
          23.1
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.11.8">
          21.5
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.12">
         <td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S5.T3.1.1.12.1" rowspan="3">
          <span class="ltx_text" id="S5.T3.1.1.12.1.1">
           GPT-4-32k
          </span>
         </td>
         <td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T3.1.1.12.2">
          Model Base
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.12.3">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.12.3.1">
           29.7
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.12.4">
          24.2
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.12.5">
          7.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.12.6">
          0.0
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.12.7">
          17.8
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.12.8">
          25.4
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.12.9">
          20.9
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.13">
         <td class="ltx_td ltx_align_left ltx_border_r" id="S5.T3.1.1.13.1">
          Agent
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.13.2">
          23.4
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.13.3">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.13.3.1">
           39.2
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.13.4">
          9.1
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.13.5">
          5.3
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.13.6">
          16.6
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.13.7">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.13.7.1">
           38.8
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S5.T3.1.1.13.8">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.13.8.1">
           25.9
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S5.T3.1.1.14">
         <td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S5.T3.1.1.14.1">
          Inter-Agent
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.14.2">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.14.2.1">
           32.2
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.14.3">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.14.3.1">
           41.3
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.14.4">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.1.1.14.4.1">
           10.6
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T3.1.1.14.5">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.14.5.1">
           9.8
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.14.6">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.14.6.1">
           21.6
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T3.1.1.14.7">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.14.7.1">
           42.1
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.14.8">
          <span class="ltx_text ltx_font_bold" id="S5.T3.1.1.14.8.1">
           30.2
          </span>
         </td>
        </tr>
       </table>
      </span>
     </div>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 3:
      </span>
      Overall results of LLMs in base, agent, and inter-agent modes on the
      <span class="ltx_text ltx_font_smallcaps" id="S5.T3.4.1">
       Tapilot-Crossing
      </span>
      dataset.
      <span class="ltx_text ltx_font_bold" id="S5.T3.5.2">
       Pri-Act
      </span>
      refers to private library + action evaluation mode.
     </figcaption>
    </figure>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S6">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    6
   </span>
   Experiment
  </h2>
  <div class="ltx_para" id="S6.p1">
   <p class="ltx_p" id="S6.p1.1">
    We introduce experiment setup in Section
    <a class="ltx_ref" href="#S6.SS1" title="6.1 Experiment Setup ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      6.1
     </span>
    </a>
    , experimental results in Section
    <a class="ltx_ref" href="#S6.SS2.SSS0.Px1" title="Overall Results. ‣ 6.2 Experimental Results ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      6.2
     </span>
    </a>
    , and analysis in Section
    <a class="ltx_ref" href="#S6.SS3" title="6.3 Private Mode Analysis ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      6.3
     </span>
    </a>
    and
    <a class="ltx_ref" href="#S6.SS4" title="6.4 Model Shortcoming Analysis ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      6.4
     </span>
    </a>
    .
   </p>
  </div>
  <section class="ltx_subsection" id="S6.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     6.1
    </span>
    Experiment Setup
   </h3>
   <section class="ltx_paragraph" id="S6.SS1.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Models.
    </h4>
    <div class="ltx_para" id="S6.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="S6.SS1.SSS0.Px1.p1.1">
      Our experiments primarily involve popular Large Language Models (LLMs) that are capable of generating code and following complex human instructions since this is a basic in data analysis. Therefore, we investigate performance of GPT-4-Turbo
      <span class="ltx_note ltx_role_footnote" id="footnote2">
       <sup class="ltx_note_mark">
        †
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          †
         </sup>
         <span class="ltx_tag ltx_tag_note">
          †
         </span>
         <span class="ltx_text ltx_font_typewriter" id="footnote2.1">
          gpt-4-1106-preview
         </span>
        </span>
       </span>
      </span>
      , GPT-4-32k, Claude-2.1 and CodeLlama-34B
      <span class="ltx_note ltx_role_footnote" id="footnote3">
       <sup class="ltx_note_mark">
        ‡
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          ‡
         </sup>
         <span class="ltx_tag ltx_tag_note">
          ‡
         </span>
         <span class="ltx_text ltx_font_typewriter" id="footnote3.1">
          codellama-34b-instruct-hf
         </span>
        </span>
       </span>
      </span>
      <cite class="ltx_cite ltx_citemacro_citep">
       (Roziere et al.,
       <a class="ltx_ref" href="#bib.bib40" title="">
        2023
       </a>
       )
      </cite>
      .
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S6.SS1.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Implementation details.
    </h4>
    <div class="ltx_para" id="S6.SS1.SSS0.Px2.p1">
     <p class="ltx_p" id="S6.SS1.SSS0.Px2.p1.1">
      Each LLM is implemented with three settings. 1)
      <span class="ltx_text ltx_font_typewriter" id="S6.SS1.SSS0.Px2.p1.1.1">
       Model-Base
      </span>
      refers to the LLM itself without any tool calls and reasonings. 2)
      <span class="ltx_text ltx_font_typewriter" id="S6.SS1.SSS0.Px2.p1.1.2">
       Agent
      </span>
      mode involves tool usage and reasoning. We employ zero-shot COT for guiding the LLM in code generation tasks since it can allow us to test the pure code generation ability of agents in data analysis. For multi-choice question answering, we utilize one-shot ReAct. 3)
      <span class="ltx_text ltx_font_typewriter" id="S6.SS1.SSS0.Px2.p1.1.3">
       Inter-Agent
      </span>
      mode incorporates
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS1.SSS0.Px2.p1.1.4">
       Air
      </span>
      as described in Section
      <a class="ltx_ref" href="#S5.SS3" title="5.3 Adapative Interaction Reflection (Air) ‣ 5 Evolving LLMs Towards Interactive Data Analysis Agents ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        5.3
       </span>
      </a>
      beyond the agent. Each model is provided with the last up to 5 turns of user-code histories. Further details can be found in Appendix
      <a class="ltx_ref" href="#A6" title="Appendix F Implementation Details ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        F
       </span>
      </a>
      . For implementation of
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS1.SSS0.Px2.p1.1.5">
       Private
      </span>
      settings, we follow
      <cite class="ltx_cite ltx_citemacro_citep">
       (Li et al.,
       <a class="ltx_ref" href="#bib.bib30" title="">
        2023b
       </a>
       ; Zan et al.,
       <a class="ltx_ref" href="#bib.bib57" title="">
        2022
       </a>
       )
      </cite>
      to prompt agents to retrieve private libraries first then generate the code with retrieved packages.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S6.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     6.2
    </span>
    Experimental Results
   </h3>
   <figure class="ltx_figure" id="S6.F4">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="143" id="S6.F4.g1" src="/html/2403.05307/assets/x4.png" width="161"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 4:
     </span>
     Visualization of the performance of GPT-4-32k across various categories in
     <span class="ltx_text ltx_font_smallcaps" id="S6.F4.2.1">
      Action
     </span>
     Mode. It includes a comparative analysis of the base, agent, and inter_agent versions.
    </figcaption>
   </figure>
   <section class="ltx_paragraph" id="S6.SS2.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Overall Results.
    </h4>
    <div class="ltx_para" id="S6.SS2.SSS0.Px1.p1">
     <p class="ltx_p" id="S6.SS2.SSS0.Px1.p1.1">
      Table
      <a class="ltx_ref" href="#S5.T3" title="Table 3 ‣ Re-Org One-Shot Reasoning. ‣ 5.3 Adapative Interaction Reflection (Air) ‣ 5 Evolving LLMs Towards Interactive Data Analysis Agents ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      illustrates the comprehensive performance of all LLM agents and their base models on the
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px1.p1.1.1">
       Tapilot-Crossing
      </span>
      dataset. From the results, we can deduce the following:
1) Most models with
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px1.p1.1.2">
       Agent
      </span>
      version outperform their base version, highlighting the crucial role of tools and reasoning in enhancing the performance of Language Learning Models (LLMs) under complex tasks
      <cite class="ltx_cite ltx_citemacro_citep">
       (Liu et al.,
       <a class="ltx_ref" href="#bib.bib34" title="">
        2023b
       </a>
       ; Xie et al.,
       <a class="ltx_ref" href="#bib.bib46" title="">
        2023
       </a>
       )
      </cite>
      .
2) All models exhibit obvious improvements in the
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px1.p1.1.3">
       Inter-Agent
      </span>
      mode with
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px1.p1.1.4">
       Air
      </span>
      . This indicates that the underlying logic of successful interaction histories is instrumental in guiding LLMs to become more proficient data analysis agents in interactive settings.
3) Despite GPT-4-Turbo’s performance being nearly on par with GPT-4 in code generation, its overall performance still falls short of GPT-4. This indicates that beyond code writing, understanding results, and analysis are equally important. Fortunately, the comprehensive settings of
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px1.p1.1.5">
       Tapilot-Crossing
      </span>
      can assist users in selecting models for data analysis tasks.
4) It’s superising to see exceptional performance of CodeLlama in the
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px1.p1.1.6">
       Normal
      </span>
      code generation setting. We observe that CodeLlama frequently defines functions automatically and applies these in the following code, thereby improving readability and logic. This is particularly beneficial in tasks related to data-analysis code generation. Such tasks often require the composition of API functions, which demands a profound understanding of the context and the capability to extract common patterns into reusable functions. By defining and reusing symbolic functions, CodeLlama can streamline complex contexts, making them more logical, which is an advantage for resolving complex tasks
      <cite class="ltx_cite ltx_citemacro_citep">
       (Gu et al.,
       <a class="ltx_ref" href="#bib.bib13" title="">
        2023
       </a>
       )
      </cite>
      .
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S6.SS2.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Fine-Grained Results on
     <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px2.1.1">
      Action
     </span>
     Modes.
    </h4>
    <figure class="ltx_figure" id="S6.F5">
     <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="110" id="S6.F5.g1" src="/html/2403.05307/assets/x5.png" width="217"/>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 5:
      </span>
      Visualization of the performance of LLMs on
      <span class="ltx_text ltx_font_smallcaps" id="S6.F5.4.1">
       Normal
      </span>
      ,
      <span class="ltx_text ltx_font_smallcaps" id="S6.F5.5.2">
       Private
      </span>
      ,
      <span class="ltx_text ltx_font_smallcaps" id="S6.F5.6.3">
       Private w/ Recall
      </span>
      . The Scores of first two modes are Acc. The last score is AccR.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S6.SS2.SSS0.Px2.p1">
     <p class="ltx_p" id="S6.SS2.SSS0.Px2.p1.4">
      Figure
      <a class="ltx_ref" href="#S6.F4" title="Figure 4 ‣ 6.2 Experimental Results ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      provides a comparative evaluation of three GPT-4 model variants across various
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px2.p1.4.1">
       Action
      </span>
      modes, as detailed in Section
      <a class="ltx_ref" href="#S2.SS2" title="2.2 Agent Actions in Interactions ‣ 2 Preliminaries ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        2.2
       </span>
      </a>
      . The interactive data analysis agent,
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px2.p1.4.2">
       Inter-Agent
      </span>
      , obviously outperforms in most areas, especially in managing
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px2.p1.4.3">
       Fast_Fail
      </span>
      queries and executing
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px2.p1.4.4">
       Update_Code
      </span>
      actions. However, it falls short in the
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px2.p1.4.5">
       Best_Guess
      </span>
      action compared to the
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px2.p1.4.6">
       Agent
      </span>
      . We note that
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS2.SSS0.Px2.p1.4.7">
       Air
      </span>
      tends to make agents overly tractable in re-org one-shot example
      <math alttext="\mathbf{p}_{t-1}" class="ltx_Math" display="inline" id="S6.SS2.SSS0.Px2.p1.1.m1.1">
       <semantics id="S6.SS2.SSS0.Px2.p1.1.m1.1a">
        <msub id="S6.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">
         <mi id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">
          𝐩
         </mi>
         <mrow id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">
          <mi id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.1" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.1.m1.1b">
         <apply id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.2">
           𝐩
          </ci>
          <apply id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3">
           <minus id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.1">
           </minus>
           <ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.2">
            𝑡
           </ci>
           <cn id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.1.m1.1c">
         \mathbf{p}_{t-1}
        </annotation>
       </semantics>
      </math>
      and current generated logics
      <math alttext="\mathbf{m}_{t}" class="ltx_Math" display="inline" id="S6.SS2.SSS0.Px2.p1.2.m2.1">
       <semantics id="S6.SS2.SSS0.Px2.p1.2.m2.1a">
        <msub id="S6.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.cmml">
         <mi id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">
          𝐦
         </mi>
         <mi id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">
          t
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.2.m2.1b">
         <apply id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.2">
           𝐦
          </ci>
          <ci id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.3">
           𝑡
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.2.m2.1c">
         \mathbf{m}_{t}
        </annotation>
       </semantics>
      </math>
      . If
      <math alttext="\mathbf{p}_{t-1}" class="ltx_Math" display="inline" id="S6.SS2.SSS0.Px2.p1.3.m3.1">
       <semantics id="S6.SS2.SSS0.Px2.p1.3.m3.1a">
        <msub id="S6.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">
         <mi id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml">
          𝐩
         </mi>
         <mrow id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml">
          <mi id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.2" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.1" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.3" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.3.m3.1b">
         <apply id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2">
           𝐩
          </ci>
          <apply id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3">
           <minus id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.1">
           </minus>
           <ci id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.2">
            𝑡
           </ci>
           <cn id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" type="integer" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.3.m3.1c">
         \mathbf{p}_{t-1}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\mathbf{m}_{t}" class="ltx_Math" display="inline" id="S6.SS2.SSS0.Px2.p1.4.m4.1">
       <semantics id="S6.SS2.SSS0.Px2.p1.4.m4.1a">
        <msub id="S6.SS2.SSS0.Px2.p1.4.m4.1.1" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.cmml">
         <mi id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2.cmml">
          𝐦
         </mi>
         <mi id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3.cmml">
          t
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.4.m4.1b">
         <apply id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2">
           𝐦
          </ci>
          <ci id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3">
           𝑡
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.4.m4.1c">
         \mathbf{m}_{t}
        </annotation>
       </semantics>
      </math>
      do not contain instructions on making assumptions, agents tend to select
      <span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS0.Px2.p1.4.8">
       None of Above
      </span>
      . This observation suggests that excessive reliance on historical data may hinder the inherent ability of models to conjecture based on the instant user behaviors. Therefore, striking a trade-off between user-code history exploration and real-time user interaction, especially facing under-specific questions is crucial for improving the performance of LLM agents in interactive settings.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S6.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     6.3
    </span>
    Private Mode Analysis
   </h3>
   <section class="ltx_paragraph" id="S6.SS3.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Overall Results.
    </h4>
    <div class="ltx_para" id="S6.SS3.SSS0.Px1.p1">
     <p class="ltx_p" id="S6.SS3.SSS0.Px1.p1.1">
      Table
      <a class="ltx_ref" href="#S5.T3" title="Table 3 ‣ Re-Org One-Shot Reasoning. ‣ 5.3 Adapative Interaction Reflection (Air) ‣ 5 Evolving LLMs Towards Interactive Data Analysis Agents ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      and Figure
      <a class="ltx_ref" href="#S6.F5" title="Figure 5 ‣ Fine-Grained Results on Action Modes. ‣ 6.2 Experimental Results ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        5
       </span>
      </a>
      indicates that the
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS3.SSS0.Px1.p1.1.1">
       Private
      </span>
      setting presents a considerable obstacle, with the best performing GPT-4-Turbo
      <span class="ltx_text ltx_font_typewriter" id="S6.SS3.SSS0.Px1.p1.1.2">
       Inter-Agent
      </span>
      only achieving 12%. This demonstrates that understanding and implementing user-specific functions is a critical and urgent skill for LLM agents in real-world data analysis tasks
      <cite class="ltx_cite ltx_citemacro_citep">
       (Zan et al.,
       <a class="ltx_ref" href="#bib.bib57" title="">
        2022
       </a>
       )
      </cite>
      .
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S6.SS3.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     The Critical Role of Function Relative Recall.
    </h4>
    <div class="ltx_para" id="S6.SS3.SSS0.Px2.p1">
     <p class="ltx_p" id="S6.SS3.SSS0.Px2.p1.1">
      Notably, CodeLlama outperforms GPT-4-Turbo in Acc within the
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS3.SSS0.Px2.p1.1.1">
       Private
      </span>
      setting. However, its performance declines significantly relative to GPT-4-Turbo upon the consideration of private library relative recall in the generated codes, as measured by the AccR metric. This observation suggests that CodeLlama tends to reply less on user-defined private functions, aiming to reduce risk of code errors. Therefore, AccR metric can spotlight the balance required between proficient code generation and the meticulous integration of user-specified private libraries to foster safer and more satisfying code production.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S6.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     6.4
    </span>
    Model Shortcoming Analysis
   </h3>
   <section class="ltx_paragraph" id="S6.SS4.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Long-Context Challenges.
    </h4>
    <div class="ltx_para" id="S6.SS4.SSS0.Px1.p1">
     <p class="ltx_p" id="S6.SS4.SSS0.Px1.p1.1">
      The challenge of handling long-contexts is considerable in
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS4.SSS0.Px1.p1.1.1">
       Tapilot-Crossing
      </span>
      , especially for models with shorter maximum input lengths. Models such as Codellama-34B, which has a maximum input length of 16k, are particularly affected. For example, it is essential for LLMs to access all private function descriptions and codes for effective code generation with retrieved functions. The statistics shows that the average number of prompt tokens for
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS4.SSS0.Px1.p1.1.2">
       Private
      </span>
      is 15.7k, and notably, 20.4% of their prompts surpass the 16k length.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S6.SS4.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Instruction Following.
    </h4>
    <div class="ltx_para" id="S6.SS4.SSS0.Px2.p1">
     <p class="ltx_p" id="S6.SS4.SSS0.Px2.p1.1">
      Our experiments reveal that GPT-4-32k requires minimal efforts in prompt design due to their exceptional ability to follow human instructions. To be specific, only 3.4% of their results deviate from the provided instructions. However, other models exhibit a higher proportion of unexpected result types. For instance, extracting generated codes or answers from Claude-2.1 proves to be extremely challenging since it often embeds the answer in the middle of outputs rather than at the end as defined. We also observe that GPT-4-Turbo tends to generate longer codes in any settings. While this characteristic enhances its performance in code generation, it also results in 60.3% of the code generated during ReAct reasoning being non-executable, thereby leading to incorrect answers. Furthermore, CodeLlama-34B-Instruct exhibits a lack of robustness when faced with longer or more complex prompts. With the addition of COT, the performance of CodeLlama significantly drops from 27.5% with simpler instructions to 18.5% in
      <span class="ltx_text ltx_font_smallcaps" id="S6.SS4.SSS0.Px2.p1.1.1">
       Normal
      </span>
      code generation.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S7">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    7
   </span>
   Related Work
  </h2>
  <section class="ltx_paragraph" id="S7.SS0.SSS0.Px1">
   <h4 class="ltx_title ltx_title_paragraph">
    Large Language Models for Data Analysis.
   </h4>
   <div class="ltx_para" id="S7.SS0.SSS0.Px1.p1">
    <p class="ltx_p" id="S7.SS0.SSS0.Px1.p1.1">
     The use of LLMs for data analysis has been a topic of interest in recent years. LLMs powered by In-Context Learning
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yang et al.,
      <a class="ltx_ref" href="#bib.bib50" title="">
       2023
      </a>
      ; Dai et al.,
      <a class="ltx_ref" href="#bib.bib6" title="">
       2023
      </a>
      ; Dong et al.,
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      )
     </cite>
     have been employed in various data analysis tasks, such as SQL query generation
     <cite class="ltx_cite ltx_citemacro_citep">
      (Pourreza and Rafiei,
      <a class="ltx_ref" href="#bib.bib37" title="">
       2024a
      </a>
      ; Gao et al.,
      <a class="ltx_ref" href="#bib.bib12" title="">
       2023
      </a>
      ; Lei et al.,
      <a class="ltx_ref" href="#bib.bib25" title="">
       2023
      </a>
      ; Zhang et al.,
      <a class="ltx_ref" href="#bib.bib61" title="">
       2023b
      </a>
      ; Gu et al.,
      <a class="ltx_ref" href="#bib.bib14" title="">
       2024
      </a>
      ; Wang et al.,
      <a class="ltx_ref" href="#bib.bib42" title="">
       2023a
      </a>
      ; Pourreza and Rafiei,
      <a class="ltx_ref" href="#bib.bib38" title="">
       2024b
      </a>
      ; Li et al.,
      <a class="ltx_ref" href="#bib.bib27" title="">
       2024b
      </a>
      )
     </cite>
     , pandas or python code generation
     <cite class="ltx_cite ltx_citemacro_citep">
      (Jain et al.,
      <a class="ltx_ref" href="#bib.bib22" title="">
       2023
      </a>
      ; Chen et al.,
      <a class="ltx_ref" href="#bib.bib4" title="">
       2024
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib3" title="">
       2023a
      </a>
      ; Li et al.,
      <a class="ltx_ref" href="#bib.bib28" title="">
       2024c
      </a>
      ; Zha et al.,
      <a class="ltx_ref" href="#bib.bib59" title="">
       2023
      </a>
      ; Zhang et al.,
      <a class="ltx_ref" href="#bib.bib60" title="">
       2023a
      </a>
      ; Zheng et al.,
      <a class="ltx_ref" href="#bib.bib65" title="">
       2024b
      </a>
      )
     </cite>
     , and data visualization
     <cite class="ltx_cite ltx_citemacro_citep">
      (Chen et al.,
      <a class="ltx_ref" href="#bib.bib5" title="">
       2023b
      </a>
      ; Huang et al.,
      <a class="ltx_ref" href="#bib.bib20" title="">
       2023a
      </a>
      )
     </cite>
     .
However, most of these works focus on single-turn setting, where the user’s query is explicit and does not require any interaction or clarification. Recently, there has been a growing interest in interactive data analysis, where the user intents may need to be clarified or refined through interactive communication
     <cite class="ltx_cite ltx_citemacro_citep">
      (De Vries et al.,
      <a class="ltx_ref" href="#bib.bib7" title="">
       2020
      </a>
      ; Yan et al.,
      <a class="ltx_ref" href="#bib.bib49" title="">
       2023
      </a>
      ; Wang et al.,
      <a class="ltx_ref" href="#bib.bib43" title="">
       2024
      </a>
      )
     </cite>
     .
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S7.SS0.SSS0.Px2">
   <h4 class="ltx_title ltx_title_paragraph">
    Data Analysis Benchmarks.
   </h4>
   <div class="ltx_para" id="S7.SS0.SSS0.Px2.p1">
    <p class="ltx_p" id="S7.SS0.SSS0.Px2.p1.1">
     The development of benchmarks for data analysis tasks has been a crucial factor in driving the progress of LLMs in data science. Existing benchmarks can be broadly categorized into single-turn and multi-turn benchmarks. Single-turn benchmarks, such as HumanEval
     <cite class="ltx_cite ltx_citemacro_citep">
      (Chen et al.,
      <a class="ltx_ref" href="#bib.bib2" title="">
       2021
      </a>
      )
     </cite>
     , MBPP
     <cite class="ltx_cite ltx_citemacro_citep">
      (Austin et al.,
      <a class="ltx_ref" href="#bib.bib1" title="">
       2021
      </a>
      )
     </cite>
     , Spider
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yu et al.,
      <a class="ltx_ref" href="#bib.bib55" title="">
       2018
      </a>
      )
     </cite>
     , BIRD
     <cite class="ltx_cite ltx_citemacro_citep">
      (Li et al.,
      <a class="ltx_ref" href="#bib.bib29" title="">
       2023a
      </a>
      )
     </cite>
     , Text2Analysis
     <cite class="ltx_cite ltx_citemacro_citep">
      (He et al.,
      <a class="ltx_ref" href="#bib.bib17" title="">
       2023
      </a>
      )
     </cite>
     , DABench
     <cite class="ltx_cite ltx_citemacro_citep">
      (Hu et al.,
      <a class="ltx_ref" href="#bib.bib18" title="">
       2024
      </a>
      )
     </cite>
     and DS-1000
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lai et al.,
      <a class="ltx_ref" href="#bib.bib24" title="">
       2023
      </a>
      )
     </cite>
     , focus on generating code snippets or closed-form insight summaries for data analysis given a single user query. To explore interactive nature of real-world data analysis scenarios, where the user’s intent may need to be clarified or refined through interactive communication, several multi-turn benchmarks have been proposed, including CoSQL
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yu et al.,
      <a class="ltx_ref" href="#bib.bib54" title="">
       2019a
      </a>
      )
     </cite>
     , and ARCADE
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yin et al.,
      <a class="ltx_ref" href="#bib.bib53" title="">
       2023
      </a>
      )
     </cite>
     . However, these benchmarks are primarily focused on code generation and do not cover other aspects of data analysis, such as data visualization and understanding based on intermediate results. Our work extends the existing literature by introducing a new benchmark,
     <span class="ltx_text ltx_font_smallcaps" id="S7.SS0.SSS0.Px2.p1.1.1">
      Tapilot-Crossing
     </span>
     , for evaluating LLM agents in interactive data analysis tasks across wide range of data analysis settings.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S7.SS0.SSS0.Px3">
   <h4 class="ltx_title ltx_title_paragraph">
    Multi-Agent Environments for Data Generation.
   </h4>
   <div class="ltx_para" id="S7.SS0.SSS0.Px3.p1">
    <p class="ltx_p" id="S7.SS0.SSS0.Px3.p1.1">
     LLMs have proven to be effective in constructing multi-agent environments for automatic data generation. For instance,
     <cite class="ltx_cite ltx_citemacro_citet">
      Lu et al. (
      <a class="ltx_ref" href="#bib.bib35" title="">
       2023
      </a>
      )
     </cite>
     and
     <cite class="ltx_cite ltx_citemacro_citet">
      Ding et al. (
      <a class="ltx_ref" href="#bib.bib9" title="">
       2023
      </a>
      )
     </cite>
     simulate dialogs for QA and text generation tasks. Also
     <cite class="ltx_cite ltx_citemacro_citet">
      Li et al. (
      <a class="ltx_ref" href="#bib.bib30" title="">
       2023b
      </a>
      )
     </cite>
     generates data about API calls using multi-agent environments. This is because LLM agents can simulate believable human actions when placed in an environment with dynamically updating knowledge and memory
     <cite class="ltx_cite ltx_citemacro_citep">
      (Park et al.,
      <a class="ltx_ref" href="#bib.bib36" title="">
       2023
      </a>
      )
     </cite>
     . Inspired by this, we also created
     <span class="ltx_text ltx_font_smallcaps" id="S7.SS0.SSS0.Px3.p1.1.1">
      Decision Company
     </span>
     to generate interaction log data for data analysis with more believable behaviors. Unlike most of previous work on training dataset generation, our research pioneers the construction of the interactive benchmark with a specific focus on interactive data analysis agent evaluation.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S8">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    8
   </span>
   Conclusion
  </h2>
  <div class="ltx_para" id="S8.p1">
   <p class="ltx_p" id="S8.p1.1">
    We introduce
    <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.1">
     Tapilot-Crossing
    </span>
    , a new benchmark for evaluating LLM agents in interactive data analysis tasks.
    <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.2">
     Tapilot-Crossing
    </span>
    is constructed using a cost-effective multi-agent environment,
    <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.3">
     Decision Company
    </span>
    , and covers a wide range of practical scenarios. We evaluate data analysis agents based on popular LLMs on
    <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.4">
     Tapilot-Crossing
    </span>
    , highlighting the challenges of interactive data analysis and the need for more advanced interactive data analysis agents. We also propose
    <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.5">
     AIR
    </span>
    , an effective reflection strategy for interactive data analysis agent evolution. Our experiments demonstrate that
    <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.6">
     AIR
    </span>
    can obviously enhance the performance of LLM agents.
   </p>
  </div>
  <div class="ltx_pagination ltx_role_newpage">
  </div>
 </section>
 <section class="ltx_section" id="S9">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    9
   </span>
   Limitations
  </h2>
  <section class="ltx_paragraph" id="S9.SS0.SSS0.Px1">
   <h4 class="ltx_title ltx_title_paragraph">
    Dataset Limitations.
   </h4>
   <div class="ltx_para" id="S9.SS0.SSS0.Px1.p1">
    <p class="ltx_p" id="S9.SS0.SSS0.Px1.p1.1">
     1) The
     <span class="ltx_text ltx_font_smallcaps" id="S9.SS0.SSS0.Px1.p1.1.1">
      Tapilot-Crossing
     </span>
     dataset assumes that all human-machine interaction history is clean and correct. However, in real-world scenarios, the interaction history is often not clean, and may contain noise or require multi-turn clarifications for a single question. Therefore, future work should consider a more realistic, noisy interaction benchmark in data analysis. It is also worth noting that even with a clean history, the most capable model, GPT-4-32k, only achieves a score of 30.2 in the
     <span class="ltx_text ltx_font_typewriter" id="S9.SS0.SSS0.Px1.p1.1.2">
      Inter-Agent
     </span>
     mode. 2) The creation of our dataset is both cost-effective and efficient; however, the evaluation phase demands considerable efforts due to the inherent complexity and unpredictability of data analysis questions. Given it is challenging to discern subtle differences in performance among data analysis agents, especially in the context of long-form code generation and execution accuracy. This difficulty is exacerbated by the fact that the execution results of code with a single error (i.e., one-line error) and a completely incorrect code (just one-line output) are also determined as 0. Therefore, a soft-metric evaluation system should be introduced in the future as Appendix
     <a class="ltx_ref" href="#A8.SS5" title="H.5 Code Similarity Equivalance (CSE) ‣ Appendix H Evaluation Metric Details ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       H.5
      </span>
     </a>
     . It would improve our ability to accurately gauge how close an answer is to the expected output, even when the executed output is zero, thereby providing a more fine-grained observation of code generation capabilities. 3) Finally, our work only concentrate on tabular data based analysis, while in the future, we would like to involve relational database (RDB)-based analysis with the programming language of SQLs.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S9.SS0.SSS0.Px2">
   <h4 class="ltx_title ltx_title_paragraph">
    Method Limitations.
   </h4>
   <div class="ltx_para" id="S9.SS0.SSS0.Px2.p1">
    <p class="ltx_p" id="S9.SS0.SSS0.Px2.p1.1">
     Our proposed reflection strategy can make LLMs more effective interactive data analysis agent, but relies heavily on the accuracy of previous interactions. This reliance becomes less reliable in instances where the historical dialogue is cluttered with errors, suggesting the need for retrieval-augmented tools or methods to identify successful past interactions. Additionally, this strategy does not enhance agent performance in initial interactions due to the absence of historical data. Finally, while effective in many
     <span class="ltx_text ltx_font_smallcaps" id="S9.SS0.SSS0.Px2.p1.1.1">
      Action
     </span>
     settings, this focus on interaction history may limit the inferential capabilities of Large Language Models (LLMs) by prioritizing past interactions over present context. Future efforts will be directed towards refining this approach to better balance the benefits of leveraging historical interactions against the need to maintain or enhance the inferential capabilities of LLMs.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S9.SS0.SSS0.Px3">
   <h4 class="ltx_title ltx_title_paragraph">
    Model Limitations.
   </h4>
   <div class="ltx_para" id="S9.SS0.SSS0.Px3.p1">
    <p class="ltx_p" id="S9.SS0.SSS0.Px3.p1.1">
     In this work, we only test four popular and advanced models in comprehensive settings. Many key open-sourced models actually show limited human instruction following capability on our datasets leading to very poor performance on reasoning. Specifically, as these models are mainly trained on code, they often fail to adequately follow user instructions, as illustrated in section
     <a class="ltx_ref" href="#S6.SS4" title="6.4 Model Shortcoming Analysis ‣ 6 Experiment ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       6.4
      </span>
     </a>
     . These models simply return the instruction itself and continue to generate meaningless following dialogue when the resources and instructions are more complex. Therefore, how to plan more weaker LLMs to become effective interactive data analysis agents would be one of our important future work.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S10">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    10
   </span>
   Ethical Statement
  </h2>
  <div class="ltx_para" id="S10.p1">
   <p class="ltx_p" id="S10.p1.1">
    The application of Large Language Models (LLMs) for automatic data generation requires a rigorous examination of ethical implications. The primary concern is the potential for LLMs to generate contents that could be considered harmful or biased. To mitigate these risks, human annotators (two PhD students) already filter and fix all problematic cases in Section
    <a class="ltx_ref" href="#S3.SS2" title="3.2 Human Calibration ‣ 3 Tapilot-Crossing Dataset ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      3.2
     </span>
    </a>
    . Also, LLMs may disseminate private or sensitive information. Therefore, we employ anonymization techniques wherein personal identifiers are systematically altered. For example, the name strings are replaced randomly, and any information of personas are switched as well. And the geographical locations of
    <span class="ltx_text ltx_font_typewriter" id="S10.p1.1.1">
     John Smith
    </span>
    will be replaced with locations of
    <span class="ltx_text ltx_font_typewriter" id="S10.p1.1.2">
     Carlos Garcia
    </span>
    to prevent any linkage to real-world individuals or entities. These procedures are conducted in Section
    <a class="ltx_ref" href="#S3" title="3 Tapilot-Crossing Dataset ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      3
     </span>
    </a>
    . Moreover, we are committed to ensuring that the outputs generated by our LLM, referred to as
    <span class="ltx_text ltx_font_smallcaps" id="S10.p1.1.3">
     Tapilot-Crossing
    </span>
    , are free from political or sexual biases. To this end, each output, including conclusions and generated responses, is rigorously reviewed by the authors. In a nutshell, our ethical framework is built on a foundation of transparency, accountability, and a proactive stance towards mitigating any ethical concerns associated with the use of LLMs. The measures we have implemented reflect our commitment to upholding the highest standards of ethical research practice with LLMs.
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Austin et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Jacob Austin, Augustus Odena, Maxwell Nye, Maarten Bosma, Henryk Michalewski, David Dohan, Ellen Jiang, Carrie Cai, Michael Terry, Quoc Le, et al. 2021.
    </span>
    <span class="ltx_bibblock">
     Program synthesis with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">
      arXiv preprint arXiv:2108.07732
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique Ponde de Oliveira Pinto, Jared Kaplan, Harri Edwards, Yuri Burda, Nicholas Joseph, Greg Brockman, et al. 2021.
    </span>
    <span class="ltx_bibblock">
     Evaluating large language models trained on code.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">
      arXiv preprint arXiv:2107.03374
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Xinyun Chen, Renat Aksitov, Uri Alon, Jie Ren, Kefan Xiao, Pengcheng Yin, Sushant Prakash, Charles Sutton, Xuezhi Wang, and Denny Zhou. 2023a.
    </span>
    <span class="ltx_bibblock">
     Universal self-consistency for large language model generation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">
      arXiv preprint arXiv:2311.17311
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Xinyun Chen, Maxwell Lin, Nathanael Schärli, and Denny Zhou. 2024.
    </span>
    <span class="ltx_bibblock">
     Teaching large language models to self-debug.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">
      The Twelfth International Conference on Learning Representations
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Zhutian Chen, Chenyang Zhang, Qianwen Wang, Jakob Troidl, Simon Warchol, Johanna Beyer, Nils Gehlenborg, and Hanspeter Pfister. 2023b.
    </span>
    <span class="ltx_bibblock">
     Beyond generating code: Evaluating gpt on a data visualization course.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">
      arXiv preprint arXiv:2306.02914
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Dai et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Damai Dai, Yutao Sun, Li Dong, Yaru Hao, Shuming Ma, Zhifang Sui, and Furu Wei. 2023.
    </span>
    <span class="ltx_bibblock">
     Why can GPT learn in-context? language models secretly perform gradient descent as meta-optimizers.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">
      Findings of the Association for Computational Linguistics: ACL 2023
     </em>
     , pages 4005–4019, Toronto, Canada. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     De Vries et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Harm De Vries, Dzmitry Bahdanau, and Christopher Manning. 2020.
    </span>
    <span class="ltx_bibblock">
     Towards ecologically valid research on language user interfaces.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">
      arXiv preprint arXiv:2007.14435
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Deng et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Xiang Deng, Yu Gu, Boyuan Zheng, Shijie Chen, Sam Stevens, Boshi Wang, Huan Sun, and Yu Su. 2024.
    </span>
    <span class="ltx_bibblock">
     Mind2web: Towards a generalist agent for the web.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ding et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Ning Ding, Yulin Chen, Bokai Xu, Yujia Qin, Shengding Hu, Zhiyuan Liu, Maosong Sun, and Bowen Zhou. 2023.
    </span>
    <span class="ltx_bibblock">
     Enhancing chat language models by scaling high-quality instructional conversations.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023
     </em>
     , pages 3029–3051. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Dong et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Qingxiu Dong, Lei Li, Damai Dai, Ce Zheng, Zhiyong Wu, Baobao Chang, Xu Sun, Jingjing Xu, and Zhifang Sui. 2023.
    </span>
    <span class="ltx_bibblock">
     A survey for in-context learning.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">
      arXiv preprint arXiv:2301.00234
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Fayyad et al. (1996)
    </span>
    <span class="ltx_bibblock">
     Usama M. Fayyad, Gregory Piatetsky-Shapiro, and Padhraic Smyth. 1996.
    </span>
    <span class="ltx_bibblock">
     From data mining to knowledge discovery in databases.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">
      AI Mag.
     </em>
     , 17(3):37–54.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gao et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Dawei Gao, Haibin Wang, Yaliang Li, Xiuyu Sun, Yichen Qian, Bolin Ding, and Jingren Zhou. 2023.
    </span>
    <span class="ltx_bibblock">
     Text-to-sql empowered by large language models: A benchmark evaluation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">
      arXiv preprint arXiv:2308.15363
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gu et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Yu Gu, Xiang Deng, and Yu Su. 2023.
    </span>
    <span class="ltx_bibblock">
     Don’t generate, discriminate: A proposal for grounding language models to real-world environments.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">
      Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023
     </em>
     , pages 4928–4949. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gu et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Yu Gu, Yiheng Shu, Hao Yu, Xiao Liu, Yuxiao Dong, Jie Tang, Jayanth Srinivasa, Hugo Latapie, and Yu Su. 2024.
    </span>
    <span class="ltx_bibblock">
     Middleware for llms: Tools are instrumental for language agents in complex environments.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">
      arXiv preprint arXiv:2402.14672
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Guo et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Jiaqi Guo, Ziliang Si, Yu Wang, Qian Liu, Ming Fan, Jian-Guang Lou, Zijiang Yang, and Ting Liu. 2021.
    </span>
    <span class="ltx_bibblock">
     Chase: A large-scale and pragmatic chinese dataset for cross-database context-dependent text-to-sql.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">
      Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing, ACL/IJCNLP 2021, (Volume 1: Long Papers), Virtual Event, August 1-6, 2021
     </em>
     , pages 2316–2331. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Han et al. (2011)
    </span>
    <span class="ltx_bibblock">
     Jiawei Han, Micheline Kamber, and Jian Pei. 2011.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">
      Data Mining: Concepts and Techniques, 3rd edition
     </em>
     .
    </span>
    <span class="ltx_bibblock">
     Morgan Kaufmann.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     He et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Xinyi He, Mengyu Zhou, Xinrun Xu, Xiaojun Ma, Rui Ding, Lun Du, Yan Gao, Ran Jia, Xu Chen, Shi Han, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     Text2analysis: A benchmark of table question answering with advanced data analysis and unclear queries.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">
      arXiv preprint arXiv:2312.13671
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hu et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Xueyu Hu, Ziyu Zhao, Shuang Wei, Ziwei Chai, Guoyin Wang, Xuwu Wang, Jing Su, Jingjing Xu, Ming Zhu, Yao Cheng, et al. 2024.
    </span>
    <span class="ltx_bibblock">
     Infiagent-dabench: Evaluating agents on data analysis tasks.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">
      arXiv preprint arXiv:2401.05507
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Huang and Chang (2023)
    </span>
    <span class="ltx_bibblock">
     Jie Huang and Kevin Chen-Chuan Chang. 2023.
    </span>
    <span class="ltx_bibblock">
     Towards reasoning in large language models: A survey.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">
      Findings of the Association for Computational Linguistics: ACL 2023, Toronto, Canada, July 9-14, 2023
     </em>
     , pages 1049–1065. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Huang et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Kung-Hsiang Huang, Mingyang Zhou, Hou Pong Chan, Yi R Fung, Zhenhailong Wang, Lingyu Zhang, Shih-Fu Chang, and Heng Ji. 2023a.
    </span>
    <span class="ltx_bibblock">
     Do lvlms understand charts? analyzing and correcting factual errors in chart captioning.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">
      arXiv preprint arXiv:2312.10160
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Huang et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Yue Huang, Jiawen Shi, Yuan Li, Chenrui Fan, Siyuan Wu, Qihui Zhang, Yixin Liu, Pan Zhou, Yao Wan, Neil Zhenqiang Gong, et al. 2023b.
    </span>
    <span class="ltx_bibblock">
     Metatool benchmark for large language models: Deciding whether to use tools and which to use.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">
      arXiv preprint arXiv:2310.03128
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Jain et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Naman Jain, Tianjun Zhang, Wei-Lin Chiang, Joseph E Gonzalez, Koushik Sen, and Ion Stoica. 2023.
    </span>
    <span class="ltx_bibblock">
     Llm-assisted code cleaning for training accurate code generators.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">
      arXiv preprint arXiv:2311.14904
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Khanbabaei et al. (2018)
    </span>
    <span class="ltx_bibblock">
     Mohammad Khanbabaei, Farzad Movahedi Sobhani, Mahmood Alborzi, and Reza Radfar. 2018.
    </span>
    <span class="ltx_bibblock">
     Developing an integrated framework for using data mining techniques and ontology concepts for process improvement.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">
      J. Syst. Softw.
     </em>
     , 137:78–95.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lai et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Yuhang Lai, Chengxi Li, Yiming Wang, Tianyi Zhang, Ruiqi Zhong, Luke Zettlemoyer, Wen-Tau Yih, Daniel Fried, Sida I. Wang, and Tao Yu. 2023.
    </span>
    <span class="ltx_bibblock">
     DS-1000: A natural and reliable benchmark for data science code generation.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">
      International Conference on Machine Learning, ICML 2023, 23-29 July 2023, Honolulu, Hawaii, USA
     </em>
     , volume 202 of
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.2.2">
      Proceedings of Machine Learning Research
     </em>
     , pages 18319–18345. PMLR.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lei et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Fangyu Lei, Qian Liu, Yiming Huang, Shizhu He, Jun Zhao, and Kang Liu. 2023.
    </span>
    <span class="ltx_bibblock">
     S3eval: A synthetic, scalable, systematic evaluation suite for large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">
      arXiv preprint arXiv:2310.15147
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2024a)
    </span>
    <span class="ltx_bibblock">
     Guohao Li, Hasan Hammoud, Hani Itani, Dmitrii Khizbullin, and Bernard Ghanem. 2024a.
    </span>
    <span class="ltx_bibblock">
     Camel: Communicative agents for" mind" exploration of large language model society.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2024b)
    </span>
    <span class="ltx_bibblock">
     Haoyang Li, Jing Zhang, Hanbing Liu, Ju Fan, Xiaokang Zhang, Jun Zhu, Renjie Wei, Hongyan Pan, Cuiping Li, and Hong Chen. 2024b.
    </span>
    <span class="ltx_bibblock">
     Codes: Towards building open-source language models for text-to-sql.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">
      arXiv preprint arXiv:2402.16347
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib28">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2024c)
    </span>
    <span class="ltx_bibblock">
     Hongxin Li, Jingran Su, Yuntao Chen, Qing Li, and ZHAO-XIANG ZHANG. 2024c.
    </span>
    <span class="ltx_bibblock">
     Sheetcopilot: Bringing software productivity to the next level through large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib29">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Jinyang Li, Binyuan Hui, GE QU, Jiaxi Yang, Binhua Li, Bowen Li, Bailin Wang, Bowen Qin, Ruiying Geng, Nan Huo, Xuanhe Zhou, Chenhao Ma, Guoliang Li, Kevin Chang, Fei Huang, Reynold Cheng, and Yongbin Li. 2023a.
    </span>
    <span class="ltx_bibblock">
     Can LLM already serve as a database interface? a BIg bench for large-scale database grounded text-to-SQLs.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">
      Thirty-seventh Conference on Neural Information Processing Systems Datasets and Benchmarks Track
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib30">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Minghao Li, Yingxiu Zhao, Bowen Yu, Feifan Song, Hangyu Li, Haiyang Yu, Zhoujun Li, Fei Huang, and Yongbin Li. 2023b.
    </span>
    <span class="ltx_bibblock">
     Api-bank: A comprehensive benchmark for tool-augmented llms.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">
      Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023
     </em>
     , pages 3102–3116. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib31">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2023c)
    </span>
    <span class="ltx_bibblock">
     Ruosen Li, Teerth Patel, and Xinya Du. 2023c.
    </span>
    <span class="ltx_bibblock">
     Prd: Peer rank and discussion improve large language model based evaluations.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">
      arXiv preprint arXiv:2307.02762
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib32">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2023d)
    </span>
    <span class="ltx_bibblock">
     Yunshui Li, Binyuan Hui, Xiaobo Xia, Jiaxi Yang, Min Yang, Lei Zhang, Shuzheng Si, Junhao Liu, Tongliang Liu, Fei Huang, et al. 2023d.
    </span>
    <span class="ltx_bibblock">
     One shot learning as instruction data prospector for large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">
      arXiv preprint arXiv:2312.10302
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib33">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Fangyu Liu, Julian Martin Eisenschlos, Francesco Piccinno, Syrine Krichene, Chenxi Pang, Kenton Lee, Mandar Joshi, Wenhu Chen, Nigel Collier, and Yasemin Altun. 2023a.
    </span>
    <span class="ltx_bibblock">
     Deplot: One-shot visual language reasoning by plot-to-table translation.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">
      Findings of the Association for Computational Linguistics: ACL 2023, Toronto, Canada, July 9-14, 2023
     </em>
     , pages 10381–10399. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib34">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Xiao Liu, Hao Yu, Hanchen Zhang, Yifan Xu, Xuanyu Lei, Hanyu Lai, Yu Gu, Hangliang Ding, Kaiwen Men, Kejuan Yang, et al. 2023b.
    </span>
    <span class="ltx_bibblock">
     Agentbench: Evaluating llms as agents.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">
      arXiv preprint arXiv:2308.03688
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib35">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lu et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Bo-Ru Lu, Nikita Haduong, Chia-Hsuan Lee, Zeqiu Wu, Hao Cheng, Paul Koester, Jean Utke, Tao Yu, Noah A Smith, and Mari Ostendorf. 2023.
    </span>
    <span class="ltx_bibblock">
     Dialgen: collaborative human-lm generated dialogues for improved understanding of human-human conversations.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">
      arXiv preprint arXiv:2307.07047
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib36">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Park et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Joon Sung Park, Joseph C. O’Brien, Carrie Jun Cai, Meredith Ringel Morris, Percy Liang, and Michael S. Bernstein. 2023.
    </span>
    <span class="ltx_bibblock">
     Generative agents: Interactive simulacra of human behavior.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">
      Proceedings of the 36th Annual ACM Symposium on User Interface Software and Technology, UIST 2023, San Francisco, CA, USA, 29 October 2023- 1 November 2023
     </em>
     , pages 2:1–2:22. ACM.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib37">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Pourreza and Rafiei (2024a)
    </span>
    <span class="ltx_bibblock">
     Mohammadreza Pourreza and Davood Rafiei. 2024a.
    </span>
    <span class="ltx_bibblock">
     Din-sql: Decomposed in-context learning of text-to-sql with self-correction.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib38">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Pourreza and Rafiei (2024b)
    </span>
    <span class="ltx_bibblock">
     Mohammadreza Pourreza and Davood Rafiei. 2024b.
    </span>
    <span class="ltx_bibblock">
     Dts-sql: Decomposed text-to-sql with small large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">
      arXiv preprint arXiv:2402.01117
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib39">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Qin et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Yujia Qin, Shengding Hu, Yankai Lin, Weize Chen, Ning Ding, Ganqu Cui, Zheni Zeng, Yufei Huang, Chaojun Xiao, Chi Han, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     Tool learning with foundation models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">
      arXiv preprint arXiv:2304.08354
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib40">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Roziere et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Baptiste Roziere, Jonas Gehring, Fabian Gloeckle, Sten Sootla, Itai Gat, Xiaoqing Ellen Tan, Yossi Adi, Jingyu Liu, Tal Remez, Jérémy Rapin, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     Code llama: Open foundation models for code.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">
      arXiv preprint arXiv:2308.12950
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib41">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Si et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Shuzheng Si, Wentao Ma, Haoyu Gao, Yuchuan Wu, Ting-En Lin, Yinpei Dai, Hangyu Li, Rui Yan, Fei Huang, and Yongbin Li. 2023.
    </span>
    <span class="ltx_bibblock">
     SpokenWOZ: A large-scale speech-text benchmark for spoken task-oriented dialogue agents.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">
      Thirty-seventh Conference on Neural Information Processing Systems Datasets and Benchmarks Track
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib42">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Bing Wang, Changyu Ren, Jian Yang, Xinnian Liang, Jiaqi Bai, Qian-Wen Zhang, Zhao Yan, and Zhoujun Li. 2023a.
    </span>
    <span class="ltx_bibblock">
     Mac-sql: Multi-agent collaboration for text-to-sql.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">
      arXiv preprint arXiv:2312.11242
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib43">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Xingyao Wang, Zihan Wang, Jiateng Liu, Yangyi Chen, Lifan Yuan, Hao Peng, and Heng Ji. 2024.
    </span>
    <span class="ltx_bibblock">
     MINT: Evaluating LLMs in multi-turn interaction with tools and language feedback.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">
      The Twelfth International Conference on Learning Representations
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib44">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Yue Wang, Hung Le, Akhilesh Deepak Gotmare, Nghi DQ Bui, Junnan Li, and Steven CH Hoi. 2023b.
    </span>
    <span class="ltx_bibblock">
     Codet5+: Open code large language models for code understanding and generation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">
      arXiv preprint arXiv:2305.07922
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib45">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wei et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. 2022.
    </span>
    <span class="ltx_bibblock">
     Chain-of-thought prompting elicits reasoning in large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 35:24824–24837.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib46">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xie et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Tianbao Xie, Fan Zhou, Zhoujun Cheng, Peng Shi, Luoxuan Weng, Yitao Liu, Toh Jing Hua, Junning Zhao, Qian Liu, Che Liu, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     Openagents: An open platform for language agents in the wild.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">
      arXiv preprint arXiv:2310.10634
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib47">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xu et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Binfeng Xu, Xukun Liu, Hua Shen, Zeyu Han, Yuhan Li, Murong Yue, Zhiyuan Peng, Yuchen Liu, Ziyu Yao, and Dongkuan Xu. 2023a.
    </span>
    <span class="ltx_bibblock">
     Gentopia.ai: A collaborative platform for tool-augmented llms.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">
      Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023 - System Demonstrations, Singapore, December 6-10, 2023
     </em>
     , pages 237–245. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib48">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xu et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Yiheng Xu, Hongjin Su, Chen Xing, Boyu Mi, Qian Liu, Weijia Shi, Binyuan Hui, Fan Zhou, Yitao Liu, Tianbao Xie, et al. 2023b.
    </span>
    <span class="ltx_bibblock">
     Lemur: Harmonizing natural language and code for language agents.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">
      arXiv preprint arXiv:2310.06830
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib49">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yan et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Hao Yan, Saurabh Srivastava, Yintao Tai, Sida I. Wang, Wen-tau Yih, and Ziyu Yao. 2023.
    </span>
    <span class="ltx_bibblock">
     Learning to simulate natural language feedback for interactive semantic parsing.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">
      Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023
     </em>
     , pages 3149–3170. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib50">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Jiaxi Yang, Binyuan Hui, Min Yang, Binhua Li, Fei Huang, and Yongbin Li. 2023.
    </span>
    <span class="ltx_bibblock">
     Iterative forward tuning boosts in-context learning in language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">
      arXiv preprint arXiv:2305.13016
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib51">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yao et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik R. Narasimhan, and Yuan Cao. 2023.
    </span>
    <span class="ltx_bibblock">
     React: Synergizing reasoning and acting in language models.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">
      The Eleventh International Conference on Learning Representations, ICLR 2023, Kigali, Rwanda, May 1-5, 2023
     </em>
     . OpenReview.net.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib52">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yao et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Ziyu Yao, Yiqi Tang, Wen-tau Yih, Huan Sun, and Yu Su. 2020.
    </span>
    <span class="ltx_bibblock">
     An imitation game for learning semantic parsers from user interaction.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">
      Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing, EMNLP 2020, Online, November 16-20, 2020
     </em>
     , pages 6883–6902. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib53">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yin et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Pengcheng Yin, Wen-Ding Li, Kefan Xiao, Abhishek Rao, Yeming Wen, Kensen Shi, Joshua Howland, Paige Bailey, Michele Catasta, Henryk Michalewski, Oleksandr Polozov, and Charles Sutton. 2023.
    </span>
    <span class="ltx_bibblock">
     Natural language to code generation in interactive data science notebooks.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">
      Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023
     </em>
     , pages 126–173. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib54">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yu et al. (2019a)
    </span>
    <span class="ltx_bibblock">
     Tao Yu, Rui Zhang, Heyang Er, Suyi Li, Eric Xue, Bo Pang, Xi Victoria Lin, Yi Chern Tan, Tianze Shi, Zihan Li, Youxuan Jiang, Michihiro Yasunaga, Sungrok Shim, Tao Chen, Alexander R. Fabbri, Zifan Li, Luyao Chen, Yuwen Zhang, Shreya Dixit, Vincent Zhang, Caiming Xiong, Richard Socher, Walter S. Lasecki, and Dragomir R. Radev. 2019a.
    </span>
    <span class="ltx_bibblock">
     Cosql: A conversational text-to-sql challenge towards cross-domain natural language interfaces to databases.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">
      Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing, EMNLP-IJCNLP 2019, Hong Kong, China, November 3-7, 2019
     </em>
     , pages 1962–1979. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib55">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yu et al. (2018)
    </span>
    <span class="ltx_bibblock">
     Tao Yu, Rui Zhang, Kai Yang, Michihiro Yasunaga, Dongxu Wang, Zifan Li, James Ma, Irene Li, Qingning Yao, Shanelle Roman, Zilin Zhang, and Dragomir R. Radev. 2018.
    </span>
    <span class="ltx_bibblock">
     Spider: A large-scale human-labeled dataset for complex and cross-domain semantic parsing and text-to-sql task.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">
      Proceedings of the 2018 Conference on Empirical Methods in Natural Language Processing, Brussels, Belgium, October 31 - November 4, 2018
     </em>
     , pages 3911–3921. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib56">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yu et al. (2019b)
    </span>
    <span class="ltx_bibblock">
     Tao Yu, Rui Zhang, Michihiro Yasunaga, Yi Chern Tan, Xi Victoria Lin, Suyi Li, Heyang Er, Irene Li, Bo Pang, Tao Chen, Emily Ji, Shreya Dixit, David Proctor, Sungrok Shim, Jonathan Kraft, Vincent Zhang, Caiming Xiong, Richard Socher, and Dragomir R. Radev. 2019b.
    </span>
    <span class="ltx_bibblock">
     Sparc: Cross-domain semantic parsing in context.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">
      Proceedings of the 57th Conference of the Association for Computational Linguistics, ACL 2019, Florence, Italy, July 28- August 2, 2019, Volume 1: Long Papers
     </em>
     , pages 4511–4523. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib57">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zan et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Daoguang Zan, Bei Chen, Zeqi Lin, Bei Guan, Yongji Wang, and Jian-Guang Lou. 2022.
    </span>
    <span class="ltx_bibblock">
     When language model meets private library.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">
      Findings of the Association for Computational Linguistics: EMNLP 2022, Abu Dhabi, United Arab Emirates, December 7-11, 2022
     </em>
     , pages 277–288. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib58">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zeng et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Aohan Zeng, Mingdao Liu, Rui Lu, Bowen Wang, Xiao Liu, Yuxiao Dong, and Jie Tang. 2023.
    </span>
    <span class="ltx_bibblock">
     Agenttuning: Enabling generalized agent abilities for llms.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">
      arXiv preprint arXiv:2310.12823
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib59">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zha et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Liangyu Zha, Junlin Zhou, Liyao Li, Rui Wang, Qingyi Huang, Saisai Yang, Jing Yuan, Changbao Su, Xiang Li, Aofeng Su, et al. 2023.
    </span>
    <span class="ltx_bibblock">
     Tablegpt: Towards unifying tables, nature language and commands into one gpt.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">
      arXiv preprint arXiv:2307.08674
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib60">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et al. (2023a)
    </span>
    <span class="ltx_bibblock">
     Wenqi Zhang, Yongliang Shen, Weiming Lu, and Yueting Zhuang. 2023a.
    </span>
    <span class="ltx_bibblock">
     Data-copilot: Bridging billions of data and humans with autonomous workflow.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib60.1.1">
      arXiv preprint arXiv:2306.07209
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib61">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et al. (2023b)
    </span>
    <span class="ltx_bibblock">
     Yunjia Zhang, Jordan Henkel, Avrilia Floratou, Joyce Cahoon, Shaleen Deep, and Jignesh M Patel. 2023b.
    </span>
    <span class="ltx_bibblock">
     Reactable: Enhancing react for table question answering.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib61.1.1">
      arXiv preprint arXiv:2310.00815
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib62">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et al. (2023c)
    </span>
    <span class="ltx_bibblock">
     Zhehao Zhang, Xitao Li, Yan Gao, and Jian-Guang Lou. 2023c.
    </span>
    <span class="ltx_bibblock">
     CRT-QA: A dataset of complex reasoning question answering over tabular data.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib62.1.1">
      Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing
     </em>
     , pages 2131–2153, Singapore. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib63">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et al. (2023d)
    </span>
    <span class="ltx_bibblock">
     Zhehao Zhang, Xitao Li, Yan Gao, and Jian-Guang Lou. 2023d.
    </span>
    <span class="ltx_bibblock">
     CRT-QA: A dataset of complex reasoning question answering over tabular data.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib63.1.1">
      Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023
     </em>
     , pages 2131–2153. Association for Computational Linguistics.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib64">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zheng et al. (2024a)
    </span>
    <span class="ltx_bibblock">
     Lianmin Zheng, Wei-Lin Chiang, Ying Sheng, Siyuan Zhuang, Zhanghao Wu, Yonghao Zhuang, Zi Lin, Zhuohan Li, Dacheng Li, Eric Xing, et al. 2024a.
    </span>
    <span class="ltx_bibblock">
     Judging llm-as-a-judge with mt-bench and chatbot arena.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib64.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib65">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zheng et al. (2024b)
    </span>
    <span class="ltx_bibblock">
     Tianyu Zheng, Ge Zhang, Tianhao Shen, Xueling Liu, Bill Yuchen Lin, Jie Fu, Wenhu Chen, and Xiang Yue. 2024b.
    </span>
    <span class="ltx_bibblock">
     Opencodeinterpreter: Integrating code generation with execution and refinement.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib65.1.1">
      arXiv preprint arXiv:2402.14658
     </em>
     .
    </span>
   </li>
  </ul>
 </section>
 <div class="ltx_pagination ltx_role_newpage">
 </div>
 <section class="ltx_appendix" id="A1">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix A
   </span>
   License
  </h2>
  <section class="ltx_subsection" id="A1.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     A.1
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="A1.SS1.1.1">
     Tapilot-Crossing
    </span>
   </h3>
   <div class="ltx_para" id="A1.SS1.p1">
    <p class="ltx_p" id="A1.SS1.p1.1">
     Our Tapilot-Crossing data is available under the lisense CC BY NC 4.0.
     <span class="ltx_note ltx_role_footnote" id="footnote4">
      <sup class="ltx_note_mark">
       §
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         §
        </sup>
        <span class="ltx_tag ltx_tag_note">
         §
        </span>
        <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" title="">
         https://creativecommons.org/licenses/by-nc/4.0/
        </a>
       </span>
      </span>
     </span>
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A1.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     A.2
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="A1.SS2.1.1">
     Kaggle Tabular Data
    </span>
   </h3>
   <div class="ltx_para" id="A1.SS2.p1">
    <p class="ltx_p" id="A1.SS2.p1.1">
     The tabular data that we used to create
     <span class="ltx_text ltx_font_smallcaps" id="A1.SS2.p1.1.1">
      Tapilot-Crossing
     </span>
     are following open-source licenses:
1)
     <span class="ltx_text ltx_font_bold" id="A1.SS2.p1.1.2">
      Public Domain
     </span>
     : Public Domain Mark 2)
     <span class="ltx_text ltx_font_bold" id="A1.SS2.p1.1.3">
      CC-BY
     </span>
     : Creative Commons Attribution 4.0 International.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A2">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix B
   </span>
   Dynamic History Combination
  </h2>
  <section class="ltx_subsection" id="A2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.1
    </span>
    History Relational Database (H-RDB)
   </h3>
   <div class="ltx_para" id="A2.SS1.p1">
    <p class="ltx_p" id="A2.SS1.p1.1">
     We split the User-AI interaction into several single-turn user queries and AI answers stored in a relational database, indexed by the conversational order as shown in figure
     <a class="ltx_ref" href="#A2.F6" title="Figure 6 ‣ B.1 History Relational Database (H-RDB) ‣ Appendix B Dynamic History Combination ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       6
      </span>
     </a>
     . This storage is subject to dynamic combinations for different scenarios.
    </p>
   </div>
   <figure class="ltx_figure" id="A2.F6">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="186" id="A2.F6.g1" src="/html/2403.05307/assets/img/rdb_example.png" width="287"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 6:
     </span>
     The screenshot of History Relational Database (H-RDB).
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="A2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.2
    </span>
    History Retrieval Queries
   </h3>
   <div class="ltx_para" id="A2.SS2.p1">
    <p class="ltx_p" id="A2.SS2.p1.1">
     When retrieving the stored history information, we use
     <span class="ltx_text ltx_font_typewriter" id="A2.SS2.p1.1.1">
      sqlite3
      <span class="ltx_note ltx_role_footnote" id="footnote5">
       <sup class="ltx_note_mark">
        ¶
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          ¶
         </sup>
         <span class="ltx_tag ltx_tag_note">
          <span class="ltx_text ltx_font_serif" id="footnote5.1.1.1">
           ¶
          </span>
         </span>
         <a class="ltx_ref ltx_url" href="https://docs.python.org/3/library/sqlite3.html" target="_blank" title="">
          https://docs.python.org/3/library/sqlite3.html
         </a>
        </span>
       </span>
      </span>
     </span>
     python package. The search query is provided in sqlite3 format, for example:
     <span class="ltx_text ltx_font_typewriter" id="A2.SS2.p1.1.2">
      SELECT {Prompt} FROM {table} WHERE 1=1 AND Domain = ? AND ...
     </span>
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A2.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     B.3
    </span>
    Tapilot-Alpha
   </h3>
   <div class="ltx_para" id="A2.SS3.p1">
    <p class="ltx_p" id="A2.SS3.p1.1">
     As stated in Section
     <a class="ltx_ref" href="#S9" title="9 Limitations ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       9
      </span>
     </a>
     , the current
     <span class="ltx_text ltx_font_smallcaps" id="A2.SS3.p1.1.1">
      Tapilot-Crossing
     </span>
     involves only clean and accurate code revisions, which we refer to as the
     <span class="ltx_text ltx_font_typewriter" id="A2.SS3.p1.1.2">
      Alpha
     </span>
     version. Looking ahead, we are considering the incorporation of noisy data or the integration of user interactions in
     <span class="ltx_text ltx_font_typewriter" id="A2.SS3.p1.1.3">
      Action
     </span>
     mode into the code history. This potential expansion aims to simulate more realistic development environments and challenges. Even within the constraints of a curated and error free interaction history, the experimental results show that there still are substantial opportunities for optimization and improvements.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A3">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix C
   </span>
   Dialog Types
  </h2>
  <div class="ltx_para" id="A3.p1">
   <p class="ltx_p" id="A3.p1.1">
    <span class="ltx_text ltx_font_smallcaps" id="A3.p1.1.1">
     Tapilot-Crossing
    </span>
    can be categorized into
    <span class="ltx_text ltx_font_bold" id="A3.p1.1.2">
     Statement-
    </span>
    (longer) and
    <span class="ltx_text ltx_font_bold" id="A3.p1.1.3">
     Colloquial-
    </span>
    (shorter) dialogs. The statement-dialogs are more formal, resulting in more complex user instructions and code generations, which are commonly found in computational notebooks
    <cite class="ltx_cite ltx_citemacro_citep">
     (Yin et al.,
     <a class="ltx_ref" href="#bib.bib53" title="">
      2023
     </a>
     )
    </cite>
    . On the other hand, colloquial dialogs involve shorter and simpler user questions, but exhibit more colloquial and interactive characteristics. This category of dialogs is primarily constructed through the process of prompting GPT-4 to segment and reinterpret the existing statement-dialogs.
   </p>
  </div>
 </section>
 <section class="ltx_appendix" id="A4">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix D
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="A4.1.1">
    Air
   </span>
   Implementation
  </h2>
  <figure class="ltx_figure" id="A4.F7">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="275" id="A4.F7.g1" src="/html/2403.05307/assets/x6.png" width="369"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 7:
    </span>
    This is an overview of our proposed method,
    <span class="ltx_text ltx_font_smallcaps" id="A4.F7.2.1">
     Air
    </span>
    . The areas highlighted in purple represent results generated by the agents.
   </figcaption>
  </figure>
  <div class="ltx_para" id="A4.p1">
   <p class="ltx_p" id="A4.p1.1">
    Figure
    <a class="ltx_ref" href="#A4.F7" title="Figure 7 ‣ Appendix D Air Implementation ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
     <span class="ltx_text ltx_ref_tag">
      7
     </span>
    </a>
    presents the detailed steps of
    <span class="ltx_text ltx_font_smallcaps" id="A4.p1.1.1">
     Air
    </span>
    .
   </p>
  </div>
 </section>
 <section class="ltx_appendix" id="A5">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix E
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="A5.1.1">
    Agent
   </span>
   Implementation
  </h2>
  <section class="ltx_subsection" id="A5.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     E.1
    </span>
    Toolkit
   </h3>
   <section class="ltx_paragraph" id="A5.SS1.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Executor
    </h4>
    <div class="ltx_para" id="A5.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="A5.SS1.SSS0.Px1.p1.1">
      To get the execution results of code generated by LLMs, we adopt Python Executor
      <span class="ltx_text ltx_font_typewriter" id="A5.SS1.SSS0.Px1.p1.1.1">
       exec()
      </span>
      which is implemented in Python
      <span class="ltx_note ltx_role_footnote" id="footnote6">
       <sup class="ltx_note_mark">
        ∥
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          ∥
         </sup>
         <span class="ltx_tag ltx_tag_note">
          ∥
         </span>
         <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://docs.python.org/3/library/functions.html#exec" target="_blank" title="">
          https://docs.python.org/3/library/functions.html#exec
         </a>
        </span>
       </span>
      </span>
      , within a isolated Python environment. The output of the code execution, whether it be any return values, print statements, or error messages, is then captured by the Executor. This output is subsequently returned to the LMs, providing them with feedback on the results of their code generation to make a better next-step action or decision.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="A5.SS1.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     User Simulator
    </h4>
    <div class="ltx_para" id="A5.SS1.SSS0.Px2.p1">
     <p class="ltx_p" id="A5.SS1.SSS0.Px2.p1.1">
      In addressing the clarification action type, LLMs are permitted to request clarification when they feel ambigous about conditions from user queires. Therefore, we employ GPT-4 Turbo to emulate the user’s question-answering behavior, considering that GPT-4 has been demonstrated to provide feedback of equivalent quality to human responses
      <cite class="ltx_cite ltx_citemacro_citep">
       (Wang et al.,
       <a class="ltx_ref" href="#bib.bib43" title="">
        2024
       </a>
       )
      </cite>
      .
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="A5.SS1.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Chart-to-Table
    </h4>
    <div class="ltx_para" id="A5.SS1.SSS0.Px3.p1">
     <p class="ltx_p" id="A5.SS1.SSS0.Px3.p1.1">
      We employ deplot
      <cite class="ltx_cite ltx_citemacro_citep">
       (Liu et al.,
       <a class="ltx_ref" href="#bib.bib33" title="">
        2023a
       </a>
       )
      </cite>
      to convert images into a table. Given the table, then LLMs can reason and answer the questions.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="A5.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     E.2
    </span>
    Reasoning
   </h3>
   <section class="ltx_paragraph" id="A5.SS2.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     COT
    </h4>
    <div class="ltx_para" id="A5.SS2.SSS0.Px1.p1">
     <p class="ltx_p" id="A5.SS2.SSS0.Px1.p1.1">
      To evaluate the pure code generalization capability of data analysis, we restrict LLMs from executing code during generation. Therefore, we employ a zero-shot COT for the reasoning of the
      <span class="ltx_text ltx_font_typewriter" id="A5.SS2.SSS0.Px1.p1.1.1">
       Agent
      </span>
      mode. The key prompt to implement such COT is:
      <br class="ltx_break"/>
      <span class="ltx_text ltx_font_typewriter" id="A5.SS2.SSS0.Px1.p1.1.2">
       ... write a step-by-step outline and then write the code:
      </span>
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="A5.SS2.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     ReAct
    </h4>
    <div class="ltx_para" id="A5.SS2.SSS0.Px2.p1">
     <p class="ltx_p" id="A5.SS2.SSS0.Px2.p1.1">
      To evaluate analytical capabilities beyond mere code generation, we employ ReAct for multiple-choice questions. Specifically, we set the
      <span class="ltx_text ltx_font_typewriter" id="A5.SS2.SSS0.Px2.p1.1.1">
       MAX STEP
      </span>
      for ReAct reasoning to 5, with the Executor serving as the primary tool. Data analysis agents are tasked to generate, analyze, and draw conclusions about their results. If the result contains bugs, the corresponding message is returned to the agent for rectification, although this process may consume additional reasoning steps.
We also manually provide a one-shot example to guide agents on how to react in
      <span class="ltx_text ltx_font_smallcaps" id="A5.SS2.SSS0.Px2.p1.1.2">
       Tapilot-Crossing
      </span>
      . To prevent data leakage, we cross-reference examples across different tabular data. For instance, an example curated from
      <span class="ltx_text ltx_font_typewriter" id="A5.SS2.SSS0.Px2.p1.1.3">
       ATP_Tennis
      </span>
      could be used to guide LLMs in the
      <span class="ltx_text ltx_font_typewriter" id="A5.SS2.SSS0.Px2.p1.1.4">
       Laptop Pricing
      </span>
      dataset.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_appendix" id="A6">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix F
   </span>
   Implementation Details
  </h2>
  <section class="ltx_subsection" id="A6.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     F.1
    </span>
    General Implementation
   </h3>
   <div class="ltx_para" id="A6.SS1.p1">
    <p class="ltx_p" id="A6.SS1.p1.1">
     The
     <span class="ltx_text ltx_font_typewriter" id="A6.SS1.p1.1.1">
      temperature
     </span>
     parameter is set to 0.0 for Claude 2.1, GPT-4, and GPT-4-Turbo.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A7">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix G
   </span>
   Action Description
  </h2>
  <div class="ltx_para" id="A7.p1">
   <p class="ltx_p" id="A7.p1.1">
    In this section, we categorize and formalize the action types in
    <span class="ltx_text ltx_font_smallcaps" id="A7.p1.1.1">
     Tapilot-Crossing
    </span>
    , identifying five distinct sub-categories that correspond to different types of user queries.
   </p>
  </div>
  <section class="ltx_subsection" id="A7.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     G.1
    </span>
    Update_Code
   </h3>
   <div class="ltx_para" id="A7.SS1.p1">
    <p class="ltx_p" id="A7.SS1.p1.1">
     The
     <span class="ltx_text ltx_font_typewriter" id="A7.SS1.p1.1.1">
      Update_Code
     </span>
     action refers to instances where the user requests corrections for bugs or refinements to the conditions of previous queries.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A7.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     G.2
    </span>
    Fast_Fail
   </h3>
   <div class="ltx_para" id="A7.SS2.p1">
    <p class="ltx_p" id="A7.SS2.p1.1">
     <span class="ltx_text ltx_font_typewriter" id="A7.SS2.p1.1.1">
      Fast_Fail
     </span>
     is an action that alerts users when the current data contents or resources are insufficient to meet their requests, or when user queries contain factual errors.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A7.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     G.3
    </span>
    Clarification
   </h3>
   <div class="ltx_para" id="A7.SS3.p1">
    <p class="ltx_p" id="A7.SS3.p1.1">
     <span class="ltx_text ltx_font_typewriter" id="A7.SS3.p1.1.1">
      Clarification
     </span>
     is a common action in response to under-specified questions, which are frequent in data-analysis queries. In this action, agents make the conditions of the question more specific and clear by seeking additional information from users.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A7.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     G.4
    </span>
    Best_Guess
   </h3>
   <div class="ltx_para" id="A7.SS4.p1">
    <p class="ltx_p" id="A7.SS4.p1.1">
     While
     <span class="ltx_text ltx_font_typewriter" id="A7.SS4.p1.1.1">
      Clarification
     </span>
     is an effective action to reduce the uncertainty, it can lead to issues such as user impatience due to unsteadily asking, and long dialog histories that result in attention distraction and long-context problems. Therefore, the
     <span class="ltx_text ltx_font_typewriter" id="A7.SS4.p1.1.2">
      Best_Guess
     </span>
     action can address these issues by making appropriate assumptions based on data contents, domain knowledge, and commonsense knowledge for under-specific questions. However, there is also a risk that incorrect guesses can lead to hallucinations.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A7.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     G.5
    </span>
    Plot_QA
   </h3>
   <div class="ltx_para" id="A7.SS5.p1">
    <p class="ltx_p" id="A7.SS5.p1.1">
     In real data analysis settings, agents are also expected to answer user questions about insights derived from plots. The
     <span class="ltx_text ltx_font_typewriter" id="A7.SS5.p1.1.1">
      Plot_QA
     </span>
     action can assist users in better understanding the contents of plots for decision making.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A7.SS6">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     G.6
    </span>
    Insight_Mining
   </h3>
   <div class="ltx_para" id="A7.SS6.p1">
    <p class="ltx_p" id="A7.SS6.p1.1">
     Beyond generating codes for users to retrieve expected results, code agents are also tasked with summarizing executed results from the environment to assist users in making informed decisions. This process, known as
     <span class="ltx_text ltx_font_typewriter" id="A7.SS6.p1.1.1">
      Insight_Mining
     </span>
     , plays an important role in data analysis since it contributes to the evolution of code agents into comprehensive data analysis agents.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A8">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix H
   </span>
   Evaluation Metric Details
  </h2>
  <section class="ltx_subsection" id="A8.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.1
    </span>
    DataFrame Comparison
   </h3>
   <div class="ltx_para" id="A8.SS1.p1">
    <p class="ltx_p" id="A8.SS1.p1.1">
     The function compares two dataframes (
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.1">
      df_1
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.2">
      df_2
     </span>
     ) by checking their indices, column presence, and column data. It uses
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.3">
      np.allclose()
     </span>
     for numeric data and direct comparison for non-numeric data. If a column in
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.4">
      df_1
     </span>
     is absent in the original dataframe, it searches for a matching column in
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.5">
      df_2
     </span>
     . The function returns
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.6">
      True
     </span>
     if
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.7">
      df_1
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.8">
      df_2
     </span>
     are equivalent, otherwise
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.9">
      False
     </span>
     . Please note, the
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.10">
      column names
     </span>
     will not be computed since different LLMs may have their only preference names. For example, the
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.11">
      win_ratio
     </span>
     generated by GPT-4 could be called
     <span class="ltx_text ltx_font_typewriter" id="A8.SS1.p1.1.12">
      winning ratio
     </span>
     by Claude 2.1.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A8.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.2
    </span>
    Visualization Comparison
   </h3>
   <div class="ltx_para" id="A8.SS2.p1">
    <p class="ltx_p" id="A8.SS2.p1.1">
     We note that it’s hard to compare the closed-form results for visualization-based code generation since parameters of plots may be varied significant across models. For instance, GPT-4 generated plots may be the same with CodeLlama while their title names may be different, which leads to false negatives. Therefore we utilize
     <span class="ltx_text ltx_font_typewriter" id="A8.SS2.p1.1.1">
      PIL
     </span>
     package to compute similarity between plots. To be specific, the function
     <span class="ltx_text ltx_font_typewriter" id="A8.SS2.p1.1.2">
      compare_plots
     </span>
     takes two image file paths as inputs (
     <span class="ltx_text ltx_font_typewriter" id="A8.SS2.p1.1.3">
      ai_output
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="A8.SS2.p1.1.4">
      reference_output
     </span>
     ), resizes them to 800x600 pixels using the
     <span class="ltx_text ltx_font_typewriter" id="A8.SS2.p1.1.5">
      LANCZOS
     </span>
     method, and saves them. The images are then read in grayscale mode to avoid the difference brought by colors. The function computes and returns the Structural Similarity Index (SSIM), a measure of image similarity, between the two images. This function can be used to compare an AI model’s output with a reference output. Finally, the code generated will be considered as correct if the similarity is larger than 0.6.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A8.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.3
    </span>
    Multi-Intent Evaluation
   </h3>
   <div class="ltx_para" id="A8.SS3.p1">
    <p class="ltx_p" id="A8.SS3.p1.1">
     In this work, we evaluate the code generation performance on intent manner, which means if one user query contains multiple intents, then the total scores of this query will be the number of intents. We evaluate each intent separately and sum up the scores of all intents as the denominator when calculate the performance of each model in percentage.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A8.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.4
    </span>
    Private Function Recall
   </h3>
   <div class="ltx_para" id="A8.SS4.p1">
    <p class="ltx_p" id="A8.SS4.p1.1">
     We notice that some LLMs tend to import as many as possible private functions while not using all of them. Thus, to extract all indeed used private functions in the customized function library, we utilize
     <span class="ltx_text ltx_font_typewriter" id="A8.SS4.p1.1.1">
      AST
     </span>
     package. After extracting the used private functions, we calculate the recall coefficient according to Equation
     <a class="ltx_ref" href="#S4.E3" title="In Acc with Private Lib Recall (AccR). ‣ 4.2 Evaluation Metrics ‣ 4 Data Statistics &amp; Metrics ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A8.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.5
    </span>
    Code Similarity Equivalance (CSE)
   </h3>
   <div class="ltx_para" id="A8.SS5.p1">
    <p class="ltx_p" id="A8.SS5.p1.1">
     In the context of
     <span class="ltx_text ltx_font_smallcaps" id="A8.SS5.p1.1.1">
      Tapilot-Crossing
     </span>
     , the complexity of code generation tasks—many of which yield a score of zero—presents huge challenges in evaluating performance through Acc or AccR only. This is particularly evident when distinguishing between codes that differ by merely a single line of error or output, both of which would result in an Acc or AccR of zero, despite their obvious differences in code generation capabilities. To overcome this limitation, we propose the introduction of Code Similarity Equivalence (CSE), a nuanced evaluation metric designed to assess the similarity between generated codes and reference codes. Given that these codes originate based on identical user instructions, a high degree of similarity is expected. Our approach leverages a hybrid combination of models to reduce the bias, incorporating CodeT5++ and OpenAI Ada (
     <span class="ltx_text ltx_font_typewriter" id="A8.SS5.p1.1.2">
      text-embedding-ada-002
     </span>
     ) models, which are affordable and available for most institutes. This combination has demonstrated a strong correlation with human evaluative preferences, offering a more refined and accurate measure of code generation performance.
    </p>
   </div>
   <section class="ltx_paragraph" id="A8.SS5.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Details.
    </h4>
    <div class="ltx_para" id="A8.SS5.SSS0.Px1.p1">
     <p class="ltx_p" id="A8.SS5.SSS0.Px1.p1.1">
      We introduce here about how to conduct more nuanced evaluation of Acc or AccR with CSE.
1) We collect 180 instances of code generation including both
      <span class="ltx_text ltx_font_smallcaps" id="A8.SS5.SSS0.Px1.p1.1.1">
       Normal
      </span>
      and
      <span class="ltx_text ltx_font_smallcaps" id="A8.SS5.SSS0.Px1.p1.1.2">
       Private
      </span>
      . To evaluation the quality of these codes, we enlist two additional PhD students who are proficient in data science and Python as evaluation committee.
      <br class="ltx_break"/>
      2) They evaluate code generated by several models, including GPT-4-32k, GPT-4-Turbo, Claude-2.1, CodeLlama-Instruct (ranging from 7B to 34B parameters), StarCoder, and DeepSeek-Coder-Instruct (also from 7B to 34B parameters). Each evaluator is provided with comprehensive user code histories, tabular contents, the current query, access to the
      <span class="ltx_text ltx_font_typewriter" id="A8.SS5.SSS0.Px1.p1.1.3">
       decision_company
      </span>
      private library. Please note that evaluations are conducted only based on their expertise and experience, without any predefined guidelines and discussion, to avoid bias.
      <br class="ltx_break"/>
      3) We ask for a relative ranking of generated codes among models over absolute scoring to avoid potential variability in scoring preferences among the evaluators.
      <br class="ltx_break"/>
      4) In cases of parts of divergent rankings, the evaluators engage in discussions regarding the specific code samples until a consensus was reached. This step ensures a more reliable and agreed-upon evaluation outcome.
      <br class="ltx_break"/>
      5) The evaluation committee then examine various open-source and readily available embedding models to measure code similarity, aiming to closely match their ranking preferences. Our exploration identifies that the score system consisting of CodeT5+
      <cite class="ltx_cite ltx_citemacro_citep">
       (Wang et al.,
       <a class="ltx_ref" href="#bib.bib44" title="">
        2023b
       </a>
       )
      </cite>
      and Ada (
      <span class="ltx_text ltx_font_typewriter" id="A8.SS5.SSS0.Px1.p1.1.4">
       text-embedding-ada-002
      </span>
      ) most closely aligned with human evaluative preferences.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="A8.SS5.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Introduction of a Mixed Evaluation Metric (AccSE &amp; AccSER).
    </h4>
    <div class="ltx_para" id="A8.SS5.SSS0.Px2.p1">
     <p class="ltx_p" id="A8.SS5.SSS0.Px2.p1.1">
      To accurately reflect the nuanced capabilities of code generation models, we propose a composite metric that integrates Code Similarity Evaluation (CSE) with Accuracy (Acc), termed Accuracy for Similarity Evaluation (AccSE). This metric is concisely defined as:
     </p>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px2.p2">
     <table class="ltx_equation ltx_eqn_table" id="A8.E4">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\text{AccSE}=\begin{cases}1.0,&amp;\text{if }C=\hat{C},\\
0.5,&amp;\text{if }S_{1}&gt;0.85\land S_{2}&gt;0.9,\\
0.25,&amp;\text{if }(S_{1}&gt;0.85\land S_{2}\leq 0.9)\\
&amp;\lor(S_{1}\leq 0.85\land S_{2}&gt;0.9),\\
0,&amp;\text{otherwise.}\end{cases}" class="ltx_Math" display="block" id="A8.E4.m1.9">
          <semantics id="A8.E4.m1.9a">
           <mrow id="A8.E4.m1.9.10" xref="A8.E4.m1.9.10.cmml">
            <mtext id="A8.E4.m1.9.10.2" xref="A8.E4.m1.9.10.2a.cmml">
             AccSE
            </mtext>
            <mo id="A8.E4.m1.9.10.1" xref="A8.E4.m1.9.10.1.cmml">
             =
            </mo>
            <mrow id="A8.E4.m1.9.9" xref="A8.E4.m1.9.10.3.1.cmml">
             <mo id="A8.E4.m1.9.9.10" xref="A8.E4.m1.9.10.3.1.1.cmml">
              {
             </mo>
             <mtable columnspacing="5pt" displaystyle="true" id="A8.E4.m1.9.9.9" rowspacing="0pt" xref="A8.E4.m1.9.10.3.1.cmml">
              <mtr id="A8.E4.m1.9.9.9a" xref="A8.E4.m1.9.10.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9b" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.1.1.1.1.1.1.3" xref="A8.E4.m1.9.10.3.1.cmml">
                 <mn id="A8.E4.m1.1.1.1.1.1.1.1" xref="A8.E4.m1.1.1.1.1.1.1.1.cmml">
                  1.0
                 </mn>
                 <mo id="A8.E4.m1.1.1.1.1.1.1.3.1" xref="A8.E4.m1.9.10.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9c" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.2.2.2.2.2.1.1" xref="A8.E4.m1.2.2.2.2.2.1.1.1.cmml">
                 <mrow id="A8.E4.m1.2.2.2.2.2.1.1.1" xref="A8.E4.m1.2.2.2.2.2.1.1.1.cmml">
                  <mrow id="A8.E4.m1.2.2.2.2.2.1.1.1.2" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.cmml">
                   <mtext id="A8.E4.m1.2.2.2.2.2.1.1.1.2.2" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.2a.cmml">
                    if
                   </mtext>
                   <mo id="A8.E4.m1.2.2.2.2.2.1.1.1.2.1" lspace="0em" rspace="0em" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.1.cmml">
                    ​
                   </mo>
                   <mi id="A8.E4.m1.2.2.2.2.2.1.1.1.2.3" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.3.cmml">
                    C
                   </mi>
                  </mrow>
                  <mo id="A8.E4.m1.2.2.2.2.2.1.1.1.1" xref="A8.E4.m1.2.2.2.2.2.1.1.1.1.cmml">
                   =
                  </mo>
                  <mover accent="true" id="A8.E4.m1.2.2.2.2.2.1.1.1.3" xref="A8.E4.m1.2.2.2.2.2.1.1.1.3.cmml">
                   <mi id="A8.E4.m1.2.2.2.2.2.1.1.1.3.2" xref="A8.E4.m1.2.2.2.2.2.1.1.1.3.2.cmml">
                    C
                   </mi>
                   <mo id="A8.E4.m1.2.2.2.2.2.1.1.1.3.1" xref="A8.E4.m1.2.2.2.2.2.1.1.1.3.1.cmml">
                    ^
                   </mo>
                  </mover>
                 </mrow>
                 <mo id="A8.E4.m1.2.2.2.2.2.1.1.2" xref="A8.E4.m1.2.2.2.2.2.1.1.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
              </mtr>
              <mtr id="A8.E4.m1.9.9.9d" xref="A8.E4.m1.9.10.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9e" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.3.3.3.3.1.1.3" xref="A8.E4.m1.9.10.3.1.cmml">
                 <mn id="A8.E4.m1.3.3.3.3.1.1.1" xref="A8.E4.m1.3.3.3.3.1.1.1.cmml">
                  0.5
                 </mn>
                 <mo id="A8.E4.m1.3.3.3.3.1.1.3.1" xref="A8.E4.m1.9.10.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9f" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.4.4.4.4.2.1.1" xref="A8.E4.m1.4.4.4.4.2.1.1.1.cmml">
                 <mrow id="A8.E4.m1.4.4.4.4.2.1.1.1" xref="A8.E4.m1.4.4.4.4.2.1.1.1.cmml">
                  <mrow id="A8.E4.m1.4.4.4.4.2.1.1.1.2" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.cmml">
                   <mtext id="A8.E4.m1.4.4.4.4.2.1.1.1.2.2" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.2a.cmml">
                    if
                   </mtext>
                   <mo id="A8.E4.m1.4.4.4.4.2.1.1.1.2.1" lspace="0em" rspace="0em" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.1.cmml">
                    ​
                   </mo>
                   <msub id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.cmml">
                    <mi id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.2" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.2.cmml">
                     S
                    </mi>
                    <mn id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.3" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.3.cmml">
                     1
                    </mn>
                   </msub>
                  </mrow>
                  <mo id="A8.E4.m1.4.4.4.4.2.1.1.1.3" xref="A8.E4.m1.4.4.4.4.2.1.1.1.3.cmml">
                   &gt;
                  </mo>
                  <mrow id="A8.E4.m1.4.4.4.4.2.1.1.1.4" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.cmml">
                   <mn id="A8.E4.m1.4.4.4.4.2.1.1.1.4.2" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.2.cmml">
                    0.85
                   </mn>
                   <mo id="A8.E4.m1.4.4.4.4.2.1.1.1.4.1" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.1.cmml">
                    ∧
                   </mo>
                   <msub id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.cmml">
                    <mi id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.2" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.2.cmml">
                     S
                    </mi>
                    <mn id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.3" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.3.cmml">
                     2
                    </mn>
                   </msub>
                  </mrow>
                  <mo id="A8.E4.m1.4.4.4.4.2.1.1.1.5" xref="A8.E4.m1.4.4.4.4.2.1.1.1.5.cmml">
                   &gt;
                  </mo>
                  <mn id="A8.E4.m1.4.4.4.4.2.1.1.1.6" xref="A8.E4.m1.4.4.4.4.2.1.1.1.6.cmml">
                   0.9
                  </mn>
                 </mrow>
                 <mo id="A8.E4.m1.4.4.4.4.2.1.1.2" xref="A8.E4.m1.4.4.4.4.2.1.1.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
              </mtr>
              <mtr id="A8.E4.m1.9.9.9g" xref="A8.E4.m1.9.10.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9h" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.5.5.5.5.1.1.3" xref="A8.E4.m1.9.10.3.1.cmml">
                 <mn id="A8.E4.m1.5.5.5.5.1.1.1" xref="A8.E4.m1.5.5.5.5.1.1.1.cmml">
                  0.25
                 </mn>
                 <mo id="A8.E4.m1.5.5.5.5.1.1.3.1" xref="A8.E4.m1.9.10.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9i" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.6.6.6.6.2.1" xref="A8.E4.m1.6.6.6.6.2.1.cmml">
                 <mtext id="A8.E4.m1.6.6.6.6.2.1.3" xref="A8.E4.m1.6.6.6.6.2.1.3a.cmml">
                  if
                 </mtext>
                 <mo id="A8.E4.m1.6.6.6.6.2.1.2" lspace="0em" rspace="0em" xref="A8.E4.m1.6.6.6.6.2.1.2.cmml">
                  ​
                 </mo>
                 <mrow id="A8.E4.m1.6.6.6.6.2.1.1.1" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.cmml">
                  <mo id="A8.E4.m1.6.6.6.6.2.1.1.1.2" stretchy="false" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.cmml">
                   (
                  </mo>
                  <mrow id="A8.E4.m1.6.6.6.6.2.1.1.1.1" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.cmml">
                   <msub id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.cmml">
                    <mi id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.2" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.2.cmml">
                     S
                    </mi>
                    <mn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.3" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.3.cmml">
                     1
                    </mn>
                   </msub>
                   <mo id="A8.E4.m1.6.6.6.6.2.1.1.1.1.3" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.3.cmml">
                    &gt;
                   </mo>
                   <mrow id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.cmml">
                    <mn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.2" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.2.cmml">
                     0.85
                    </mn>
                    <mo id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.1" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.1.cmml">
                     ∧
                    </mo>
                    <msub id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.cmml">
                     <mi id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.2" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.2.cmml">
                      S
                     </mi>
                     <mn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.3" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.3.cmml">
                      2
                     </mn>
                    </msub>
                   </mrow>
                   <mo id="A8.E4.m1.6.6.6.6.2.1.1.1.1.5" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.5.cmml">
                    ≤
                   </mo>
                   <mn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.6" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.6.cmml">
                    0.9
                   </mn>
                  </mrow>
                  <mo id="A8.E4.m1.6.6.6.6.2.1.1.1.3" stretchy="false" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mtd>
              </mtr>
              <mtr id="A8.E4.m1.9.9.9j" xref="A8.E4.m1.9.10.3.1.cmml">
               <mtd id="A8.E4.m1.9.9.9k" xref="A8.E4.m1.9.10.3.1.1.cmml">
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9l" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.7.7.7.7.1.1.1" xref="A8.E4.m1.7.7.7.7.1.1.1.1.cmml">
                 <mrow id="A8.E4.m1.7.7.7.7.1.1.1.1" xref="A8.E4.m1.7.7.7.7.1.1.1.1.cmml">
                  <mo id="A8.E4.m1.7.7.7.7.1.1.1.1a" rspace="0em" xref="A8.E4.m1.7.7.7.7.1.1.1.1.cmml">
                   ∨
                  </mo>
                  <mrow id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.cmml">
                   <mo id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.2" stretchy="false" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.cmml">
                    (
                   </mo>
                   <mrow id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.cmml">
                    <msub id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.cmml">
                     <mi id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.2" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.2.cmml">
                      S
                     </mi>
                     <mn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.3" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.3.cmml">
                      1
                     </mn>
                    </msub>
                    <mo id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.3" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.3.cmml">
                     ≤
                    </mo>
                    <mrow id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.cmml">
                     <mn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.2" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.2.cmml">
                      0.85
                     </mn>
                     <mo id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.1" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.1.cmml">
                      ∧
                     </mo>
                     <msub id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.cmml">
                      <mi id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.2" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.2.cmml">
                       S
                      </mi>
                      <mn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.3" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.3.cmml">
                       2
                      </mn>
                     </msub>
                    </mrow>
                    <mo id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.5" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.5.cmml">
                     &gt;
                    </mo>
                    <mn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.6" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.6.cmml">
                     0.9
                    </mn>
                   </mrow>
                   <mo id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.3" stretchy="false" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.cmml">
                    )
                   </mo>
                  </mrow>
                 </mrow>
                 <mo id="A8.E4.m1.7.7.7.7.1.1.1.2" xref="A8.E4.m1.7.7.7.7.1.1.1.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
              </mtr>
              <mtr id="A8.E4.m1.9.9.9m" xref="A8.E4.m1.9.10.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9n" xref="A8.E4.m1.9.10.3.1.cmml">
                <mrow id="A8.E4.m1.8.8.8.8.1.1.3" xref="A8.E4.m1.9.10.3.1.cmml">
                 <mn id="A8.E4.m1.8.8.8.8.1.1.1" xref="A8.E4.m1.8.8.8.8.1.1.1.cmml">
                  0
                 </mn>
                 <mo id="A8.E4.m1.8.8.8.8.1.1.3.1" xref="A8.E4.m1.9.10.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="A8.E4.m1.9.9.9o" xref="A8.E4.m1.9.10.3.1.cmml">
                <mtext id="A8.E4.m1.9.9.9.9.2.1" xref="A8.E4.m1.9.9.9.9.2.1a.cmml">
                 otherwise.
                </mtext>
               </mtd>
              </mtr>
             </mtable>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="A8.E4.m1.9b">
            <apply id="A8.E4.m1.9.10.cmml" xref="A8.E4.m1.9.10">
             <eq id="A8.E4.m1.9.10.1.cmml" xref="A8.E4.m1.9.10.1">
             </eq>
             <ci id="A8.E4.m1.9.10.2a.cmml" xref="A8.E4.m1.9.10.2">
              <mtext id="A8.E4.m1.9.10.2.cmml" xref="A8.E4.m1.9.10.2">
               AccSE
              </mtext>
             </ci>
             <apply id="A8.E4.m1.9.10.3.1.cmml" xref="A8.E4.m1.9.9">
              <csymbol cd="latexml" id="A8.E4.m1.9.10.3.1.1.cmml" xref="A8.E4.m1.9.9.10">
               cases
              </csymbol>
              <cn id="A8.E4.m1.1.1.1.1.1.1.1.cmml" type="float" xref="A8.E4.m1.1.1.1.1.1.1.1">
               1.0
              </cn>
              <apply id="A8.E4.m1.2.2.2.2.2.1.1.1.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1">
               <eq id="A8.E4.m1.2.2.2.2.2.1.1.1.1.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.1">
               </eq>
               <apply id="A8.E4.m1.2.2.2.2.2.1.1.1.2.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2">
                <times id="A8.E4.m1.2.2.2.2.2.1.1.1.2.1.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.1">
                </times>
                <ci id="A8.E4.m1.2.2.2.2.2.1.1.1.2.2a.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.2">
                 <mtext id="A8.E4.m1.2.2.2.2.2.1.1.1.2.2.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.2">
                  if
                 </mtext>
                </ci>
                <ci id="A8.E4.m1.2.2.2.2.2.1.1.1.2.3.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.2.3">
                 𝐶
                </ci>
               </apply>
               <apply id="A8.E4.m1.2.2.2.2.2.1.1.1.3.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.3">
                <ci id="A8.E4.m1.2.2.2.2.2.1.1.1.3.1.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.3.1">
                 ^
                </ci>
                <ci id="A8.E4.m1.2.2.2.2.2.1.1.1.3.2.cmml" xref="A8.E4.m1.2.2.2.2.2.1.1.1.3.2">
                 𝐶
                </ci>
               </apply>
              </apply>
              <cn id="A8.E4.m1.3.3.3.3.1.1.1.cmml" type="float" xref="A8.E4.m1.3.3.3.3.1.1.1">
               0.5
              </cn>
              <apply id="A8.E4.m1.4.4.4.4.2.1.1.1.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1">
               <and id="A8.E4.m1.4.4.4.4.2.1.1.1a.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1">
               </and>
               <apply id="A8.E4.m1.4.4.4.4.2.1.1.1b.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1">
                <gt id="A8.E4.m1.4.4.4.4.2.1.1.1.3.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.3">
                </gt>
                <apply id="A8.E4.m1.4.4.4.4.2.1.1.1.2.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2">
                 <times id="A8.E4.m1.4.4.4.4.2.1.1.1.2.1.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.1">
                 </times>
                 <ci id="A8.E4.m1.4.4.4.4.2.1.1.1.2.2a.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.2">
                  <mtext id="A8.E4.m1.4.4.4.4.2.1.1.1.2.2.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.2">
                   if
                  </mtext>
                 </ci>
                 <apply id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3">
                  <csymbol cd="ambiguous" id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.1.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3">
                   subscript
                  </csymbol>
                  <ci id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.2.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.2">
                   𝑆
                  </ci>
                  <cn id="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.3.cmml" type="integer" xref="A8.E4.m1.4.4.4.4.2.1.1.1.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <apply id="A8.E4.m1.4.4.4.4.2.1.1.1.4.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4">
                 <and id="A8.E4.m1.4.4.4.4.2.1.1.1.4.1.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.1">
                 </and>
                 <cn id="A8.E4.m1.4.4.4.4.2.1.1.1.4.2.cmml" type="float" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.2">
                  0.85
                 </cn>
                 <apply id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3">
                  <csymbol cd="ambiguous" id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.1.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3">
                   subscript
                  </csymbol>
                  <ci id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.2.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.2">
                   𝑆
                  </ci>
                  <cn id="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.3.cmml" type="integer" xref="A8.E4.m1.4.4.4.4.2.1.1.1.4.3.3">
                   2
                  </cn>
                 </apply>
                </apply>
               </apply>
               <apply id="A8.E4.m1.4.4.4.4.2.1.1.1c.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1">
                <gt id="A8.E4.m1.4.4.4.4.2.1.1.1.5.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1.1.5">
                </gt>
                <share href="#A8.E4.m1.4.4.4.4.2.1.1.1.4.cmml" id="A8.E4.m1.4.4.4.4.2.1.1.1d.cmml" xref="A8.E4.m1.4.4.4.4.2.1.1">
                </share>
                <cn id="A8.E4.m1.4.4.4.4.2.1.1.1.6.cmml" type="float" xref="A8.E4.m1.4.4.4.4.2.1.1.1.6">
                 0.9
                </cn>
               </apply>
              </apply>
              <cn id="A8.E4.m1.5.5.5.5.1.1.1.cmml" type="float" xref="A8.E4.m1.5.5.5.5.1.1.1">
               0.25
              </cn>
              <apply id="A8.E4.m1.6.6.6.6.2.1.cmml" xref="A8.E4.m1.6.6.6.6.2.1">
               <times id="A8.E4.m1.6.6.6.6.2.1.2.cmml" xref="A8.E4.m1.6.6.6.6.2.1.2">
               </times>
               <ci id="A8.E4.m1.6.6.6.6.2.1.3a.cmml" xref="A8.E4.m1.6.6.6.6.2.1.3">
                <mtext id="A8.E4.m1.6.6.6.6.2.1.3.cmml" xref="A8.E4.m1.6.6.6.6.2.1.3">
                 if
                </mtext>
               </ci>
               <apply id="A8.E4.m1.6.6.6.6.2.1.1.1.1.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1">
                <and id="A8.E4.m1.6.6.6.6.2.1.1.1.1a.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1">
                </and>
                <apply id="A8.E4.m1.6.6.6.6.2.1.1.1.1b.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1">
                 <gt id="A8.E4.m1.6.6.6.6.2.1.1.1.1.3.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.3">
                 </gt>
                 <apply id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2">
                  <csymbol cd="ambiguous" id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.1.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2">
                   subscript
                  </csymbol>
                  <ci id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.2.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.2">
                   𝑆
                  </ci>
                  <cn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.3.cmml" type="integer" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.2.3">
                   1
                  </cn>
                 </apply>
                 <apply id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4">
                  <and id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.1.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.1">
                  </and>
                  <cn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.2.cmml" type="float" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.2">
                   0.85
                  </cn>
                  <apply id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3">
                   <csymbol cd="ambiguous" id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.1.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3">
                    subscript
                   </csymbol>
                   <ci id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.2.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.2">
                    𝑆
                   </ci>
                   <cn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.3.cmml" type="integer" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.4.3.3">
                    2
                   </cn>
                  </apply>
                 </apply>
                </apply>
                <apply id="A8.E4.m1.6.6.6.6.2.1.1.1.1c.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1">
                 <leq id="A8.E4.m1.6.6.6.6.2.1.1.1.1.5.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.5">
                 </leq>
                 <share href="#A8.E4.m1.6.6.6.6.2.1.1.1.1.4.cmml" id="A8.E4.m1.6.6.6.6.2.1.1.1.1d.cmml" xref="A8.E4.m1.6.6.6.6.2.1.1.1">
                 </share>
                 <cn id="A8.E4.m1.6.6.6.6.2.1.1.1.1.6.cmml" type="float" xref="A8.E4.m1.6.6.6.6.2.1.1.1.1.6">
                  0.9
                 </cn>
                </apply>
               </apply>
              </apply>
              <ci id="A8.E4.m1.9.10.3.1.8a.cmml" xref="A8.E4.m1.9.9">
               <mtext class="ltx_mathvariant_italic" id="A8.E4.m1.9.10.3.1.8.cmml" xref="A8.E4.m1.9.9.10">
                otherwise
               </mtext>
              </ci>
              <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1">
               <or id="A8.E4.m1.7.7.7.7.1.1.1.1.2.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1">
               </or>
               <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1">
                <and id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1a.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1">
                </and>
                <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1b.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1">
                 <leq id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.3.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.3">
                 </leq>
                 <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2">
                  <csymbol cd="ambiguous" id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2">
                   subscript
                  </csymbol>
                  <ci id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.2.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.2">
                   𝑆
                  </ci>
                  <cn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.3.cmml" type="integer" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.2.3">
                   1
                  </cn>
                 </apply>
                 <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4">
                  <and id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.1.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.1">
                  </and>
                  <cn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.2.cmml" type="float" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.2">
                   0.85
                  </cn>
                  <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3">
                   <csymbol cd="ambiguous" id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.1.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3">
                    subscript
                   </csymbol>
                   <ci id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.2.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.2">
                    𝑆
                   </ci>
                   <cn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.3.cmml" type="integer" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.3.3">
                    2
                   </cn>
                  </apply>
                 </apply>
                </apply>
                <apply id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1c.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1">
                 <gt id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.5.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.5">
                 </gt>
                 <share href="#A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.4.cmml" id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1d.cmml" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1">
                 </share>
                 <cn id="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.6.cmml" type="float" xref="A8.E4.m1.7.7.7.7.1.1.1.1.1.1.1.6">
                  0.9
                 </cn>
                </apply>
               </apply>
              </apply>
              <cn id="A8.E4.m1.8.8.8.8.1.1.1.cmml" type="integer" xref="A8.E4.m1.8.8.8.8.1.1.1">
               0
              </cn>
              <ci id="A8.E4.m1.9.9.9.9.2.1a.cmml" xref="A8.E4.m1.9.9.9.9.2.1">
               <mtext id="A8.E4.m1.9.9.9.9.2.1.cmml" xref="A8.E4.m1.9.9.9.9.2.1">
                otherwise.
               </mtext>
              </ci>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="A8.E4.m1.9c">
            \text{AccSE}=\begin{cases}1.0,&amp;\text{if }C=\hat{C},\\
0.5,&amp;\text{if }S_{1}&gt;0.85\land S_{2}&gt;0.9,\\
0.25,&amp;\text{if }(S_{1}&gt;0.85\land S_{2}\leq 0.9)\\
&amp;\lor(S_{1}\leq 0.85\land S_{2}&gt;0.9),\\
0,&amp;\text{otherwise.}\end{cases}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (4)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px2.p3">
     <p class="ltx_p" id="A8.SS5.SSS0.Px2.p3.1">
      Where:
     </p>
     <ul class="ltx_itemize" id="A8.I1">
      <li class="ltx_item" id="A8.I1.i1" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="A8.I1.i1.p1">
        <p class="ltx_p" id="A8.I1.i1.p1.2">
         <math alttext="C" class="ltx_Math" display="inline" id="A8.I1.i1.p1.1.m1.1">
          <semantics id="A8.I1.i1.p1.1.m1.1a">
           <mi id="A8.I1.i1.p1.1.m1.1.1" xref="A8.I1.i1.p1.1.m1.1.1.cmml">
            C
           </mi>
           <annotation-xml encoding="MathML-Content" id="A8.I1.i1.p1.1.m1.1b">
            <ci id="A8.I1.i1.p1.1.m1.1.1.cmml" xref="A8.I1.i1.p1.1.m1.1.1">
             𝐶
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="A8.I1.i1.p1.1.m1.1c">
            C
           </annotation>
          </semantics>
         </math>
         and
         <math alttext="\hat{C}" class="ltx_Math" display="inline" id="A8.I1.i1.p1.2.m2.1">
          <semantics id="A8.I1.i1.p1.2.m2.1a">
           <mover accent="true" id="A8.I1.i1.p1.2.m2.1.1" xref="A8.I1.i1.p1.2.m2.1.1.cmml">
            <mi id="A8.I1.i1.p1.2.m2.1.1.2" xref="A8.I1.i1.p1.2.m2.1.1.2.cmml">
             C
            </mi>
            <mo id="A8.I1.i1.p1.2.m2.1.1.1" xref="A8.I1.i1.p1.2.m2.1.1.1.cmml">
             ^
            </mo>
           </mover>
           <annotation-xml encoding="MathML-Content" id="A8.I1.i1.p1.2.m2.1b">
            <apply id="A8.I1.i1.p1.2.m2.1.1.cmml" xref="A8.I1.i1.p1.2.m2.1.1">
             <ci id="A8.I1.i1.p1.2.m2.1.1.1.cmml" xref="A8.I1.i1.p1.2.m2.1.1.1">
              ^
             </ci>
             <ci id="A8.I1.i1.p1.2.m2.1.1.2.cmml" xref="A8.I1.i1.p1.2.m2.1.1.2">
              𝐶
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="A8.I1.i1.p1.2.m2.1c">
            \hat{C}
           </annotation>
          </semantics>
         </math>
         represent the reference and generated code execution outcomes, respectively.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="A8.I1.i2" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="A8.I1.i2.p1">
        <p class="ltx_p" id="A8.I1.i2.p1.1">
         <math alttext="S_{1}" class="ltx_Math" display="inline" id="A8.I1.i2.p1.1.m1.1">
          <semantics id="A8.I1.i2.p1.1.m1.1a">
           <msub id="A8.I1.i2.p1.1.m1.1.1" xref="A8.I1.i2.p1.1.m1.1.1.cmml">
            <mi id="A8.I1.i2.p1.1.m1.1.1.2" xref="A8.I1.i2.p1.1.m1.1.1.2.cmml">
             S
            </mi>
            <mn id="A8.I1.i2.p1.1.m1.1.1.3" xref="A8.I1.i2.p1.1.m1.1.1.3.cmml">
             1
            </mn>
           </msub>
           <annotation-xml encoding="MathML-Content" id="A8.I1.i2.p1.1.m1.1b">
            <apply id="A8.I1.i2.p1.1.m1.1.1.cmml" xref="A8.I1.i2.p1.1.m1.1.1">
             <csymbol cd="ambiguous" id="A8.I1.i2.p1.1.m1.1.1.1.cmml" xref="A8.I1.i2.p1.1.m1.1.1">
              subscript
             </csymbol>
             <ci id="A8.I1.i2.p1.1.m1.1.1.2.cmml" xref="A8.I1.i2.p1.1.m1.1.1.2">
              𝑆
             </ci>
             <cn id="A8.I1.i2.p1.1.m1.1.1.3.cmml" type="integer" xref="A8.I1.i2.p1.1.m1.1.1.3">
              1
             </cn>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="A8.I1.i2.p1.1.m1.1c">
            S_{1}
           </annotation>
          </semantics>
         </math>
         denotes the CSE score based on CodeT5+.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="A8.I1.i3" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="A8.I1.i3.p1">
        <p class="ltx_p" id="A8.I1.i3.p1.1">
         <math alttext="S_{2}" class="ltx_Math" display="inline" id="A8.I1.i3.p1.1.m1.1">
          <semantics id="A8.I1.i3.p1.1.m1.1a">
           <msub id="A8.I1.i3.p1.1.m1.1.1" xref="A8.I1.i3.p1.1.m1.1.1.cmml">
            <mi id="A8.I1.i3.p1.1.m1.1.1.2" xref="A8.I1.i3.p1.1.m1.1.1.2.cmml">
             S
            </mi>
            <mn id="A8.I1.i3.p1.1.m1.1.1.3" xref="A8.I1.i3.p1.1.m1.1.1.3.cmml">
             2
            </mn>
           </msub>
           <annotation-xml encoding="MathML-Content" id="A8.I1.i3.p1.1.m1.1b">
            <apply id="A8.I1.i3.p1.1.m1.1.1.cmml" xref="A8.I1.i3.p1.1.m1.1.1">
             <csymbol cd="ambiguous" id="A8.I1.i3.p1.1.m1.1.1.1.cmml" xref="A8.I1.i3.p1.1.m1.1.1">
              subscript
             </csymbol>
             <ci id="A8.I1.i3.p1.1.m1.1.1.2.cmml" xref="A8.I1.i3.p1.1.m1.1.1.2">
              𝑆
             </ci>
             <cn id="A8.I1.i3.p1.1.m1.1.1.3.cmml" type="integer" xref="A8.I1.i3.p1.1.m1.1.1.3">
              2
             </cn>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="A8.I1.i3.p1.1.m1.1c">
            S_{2}
           </annotation>
          </semantics>
         </math>
         denotes the CSE score based on Ada.
        </p>
       </div>
      </li>
     </ul>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px2.p4">
     <p class="ltx_p" id="A8.SS5.SSS0.Px2.p4.4">
      This formulation succinctly captures the evaluation criteria for AccSE, with symbols
      <math alttext="S_{1}" class="ltx_Math" display="inline" id="A8.SS5.SSS0.Px2.p4.1.m1.1">
       <semantics id="A8.SS5.SSS0.Px2.p4.1.m1.1a">
        <msub id="A8.SS5.SSS0.Px2.p4.1.m1.1.1" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1.cmml">
         <mi id="A8.SS5.SSS0.Px2.p4.1.m1.1.1.2" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1.2.cmml">
          S
         </mi>
         <mn id="A8.SS5.SSS0.Px2.p4.1.m1.1.1.3" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A8.SS5.SSS0.Px2.p4.1.m1.1b">
         <apply id="A8.SS5.SSS0.Px2.p4.1.m1.1.1.cmml" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1">
          <csymbol cd="ambiguous" id="A8.SS5.SSS0.Px2.p4.1.m1.1.1.1.cmml" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="A8.SS5.SSS0.Px2.p4.1.m1.1.1.2.cmml" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1.2">
           𝑆
          </ci>
          <cn id="A8.SS5.SSS0.Px2.p4.1.m1.1.1.3.cmml" type="integer" xref="A8.SS5.SSS0.Px2.p4.1.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A8.SS5.SSS0.Px2.p4.1.m1.1c">
         S_{1}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="S_{2}" class="ltx_Math" display="inline" id="A8.SS5.SSS0.Px2.p4.2.m2.1">
       <semantics id="A8.SS5.SSS0.Px2.p4.2.m2.1a">
        <msub id="A8.SS5.SSS0.Px2.p4.2.m2.1.1" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1.cmml">
         <mi id="A8.SS5.SSS0.Px2.p4.2.m2.1.1.2" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1.2.cmml">
          S
         </mi>
         <mn id="A8.SS5.SSS0.Px2.p4.2.m2.1.1.3" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1.3.cmml">
          2
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A8.SS5.SSS0.Px2.p4.2.m2.1b">
         <apply id="A8.SS5.SSS0.Px2.p4.2.m2.1.1.cmml" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1">
          <csymbol cd="ambiguous" id="A8.SS5.SSS0.Px2.p4.2.m2.1.1.1.cmml" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="A8.SS5.SSS0.Px2.p4.2.m2.1.1.2.cmml" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1.2">
           𝑆
          </ci>
          <cn id="A8.SS5.SSS0.Px2.p4.2.m2.1.1.3.cmml" type="integer" xref="A8.SS5.SSS0.Px2.p4.2.m2.1.1.3">
           2
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A8.SS5.SSS0.Px2.p4.2.m2.1c">
         S_{2}
        </annotation>
       </semantics>
      </math>
      representing the CSE scores based on CodeT5+ and Ada, respectively. The logical operators
      <math alttext="\land" class="ltx_Math" display="inline" id="A8.SS5.SSS0.Px2.p4.3.m3.1">
       <semantics id="A8.SS5.SSS0.Px2.p4.3.m3.1a">
        <mo id="A8.SS5.SSS0.Px2.p4.3.m3.1.1" xref="A8.SS5.SSS0.Px2.p4.3.m3.1.1.cmml">
         ∧
        </mo>
        <annotation-xml encoding="MathML-Content" id="A8.SS5.SSS0.Px2.p4.3.m3.1b">
         <and id="A8.SS5.SSS0.Px2.p4.3.m3.1.1.cmml" xref="A8.SS5.SSS0.Px2.p4.3.m3.1.1">
         </and>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A8.SS5.SSS0.Px2.p4.3.m3.1c">
         \land
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\lor" class="ltx_Math" display="inline" id="A8.SS5.SSS0.Px2.p4.4.m4.1">
       <semantics id="A8.SS5.SSS0.Px2.p4.4.m4.1a">
        <mo id="A8.SS5.SSS0.Px2.p4.4.m4.1.1" xref="A8.SS5.SSS0.Px2.p4.4.m4.1.1.cmml">
         ∨
        </mo>
        <annotation-xml encoding="MathML-Content" id="A8.SS5.SSS0.Px2.p4.4.m4.1b">
         <or id="A8.SS5.SSS0.Px2.p4.4.m4.1.1.cmml" xref="A8.SS5.SSS0.Px2.p4.4.m4.1.1">
         </or>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A8.SS5.SSS0.Px2.p4.4.m4.1c">
         \lor
        </annotation>
       </semantics>
      </math>
      are used for "and" and "or" conditions, respectively, to further compact the notation. AccSER is computed in the similar way just times recall score for each value as Eq.
      <a class="ltx_ref" href="#S4.E3" title="In Acc with Private Lib Recall (AccR). ‣ 4.2 Evaluation Metrics ‣ 4 Data Statistics &amp; Metrics ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      .
     </p>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px2.p5">
     <p class="ltx_p" id="A8.SS5.SSS0.Px2.p5.1">
      We hold this for future evaluation system of
      <span class="ltx_text ltx_font_smallcaps" id="A8.SS5.SSS0.Px2.p5.1.1">
       Tapilot-Crossing
      </span>
      when we conduct more extensive cases with involved with more expert volunteers.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="A8.SS5.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Rationale Against GPT-4-Based and Multi-Agent Evaluation Methods.
    </h4>
    <div class="ltx_para" id="A8.SS5.SSS0.Px3.p1">
     <p class="ltx_p" id="A8.SS5.SSS0.Px3.p1.1">
      While existing research suggests that GPT-4-based soft evaluation could enhance the assessment of complex generative tasks, such approaches are deemed unsuitable for
      <span class="ltx_text ltx_font_smallcaps" id="A8.SS5.SSS0.Px3.p1.1.1">
       Tapilot-Crossing
      </span>
      due to several critical reasons:
     </p>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px3.p2">
     <p class="ltx_p" id="A8.SS5.SSS0.Px3.p2.1">
      1)
      <span class="ltx_text ltx_font_bold" id="A8.SS5.SSS0.Px3.p2.1.1">
       Bias Concerns:
      </span>
      The prototype annotations and questions in our study originate from a GPT-4-based agent environment. Employing GPT-4 for evaluation purposes could inadvertently introduce a self-enhancement bias
      <cite class="ltx_cite ltx_citemacro_citep">
       (Zheng et al.,
       <a class="ltx_ref" href="#bib.bib64" title="">
        2024a
       </a>
       )
      </cite>
      , compromising fairness across model evaluations.
     </p>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px3.p3">
     <p class="ltx_p" id="A8.SS5.SSS0.Px3.p3.1">
      2)
      <span class="ltx_text ltx_font_bold" id="A8.SS5.SSS0.Px3.p3.1.1">
       Cost Concerns:
      </span>
      Although multi-agent evaluation frameworks, incorporating diverse families of Large Language Models (LLMs), is to mitigate bias
      <cite class="ltx_cite ltx_citemacro_citep">
       (Li et al.,
       <a class="ltx_ref" href="#bib.bib31" title="">
        2023c
       </a>
       )
      </cite>
      , the economical and computational overhead is obvious. Specifically, evaluations in such settings require at least twice the token consumption than that used in generation alone, rendering it impractically expensive in
      <span class="ltx_text ltx_font_smallcaps" id="A8.SS5.SSS0.Px3.p3.1.2">
       Tapilot-Crossing
      </span>
      .
     </p>
    </div>
    <div class="ltx_para" id="A8.SS5.SSS0.Px3.p4">
     <p class="ltx_p" id="A8.SS5.SSS0.Px3.p4.1">
      Given these considerations, our research proposes an alternative evaluation methodology that is both cost-effective and reliable for evaluating the accuracy of complex data science code generation at this time. We demonstrate that CodeT5+, a remarkably efficient code embedding model, can obviously distinguish between varying performance levels and accurately identify correct code logic. Crucially, this model offers a pragmatic balance between evaluation thoroughness and resource efficiency.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="A8.SS6">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.6
    </span>
    Other Value Types
   </h3>
   <div class="ltx_para" id="A8.SS6.p1">
    <p class="ltx_p" id="A8.SS6.p1.1">
     For other result types, such as dictionry, set, list, we directly compute the exectued results and determine whether they are equal or not.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A8.SS7">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     H.7
    </span>
    Case-by-Case Evaluation
   </h3>
   <div class="ltx_para" id="A8.SS7.p1">
    <p class="ltx_p" id="A8.SS7.p1.1">
     While we categorize instances according to result types and provide evaluation codes for each type, some scenarios requires a case-by-case evaluation script. For instance, in most dataframe or matrix comparisons, we employ
     <span class="ltx_text ltx_font_typewriter" id="A8.SS7.p1.1.1">
      np.close()
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="A8.SS7.p1.1.2">
      string
     </span>
     match for result comparison. However, in some cases, such as using a dataframe or matrix to display a classifier’s Confusion Matrix, the predicted code is deemed correct if its
     <span class="ltx_text ltx_font_typewriter" id="A8.SS7.p1.1.3">
      f1-score
     </span>
     surpasses that of the referenced code, even if their
     <span class="ltx_text ltx_font_typewriter" id="A8.SS7.p1.1.4">
      f1-scores
     </span>
     are not similar. For the evaluation script of
     <span class="ltx_text ltx_font_typewriter" id="A8.SS7.p1.1.5">
      Tapilot-Crossing
     </span>
     , we manually review and adjust the scripts to accommodate each case.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A9">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix I
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="A9.1.1">
    Action
   </span>
   Evaluation Mode
  </h2>
  <section class="ltx_subsection" id="A9.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     I.1
    </span>
    Correction
   </h3>
   <section class="ltx_paragraph" id="A9.SS1.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Update_Code
    </h4>
    <div class="ltx_para" id="A9.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="A9.SS1.SSS0.Px1.p1.1">
      This could be evaluated within a static setting where the bug feedback is embedded into user-code history. Agents are requried to update the previous code via user feedback.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="A9.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     I.2
    </span>
    Unawserable
   </h3>
   <section class="ltx_paragraph" id="A9.SS2.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Fast_Fail
    </h4>
    <div class="ltx_para" id="A9.SS2.SSS0.Px1.p1">
     <p class="ltx_p" id="A9.SS2.SSS0.Px1.p1.1">
      In
      <span class="ltx_text ltx_font_smallcaps" id="A9.SS2.SSS0.Px1.p1.1.1">
       Decision Company
      </span>
      , we keep the original unanswerable questions and categorize them as multi-choice questions. This is done to evaluate if agents can identify these questions based on their analysis of table contents and commonsense knowledge. To prevent any biased setting, such as specially designed prompts that might mislead agents into determining a question as unanswerable, we sample an equal number of under-specified problems and answerable questions. We then reformulate their choices, enabling the model to decide whether a question is answerable with clarification or assumption, or to directly classify it as unanswerable.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="A9.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     I.3
    </span>
    Under_Specific
   </h3>
   <section class="ltx_paragraph" id="A9.SS3.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Clarification
    </h4>
    <div class="ltx_para" id="A9.SS3.SSS0.Px1.p1">
     <p class="ltx_p" id="A9.SS3.SSS0.Px1.p1.1">
      To evaluate the performance of agents on clarification action, we employ a dynamic setting that incorporates a User Simulator. This simulator mimics user feedback based on the ground truth code or answer. Initially, interactive data analysis agents are expected to pose questions for clarification, simulator will answer it according to the ground truth answers. Subsequently, these agents are tasked with generating the final code, understanding both the original history and the history of clarifications. This setup provides a robust assessment of the agents’ ability to interact, clarify ambiguities, and generate accurate code.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="A9.SS3.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Best_Guess
    </h4>
    <div class="ltx_para" id="A9.SS3.SSS0.Px2.p1">
     <p class="ltx_p" id="A9.SS3.SSS0.Px2.p1.1">
      We aim to evaluate the ability of interactive data analysis agents to make accurate assumptions when faced with ambiguous questions, without resorting to constant clarification, which could potentially frustrate users. We believe that an agent’s best guess should not impact the final decision and this evaluation metric should be somehow flexible. For instance, in a credit card application scenario, the term
      <span class="ltx_text ltx_font_typewriter" id="A9.SS3.SSS0.Px2.p1.1.1">
       young people
      </span>
      could refer to individuals aged 20-40 or 25-45, making it challenging to be evaluated by fixed metrics. Therefore, we opt to use multiple-choice questions to assess the agents’ assumption-making capabilities. We posit that an assumption is appropriate only if it does not influence the final decision-making process.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="A9.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     I.4
    </span>
    Visualization
   </h3>
   <section class="ltx_paragraph" id="A9.SS4.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Plot_QA
    </h4>
    <div class="ltx_para" id="A9.SS4.SSS0.Px1.p1">
     <p class="ltx_p" id="A9.SS4.SSS0.Px1.p1.1">
      We evaluate the analysis capability of agents around plot in
      <span class="ltx_text ltx_font_smallcaps" id="A9.SS4.SSS0.Px1.p1.1.1">
       Tapilot-Crossing
      </span>
      . The end format of answer would be multiple choices.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="A9.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     I.5
    </span>
    Analysis
   </h3>
   <section class="ltx_paragraph" id="A9.SS5.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Insight_Mining
    </h4>
    <div class="ltx_para" id="A9.SS5.SSS0.Px1.p1">
     <p class="ltx_p" id="A9.SS5.SSS0.Px1.p1.1">
      We evaluate the analysis capability of agents generally in
      <span class="ltx_text ltx_font_smallcaps" id="A9.SS5.SSS0.Px1.p1.1.1">
       Tapilot-Crossing
      </span>
      . We opt to use multi-choice questions to evaluate it.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_appendix" id="A10">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix J
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="A10.1.1">
    Decision Company
   </span>
   Prompt
  </h2>
  <figure class="ltx_figure" id="A10.F8">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="698" id="A10.F8.g1" src="/html/2403.05307/assets/x7.png" width="415"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 8:
    </span>
    The prompt of Client Persona Generation
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A10.F9">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="457" id="A10.F9.g1" src="/html/2403.05307/assets/x8.png" width="415"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 9:
    </span>
    The prompt of analysis scenario generation
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A10.F10">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="277" id="A10.F10.g1" src="/html/2403.05307/assets/x9.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 10:
    </span>
    The example of plan discussion. The final output should be a plan of analysis invovlving questions and their or result types.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A10.F11">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="531" id="A10.F11.g1" src="/html/2403.05307/assets/x10.png" width="415"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 11:
    </span>
    The prompt of Data Science Agent in interaction log generation.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A10.F12">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="338" id="A10.F12.g1" src="/html/2403.05307/assets/x11.png" width="415"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 12:
    </span>
    The prompt of Chatbot Agent in interaction log generation.
   </figcaption>
  </figure>
  <figure class="ltx_figure" id="A10.F13">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="139" id="A10.F13.g1" src="/html/2403.05307/assets/x12.png" width="415"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 13:
    </span>
    The prompt of Conversion from prototype code towards the code with private libraries.
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="A10.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     J.1
    </span>
    Client Persona Generation
   </h3>
   <div class="ltx_para" id="A10.SS1.p1">
    <p class="ltx_p" id="A10.SS1.p1.1">
     The Figure
     <a class="ltx_ref" href="#A10.F8" title="Figure 8 ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       8
      </span>
     </a>
     describes how we prompt Administrator agent to generate meaningful personas.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A10.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     J.2
    </span>
    Simulation of Analysis Scenarios
   </h3>
   <div class="ltx_para" id="A10.SS2.p1">
    <p class="ltx_p" id="A10.SS2.p1.1">
     The Figure
     <a class="ltx_ref" href="#A10.F9" title="Figure 9 ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       9
      </span>
     </a>
     shows how we create diverse scenarios via In-Context Learning (ICL).
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A10.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     J.3
    </span>
    Plan Discussion
   </h3>
   <div class="ltx_para" id="A10.SS3.p1">
    <p class="ltx_p" id="A10.SS3.p1.1">
     The Figure
     <a class="ltx_ref" href="#A10.F10" title="Figure 10 ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       10
      </span>
     </a>
     presents how conversation between Data Scientist agent and Client agent can generate the series of analysis plans.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A10.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     J.4
    </span>
    Interaction Log Annotation
   </h3>
   <div class="ltx_para" id="A10.SS4.p1">
    <p class="ltx_p" id="A10.SS4.p1.1">
     The prompt to drive interaction log annotation is presented by Figure
     <a class="ltx_ref" href="#A10.F11" title="Figure 11 ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       11
      </span>
     </a>
     and Figure
     <a class="ltx_ref" href="#A10.F12" title="Figure 12 ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       12
      </span>
     </a>
     from the view of Data Scientist agent and Chatbot agent, respectively.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="A10.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     J.5
    </span>
    Private Lib Evolution
   </h3>
   <div class="ltx_para" id="A10.SS5.p1">
    <p class="ltx_p" id="A10.SS5.p1.1">
     Figure
     <a class="ltx_ref" href="#A10.F13" title="Figure 13 ‣ Appendix J Decision Company Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       13
      </span>
     </a>
     shows the framework of how to prompt GPT-4 to generate code automatically. The human efforts are introduced to reduce the bias and fix errors.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_appendix" id="A11">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix K
   </span>
   Implementation Prompt
  </h2>
  <section class="ltx_subsection" id="A11.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     K.1
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="A11.SS1.1.1">
     Code Generation
    </span>
   </h3>
   <div class="ltx_para" id="A11.SS1.p1">
    <p class="ltx_p" id="A11.SS1.p1.1">
     The Figure
     <a class="ltx_ref" href="#A11.F14" title="Figure 14 ‣ K.1 Code Generation ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       14
      </span>
     </a>
     describes how we prompt LLM model to generate code to answer user queries. And Figure
     <a class="ltx_ref" href="#A11.F15" title="Figure 15 ‣ K.1 Code Generation ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       15
      </span>
     </a>
     describes how we prompt LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.SS1.p1.1.1">
      Agent
     </span>
     to generate code to answer user queries following with chain-of-thought
     <cite class="ltx_cite ltx_citemacro_cite">
      Wei et al. (
      <a class="ltx_ref" href="#bib.bib45" title="">
       2022
      </a>
      )
     </cite>
     . Finally, Figure
     <a class="ltx_ref" href="#A11.F16" title="Figure 16 ‣ K.1 Code Generation ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       16
      </span>
     </a>
     describes how we prompt LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.SS1.p1.1.2">
      Inter-Agent
     </span>
     to generate code to answer user queries with our proposed
     <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="A11.SS1.p1.1.3">
      AIR
     </span>
     .
    </p>
   </div>
   <figure class="ltx_figure" id="A11.F14">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="178" id="A11.F14.g1" src="/html/2403.05307/assets/x13.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 14:
     </span>
     The prompt of LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.F14.3.1">
      Model-Base
     </span>
     version in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F14.4.2">
      Code Generation
     </span>
     mode.
    </figcaption>
   </figure>
   <figure class="ltx_figure" id="A11.F15">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="180" id="A11.F15.g1" src="/html/2403.05307/assets/x14.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 15:
     </span>
     The prompt of LLM with data analysis agent in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F15.3.1">
      Code Generation
     </span>
     mode. The
     <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="A11.F15.4.2">
      COT
     </span>
     prompt text is in red color.
    </figcaption>
   </figure>
   <figure class="ltx_figure" id="A11.F16">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="669" id="A11.F16.g1" src="/html/2403.05307/assets/x15.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 16:
     </span>
     The prompt of LLM with interactive data analysis agent in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F16.3.1">
      Code Generation
     </span>
     mode. The
     <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="A11.F16.4.2">
      AIR
     </span>
     prompt text are in green color, which are generated by LLM itself by learning from successful history.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="A11.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     K.2
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="A11.SS2.1.1">
     Multi-choice
    </span>
   </h3>
   <div class="ltx_para" id="A11.SS2.p1">
    <p class="ltx_p" id="A11.SS2.p1.1">
     The Figure
     <a class="ltx_ref" href="#A11.F17" title="Figure 17 ‣ K.2 Multi-choice ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       17
      </span>
     </a>
     describes how we prompt LLM to answer user queries. And Figure
     <a class="ltx_ref" href="#A11.F18" title="Figure 18 ‣ K.2 Multi-choice ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       18
      </span>
     </a>
     describes how we prompt LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.SS2.p1.1.1">
      Agent
     </span>
     to answer user queries following with ReAct
     <cite class="ltx_cite ltx_citemacro_cite">
      Yao et al. (
      <a class="ltx_ref" href="#bib.bib51" title="">
       2023
      </a>
      )
     </cite>
     . Finally, Figure
     <a class="ltx_ref" href="#A11.F19" title="Figure 19 ‣ K.2 Multi-choice ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       19
      </span>
     </a>
     describes how we prompt LLM w/
     <span class="ltx_text ltx_font_typewriter" id="A11.SS2.p1.1.2">
      Inter-Agent
     </span>
     to answer user queries with our proposed
     <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="A11.SS2.p1.1.3">
      AIR
     </span>
     .
    </p>
   </div>
   <figure class="ltx_figure" id="A11.F17">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="265" id="A11.F17.g1" src="/html/2403.05307/assets/x16.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 17:
     </span>
     The prompt of LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.F17.3.1">
      Model-Base
     </span>
     version in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F17.4.2">
      Multi-choice
     </span>
     mode.
    </figcaption>
   </figure>
   <figure class="ltx_figure" id="A11.F18">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="628" id="A11.F18.g1" src="/html/2403.05307/assets/x17.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 18:
     </span>
     The prompt of LLM with data analysis agent in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F18.2.1">
      Multi-choice
     </span>
     mode.
    </figcaption>
   </figure>
   <figure class="ltx_figure" id="A11.F19">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="680" id="A11.F19.g1" src="/html/2403.05307/assets/x18.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 19:
     </span>
     The prompt of LLM with interactive data analysis agent in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F19.3.1">
      Multi-choice
     </span>
     mode. The
     <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="A11.F19.4.2">
      AIR
     </span>
     prompt text are in green color. And the pseudocode is generated by LLM itself by learning from successful history
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="A11.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     K.3
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="A11.SS3.1.1">
     Clarification
    </span>
    Action
   </h3>
   <div class="ltx_para" id="A11.SS3.p1">
    <p class="ltx_p" id="A11.SS3.p1.1">
     The Figure
     <a class="ltx_ref" href="#A11.F20" title="Figure 20 ‣ K.3 Clarification Action ‣ Appendix K Implementation Prompt ‣ Tapilot-Crossing: Benchmarking and Evolving LLMs Towards Interactive Data Analysis Agents">
      <span class="ltx_text ltx_ref_tag">
       20
      </span>
     </a>
     describes how we prompt LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.SS3.p1.1.1">
      Model-Base
     </span>
     version to ask for clarification.
    </p>
   </div>
   <figure class="ltx_figure" id="A11.F20">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="551" id="A11.F20.g1" src="/html/2403.05307/assets/x19.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 20:
     </span>
     The prompt of LLM in
     <span class="ltx_text ltx_font_typewriter" id="A11.F20.3.1">
      Model-Base
     </span>
     version in
     <span class="ltx_text ltx_font_smallcaps" id="A11.F20.4.2">
      clarification
     </span>
     mode.
    </figcaption>
   </figure>
   <div class="ltx_pagination ltx_role_newpage">
   </div>
  </section>
 </section>
</article>
