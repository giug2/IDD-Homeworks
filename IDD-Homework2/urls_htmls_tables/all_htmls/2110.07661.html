<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2110.07661] Distribution-Free Federated Learning with Conformal Predictions</title><meta property="og:description" content="Federated learning has attracted considerable interest for collaborative machine learning in healthcare to leverage separate institutional datasets while maintaining patient privacy.
However, additional challenges such…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Distribution-Free Federated Learning with Conformal Predictions">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Distribution-Free Federated Learning with Conformal Predictions">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2110.07661">

<!--Generated on Tue Mar 19 15:26:36 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Distribution-Free Federated Learning with Conformal Predictions</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Charles Lu,<sup id="id1.1.1" class="ltx_sup">1, 2, <math id="id1.1.1.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="id1.1.1.m1.1a"><mo id="id1.1.1.m1.1.1" xref="id1.1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">\dagger</annotation></semantics></math></sup>
Jayashree Kalpathy-Cramer<sup id="id2.2.id1" class="ltx_sup">1, 2, 3</sup>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id3.id1" class="ltx_p">Federated learning has attracted considerable interest for collaborative machine learning in healthcare to leverage separate institutional datasets while maintaining patient privacy.
However, additional challenges such as poor calibration and lack of interpretability may also hamper widespread deployment of federated models into clinical practice, leading to user distrust or misuse of ML tools in high-stakes clinical decision-making.
In this paper, we propose to address these challenges by incorporating an adaptive conformal framework into federated learning to ensure distribution-free prediction sets that provide coverage guarantees. Importantly, these uncertainty estimates can be obtained without requiring any additional modifications to the model.
Empirical results on the MedMNIST medical imaging benchmark demonstrate our federated method provides tighter coverage over local conformal predictions on 6 different medical imaging datasets for 2D and 3D multi-class classification tasks.
Furthermore, we correlate class entropy with prediction set size to assess task uncertainty.</p>
</div>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Introduction</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">Current machine learning techniques typically increase in predictive task performance when trained with more data.
Because of their good predictive ability, convolutional neural networks (CNN) are often favored for many tasks in computer vision and medical imaging analysis.
However, medical imaging datasets often have large dimensionality with a relatively limited number of labeled examples that make training CNNs more difficult <cite class="ltx_cite ltx_citemacro_citep">(Singh et al. <a href="#bib.bib22" title="" class="ltx_ref">2020</a>; Lundervold and Lundervold <a href="#bib.bib15" title="" class="ltx_ref">2019</a>)</cite>.
For low prevalence diseases, too few annotated cases may be available from a single healthcare institution to train a high performance model.
However, directly sharing private medical data with external institutions poses severe privacy and security risks.
For this reason, federated learning (FL) has become an attractive paradigm to collaboratively develop CNN models while maintaining privacy of each institution’s respective data <cite class="ltx_cite ltx_citemacro_citep">(Xu and Wang <a href="#bib.bib26" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<p id="Sx1.p2.1" class="ltx_p">Another considerable challenge of most standard CNN models is their lack of uncertainty estimation and poor calibration <cite class="ltx_cite ltx_citemacro_citep">(Guo et al. <a href="#bib.bib9" title="" class="ltx_ref">2017</a>)</cite>.
While powerful in predictive capability, deep CNNs are not generally considered interpretable or well calibrated, which can lead to higher levels of user distrust or frustration during high-stakes decision-making <cite class="ltx_cite ltx_citemacro_citep">(Bhatt et al. <a href="#bib.bib4" title="" class="ltx_ref">2021</a>)</cite>.
Having some way to guarantee statistical confidence of a prediction will be crucial in the adoption of ML tools into medical decision-making applications <cite class="ltx_cite ltx_citemacro_citep">(Ghassemi et al. <a href="#bib.bib8" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="Sx1.p3" class="ltx_para">
<p id="Sx1.p3.1" class="ltx_p">Conformal predictions have been proposed as a general framework of providing distribution-free uncertainty in the form of prediction sets for classification and prediction intervals for regression <cite class="ltx_cite ltx_citemacro_citep">(Vovk, Gammerman, and Shafer <a href="#bib.bib25" title="" class="ltx_ref">2005</a>; Vovk <a href="#bib.bib24" title="" class="ltx_ref">2012</a>)</cite>.
Additionally, prediction sets better match the intuition of clinical decision making by providing a set of possible conditions that may be used to rule in or rule out certain diseases similar to a differential diagnosis <cite class="ltx_cite ltx_citemacro_citep">(Lu et al. <a href="#bib.bib14" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="Sx1.p4" class="ltx_para">
<p id="Sx1.p4.1" class="ltx_p">Our proposed method combines a federated training scheme with a adaptive conformal calibration during inference to combine the advantages of valid coverage with the increased performance and data privacy assurances of FL.
To this end, we investigate the following three research questions (RQ):</p>
<ol id="Sx1.I1" class="ltx_enumerate">
<li id="Sx1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="Sx1.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i1.p1.1" class="ltx_p">How do conformal methods (adaptive prediction sets) compare to non-adaptive prediction sets for medical imaging classification tasks?</p>
</div>
</li>
<li id="Sx1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="Sx1.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i2.p1.1" class="ltx_p">Do a federated quantile estimates provide tighter prediction sets than quantiles calibrated only on the local healthcare institution?</p>
</div>
</li>
<li id="Sx1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="Sx1.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i3.p1.1" class="ltx_p">What is the relationship between conformal uncertainty (as measured by set size) and epistemic (model) uncertainty (as measured by class entropy)?</p>
</div>
</li>
</ol>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Related Work</h2>

<div id="Sx2.p1" class="ltx_para">
<p id="Sx2.p1.1" class="ltx_p">Conformal inference was introduced by <cite class="ltx_cite ltx_citemacro_citet">Vovk, Gammerman, and Shafer (<a href="#bib.bib25" title="" class="ltx_ref">2005</a>)</cite> as a general framework to incorporate a rigorous notion of uncertainty into arbitrary machine learning models and have been adapted for prediction tasks including quantile regression, multi-label classification, and image segmentation <cite class="ltx_cite ltx_citemacro_citep">(Romano, Patterson, and Candès <a href="#bib.bib20" title="" class="ltx_ref">2019</a>; Cauchois, Gupta, and Duchi <a href="#bib.bib5" title="" class="ltx_ref">2020</a>; Bates et al. <a href="#bib.bib3" title="" class="ltx_ref">2021</a>)</cite>.
Conformal prediction can be seen as a frequentist approach to confidence estimation that provides marginal coverage bounds without needing to specify a prior distribution.</p>
</div>
<div id="Sx2.p2" class="ltx_para">
<p id="Sx2.p2.1" class="ltx_p">Other approaches to confidence in CNN include Bayesian approximation and post-hoc probability calibration.
Bayesian neural networks permit confidence estimates using posterior probabilities and model uncertainty but usually impose strict assumptions on the modeling distribution, such as assuming a Gaussian distributed likelihood in Monte Carlo dropout <cite class="ltx_cite ltx_citemacro_citep">(Gal and Ghahramani <a href="#bib.bib7" title="" class="ltx_ref">2015</a>)</cite>.
Other uncertainty methods are either model specific (such as Mondrian forests <cite class="ltx_cite ltx_citemacro_citep">(Lakshminarayanan, Roy, and Teh <a href="#bib.bib12" title="" class="ltx_ref">2016</a>)</cite>) or require modification of the loss function during training <cite class="ltx_cite ltx_citemacro_citep">(Corbière et al. <a href="#bib.bib6" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="Sx2.p3" class="ltx_para">
<p id="Sx2.p3.1" class="ltx_p">The Softmax probability of CNN have been empirically shown lack proper calibration. Attempts to remedy improve these calibration issues in CNN have resulted in post-processing techniques such as temperature scaling and isotonic calibration <cite class="ltx_cite ltx_citemacro_citep">(Guo et al. <a href="#bib.bib9" title="" class="ltx_ref">2017</a>)</cite>.</p>
</div>
<div id="Sx2.p4" class="ltx_para">
<p id="Sx2.p4.1" class="ltx_p">FL has received considerable attention for privacy sensitive applications such as healthcare <cite class="ltx_cite ltx_citemacro_citep">(Rieke et al. <a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite>.
Previous works attempt to incorporate Bayesian uncertainty or address non-IID distributions with post-calibration in FL context <cite class="ltx_cite ltx_citemacro_citep">(Yurochkin et al. <a href="#bib.bib28" title="" class="ltx_ref">2019</a>; Luo et al. <a href="#bib.bib16" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="Sx2.p5" class="ltx_para">
<p id="Sx2.p5.1" class="ltx_p">Another work proposes distributed conformal predictions but does not consider a FL context with CNN for medical imaging applications <cite class="ltx_cite ltx_citemacro_citep">(Spjuth, Carlsson, and Gauraha <a href="#bib.bib23" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
</section>
<section id="Sx3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Methods</h2>

<div id="Sx3.p1" class="ltx_para">
<p id="Sx3.p1.5" class="ltx_p">The conformal framework can be used to produce confidence prediction sets with any machine learning model that outputs a scoring function (e.g. deep neural networks, decision trees, and quantile regression).
For CNN classifiers, this amounts to predicting a set of predictions using the Softmax probability (for multi-class classification) as the conformality score function.
One naive way of forming prediction sets is to simply sort the class scores for a given example and include all classes in the prediction set up to some confidence threshold.
For example, for a three-class prediction task with the Softmax class scores <math id="Sx3.p1.1.m1.4" class="ltx_Math" alttext="[0.3,0.1,0.2,0.4]" display="inline"><semantics id="Sx3.p1.1.m1.4a"><mrow id="Sx3.p1.1.m1.4.5.2" xref="Sx3.p1.1.m1.4.5.1.cmml"><mo stretchy="false" id="Sx3.p1.1.m1.4.5.2.1" xref="Sx3.p1.1.m1.4.5.1.cmml">[</mo><mn id="Sx3.p1.1.m1.1.1" xref="Sx3.p1.1.m1.1.1.cmml">0.3</mn><mo id="Sx3.p1.1.m1.4.5.2.2" xref="Sx3.p1.1.m1.4.5.1.cmml">,</mo><mn id="Sx3.p1.1.m1.2.2" xref="Sx3.p1.1.m1.2.2.cmml">0.1</mn><mo id="Sx3.p1.1.m1.4.5.2.3" xref="Sx3.p1.1.m1.4.5.1.cmml">,</mo><mn id="Sx3.p1.1.m1.3.3" xref="Sx3.p1.1.m1.3.3.cmml">0.2</mn><mo id="Sx3.p1.1.m1.4.5.2.4" xref="Sx3.p1.1.m1.4.5.1.cmml">,</mo><mn id="Sx3.p1.1.m1.4.4" xref="Sx3.p1.1.m1.4.4.cmml">0.4</mn><mo stretchy="false" id="Sx3.p1.1.m1.4.5.2.5" xref="Sx3.p1.1.m1.4.5.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p1.1.m1.4b"><list id="Sx3.p1.1.m1.4.5.1.cmml" xref="Sx3.p1.1.m1.4.5.2"><cn type="float" id="Sx3.p1.1.m1.1.1.cmml" xref="Sx3.p1.1.m1.1.1">0.3</cn><cn type="float" id="Sx3.p1.1.m1.2.2.cmml" xref="Sx3.p1.1.m1.2.2">0.1</cn><cn type="float" id="Sx3.p1.1.m1.3.3.cmml" xref="Sx3.p1.1.m1.3.3">0.2</cn><cn type="float" id="Sx3.p1.1.m1.4.4.cmml" xref="Sx3.p1.1.m1.4.4">0.4</cn></list></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p1.1.m1.4c">[0.3,0.1,0.2,0.4]</annotation></semantics></math>, our naive method would be output <math id="Sx3.p1.2.m2.3" class="ltx_Math" alttext="\{3,0,2\}" display="inline"><semantics id="Sx3.p1.2.m2.3a"><mrow id="Sx3.p1.2.m2.3.4.2" xref="Sx3.p1.2.m2.3.4.1.cmml"><mo stretchy="false" id="Sx3.p1.2.m2.3.4.2.1" xref="Sx3.p1.2.m2.3.4.1.cmml">{</mo><mn id="Sx3.p1.2.m2.1.1" xref="Sx3.p1.2.m2.1.1.cmml">3</mn><mo id="Sx3.p1.2.m2.3.4.2.2" xref="Sx3.p1.2.m2.3.4.1.cmml">,</mo><mn id="Sx3.p1.2.m2.2.2" xref="Sx3.p1.2.m2.2.2.cmml">0</mn><mo id="Sx3.p1.2.m2.3.4.2.3" xref="Sx3.p1.2.m2.3.4.1.cmml">,</mo><mn id="Sx3.p1.2.m2.3.3" xref="Sx3.p1.2.m2.3.3.cmml">2</mn><mo stretchy="false" id="Sx3.p1.2.m2.3.4.2.4" xref="Sx3.p1.2.m2.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p1.2.m2.3b"><set id="Sx3.p1.2.m2.3.4.1.cmml" xref="Sx3.p1.2.m2.3.4.2"><cn type="integer" id="Sx3.p1.2.m2.1.1.cmml" xref="Sx3.p1.2.m2.1.1">3</cn><cn type="integer" id="Sx3.p1.2.m2.2.2.cmml" xref="Sx3.p1.2.m2.2.2">0</cn><cn type="integer" id="Sx3.p1.2.m2.3.3.cmml" xref="Sx3.p1.2.m2.3.3">2</cn></set></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p1.2.m2.3c">\{3,0,2\}</annotation></semantics></math> for a confidence level of <math id="Sx3.p1.3.m3.1" class="ltx_Math" alttext="90\%" display="inline"><semantics id="Sx3.p1.3.m3.1a"><mrow id="Sx3.p1.3.m3.1.1" xref="Sx3.p1.3.m3.1.1.cmml"><mn id="Sx3.p1.3.m3.1.1.2" xref="Sx3.p1.3.m3.1.1.2.cmml">90</mn><mo id="Sx3.p1.3.m3.1.1.1" xref="Sx3.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p1.3.m3.1b"><apply id="Sx3.p1.3.m3.1.1.cmml" xref="Sx3.p1.3.m3.1.1"><csymbol cd="latexml" id="Sx3.p1.3.m3.1.1.1.cmml" xref="Sx3.p1.3.m3.1.1.1">percent</csymbol><cn type="integer" id="Sx3.p1.3.m3.1.1.2.cmml" xref="Sx3.p1.3.m3.1.1.2">90</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p1.3.m3.1c">90\%</annotation></semantics></math> and <math id="Sx3.p1.4.m4.2" class="ltx_Math" alttext="\{3,0\}" display="inline"><semantics id="Sx3.p1.4.m4.2a"><mrow id="Sx3.p1.4.m4.2.3.2" xref="Sx3.p1.4.m4.2.3.1.cmml"><mo stretchy="false" id="Sx3.p1.4.m4.2.3.2.1" xref="Sx3.p1.4.m4.2.3.1.cmml">{</mo><mn id="Sx3.p1.4.m4.1.1" xref="Sx3.p1.4.m4.1.1.cmml">3</mn><mo id="Sx3.p1.4.m4.2.3.2.2" xref="Sx3.p1.4.m4.2.3.1.cmml">,</mo><mn id="Sx3.p1.4.m4.2.2" xref="Sx3.p1.4.m4.2.2.cmml">0</mn><mo stretchy="false" id="Sx3.p1.4.m4.2.3.2.3" xref="Sx3.p1.4.m4.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p1.4.m4.2b"><set id="Sx3.p1.4.m4.2.3.1.cmml" xref="Sx3.p1.4.m4.2.3.2"><cn type="integer" id="Sx3.p1.4.m4.1.1.cmml" xref="Sx3.p1.4.m4.1.1">3</cn><cn type="integer" id="Sx3.p1.4.m4.2.2.cmml" xref="Sx3.p1.4.m4.2.2">0</cn></set></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p1.4.m4.2c">\{3,0\}</annotation></semantics></math> for a confidence level of <math id="Sx3.p1.5.m5.1" class="ltx_Math" alttext="70\%" display="inline"><semantics id="Sx3.p1.5.m5.1a"><mrow id="Sx3.p1.5.m5.1.1" xref="Sx3.p1.5.m5.1.1.cmml"><mn id="Sx3.p1.5.m5.1.1.2" xref="Sx3.p1.5.m5.1.1.2.cmml">70</mn><mo id="Sx3.p1.5.m5.1.1.1" xref="Sx3.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p1.5.m5.1b"><apply id="Sx3.p1.5.m5.1.1.cmml" xref="Sx3.p1.5.m5.1.1"><csymbol cd="latexml" id="Sx3.p1.5.m5.1.1.1.cmml" xref="Sx3.p1.5.m5.1.1.1">percent</csymbol><cn type="integer" id="Sx3.p1.5.m5.1.1.2.cmml" xref="Sx3.p1.5.m5.1.1.2">70</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p1.5.m5.1c">70\%</annotation></semantics></math>.
Unfortunately, this naive approach does not provide the property of <span id="Sx3.p1.5.1" class="ltx_text ltx_font_italic">coverage</span> –.
simply, that the prediction set for any given example will contain the true class on average at some desired confidence level.
To achieve a formal guarantee of coverage, we can instead reuse the validation data to calibrate our model to achieve valid conformal predictions during model inference.</p>
</div>
<div id="Sx3.p2" class="ltx_para">
<p id="Sx3.p2.8" class="ltx_p">Formally, let <math id="Sx3.p2.1.m1.1" class="ltx_Math" alttext="C(X)" display="inline"><semantics id="Sx3.p2.1.m1.1a"><mrow id="Sx3.p2.1.m1.1.2" xref="Sx3.p2.1.m1.1.2.cmml"><mi id="Sx3.p2.1.m1.1.2.2" xref="Sx3.p2.1.m1.1.2.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="Sx3.p2.1.m1.1.2.1" xref="Sx3.p2.1.m1.1.2.1.cmml">​</mo><mrow id="Sx3.p2.1.m1.1.2.3.2" xref="Sx3.p2.1.m1.1.2.cmml"><mo stretchy="false" id="Sx3.p2.1.m1.1.2.3.2.1" xref="Sx3.p2.1.m1.1.2.cmml">(</mo><mi id="Sx3.p2.1.m1.1.1" xref="Sx3.p2.1.m1.1.1.cmml">X</mi><mo stretchy="false" id="Sx3.p2.1.m1.1.2.3.2.2" xref="Sx3.p2.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p2.1.m1.1b"><apply id="Sx3.p2.1.m1.1.2.cmml" xref="Sx3.p2.1.m1.1.2"><times id="Sx3.p2.1.m1.1.2.1.cmml" xref="Sx3.p2.1.m1.1.2.1"></times><ci id="Sx3.p2.1.m1.1.2.2.cmml" xref="Sx3.p2.1.m1.1.2.2">𝐶</ci><ci id="Sx3.p2.1.m1.1.1.cmml" xref="Sx3.p2.1.m1.1.1">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.1.m1.1c">C(X)</annotation></semantics></math> be a conformal prediction set, which is a subset of the label powerset, <math id="Sx3.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="Sx3.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="Sx3.p2.2.m2.1.1" xref="Sx3.p2.2.m2.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="Sx3.p2.2.m2.1b"><ci id="Sx3.p2.2.m2.1.1.cmml" xref="Sx3.p2.2.m2.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.2.m2.1c">\mathcal{P}</annotation></semantics></math>, and let <math id="Sx3.p2.3.m3.2" class="ltx_Math" alttext="\alpha\in(0,1)" display="inline"><semantics id="Sx3.p2.3.m3.2a"><mrow id="Sx3.p2.3.m3.2.3" xref="Sx3.p2.3.m3.2.3.cmml"><mi id="Sx3.p2.3.m3.2.3.2" xref="Sx3.p2.3.m3.2.3.2.cmml">α</mi><mo id="Sx3.p2.3.m3.2.3.1" xref="Sx3.p2.3.m3.2.3.1.cmml">∈</mo><mrow id="Sx3.p2.3.m3.2.3.3.2" xref="Sx3.p2.3.m3.2.3.3.1.cmml"><mo stretchy="false" id="Sx3.p2.3.m3.2.3.3.2.1" xref="Sx3.p2.3.m3.2.3.3.1.cmml">(</mo><mn id="Sx3.p2.3.m3.1.1" xref="Sx3.p2.3.m3.1.1.cmml">0</mn><mo id="Sx3.p2.3.m3.2.3.3.2.2" xref="Sx3.p2.3.m3.2.3.3.1.cmml">,</mo><mn id="Sx3.p2.3.m3.2.2" xref="Sx3.p2.3.m3.2.2.cmml">1</mn><mo stretchy="false" id="Sx3.p2.3.m3.2.3.3.2.3" xref="Sx3.p2.3.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p2.3.m3.2b"><apply id="Sx3.p2.3.m3.2.3.cmml" xref="Sx3.p2.3.m3.2.3"><in id="Sx3.p2.3.m3.2.3.1.cmml" xref="Sx3.p2.3.m3.2.3.1"></in><ci id="Sx3.p2.3.m3.2.3.2.cmml" xref="Sx3.p2.3.m3.2.3.2">𝛼</ci><interval closure="open" id="Sx3.p2.3.m3.2.3.3.1.cmml" xref="Sx3.p2.3.m3.2.3.3.2"><cn type="integer" id="Sx3.p2.3.m3.1.1.cmml" xref="Sx3.p2.3.m3.1.1">0</cn><cn type="integer" id="Sx3.p2.3.m3.2.2.cmml" xref="Sx3.p2.3.m3.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.3.m3.2c">\alpha\in(0,1)</annotation></semantics></math> be a pre-chosen confidence level that determines the degree of guaranteed coverage on the joint distribution, <math id="Sx3.p2.4.m4.2" class="ltx_Math" alttext="\{X_{i},Y_{i}\}_{i=1}^{N+M}" display="inline"><semantics id="Sx3.p2.4.m4.2a"><msubsup id="Sx3.p2.4.m4.2.2" xref="Sx3.p2.4.m4.2.2.cmml"><mrow id="Sx3.p2.4.m4.2.2.2.2.2" xref="Sx3.p2.4.m4.2.2.2.2.3.cmml"><mo stretchy="false" id="Sx3.p2.4.m4.2.2.2.2.2.3" xref="Sx3.p2.4.m4.2.2.2.2.3.cmml">{</mo><msub id="Sx3.p2.4.m4.1.1.1.1.1.1" xref="Sx3.p2.4.m4.1.1.1.1.1.1.cmml"><mi id="Sx3.p2.4.m4.1.1.1.1.1.1.2" xref="Sx3.p2.4.m4.1.1.1.1.1.1.2.cmml">X</mi><mi id="Sx3.p2.4.m4.1.1.1.1.1.1.3" xref="Sx3.p2.4.m4.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="Sx3.p2.4.m4.2.2.2.2.2.4" xref="Sx3.p2.4.m4.2.2.2.2.3.cmml">,</mo><msub id="Sx3.p2.4.m4.2.2.2.2.2.2" xref="Sx3.p2.4.m4.2.2.2.2.2.2.cmml"><mi id="Sx3.p2.4.m4.2.2.2.2.2.2.2" xref="Sx3.p2.4.m4.2.2.2.2.2.2.2.cmml">Y</mi><mi id="Sx3.p2.4.m4.2.2.2.2.2.2.3" xref="Sx3.p2.4.m4.2.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="Sx3.p2.4.m4.2.2.2.2.2.5" xref="Sx3.p2.4.m4.2.2.2.2.3.cmml">}</mo></mrow><mrow id="Sx3.p2.4.m4.2.2.2.4" xref="Sx3.p2.4.m4.2.2.2.4.cmml"><mi id="Sx3.p2.4.m4.2.2.2.4.2" xref="Sx3.p2.4.m4.2.2.2.4.2.cmml">i</mi><mo id="Sx3.p2.4.m4.2.2.2.4.1" xref="Sx3.p2.4.m4.2.2.2.4.1.cmml">=</mo><mn id="Sx3.p2.4.m4.2.2.2.4.3" xref="Sx3.p2.4.m4.2.2.2.4.3.cmml">1</mn></mrow><mrow id="Sx3.p2.4.m4.2.2.4" xref="Sx3.p2.4.m4.2.2.4.cmml"><mi id="Sx3.p2.4.m4.2.2.4.2" xref="Sx3.p2.4.m4.2.2.4.2.cmml">N</mi><mo id="Sx3.p2.4.m4.2.2.4.1" xref="Sx3.p2.4.m4.2.2.4.1.cmml">+</mo><mi id="Sx3.p2.4.m4.2.2.4.3" xref="Sx3.p2.4.m4.2.2.4.3.cmml">M</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="Sx3.p2.4.m4.2b"><apply id="Sx3.p2.4.m4.2.2.cmml" xref="Sx3.p2.4.m4.2.2"><csymbol cd="ambiguous" id="Sx3.p2.4.m4.2.2.3.cmml" xref="Sx3.p2.4.m4.2.2">superscript</csymbol><apply id="Sx3.p2.4.m4.2.2.2.cmml" xref="Sx3.p2.4.m4.2.2"><csymbol cd="ambiguous" id="Sx3.p2.4.m4.2.2.2.3.cmml" xref="Sx3.p2.4.m4.2.2">subscript</csymbol><set id="Sx3.p2.4.m4.2.2.2.2.3.cmml" xref="Sx3.p2.4.m4.2.2.2.2.2"><apply id="Sx3.p2.4.m4.1.1.1.1.1.1.cmml" xref="Sx3.p2.4.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.p2.4.m4.1.1.1.1.1.1.1.cmml" xref="Sx3.p2.4.m4.1.1.1.1.1.1">subscript</csymbol><ci id="Sx3.p2.4.m4.1.1.1.1.1.1.2.cmml" xref="Sx3.p2.4.m4.1.1.1.1.1.1.2">𝑋</ci><ci id="Sx3.p2.4.m4.1.1.1.1.1.1.3.cmml" xref="Sx3.p2.4.m4.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="Sx3.p2.4.m4.2.2.2.2.2.2.cmml" xref="Sx3.p2.4.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="Sx3.p2.4.m4.2.2.2.2.2.2.1.cmml" xref="Sx3.p2.4.m4.2.2.2.2.2.2">subscript</csymbol><ci id="Sx3.p2.4.m4.2.2.2.2.2.2.2.cmml" xref="Sx3.p2.4.m4.2.2.2.2.2.2.2">𝑌</ci><ci id="Sx3.p2.4.m4.2.2.2.2.2.2.3.cmml" xref="Sx3.p2.4.m4.2.2.2.2.2.2.3">𝑖</ci></apply></set><apply id="Sx3.p2.4.m4.2.2.2.4.cmml" xref="Sx3.p2.4.m4.2.2.2.4"><eq id="Sx3.p2.4.m4.2.2.2.4.1.cmml" xref="Sx3.p2.4.m4.2.2.2.4.1"></eq><ci id="Sx3.p2.4.m4.2.2.2.4.2.cmml" xref="Sx3.p2.4.m4.2.2.2.4.2">𝑖</ci><cn type="integer" id="Sx3.p2.4.m4.2.2.2.4.3.cmml" xref="Sx3.p2.4.m4.2.2.2.4.3">1</cn></apply></apply><apply id="Sx3.p2.4.m4.2.2.4.cmml" xref="Sx3.p2.4.m4.2.2.4"><plus id="Sx3.p2.4.m4.2.2.4.1.cmml" xref="Sx3.p2.4.m4.2.2.4.1"></plus><ci id="Sx3.p2.4.m4.2.2.4.2.cmml" xref="Sx3.p2.4.m4.2.2.4.2">𝑁</ci><ci id="Sx3.p2.4.m4.2.2.4.3.cmml" xref="Sx3.p2.4.m4.2.2.4.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.4.m4.2c">\{X_{i},Y_{i}\}_{i=1}^{N+M}</annotation></semantics></math>, where <math id="Sx3.p2.5.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="Sx3.p2.5.m5.1a"><mi id="Sx3.p2.5.m5.1.1" xref="Sx3.p2.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="Sx3.p2.5.m5.1b"><ci id="Sx3.p2.5.m5.1.1.cmml" xref="Sx3.p2.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.5.m5.1c">N</annotation></semantics></math> is the number of examples in the calibration set and <math id="Sx3.p2.6.m6.1" class="ltx_Math" alttext="M" display="inline"><semantics id="Sx3.p2.6.m6.1a"><mi id="Sx3.p2.6.m6.1.1" xref="Sx3.p2.6.m6.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="Sx3.p2.6.m6.1b"><ci id="Sx3.p2.6.m6.1.1.cmml" xref="Sx3.p2.6.m6.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.6.m6.1c">M</annotation></semantics></math> is the number of examples in the test set.
Then, for some classifier that makes <math id="Sx3.p2.7.m7.1" class="ltx_Math" alttext="|Y|" display="inline"><semantics id="Sx3.p2.7.m7.1a"><mrow id="Sx3.p2.7.m7.1.2.2" xref="Sx3.p2.7.m7.1.2.1.cmml"><mo stretchy="false" id="Sx3.p2.7.m7.1.2.2.1" xref="Sx3.p2.7.m7.1.2.1.1.cmml">|</mo><mi id="Sx3.p2.7.m7.1.1" xref="Sx3.p2.7.m7.1.1.cmml">Y</mi><mo stretchy="false" id="Sx3.p2.7.m7.1.2.2.2" xref="Sx3.p2.7.m7.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p2.7.m7.1b"><apply id="Sx3.p2.7.m7.1.2.1.cmml" xref="Sx3.p2.7.m7.1.2.2"><abs id="Sx3.p2.7.m7.1.2.1.1.cmml" xref="Sx3.p2.7.m7.1.2.2.1"></abs><ci id="Sx3.p2.7.m7.1.1.cmml" xref="Sx3.p2.7.m7.1.1">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.7.m7.1c">|Y|</annotation></semantics></math> class predictions using a monotonic scoring function, <math id="Sx3.p2.8.m8.1" class="ltx_Math" alttext="S:\mathcal{X}\rightarrow\mathbb{R}^{|Y|}" display="inline"><semantics id="Sx3.p2.8.m8.1a"><mrow id="Sx3.p2.8.m8.1.2" xref="Sx3.p2.8.m8.1.2.cmml"><mi id="Sx3.p2.8.m8.1.2.2" xref="Sx3.p2.8.m8.1.2.2.cmml">S</mi><mo lspace="0.278em" rspace="0.278em" id="Sx3.p2.8.m8.1.2.1" xref="Sx3.p2.8.m8.1.2.1.cmml">:</mo><mrow id="Sx3.p2.8.m8.1.2.3" xref="Sx3.p2.8.m8.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Sx3.p2.8.m8.1.2.3.2" xref="Sx3.p2.8.m8.1.2.3.2.cmml">𝒳</mi><mo stretchy="false" id="Sx3.p2.8.m8.1.2.3.1" xref="Sx3.p2.8.m8.1.2.3.1.cmml">→</mo><msup id="Sx3.p2.8.m8.1.2.3.3" xref="Sx3.p2.8.m8.1.2.3.3.cmml"><mi id="Sx3.p2.8.m8.1.2.3.3.2" xref="Sx3.p2.8.m8.1.2.3.3.2.cmml">ℝ</mi><mrow id="Sx3.p2.8.m8.1.1.1.3" xref="Sx3.p2.8.m8.1.1.1.2.cmml"><mo stretchy="false" id="Sx3.p2.8.m8.1.1.1.3.1" xref="Sx3.p2.8.m8.1.1.1.2.1.cmml">|</mo><mi id="Sx3.p2.8.m8.1.1.1.1" xref="Sx3.p2.8.m8.1.1.1.1.cmml">Y</mi><mo stretchy="false" id="Sx3.p2.8.m8.1.1.1.3.2" xref="Sx3.p2.8.m8.1.1.1.2.1.cmml">|</mo></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p2.8.m8.1b"><apply id="Sx3.p2.8.m8.1.2.cmml" xref="Sx3.p2.8.m8.1.2"><ci id="Sx3.p2.8.m8.1.2.1.cmml" xref="Sx3.p2.8.m8.1.2.1">:</ci><ci id="Sx3.p2.8.m8.1.2.2.cmml" xref="Sx3.p2.8.m8.1.2.2">𝑆</ci><apply id="Sx3.p2.8.m8.1.2.3.cmml" xref="Sx3.p2.8.m8.1.2.3"><ci id="Sx3.p2.8.m8.1.2.3.1.cmml" xref="Sx3.p2.8.m8.1.2.3.1">→</ci><ci id="Sx3.p2.8.m8.1.2.3.2.cmml" xref="Sx3.p2.8.m8.1.2.3.2">𝒳</ci><apply id="Sx3.p2.8.m8.1.2.3.3.cmml" xref="Sx3.p2.8.m8.1.2.3.3"><csymbol cd="ambiguous" id="Sx3.p2.8.m8.1.2.3.3.1.cmml" xref="Sx3.p2.8.m8.1.2.3.3">superscript</csymbol><ci id="Sx3.p2.8.m8.1.2.3.3.2.cmml" xref="Sx3.p2.8.m8.1.2.3.3.2">ℝ</ci><apply id="Sx3.p2.8.m8.1.1.1.2.cmml" xref="Sx3.p2.8.m8.1.1.1.3"><abs id="Sx3.p2.8.m8.1.1.1.2.1.cmml" xref="Sx3.p2.8.m8.1.1.1.3.1"></abs><ci id="Sx3.p2.8.m8.1.1.1.1.cmml" xref="Sx3.p2.8.m8.1.1.1.1">𝑌</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.8.m8.1c">S:\mathcal{X}\rightarrow\mathbb{R}^{|Y|}</annotation></semantics></math>, a prediction set can be created:</p>
<table id="Sx3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Sx3.E1.m1.3" class="ltx_Math" alttext="C(X)=\{y\in Y\mid S(X)_{y}&gt;1-\hat{q}\}," display="block"><semantics id="Sx3.E1.m1.3a"><mrow id="Sx3.E1.m1.3.3.1" xref="Sx3.E1.m1.3.3.1.1.cmml"><mrow id="Sx3.E1.m1.3.3.1.1" xref="Sx3.E1.m1.3.3.1.1.cmml"><mrow id="Sx3.E1.m1.3.3.1.1.4" xref="Sx3.E1.m1.3.3.1.1.4.cmml"><mi id="Sx3.E1.m1.3.3.1.1.4.2" xref="Sx3.E1.m1.3.3.1.1.4.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="Sx3.E1.m1.3.3.1.1.4.1" xref="Sx3.E1.m1.3.3.1.1.4.1.cmml">​</mo><mrow id="Sx3.E1.m1.3.3.1.1.4.3.2" xref="Sx3.E1.m1.3.3.1.1.4.cmml"><mo stretchy="false" id="Sx3.E1.m1.3.3.1.1.4.3.2.1" xref="Sx3.E1.m1.3.3.1.1.4.cmml">(</mo><mi id="Sx3.E1.m1.1.1" xref="Sx3.E1.m1.1.1.cmml">X</mi><mo stretchy="false" id="Sx3.E1.m1.3.3.1.1.4.3.2.2" xref="Sx3.E1.m1.3.3.1.1.4.cmml">)</mo></mrow></mrow><mo id="Sx3.E1.m1.3.3.1.1.3" xref="Sx3.E1.m1.3.3.1.1.3.cmml">=</mo><mrow id="Sx3.E1.m1.3.3.1.1.2.2" xref="Sx3.E1.m1.3.3.1.1.2.3.cmml"><mo stretchy="false" id="Sx3.E1.m1.3.3.1.1.2.2.3" xref="Sx3.E1.m1.3.3.1.1.2.3.1.cmml">{</mo><mrow id="Sx3.E1.m1.3.3.1.1.1.1.1" xref="Sx3.E1.m1.3.3.1.1.1.1.1.cmml"><mi id="Sx3.E1.m1.3.3.1.1.1.1.1.2" xref="Sx3.E1.m1.3.3.1.1.1.1.1.2.cmml">y</mi><mo id="Sx3.E1.m1.3.3.1.1.1.1.1.1" xref="Sx3.E1.m1.3.3.1.1.1.1.1.1.cmml">∈</mo><mi id="Sx3.E1.m1.3.3.1.1.1.1.1.3" xref="Sx3.E1.m1.3.3.1.1.1.1.1.3.cmml">Y</mi></mrow><mo fence="true" lspace="0em" rspace="0em" id="Sx3.E1.m1.3.3.1.1.2.2.4" xref="Sx3.E1.m1.3.3.1.1.2.3.1.cmml">∣</mo><mrow id="Sx3.E1.m1.3.3.1.1.2.2.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.cmml"><mrow id="Sx3.E1.m1.3.3.1.1.2.2.2.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.cmml"><mi id="Sx3.E1.m1.3.3.1.1.2.2.2.2.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="Sx3.E1.m1.3.3.1.1.2.2.2.2.1" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.1.cmml">​</mo><msub id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.cmml"><mrow id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.2.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.cmml"><mo stretchy="false" id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.2.2.1" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.cmml">(</mo><mi id="Sx3.E1.m1.2.2" xref="Sx3.E1.m1.2.2.cmml">X</mi><mo stretchy="false" id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.2.2.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.cmml">)</mo></mrow><mi id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.3" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.3.cmml">y</mi></msub></mrow><mo id="Sx3.E1.m1.3.3.1.1.2.2.2.1" xref="Sx3.E1.m1.3.3.1.1.2.2.2.1.cmml">&gt;</mo><mrow id="Sx3.E1.m1.3.3.1.1.2.2.2.3" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.cmml"><mn id="Sx3.E1.m1.3.3.1.1.2.2.2.3.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.2.cmml">1</mn><mo id="Sx3.E1.m1.3.3.1.1.2.2.2.3.1" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.1.cmml">−</mo><mover accent="true" id="Sx3.E1.m1.3.3.1.1.2.2.2.3.3" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.cmml"><mi id="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.2" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.2.cmml">q</mi><mo id="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.1" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.1.cmml">^</mo></mover></mrow></mrow><mo stretchy="false" id="Sx3.E1.m1.3.3.1.1.2.2.5" xref="Sx3.E1.m1.3.3.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="Sx3.E1.m1.3.3.1.2" xref="Sx3.E1.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E1.m1.3b"><apply id="Sx3.E1.m1.3.3.1.1.cmml" xref="Sx3.E1.m1.3.3.1"><eq id="Sx3.E1.m1.3.3.1.1.3.cmml" xref="Sx3.E1.m1.3.3.1.1.3"></eq><apply id="Sx3.E1.m1.3.3.1.1.4.cmml" xref="Sx3.E1.m1.3.3.1.1.4"><times id="Sx3.E1.m1.3.3.1.1.4.1.cmml" xref="Sx3.E1.m1.3.3.1.1.4.1"></times><ci id="Sx3.E1.m1.3.3.1.1.4.2.cmml" xref="Sx3.E1.m1.3.3.1.1.4.2">𝐶</ci><ci id="Sx3.E1.m1.1.1.cmml" xref="Sx3.E1.m1.1.1">𝑋</ci></apply><apply id="Sx3.E1.m1.3.3.1.1.2.3.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2"><csymbol cd="latexml" id="Sx3.E1.m1.3.3.1.1.2.3.1.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.3">conditional-set</csymbol><apply id="Sx3.E1.m1.3.3.1.1.1.1.1.cmml" xref="Sx3.E1.m1.3.3.1.1.1.1.1"><in id="Sx3.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="Sx3.E1.m1.3.3.1.1.1.1.1.1"></in><ci id="Sx3.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="Sx3.E1.m1.3.3.1.1.1.1.1.2">𝑦</ci><ci id="Sx3.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="Sx3.E1.m1.3.3.1.1.1.1.1.3">𝑌</ci></apply><apply id="Sx3.E1.m1.3.3.1.1.2.2.2.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2"><gt id="Sx3.E1.m1.3.3.1.1.2.2.2.1.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.1"></gt><apply id="Sx3.E1.m1.3.3.1.1.2.2.2.2.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2"><times id="Sx3.E1.m1.3.3.1.1.2.2.2.2.1.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.1"></times><ci id="Sx3.E1.m1.3.3.1.1.2.2.2.2.2.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.2">𝑆</ci><apply id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3"><csymbol cd="ambiguous" id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.1.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3">subscript</csymbol><ci id="Sx3.E1.m1.2.2.cmml" xref="Sx3.E1.m1.2.2">𝑋</ci><ci id="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.3.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.2.3.3">𝑦</ci></apply></apply><apply id="Sx3.E1.m1.3.3.1.1.2.2.2.3.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3"><minus id="Sx3.E1.m1.3.3.1.1.2.2.2.3.1.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.1"></minus><cn type="integer" id="Sx3.E1.m1.3.3.1.1.2.2.2.3.2.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.2">1</cn><apply id="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.3"><ci id="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.1.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.1">^</ci><ci id="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.2.cmml" xref="Sx3.E1.m1.3.3.1.1.2.2.2.3.3.2">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E1.m1.3c">C(X)=\{y\in Y\mid S(X)_{y}&gt;1-\hat{q}\},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="Sx3.p2.13" class="ltx_p">where <math id="Sx3.p2.9.m1.1" class="ltx_Math" alttext="S(X)_{y}" display="inline"><semantics id="Sx3.p2.9.m1.1a"><mrow id="Sx3.p2.9.m1.1.2" xref="Sx3.p2.9.m1.1.2.cmml"><mi id="Sx3.p2.9.m1.1.2.2" xref="Sx3.p2.9.m1.1.2.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="Sx3.p2.9.m1.1.2.1" xref="Sx3.p2.9.m1.1.2.1.cmml">​</mo><msub id="Sx3.p2.9.m1.1.2.3" xref="Sx3.p2.9.m1.1.2.3.cmml"><mrow id="Sx3.p2.9.m1.1.2.3.2.2" xref="Sx3.p2.9.m1.1.2.3.cmml"><mo stretchy="false" id="Sx3.p2.9.m1.1.2.3.2.2.1" xref="Sx3.p2.9.m1.1.2.3.cmml">(</mo><mi id="Sx3.p2.9.m1.1.1" xref="Sx3.p2.9.m1.1.1.cmml">X</mi><mo stretchy="false" id="Sx3.p2.9.m1.1.2.3.2.2.2" xref="Sx3.p2.9.m1.1.2.3.cmml">)</mo></mrow><mi id="Sx3.p2.9.m1.1.2.3.3" xref="Sx3.p2.9.m1.1.2.3.3.cmml">y</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p2.9.m1.1b"><apply id="Sx3.p2.9.m1.1.2.cmml" xref="Sx3.p2.9.m1.1.2"><times id="Sx3.p2.9.m1.1.2.1.cmml" xref="Sx3.p2.9.m1.1.2.1"></times><ci id="Sx3.p2.9.m1.1.2.2.cmml" xref="Sx3.p2.9.m1.1.2.2">𝑆</ci><apply id="Sx3.p2.9.m1.1.2.3.cmml" xref="Sx3.p2.9.m1.1.2.3"><csymbol cd="ambiguous" id="Sx3.p2.9.m1.1.2.3.1.cmml" xref="Sx3.p2.9.m1.1.2.3">subscript</csymbol><ci id="Sx3.p2.9.m1.1.1.cmml" xref="Sx3.p2.9.m1.1.1">𝑋</ci><ci id="Sx3.p2.9.m1.1.2.3.3.cmml" xref="Sx3.p2.9.m1.1.2.3.3">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.9.m1.1c">S(X)_{y}</annotation></semantics></math> is the score of the <math id="Sx3.p2.10.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="Sx3.p2.10.m2.1a"><mi id="Sx3.p2.10.m2.1.1" xref="Sx3.p2.10.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="Sx3.p2.10.m2.1b"><ci id="Sx3.p2.10.m2.1.1.cmml" xref="Sx3.p2.10.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.10.m2.1c">y</annotation></semantics></math>th class and <math id="Sx3.p2.11.m3.1" class="ltx_Math" alttext="\hat{q}" display="inline"><semantics id="Sx3.p2.11.m3.1a"><mover accent="true" id="Sx3.p2.11.m3.1.1" xref="Sx3.p2.11.m3.1.1.cmml"><mi id="Sx3.p2.11.m3.1.1.2" xref="Sx3.p2.11.m3.1.1.2.cmml">q</mi><mo id="Sx3.p2.11.m3.1.1.1" xref="Sx3.p2.11.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="Sx3.p2.11.m3.1b"><apply id="Sx3.p2.11.m3.1.1.cmml" xref="Sx3.p2.11.m3.1.1"><ci id="Sx3.p2.11.m3.1.1.1.cmml" xref="Sx3.p2.11.m3.1.1.1">^</ci><ci id="Sx3.p2.11.m3.1.1.2.cmml" xref="Sx3.p2.11.m3.1.1.2">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.11.m3.1c">\hat{q}</annotation></semantics></math> is the score quantile (estimated using the calibration set <math id="Sx3.p2.12.m4.2" class="ltx_Math" alttext="\{X_{i},Y_{i}\}_{i=1}^{N}" display="inline"><semantics id="Sx3.p2.12.m4.2a"><msubsup id="Sx3.p2.12.m4.2.2" xref="Sx3.p2.12.m4.2.2.cmml"><mrow id="Sx3.p2.12.m4.2.2.2.2.2" xref="Sx3.p2.12.m4.2.2.2.2.3.cmml"><mo stretchy="false" id="Sx3.p2.12.m4.2.2.2.2.2.3" xref="Sx3.p2.12.m4.2.2.2.2.3.cmml">{</mo><msub id="Sx3.p2.12.m4.1.1.1.1.1.1" xref="Sx3.p2.12.m4.1.1.1.1.1.1.cmml"><mi id="Sx3.p2.12.m4.1.1.1.1.1.1.2" xref="Sx3.p2.12.m4.1.1.1.1.1.1.2.cmml">X</mi><mi id="Sx3.p2.12.m4.1.1.1.1.1.1.3" xref="Sx3.p2.12.m4.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="Sx3.p2.12.m4.2.2.2.2.2.4" xref="Sx3.p2.12.m4.2.2.2.2.3.cmml">,</mo><msub id="Sx3.p2.12.m4.2.2.2.2.2.2" xref="Sx3.p2.12.m4.2.2.2.2.2.2.cmml"><mi id="Sx3.p2.12.m4.2.2.2.2.2.2.2" xref="Sx3.p2.12.m4.2.2.2.2.2.2.2.cmml">Y</mi><mi id="Sx3.p2.12.m4.2.2.2.2.2.2.3" xref="Sx3.p2.12.m4.2.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="Sx3.p2.12.m4.2.2.2.2.2.5" xref="Sx3.p2.12.m4.2.2.2.2.3.cmml">}</mo></mrow><mrow id="Sx3.p2.12.m4.2.2.2.4" xref="Sx3.p2.12.m4.2.2.2.4.cmml"><mi id="Sx3.p2.12.m4.2.2.2.4.2" xref="Sx3.p2.12.m4.2.2.2.4.2.cmml">i</mi><mo id="Sx3.p2.12.m4.2.2.2.4.1" xref="Sx3.p2.12.m4.2.2.2.4.1.cmml">=</mo><mn id="Sx3.p2.12.m4.2.2.2.4.3" xref="Sx3.p2.12.m4.2.2.2.4.3.cmml">1</mn></mrow><mi id="Sx3.p2.12.m4.2.2.4" xref="Sx3.p2.12.m4.2.2.4.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="Sx3.p2.12.m4.2b"><apply id="Sx3.p2.12.m4.2.2.cmml" xref="Sx3.p2.12.m4.2.2"><csymbol cd="ambiguous" id="Sx3.p2.12.m4.2.2.3.cmml" xref="Sx3.p2.12.m4.2.2">superscript</csymbol><apply id="Sx3.p2.12.m4.2.2.2.cmml" xref="Sx3.p2.12.m4.2.2"><csymbol cd="ambiguous" id="Sx3.p2.12.m4.2.2.2.3.cmml" xref="Sx3.p2.12.m4.2.2">subscript</csymbol><set id="Sx3.p2.12.m4.2.2.2.2.3.cmml" xref="Sx3.p2.12.m4.2.2.2.2.2"><apply id="Sx3.p2.12.m4.1.1.1.1.1.1.cmml" xref="Sx3.p2.12.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.p2.12.m4.1.1.1.1.1.1.1.cmml" xref="Sx3.p2.12.m4.1.1.1.1.1.1">subscript</csymbol><ci id="Sx3.p2.12.m4.1.1.1.1.1.1.2.cmml" xref="Sx3.p2.12.m4.1.1.1.1.1.1.2">𝑋</ci><ci id="Sx3.p2.12.m4.1.1.1.1.1.1.3.cmml" xref="Sx3.p2.12.m4.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="Sx3.p2.12.m4.2.2.2.2.2.2.cmml" xref="Sx3.p2.12.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="Sx3.p2.12.m4.2.2.2.2.2.2.1.cmml" xref="Sx3.p2.12.m4.2.2.2.2.2.2">subscript</csymbol><ci id="Sx3.p2.12.m4.2.2.2.2.2.2.2.cmml" xref="Sx3.p2.12.m4.2.2.2.2.2.2.2">𝑌</ci><ci id="Sx3.p2.12.m4.2.2.2.2.2.2.3.cmml" xref="Sx3.p2.12.m4.2.2.2.2.2.2.3">𝑖</ci></apply></set><apply id="Sx3.p2.12.m4.2.2.2.4.cmml" xref="Sx3.p2.12.m4.2.2.2.4"><eq id="Sx3.p2.12.m4.2.2.2.4.1.cmml" xref="Sx3.p2.12.m4.2.2.2.4.1"></eq><ci id="Sx3.p2.12.m4.2.2.2.4.2.cmml" xref="Sx3.p2.12.m4.2.2.2.4.2">𝑖</ci><cn type="integer" id="Sx3.p2.12.m4.2.2.2.4.3.cmml" xref="Sx3.p2.12.m4.2.2.2.4.3">1</cn></apply></apply><ci id="Sx3.p2.12.m4.2.2.4.cmml" xref="Sx3.p2.12.m4.2.2.4">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.12.m4.2c">\{X_{i},Y_{i}\}_{i=1}^{N}</annotation></semantics></math>) at the <math id="Sx3.p2.13.m5.1" class="ltx_Math" alttext="1-\alpha" display="inline"><semantics id="Sx3.p2.13.m5.1a"><mrow id="Sx3.p2.13.m5.1.1" xref="Sx3.p2.13.m5.1.1.cmml"><mn id="Sx3.p2.13.m5.1.1.2" xref="Sx3.p2.13.m5.1.1.2.cmml">1</mn><mo id="Sx3.p2.13.m5.1.1.1" xref="Sx3.p2.13.m5.1.1.1.cmml">−</mo><mi id="Sx3.p2.13.m5.1.1.3" xref="Sx3.p2.13.m5.1.1.3.cmml">α</mi></mrow><annotation-xml encoding="MathML-Content" id="Sx3.p2.13.m5.1b"><apply id="Sx3.p2.13.m5.1.1.cmml" xref="Sx3.p2.13.m5.1.1"><minus id="Sx3.p2.13.m5.1.1.1.cmml" xref="Sx3.p2.13.m5.1.1.1"></minus><cn type="integer" id="Sx3.p2.13.m5.1.1.2.cmml" xref="Sx3.p2.13.m5.1.1.2">1</cn><ci id="Sx3.p2.13.m5.1.1.3.cmml" xref="Sx3.p2.13.m5.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.p2.13.m5.1c">1-\alpha</annotation></semantics></math> coverage level,</p>
<table id="Sx3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Sx3.E2.m1.2" class="ltx_Math" alttext="\hat{q}=\frac{\lceil(N+1)(1-\alpha)\rceil}{N}," display="block"><semantics id="Sx3.E2.m1.2a"><mrow id="Sx3.E2.m1.2.2.1" xref="Sx3.E2.m1.2.2.1.1.cmml"><mrow id="Sx3.E2.m1.2.2.1.1" xref="Sx3.E2.m1.2.2.1.1.cmml"><mover accent="true" id="Sx3.E2.m1.2.2.1.1.2" xref="Sx3.E2.m1.2.2.1.1.2.cmml"><mi id="Sx3.E2.m1.2.2.1.1.2.2" xref="Sx3.E2.m1.2.2.1.1.2.2.cmml">q</mi><mo id="Sx3.E2.m1.2.2.1.1.2.1" xref="Sx3.E2.m1.2.2.1.1.2.1.cmml">^</mo></mover><mo id="Sx3.E2.m1.2.2.1.1.1" xref="Sx3.E2.m1.2.2.1.1.1.cmml">=</mo><mfrac id="Sx3.E2.m1.1.1" xref="Sx3.E2.m1.1.1.cmml"><mrow id="Sx3.E2.m1.1.1.1.1" xref="Sx3.E2.m1.1.1.1.2.cmml"><mo stretchy="false" id="Sx3.E2.m1.1.1.1.1.2" xref="Sx3.E2.m1.1.1.1.2.1.cmml">⌈</mo><mrow id="Sx3.E2.m1.1.1.1.1.1" xref="Sx3.E2.m1.1.1.1.1.1.cmml"><mrow id="Sx3.E2.m1.1.1.1.1.1.1.1" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="Sx3.E2.m1.1.1.1.1.1.1.1.2" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="Sx3.E2.m1.1.1.1.1.1.1.1.1" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="Sx3.E2.m1.1.1.1.1.1.1.1.1.2" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.2.cmml">N</mi><mo id="Sx3.E2.m1.1.1.1.1.1.1.1.1.1" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mn id="Sx3.E2.m1.1.1.1.1.1.1.1.1.3" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="Sx3.E2.m1.1.1.1.1.1.1.1.3" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="Sx3.E2.m1.1.1.1.1.1.3" xref="Sx3.E2.m1.1.1.1.1.1.3.cmml">​</mo><mrow id="Sx3.E2.m1.1.1.1.1.1.2.1" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.cmml"><mo stretchy="false" id="Sx3.E2.m1.1.1.1.1.1.2.1.2" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.cmml">(</mo><mrow id="Sx3.E2.m1.1.1.1.1.1.2.1.1" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.cmml"><mn id="Sx3.E2.m1.1.1.1.1.1.2.1.1.2" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.2.cmml">1</mn><mo id="Sx3.E2.m1.1.1.1.1.1.2.1.1.1" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.1.cmml">−</mo><mi id="Sx3.E2.m1.1.1.1.1.1.2.1.1.3" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="Sx3.E2.m1.1.1.1.1.1.2.1.3" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="Sx3.E2.m1.1.1.1.1.3" xref="Sx3.E2.m1.1.1.1.2.1.cmml">⌉</mo></mrow><mi id="Sx3.E2.m1.1.1.3" xref="Sx3.E2.m1.1.1.3.cmml">N</mi></mfrac></mrow><mo id="Sx3.E2.m1.2.2.1.2" xref="Sx3.E2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E2.m1.2b"><apply id="Sx3.E2.m1.2.2.1.1.cmml" xref="Sx3.E2.m1.2.2.1"><eq id="Sx3.E2.m1.2.2.1.1.1.cmml" xref="Sx3.E2.m1.2.2.1.1.1"></eq><apply id="Sx3.E2.m1.2.2.1.1.2.cmml" xref="Sx3.E2.m1.2.2.1.1.2"><ci id="Sx3.E2.m1.2.2.1.1.2.1.cmml" xref="Sx3.E2.m1.2.2.1.1.2.1">^</ci><ci id="Sx3.E2.m1.2.2.1.1.2.2.cmml" xref="Sx3.E2.m1.2.2.1.1.2.2">𝑞</ci></apply><apply id="Sx3.E2.m1.1.1.cmml" xref="Sx3.E2.m1.1.1"><divide id="Sx3.E2.m1.1.1.2.cmml" xref="Sx3.E2.m1.1.1"></divide><apply id="Sx3.E2.m1.1.1.1.2.cmml" xref="Sx3.E2.m1.1.1.1.1"><ceiling id="Sx3.E2.m1.1.1.1.2.1.cmml" xref="Sx3.E2.m1.1.1.1.1.2"></ceiling><apply id="Sx3.E2.m1.1.1.1.1.1.cmml" xref="Sx3.E2.m1.1.1.1.1.1"><times id="Sx3.E2.m1.1.1.1.1.1.3.cmml" xref="Sx3.E2.m1.1.1.1.1.1.3"></times><apply id="Sx3.E2.m1.1.1.1.1.1.1.1.1.cmml" xref="Sx3.E2.m1.1.1.1.1.1.1.1"><plus id="Sx3.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.1"></plus><ci id="Sx3.E2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.2">𝑁</ci><cn type="integer" id="Sx3.E2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="Sx3.E2.m1.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="Sx3.E2.m1.1.1.1.1.1.2.1.1.cmml" xref="Sx3.E2.m1.1.1.1.1.1.2.1"><minus id="Sx3.E2.m1.1.1.1.1.1.2.1.1.1.cmml" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.1"></minus><cn type="integer" id="Sx3.E2.m1.1.1.1.1.1.2.1.1.2.cmml" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.2">1</cn><ci id="Sx3.E2.m1.1.1.1.1.1.2.1.1.3.cmml" xref="Sx3.E2.m1.1.1.1.1.1.2.1.1.3">𝛼</ci></apply></apply></apply><ci id="Sx3.E2.m1.1.1.3.cmml" xref="Sx3.E2.m1.1.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E2.m1.2c">\hat{q}=\frac{\lceil(N+1)(1-\alpha)\rceil}{N},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="Sx3.p2.14" class="ltx_p">required to guarantee marginal coverage with a small finite sample correction,  <cite class="ltx_cite ltx_citemacro_citep">(Angelopoulos et al. <a href="#bib.bib1" title="" class="ltx_ref">2020</a>)</cite>.
If the data is drawn from an identical and exchangeable distribution (a weaker form of IID), then marginal coverage can be defined as satisfying the following property:</p>
<table id="Sx3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Sx3.E3.m1.2" class="ltx_Math" alttext="1-\alpha\;\leq\;P(Y\;\in\;C(X))" display="block"><semantics id="Sx3.E3.m1.2a"><mrow id="Sx3.E3.m1.2.2" xref="Sx3.E3.m1.2.2.cmml"><mrow id="Sx3.E3.m1.2.2.3" xref="Sx3.E3.m1.2.2.3.cmml"><mn id="Sx3.E3.m1.2.2.3.2" xref="Sx3.E3.m1.2.2.3.2.cmml">1</mn><mo id="Sx3.E3.m1.2.2.3.1" xref="Sx3.E3.m1.2.2.3.1.cmml">−</mo><mi id="Sx3.E3.m1.2.2.3.3" xref="Sx3.E3.m1.2.2.3.3.cmml">α</mi></mrow><mo lspace="0.558em" rspace="0.558em" id="Sx3.E3.m1.2.2.2" xref="Sx3.E3.m1.2.2.2.cmml">≤</mo><mrow id="Sx3.E3.m1.2.2.1" xref="Sx3.E3.m1.2.2.1.cmml"><mi id="Sx3.E3.m1.2.2.1.3" xref="Sx3.E3.m1.2.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="Sx3.E3.m1.2.2.1.2" xref="Sx3.E3.m1.2.2.1.2.cmml">​</mo><mrow id="Sx3.E3.m1.2.2.1.1.1" xref="Sx3.E3.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="Sx3.E3.m1.2.2.1.1.1.2" xref="Sx3.E3.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="Sx3.E3.m1.2.2.1.1.1.1" xref="Sx3.E3.m1.2.2.1.1.1.1.cmml"><mi id="Sx3.E3.m1.2.2.1.1.1.1.2" xref="Sx3.E3.m1.2.2.1.1.1.1.2.cmml">Y</mi><mo lspace="0.558em" rspace="0.558em" id="Sx3.E3.m1.2.2.1.1.1.1.1" xref="Sx3.E3.m1.2.2.1.1.1.1.1.cmml">∈</mo><mrow id="Sx3.E3.m1.2.2.1.1.1.1.3" xref="Sx3.E3.m1.2.2.1.1.1.1.3.cmml"><mi id="Sx3.E3.m1.2.2.1.1.1.1.3.2" xref="Sx3.E3.m1.2.2.1.1.1.1.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="Sx3.E3.m1.2.2.1.1.1.1.3.1" xref="Sx3.E3.m1.2.2.1.1.1.1.3.1.cmml">​</mo><mrow id="Sx3.E3.m1.2.2.1.1.1.1.3.3.2" xref="Sx3.E3.m1.2.2.1.1.1.1.3.cmml"><mo stretchy="false" id="Sx3.E3.m1.2.2.1.1.1.1.3.3.2.1" xref="Sx3.E3.m1.2.2.1.1.1.1.3.cmml">(</mo><mi id="Sx3.E3.m1.1.1" xref="Sx3.E3.m1.1.1.cmml">X</mi><mo stretchy="false" id="Sx3.E3.m1.2.2.1.1.1.1.3.3.2.2" xref="Sx3.E3.m1.2.2.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="Sx3.E3.m1.2.2.1.1.1.3" xref="Sx3.E3.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E3.m1.2b"><apply id="Sx3.E3.m1.2.2.cmml" xref="Sx3.E3.m1.2.2"><leq id="Sx3.E3.m1.2.2.2.cmml" xref="Sx3.E3.m1.2.2.2"></leq><apply id="Sx3.E3.m1.2.2.3.cmml" xref="Sx3.E3.m1.2.2.3"><minus id="Sx3.E3.m1.2.2.3.1.cmml" xref="Sx3.E3.m1.2.2.3.1"></minus><cn type="integer" id="Sx3.E3.m1.2.2.3.2.cmml" xref="Sx3.E3.m1.2.2.3.2">1</cn><ci id="Sx3.E3.m1.2.2.3.3.cmml" xref="Sx3.E3.m1.2.2.3.3">𝛼</ci></apply><apply id="Sx3.E3.m1.2.2.1.cmml" xref="Sx3.E3.m1.2.2.1"><times id="Sx3.E3.m1.2.2.1.2.cmml" xref="Sx3.E3.m1.2.2.1.2"></times><ci id="Sx3.E3.m1.2.2.1.3.cmml" xref="Sx3.E3.m1.2.2.1.3">𝑃</ci><apply id="Sx3.E3.m1.2.2.1.1.1.1.cmml" xref="Sx3.E3.m1.2.2.1.1.1"><in id="Sx3.E3.m1.2.2.1.1.1.1.1.cmml" xref="Sx3.E3.m1.2.2.1.1.1.1.1"></in><ci id="Sx3.E3.m1.2.2.1.1.1.1.2.cmml" xref="Sx3.E3.m1.2.2.1.1.1.1.2">𝑌</ci><apply id="Sx3.E3.m1.2.2.1.1.1.1.3.cmml" xref="Sx3.E3.m1.2.2.1.1.1.1.3"><times id="Sx3.E3.m1.2.2.1.1.1.1.3.1.cmml" xref="Sx3.E3.m1.2.2.1.1.1.1.3.1"></times><ci id="Sx3.E3.m1.2.2.1.1.1.1.3.2.cmml" xref="Sx3.E3.m1.2.2.1.1.1.1.3.2">𝐶</ci><ci id="Sx3.E3.m1.1.1.cmml" xref="Sx3.E3.m1.1.1">𝑋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E3.m1.2c">1-\alpha\;\leq\;P(Y\;\in\;C(X))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="Sx3.p2.15" class="ltx_p">This bound can be made near-tight through an appeal to symmetry (again assuming exchangeable random variables), which appears in several previous works <cite class="ltx_cite ltx_citemacro_citep">(Papadopoulos et al. <a href="#bib.bib18" title="" class="ltx_ref">2002</a>; Vovk, Gammerman, and Shafer <a href="#bib.bib25" title="" class="ltx_ref">2005</a>; Lei et al. <a href="#bib.bib13" title="" class="ltx_ref">2017</a>; Romano, Sesia, and Candès <a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>.</p>
<table id="Sx3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Sx3.E4.m1.2" class="ltx_Math" alttext="1-\alpha\;\leq\;P(Y\;\in\;C(X))\;\leq\;1-\alpha+\frac{1}{M+N+1}" display="block"><semantics id="Sx3.E4.m1.2a"><mrow id="Sx3.E4.m1.2.2" xref="Sx3.E4.m1.2.2.cmml"><mrow id="Sx3.E4.m1.2.2.3" xref="Sx3.E4.m1.2.2.3.cmml"><mn id="Sx3.E4.m1.2.2.3.2" xref="Sx3.E4.m1.2.2.3.2.cmml">1</mn><mo id="Sx3.E4.m1.2.2.3.1" xref="Sx3.E4.m1.2.2.3.1.cmml">−</mo><mi id="Sx3.E4.m1.2.2.3.3" xref="Sx3.E4.m1.2.2.3.3.cmml">α</mi></mrow><mo lspace="0.558em" rspace="0.558em" id="Sx3.E4.m1.2.2.4" xref="Sx3.E4.m1.2.2.4.cmml">≤</mo><mrow id="Sx3.E4.m1.2.2.1" xref="Sx3.E4.m1.2.2.1.cmml"><mi id="Sx3.E4.m1.2.2.1.3" xref="Sx3.E4.m1.2.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="Sx3.E4.m1.2.2.1.2" xref="Sx3.E4.m1.2.2.1.2.cmml">​</mo><mrow id="Sx3.E4.m1.2.2.1.1.1" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="Sx3.E4.m1.2.2.1.1.1.2" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="Sx3.E4.m1.2.2.1.1.1.1" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.2" xref="Sx3.E4.m1.2.2.1.1.1.1.2.cmml">Y</mi><mo lspace="0.558em" rspace="0.558em" id="Sx3.E4.m1.2.2.1.1.1.1.1" xref="Sx3.E4.m1.2.2.1.1.1.1.1.cmml">∈</mo><mrow id="Sx3.E4.m1.2.2.1.1.1.1.3" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.3.2" xref="Sx3.E4.m1.2.2.1.1.1.1.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="Sx3.E4.m1.2.2.1.1.1.1.3.1" xref="Sx3.E4.m1.2.2.1.1.1.1.3.1.cmml">​</mo><mrow id="Sx3.E4.m1.2.2.1.1.1.1.3.3.2" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml"><mo stretchy="false" id="Sx3.E4.m1.2.2.1.1.1.1.3.3.2.1" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">(</mo><mi id="Sx3.E4.m1.1.1" xref="Sx3.E4.m1.1.1.cmml">X</mi><mo stretchy="false" id="Sx3.E4.m1.2.2.1.1.1.1.3.3.2.2" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.280em" stretchy="false" id="Sx3.E4.m1.2.2.1.1.1.3" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="Sx3.E4.m1.2.2.5" xref="Sx3.E4.m1.2.2.5.cmml">≤</mo><mrow id="Sx3.E4.m1.2.2.6" xref="Sx3.E4.m1.2.2.6.cmml"><mrow id="Sx3.E4.m1.2.2.6.2" xref="Sx3.E4.m1.2.2.6.2.cmml"><mn id="Sx3.E4.m1.2.2.6.2.2" xref="Sx3.E4.m1.2.2.6.2.2.cmml"> 1</mn><mo id="Sx3.E4.m1.2.2.6.2.1" xref="Sx3.E4.m1.2.2.6.2.1.cmml">−</mo><mi id="Sx3.E4.m1.2.2.6.2.3" xref="Sx3.E4.m1.2.2.6.2.3.cmml">α</mi></mrow><mo id="Sx3.E4.m1.2.2.6.1" xref="Sx3.E4.m1.2.2.6.1.cmml">+</mo><mfrac id="Sx3.E4.m1.2.2.6.3" xref="Sx3.E4.m1.2.2.6.3.cmml"><mn id="Sx3.E4.m1.2.2.6.3.2" xref="Sx3.E4.m1.2.2.6.3.2.cmml">1</mn><mrow id="Sx3.E4.m1.2.2.6.3.3" xref="Sx3.E4.m1.2.2.6.3.3.cmml"><mi id="Sx3.E4.m1.2.2.6.3.3.2" xref="Sx3.E4.m1.2.2.6.3.3.2.cmml">M</mi><mo id="Sx3.E4.m1.2.2.6.3.3.1" xref="Sx3.E4.m1.2.2.6.3.3.1.cmml">+</mo><mi id="Sx3.E4.m1.2.2.6.3.3.3" xref="Sx3.E4.m1.2.2.6.3.3.3.cmml">N</mi><mo id="Sx3.E4.m1.2.2.6.3.3.1a" xref="Sx3.E4.m1.2.2.6.3.3.1.cmml">+</mo><mn id="Sx3.E4.m1.2.2.6.3.3.4" xref="Sx3.E4.m1.2.2.6.3.3.4.cmml">1</mn></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E4.m1.2b"><apply id="Sx3.E4.m1.2.2.cmml" xref="Sx3.E4.m1.2.2"><and id="Sx3.E4.m1.2.2a.cmml" xref="Sx3.E4.m1.2.2"></and><apply id="Sx3.E4.m1.2.2b.cmml" xref="Sx3.E4.m1.2.2"><leq id="Sx3.E4.m1.2.2.4.cmml" xref="Sx3.E4.m1.2.2.4"></leq><apply id="Sx3.E4.m1.2.2.3.cmml" xref="Sx3.E4.m1.2.2.3"><minus id="Sx3.E4.m1.2.2.3.1.cmml" xref="Sx3.E4.m1.2.2.3.1"></minus><cn type="integer" id="Sx3.E4.m1.2.2.3.2.cmml" xref="Sx3.E4.m1.2.2.3.2">1</cn><ci id="Sx3.E4.m1.2.2.3.3.cmml" xref="Sx3.E4.m1.2.2.3.3">𝛼</ci></apply><apply id="Sx3.E4.m1.2.2.1.cmml" xref="Sx3.E4.m1.2.2.1"><times id="Sx3.E4.m1.2.2.1.2.cmml" xref="Sx3.E4.m1.2.2.1.2"></times><ci id="Sx3.E4.m1.2.2.1.3.cmml" xref="Sx3.E4.m1.2.2.1.3">𝑃</ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1"><in id="Sx3.E4.m1.2.2.1.1.1.1.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.1"></in><ci id="Sx3.E4.m1.2.2.1.1.1.1.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2">𝑌</ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.3"><times id="Sx3.E4.m1.2.2.1.1.1.1.3.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.3.1"></times><ci id="Sx3.E4.m1.2.2.1.1.1.1.3.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.3.2">𝐶</ci><ci id="Sx3.E4.m1.1.1.cmml" xref="Sx3.E4.m1.1.1">𝑋</ci></apply></apply></apply></apply><apply id="Sx3.E4.m1.2.2c.cmml" xref="Sx3.E4.m1.2.2"><leq id="Sx3.E4.m1.2.2.5.cmml" xref="Sx3.E4.m1.2.2.5"></leq><share href="#Sx3.E4.m1.2.2.1.cmml" id="Sx3.E4.m1.2.2d.cmml" xref="Sx3.E4.m1.2.2"></share><apply id="Sx3.E4.m1.2.2.6.cmml" xref="Sx3.E4.m1.2.2.6"><plus id="Sx3.E4.m1.2.2.6.1.cmml" xref="Sx3.E4.m1.2.2.6.1"></plus><apply id="Sx3.E4.m1.2.2.6.2.cmml" xref="Sx3.E4.m1.2.2.6.2"><minus id="Sx3.E4.m1.2.2.6.2.1.cmml" xref="Sx3.E4.m1.2.2.6.2.1"></minus><cn type="integer" id="Sx3.E4.m1.2.2.6.2.2.cmml" xref="Sx3.E4.m1.2.2.6.2.2">1</cn><ci id="Sx3.E4.m1.2.2.6.2.3.cmml" xref="Sx3.E4.m1.2.2.6.2.3">𝛼</ci></apply><apply id="Sx3.E4.m1.2.2.6.3.cmml" xref="Sx3.E4.m1.2.2.6.3"><divide id="Sx3.E4.m1.2.2.6.3.1.cmml" xref="Sx3.E4.m1.2.2.6.3"></divide><cn type="integer" id="Sx3.E4.m1.2.2.6.3.2.cmml" xref="Sx3.E4.m1.2.2.6.3.2">1</cn><apply id="Sx3.E4.m1.2.2.6.3.3.cmml" xref="Sx3.E4.m1.2.2.6.3.3"><plus id="Sx3.E4.m1.2.2.6.3.3.1.cmml" xref="Sx3.E4.m1.2.2.6.3.3.1"></plus><ci id="Sx3.E4.m1.2.2.6.3.3.2.cmml" xref="Sx3.E4.m1.2.2.6.3.3.2">𝑀</ci><ci id="Sx3.E4.m1.2.2.6.3.3.3.cmml" xref="Sx3.E4.m1.2.2.6.3.3.3">𝑁</ci><cn type="integer" id="Sx3.E4.m1.2.2.6.3.3.4.cmml" xref="Sx3.E4.m1.2.2.6.3.3.4">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E4.m1.2c">1-\alpha\;\leq\;P(Y\;\in\;C(X))\;\leq\;1-\alpha+\frac{1}{M+N+1}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.10.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated conformal prediction sets</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.8" class="ltx_p ltx_figure_panel"><span id="alg1.8.1" class="ltx_text ltx_font_bold">Input</span>: 
<br class="ltx_break">Federated model <math id="alg1.1.m1.1" class="ltx_Math" alttext="S:X\times Y\rightarrow\mathbb{R}^{Y}" display="inline"><semantics id="alg1.1.m1.1a"><mrow id="alg1.1.m1.1.1" xref="alg1.1.m1.1.1.cmml"><mi id="alg1.1.m1.1.1.2" xref="alg1.1.m1.1.1.2.cmml">S</mi><mo lspace="0.278em" rspace="0.278em" id="alg1.1.m1.1.1.1" xref="alg1.1.m1.1.1.1.cmml">:</mo><mrow id="alg1.1.m1.1.1.3" xref="alg1.1.m1.1.1.3.cmml"><mrow id="alg1.1.m1.1.1.3.2" xref="alg1.1.m1.1.1.3.2.cmml"><mi id="alg1.1.m1.1.1.3.2.2" xref="alg1.1.m1.1.1.3.2.2.cmml">X</mi><mo lspace="0.222em" rspace="0.222em" id="alg1.1.m1.1.1.3.2.1" xref="alg1.1.m1.1.1.3.2.1.cmml">×</mo><mi id="alg1.1.m1.1.1.3.2.3" xref="alg1.1.m1.1.1.3.2.3.cmml">Y</mi></mrow><mo stretchy="false" id="alg1.1.m1.1.1.3.1" xref="alg1.1.m1.1.1.3.1.cmml">→</mo><msup id="alg1.1.m1.1.1.3.3" xref="alg1.1.m1.1.1.3.3.cmml"><mi id="alg1.1.m1.1.1.3.3.2" xref="alg1.1.m1.1.1.3.3.2.cmml">ℝ</mi><mi id="alg1.1.m1.1.1.3.3.3" xref="alg1.1.m1.1.1.3.3.3.cmml">Y</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.1.m1.1b"><apply id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1"><ci id="alg1.1.m1.1.1.1.cmml" xref="alg1.1.m1.1.1.1">:</ci><ci id="alg1.1.m1.1.1.2.cmml" xref="alg1.1.m1.1.1.2">𝑆</ci><apply id="alg1.1.m1.1.1.3.cmml" xref="alg1.1.m1.1.1.3"><ci id="alg1.1.m1.1.1.3.1.cmml" xref="alg1.1.m1.1.1.3.1">→</ci><apply id="alg1.1.m1.1.1.3.2.cmml" xref="alg1.1.m1.1.1.3.2"><times id="alg1.1.m1.1.1.3.2.1.cmml" xref="alg1.1.m1.1.1.3.2.1"></times><ci id="alg1.1.m1.1.1.3.2.2.cmml" xref="alg1.1.m1.1.1.3.2.2">𝑋</ci><ci id="alg1.1.m1.1.1.3.2.3.cmml" xref="alg1.1.m1.1.1.3.2.3">𝑌</ci></apply><apply id="alg1.1.m1.1.1.3.3.cmml" xref="alg1.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.1.m1.1.1.3.3.1.cmml" xref="alg1.1.m1.1.1.3.3">superscript</csymbol><ci id="alg1.1.m1.1.1.3.3.2.cmml" xref="alg1.1.m1.1.1.3.3.2">ℝ</ci><ci id="alg1.1.m1.1.1.3.3.3.cmml" xref="alg1.1.m1.1.1.3.3.3">𝑌</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.1c">S:X\times Y\rightarrow\mathbb{R}^{Y}</annotation></semantics></math>, 
<br class="ltx_break"><math id="alg1.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.2.m2.1a"><mi id="alg1.2.m2.1.1" xref="alg1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.2.m2.1b"><ci id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.1c">K</annotation></semantics></math> validation sets <math id="alg1.3.m3.3" class="ltx_Math" alttext="\{(X,Y)\}_{n=1}^{N}" display="inline"><semantics id="alg1.3.m3.3a"><msubsup id="alg1.3.m3.3.3" xref="alg1.3.m3.3.3.cmml"><mrow id="alg1.3.m3.3.3.1.1.1" xref="alg1.3.m3.3.3.1.1.2.cmml"><mo stretchy="false" id="alg1.3.m3.3.3.1.1.1.2" xref="alg1.3.m3.3.3.1.1.2.cmml">{</mo><mrow id="alg1.3.m3.3.3.1.1.1.1.2" xref="alg1.3.m3.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.3.m3.3.3.1.1.1.1.2.1" xref="alg1.3.m3.3.3.1.1.1.1.1.cmml">(</mo><mi id="alg1.3.m3.1.1" xref="alg1.3.m3.1.1.cmml">X</mi><mo id="alg1.3.m3.3.3.1.1.1.1.2.2" xref="alg1.3.m3.3.3.1.1.1.1.1.cmml">,</mo><mi id="alg1.3.m3.2.2" xref="alg1.3.m3.2.2.cmml">Y</mi><mo stretchy="false" id="alg1.3.m3.3.3.1.1.1.1.2.3" xref="alg1.3.m3.3.3.1.1.1.1.1.cmml">)</mo></mrow><mo stretchy="false" id="alg1.3.m3.3.3.1.1.1.3" xref="alg1.3.m3.3.3.1.1.2.cmml">}</mo></mrow><mrow id="alg1.3.m3.3.3.1.3" xref="alg1.3.m3.3.3.1.3.cmml"><mi id="alg1.3.m3.3.3.1.3.2" xref="alg1.3.m3.3.3.1.3.2.cmml">n</mi><mo id="alg1.3.m3.3.3.1.3.1" xref="alg1.3.m3.3.3.1.3.1.cmml">=</mo><mn id="alg1.3.m3.3.3.1.3.3" xref="alg1.3.m3.3.3.1.3.3.cmml">1</mn></mrow><mi id="alg1.3.m3.3.3.3" xref="alg1.3.m3.3.3.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.3.m3.3b"><apply id="alg1.3.m3.3.3.cmml" xref="alg1.3.m3.3.3"><csymbol cd="ambiguous" id="alg1.3.m3.3.3.2.cmml" xref="alg1.3.m3.3.3">superscript</csymbol><apply id="alg1.3.m3.3.3.1.cmml" xref="alg1.3.m3.3.3"><csymbol cd="ambiguous" id="alg1.3.m3.3.3.1.2.cmml" xref="alg1.3.m3.3.3">subscript</csymbol><set id="alg1.3.m3.3.3.1.1.2.cmml" xref="alg1.3.m3.3.3.1.1.1"><interval closure="open" id="alg1.3.m3.3.3.1.1.1.1.1.cmml" xref="alg1.3.m3.3.3.1.1.1.1.2"><ci id="alg1.3.m3.1.1.cmml" xref="alg1.3.m3.1.1">𝑋</ci><ci id="alg1.3.m3.2.2.cmml" xref="alg1.3.m3.2.2">𝑌</ci></interval></set><apply id="alg1.3.m3.3.3.1.3.cmml" xref="alg1.3.m3.3.3.1.3"><eq id="alg1.3.m3.3.3.1.3.1.cmml" xref="alg1.3.m3.3.3.1.3.1"></eq><ci id="alg1.3.m3.3.3.1.3.2.cmml" xref="alg1.3.m3.3.3.1.3.2">𝑛</ci><cn type="integer" id="alg1.3.m3.3.3.1.3.3.cmml" xref="alg1.3.m3.3.3.1.3.3">1</cn></apply></apply><ci id="alg1.3.m3.3.3.3.cmml" xref="alg1.3.m3.3.3.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.m3.3c">\{(X,Y)\}_{n=1}^{N}</annotation></semantics></math>, 
<br class="ltx_break">Test example <math id="alg1.4.m4.1" class="ltx_Math" alttext="X_{m}" display="inline"><semantics id="alg1.4.m4.1a"><msub id="alg1.4.m4.1.1" xref="alg1.4.m4.1.1.cmml"><mi id="alg1.4.m4.1.1.2" xref="alg1.4.m4.1.1.2.cmml">X</mi><mi id="alg1.4.m4.1.1.3" xref="alg1.4.m4.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.4.m4.1b"><apply id="alg1.4.m4.1.1.cmml" xref="alg1.4.m4.1.1"><csymbol cd="ambiguous" id="alg1.4.m4.1.1.1.cmml" xref="alg1.4.m4.1.1">subscript</csymbol><ci id="alg1.4.m4.1.1.2.cmml" xref="alg1.4.m4.1.1.2">𝑋</ci><ci id="alg1.4.m4.1.1.3.cmml" xref="alg1.4.m4.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m4.1c">X_{m}</annotation></semantics></math>, 
<br class="ltx_break">Confidence level <math id="alg1.5.m5.2" class="ltx_Math" alttext="1-\alpha\in(0,1)" display="inline"><semantics id="alg1.5.m5.2a"><mrow id="alg1.5.m5.2.3" xref="alg1.5.m5.2.3.cmml"><mrow id="alg1.5.m5.2.3.2" xref="alg1.5.m5.2.3.2.cmml"><mn id="alg1.5.m5.2.3.2.2" xref="alg1.5.m5.2.3.2.2.cmml">1</mn><mo id="alg1.5.m5.2.3.2.1" xref="alg1.5.m5.2.3.2.1.cmml">−</mo><mi id="alg1.5.m5.2.3.2.3" xref="alg1.5.m5.2.3.2.3.cmml">α</mi></mrow><mo id="alg1.5.m5.2.3.1" xref="alg1.5.m5.2.3.1.cmml">∈</mo><mrow id="alg1.5.m5.2.3.3.2" xref="alg1.5.m5.2.3.3.1.cmml"><mo stretchy="false" id="alg1.5.m5.2.3.3.2.1" xref="alg1.5.m5.2.3.3.1.cmml">(</mo><mn id="alg1.5.m5.1.1" xref="alg1.5.m5.1.1.cmml">0</mn><mo id="alg1.5.m5.2.3.3.2.2" xref="alg1.5.m5.2.3.3.1.cmml">,</mo><mn id="alg1.5.m5.2.2" xref="alg1.5.m5.2.2.cmml">1</mn><mo stretchy="false" id="alg1.5.m5.2.3.3.2.3" xref="alg1.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.5.m5.2b"><apply id="alg1.5.m5.2.3.cmml" xref="alg1.5.m5.2.3"><in id="alg1.5.m5.2.3.1.cmml" xref="alg1.5.m5.2.3.1"></in><apply id="alg1.5.m5.2.3.2.cmml" xref="alg1.5.m5.2.3.2"><minus id="alg1.5.m5.2.3.2.1.cmml" xref="alg1.5.m5.2.3.2.1"></minus><cn type="integer" id="alg1.5.m5.2.3.2.2.cmml" xref="alg1.5.m5.2.3.2.2">1</cn><ci id="alg1.5.m5.2.3.2.3.cmml" xref="alg1.5.m5.2.3.2.3">𝛼</ci></apply><interval closure="open" id="alg1.5.m5.2.3.3.1.cmml" xref="alg1.5.m5.2.3.3.2"><cn type="integer" id="alg1.5.m5.1.1.cmml" xref="alg1.5.m5.1.1">0</cn><cn type="integer" id="alg1.5.m5.2.2.cmml" xref="alg1.5.m5.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m5.2c">1-\alpha\in(0,1)</annotation></semantics></math>, 
<br class="ltx_break">Quantile function <math id="alg1.6.m6.3" class="ltx_Math" alttext="Q:\{\mathbb{R}\}_{i=1}^{N}\times[0,1]\rightarrow\mathbb{R}" display="inline"><semantics id="alg1.6.m6.3a"><mrow id="alg1.6.m6.3.4" xref="alg1.6.m6.3.4.cmml"><mi id="alg1.6.m6.3.4.2" xref="alg1.6.m6.3.4.2.cmml">Q</mi><mo lspace="0.278em" rspace="0.278em" id="alg1.6.m6.3.4.1" xref="alg1.6.m6.3.4.1.cmml">:</mo><mrow id="alg1.6.m6.3.4.3" xref="alg1.6.m6.3.4.3.cmml"><mrow id="alg1.6.m6.3.4.3.2" xref="alg1.6.m6.3.4.3.2.cmml"><msubsup id="alg1.6.m6.3.4.3.2.2" xref="alg1.6.m6.3.4.3.2.2.cmml"><mrow id="alg1.6.m6.3.4.3.2.2.2.2.2" xref="alg1.6.m6.3.4.3.2.2.2.2.1.cmml"><mo stretchy="false" id="alg1.6.m6.3.4.3.2.2.2.2.2.1" xref="alg1.6.m6.3.4.3.2.2.2.2.1.cmml">{</mo><mi id="alg1.6.m6.1.1" xref="alg1.6.m6.1.1.cmml">ℝ</mi><mo rspace="0.055em" stretchy="false" id="alg1.6.m6.3.4.3.2.2.2.2.2.2" xref="alg1.6.m6.3.4.3.2.2.2.2.1.cmml">}</mo></mrow><mrow id="alg1.6.m6.3.4.3.2.2.2.3" xref="alg1.6.m6.3.4.3.2.2.2.3.cmml"><mi id="alg1.6.m6.3.4.3.2.2.2.3.2" xref="alg1.6.m6.3.4.3.2.2.2.3.2.cmml">i</mi><mo id="alg1.6.m6.3.4.3.2.2.2.3.1" xref="alg1.6.m6.3.4.3.2.2.2.3.1.cmml">=</mo><mn id="alg1.6.m6.3.4.3.2.2.2.3.3" xref="alg1.6.m6.3.4.3.2.2.2.3.3.cmml">1</mn></mrow><mi id="alg1.6.m6.3.4.3.2.2.3" xref="alg1.6.m6.3.4.3.2.2.3.cmml">N</mi></msubsup><mo rspace="0.222em" id="alg1.6.m6.3.4.3.2.1" xref="alg1.6.m6.3.4.3.2.1.cmml">×</mo><mrow id="alg1.6.m6.3.4.3.2.3.2" xref="alg1.6.m6.3.4.3.2.3.1.cmml"><mo stretchy="false" id="alg1.6.m6.3.4.3.2.3.2.1" xref="alg1.6.m6.3.4.3.2.3.1.cmml">[</mo><mn id="alg1.6.m6.2.2" xref="alg1.6.m6.2.2.cmml">0</mn><mo id="alg1.6.m6.3.4.3.2.3.2.2" xref="alg1.6.m6.3.4.3.2.3.1.cmml">,</mo><mn id="alg1.6.m6.3.3" xref="alg1.6.m6.3.3.cmml">1</mn><mo stretchy="false" id="alg1.6.m6.3.4.3.2.3.2.3" xref="alg1.6.m6.3.4.3.2.3.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg1.6.m6.3.4.3.1" xref="alg1.6.m6.3.4.3.1.cmml">→</mo><mi id="alg1.6.m6.3.4.3.3" xref="alg1.6.m6.3.4.3.3.cmml">ℝ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.6.m6.3b"><apply id="alg1.6.m6.3.4.cmml" xref="alg1.6.m6.3.4"><ci id="alg1.6.m6.3.4.1.cmml" xref="alg1.6.m6.3.4.1">:</ci><ci id="alg1.6.m6.3.4.2.cmml" xref="alg1.6.m6.3.4.2">𝑄</ci><apply id="alg1.6.m6.3.4.3.cmml" xref="alg1.6.m6.3.4.3"><ci id="alg1.6.m6.3.4.3.1.cmml" xref="alg1.6.m6.3.4.3.1">→</ci><apply id="alg1.6.m6.3.4.3.2.cmml" xref="alg1.6.m6.3.4.3.2"><times id="alg1.6.m6.3.4.3.2.1.cmml" xref="alg1.6.m6.3.4.3.2.1"></times><apply id="alg1.6.m6.3.4.3.2.2.cmml" xref="alg1.6.m6.3.4.3.2.2"><csymbol cd="ambiguous" id="alg1.6.m6.3.4.3.2.2.1.cmml" xref="alg1.6.m6.3.4.3.2.2">superscript</csymbol><apply id="alg1.6.m6.3.4.3.2.2.2.cmml" xref="alg1.6.m6.3.4.3.2.2"><csymbol cd="ambiguous" id="alg1.6.m6.3.4.3.2.2.2.1.cmml" xref="alg1.6.m6.3.4.3.2.2">subscript</csymbol><set id="alg1.6.m6.3.4.3.2.2.2.2.1.cmml" xref="alg1.6.m6.3.4.3.2.2.2.2.2"><ci id="alg1.6.m6.1.1.cmml" xref="alg1.6.m6.1.1">ℝ</ci></set><apply id="alg1.6.m6.3.4.3.2.2.2.3.cmml" xref="alg1.6.m6.3.4.3.2.2.2.3"><eq id="alg1.6.m6.3.4.3.2.2.2.3.1.cmml" xref="alg1.6.m6.3.4.3.2.2.2.3.1"></eq><ci id="alg1.6.m6.3.4.3.2.2.2.3.2.cmml" xref="alg1.6.m6.3.4.3.2.2.2.3.2">𝑖</ci><cn type="integer" id="alg1.6.m6.3.4.3.2.2.2.3.3.cmml" xref="alg1.6.m6.3.4.3.2.2.2.3.3">1</cn></apply></apply><ci id="alg1.6.m6.3.4.3.2.2.3.cmml" xref="alg1.6.m6.3.4.3.2.2.3">𝑁</ci></apply><interval closure="closed" id="alg1.6.m6.3.4.3.2.3.1.cmml" xref="alg1.6.m6.3.4.3.2.3.2"><cn type="integer" id="alg1.6.m6.2.2.cmml" xref="alg1.6.m6.2.2">0</cn><cn type="integer" id="alg1.6.m6.3.3.cmml" xref="alg1.6.m6.3.3">1</cn></interval></apply><ci id="alg1.6.m6.3.4.3.3.cmml" xref="alg1.6.m6.3.4.3.3">ℝ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m6.3c">Q:\{\mathbb{R}\}_{i=1}^{N}\times[0,1]\rightarrow\mathbb{R}</annotation></semantics></math>
<br class="ltx_break">Sorting function <math id="alg1.7.m7.1" class="ltx_Math" alttext="\pi:\mathcal{S}\rightarrow\mathcal{S}" display="inline"><semantics id="alg1.7.m7.1a"><mrow id="alg1.7.m7.1.1" xref="alg1.7.m7.1.1.cmml"><mi id="alg1.7.m7.1.1.2" xref="alg1.7.m7.1.1.2.cmml">π</mi><mo lspace="0.278em" rspace="0.278em" id="alg1.7.m7.1.1.1" xref="alg1.7.m7.1.1.1.cmml">:</mo><mrow id="alg1.7.m7.1.1.3" xref="alg1.7.m7.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.7.m7.1.1.3.2" xref="alg1.7.m7.1.1.3.2.cmml">𝒮</mi><mo stretchy="false" id="alg1.7.m7.1.1.3.1" xref="alg1.7.m7.1.1.3.1.cmml">→</mo><mi class="ltx_font_mathcaligraphic" id="alg1.7.m7.1.1.3.3" xref="alg1.7.m7.1.1.3.3.cmml">𝒮</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.m7.1b"><apply id="alg1.7.m7.1.1.cmml" xref="alg1.7.m7.1.1"><ci id="alg1.7.m7.1.1.1.cmml" xref="alg1.7.m7.1.1.1">:</ci><ci id="alg1.7.m7.1.1.2.cmml" xref="alg1.7.m7.1.1.2">𝜋</ci><apply id="alg1.7.m7.1.1.3.cmml" xref="alg1.7.m7.1.1.3"><ci id="alg1.7.m7.1.1.3.1.cmml" xref="alg1.7.m7.1.1.3.1">→</ci><ci id="alg1.7.m7.1.1.3.2.cmml" xref="alg1.7.m7.1.1.3.2">𝒮</ci><ci id="alg1.7.m7.1.1.3.3.cmml" xref="alg1.7.m7.1.1.3.3">𝒮</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m7.1c">\pi:\mathcal{S}\rightarrow\mathcal{S}</annotation></semantics></math>
<br class="ltx_break"><span id="alg1.8.2" class="ltx_text ltx_font_bold">Output</span>: A confidence prediction set <math id="alg1.8.m8.1" class="ltx_Math" alttext="C(X_{m})" display="inline"><semantics id="alg1.8.m8.1a"><mrow id="alg1.8.m8.1.1" xref="alg1.8.m8.1.1.cmml"><mi id="alg1.8.m8.1.1.3" xref="alg1.8.m8.1.1.3.cmml">C</mi><mo lspace="0em" rspace="0em" id="alg1.8.m8.1.1.2" xref="alg1.8.m8.1.1.2.cmml">​</mo><mrow id="alg1.8.m8.1.1.1.1" xref="alg1.8.m8.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.8.m8.1.1.1.1.2" xref="alg1.8.m8.1.1.1.1.1.cmml">(</mo><msub id="alg1.8.m8.1.1.1.1.1" xref="alg1.8.m8.1.1.1.1.1.cmml"><mi id="alg1.8.m8.1.1.1.1.1.2" xref="alg1.8.m8.1.1.1.1.1.2.cmml">X</mi><mi id="alg1.8.m8.1.1.1.1.1.3" xref="alg1.8.m8.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="alg1.8.m8.1.1.1.1.3" xref="alg1.8.m8.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.8.m8.1b"><apply id="alg1.8.m8.1.1.cmml" xref="alg1.8.m8.1.1"><times id="alg1.8.m8.1.1.2.cmml" xref="alg1.8.m8.1.1.2"></times><ci id="alg1.8.m8.1.1.3.cmml" xref="alg1.8.m8.1.1.3">𝐶</ci><apply id="alg1.8.m8.1.1.1.1.1.cmml" xref="alg1.8.m8.1.1.1.1"><csymbol cd="ambiguous" id="alg1.8.m8.1.1.1.1.1.1.cmml" xref="alg1.8.m8.1.1.1.1">subscript</csymbol><ci id="alg1.8.m8.1.1.1.1.1.2.cmml" xref="alg1.8.m8.1.1.1.1.1.2">𝑋</ci><ci id="alg1.8.m8.1.1.1.1.1.3.cmml" xref="alg1.8.m8.1.1.1.1.1.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m8.1c">C(X_{m})</annotation></semantics></math> 
<br class="ltx_break"></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.11" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>  <math id="alg1.l1.m1.1" class="ltx_Math" alttext="\hat{q}\leftarrow 0" display="inline"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mover accent="true" id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml"><mi id="alg1.l1.m1.1.1.2.2" xref="alg1.l1.m1.1.1.2.2.cmml">q</mi><mo id="alg1.l1.m1.1.1.2.1" xref="alg1.l1.m1.1.1.2.1.cmml">^</mo></mover><mo stretchy="false" id="alg1.l1.m1.1.1.1" xref="alg1.l1.m1.1.1.1.cmml">←</mo><mn id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">←</ci><apply id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2"><ci id="alg1.l1.m1.1.1.2.1.cmml" xref="alg1.l1.m1.1.1.2.1">^</ci><ci id="alg1.l1.m1.1.1.2.2.cmml" xref="alg1.l1.m1.1.1.2.2">𝑞</ci></apply><cn type="integer" id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\hat{q}\leftarrow 0</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>  <span id="alg1.l2.1" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l2.m1.4" class="ltx_Math" alttext="k\in\{1,2,\ldots,K\}" display="inline"><semantics id="alg1.l2.m1.4a"><mrow id="alg1.l2.m1.4.5" xref="alg1.l2.m1.4.5.cmml"><mi id="alg1.l2.m1.4.5.2" xref="alg1.l2.m1.4.5.2.cmml">k</mi><mo id="alg1.l2.m1.4.5.1" xref="alg1.l2.m1.4.5.1.cmml">∈</mo><mrow id="alg1.l2.m1.4.5.3.2" xref="alg1.l2.m1.4.5.3.1.cmml"><mo stretchy="false" id="alg1.l2.m1.4.5.3.2.1" xref="alg1.l2.m1.4.5.3.1.cmml">{</mo><mn id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">1</mn><mo id="alg1.l2.m1.4.5.3.2.2" xref="alg1.l2.m1.4.5.3.1.cmml">,</mo><mn id="alg1.l2.m1.2.2" xref="alg1.l2.m1.2.2.cmml">2</mn><mo id="alg1.l2.m1.4.5.3.2.3" xref="alg1.l2.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l2.m1.3.3" xref="alg1.l2.m1.3.3.cmml">…</mi><mo id="alg1.l2.m1.4.5.3.2.4" xref="alg1.l2.m1.4.5.3.1.cmml">,</mo><mi id="alg1.l2.m1.4.4" xref="alg1.l2.m1.4.4.cmml">K</mi><mo stretchy="false" id="alg1.l2.m1.4.5.3.2.5" xref="alg1.l2.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.4b"><apply id="alg1.l2.m1.4.5.cmml" xref="alg1.l2.m1.4.5"><in id="alg1.l2.m1.4.5.1.cmml" xref="alg1.l2.m1.4.5.1"></in><ci id="alg1.l2.m1.4.5.2.cmml" xref="alg1.l2.m1.4.5.2">𝑘</ci><set id="alg1.l2.m1.4.5.3.1.cmml" xref="alg1.l2.m1.4.5.3.2"><cn type="integer" id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">1</cn><cn type="integer" id="alg1.l2.m1.2.2.cmml" xref="alg1.l2.m1.2.2">2</cn><ci id="alg1.l2.m1.3.3.cmml" xref="alg1.l2.m1.3.3">…</ci><ci id="alg1.l2.m1.4.4.cmml" xref="alg1.l2.m1.4.4">𝐾</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.4c">k\in\{1,2,\ldots,K\}</annotation></semantics></math> <span id="alg1.l2.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>     <span id="alg1.l3.1" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l3.m1.4" class="ltx_Math" alttext="i\in\{1,2,\ldots,N\}" display="inline"><semantics id="alg1.l3.m1.4a"><mrow id="alg1.l3.m1.4.5" xref="alg1.l3.m1.4.5.cmml"><mi id="alg1.l3.m1.4.5.2" xref="alg1.l3.m1.4.5.2.cmml">i</mi><mo id="alg1.l3.m1.4.5.1" xref="alg1.l3.m1.4.5.1.cmml">∈</mo><mrow id="alg1.l3.m1.4.5.3.2" xref="alg1.l3.m1.4.5.3.1.cmml"><mo stretchy="false" id="alg1.l3.m1.4.5.3.2.1" xref="alg1.l3.m1.4.5.3.1.cmml">{</mo><mn id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">1</mn><mo id="alg1.l3.m1.4.5.3.2.2" xref="alg1.l3.m1.4.5.3.1.cmml">,</mo><mn id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml">2</mn><mo id="alg1.l3.m1.4.5.3.2.3" xref="alg1.l3.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l3.m1.3.3" xref="alg1.l3.m1.3.3.cmml">…</mi><mo id="alg1.l3.m1.4.5.3.2.4" xref="alg1.l3.m1.4.5.3.1.cmml">,</mo><mi id="alg1.l3.m1.4.4" xref="alg1.l3.m1.4.4.cmml">N</mi><mo stretchy="false" id="alg1.l3.m1.4.5.3.2.5" xref="alg1.l3.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.4b"><apply id="alg1.l3.m1.4.5.cmml" xref="alg1.l3.m1.4.5"><in id="alg1.l3.m1.4.5.1.cmml" xref="alg1.l3.m1.4.5.1"></in><ci id="alg1.l3.m1.4.5.2.cmml" xref="alg1.l3.m1.4.5.2">𝑖</ci><set id="alg1.l3.m1.4.5.3.1.cmml" xref="alg1.l3.m1.4.5.3.2"><cn type="integer" id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">1</cn><cn type="integer" id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2">2</cn><ci id="alg1.l3.m1.3.3.cmml" xref="alg1.l3.m1.3.3">…</ci><ci id="alg1.l3.m1.4.4.cmml" xref="alg1.l3.m1.4.4">𝑁</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.4c">i\in\{1,2,\ldots,N\}</annotation></semantics></math> <span id="alg1.l3.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>        <math id="alg1.l4.m1.1" class="ltx_math_unparsed" alttext="s_{i}\leftarrow\sum_{j=1}^{y_{j}=y_{i}}\pi(S(x_{i},y_{i})" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1b"><msub id="alg1.l4.m1.1.1"><mi id="alg1.l4.m1.1.1.2">s</mi><mi id="alg1.l4.m1.1.1.3">i</mi></msub><mo rspace="0.111em" stretchy="false" id="alg1.l4.m1.1.2">←</mo><msubsup id="alg1.l4.m1.1.3"><mo id="alg1.l4.m1.1.3.2.2">∑</mo><mrow id="alg1.l4.m1.1.3.2.3"><mi id="alg1.l4.m1.1.3.2.3.2">j</mi><mo id="alg1.l4.m1.1.3.2.3.1">=</mo><mn id="alg1.l4.m1.1.3.2.3.3">1</mn></mrow><mrow id="alg1.l4.m1.1.3.3"><msub id="alg1.l4.m1.1.3.3.2"><mi id="alg1.l4.m1.1.3.3.2.2">y</mi><mi id="alg1.l4.m1.1.3.3.2.3">j</mi></msub><mo id="alg1.l4.m1.1.3.3.1">=</mo><msub id="alg1.l4.m1.1.3.3.3"><mi id="alg1.l4.m1.1.3.3.3.2">y</mi><mi id="alg1.l4.m1.1.3.3.3.3">i</mi></msub></mrow></msubsup><mi id="alg1.l4.m1.1.4">π</mi><mrow id="alg1.l4.m1.1.5"><mo stretchy="false" id="alg1.l4.m1.1.5.1">(</mo><mi id="alg1.l4.m1.1.5.2">S</mi><mrow id="alg1.l4.m1.1.5.3"><mo stretchy="false" id="alg1.l4.m1.1.5.3.1">(</mo><msub id="alg1.l4.m1.1.5.3.2"><mi id="alg1.l4.m1.1.5.3.2.2">x</mi><mi id="alg1.l4.m1.1.5.3.2.3">i</mi></msub><mo id="alg1.l4.m1.1.5.3.3">,</mo><msub id="alg1.l4.m1.1.5.3.4"><mi id="alg1.l4.m1.1.5.3.4.2">y</mi><mi id="alg1.l4.m1.1.5.3.4.3">i</mi></msub><mo stretchy="false" id="alg1.l4.m1.1.5.3.5">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">s_{i}\leftarrow\sum_{j=1}^{y_{j}=y_{i}}\pi(S(x_{i},y_{i})</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>     <span id="alg1.l5.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l5.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <math id="alg1.l6.m1.2" class="ltx_Math" alttext="\hat{q}\leftarrow\hat{q}+Q(\{s_{i}\}^{N}_{i=1},\lceil(1-\alpha)(N+1)\rceil)" display="inline"><semantics id="alg1.l6.m1.2a"><mrow id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml"><mover accent="true" id="alg1.l6.m1.2.2.4" xref="alg1.l6.m1.2.2.4.cmml"><mi id="alg1.l6.m1.2.2.4.2" xref="alg1.l6.m1.2.2.4.2.cmml">q</mi><mo id="alg1.l6.m1.2.2.4.1" xref="alg1.l6.m1.2.2.4.1.cmml">^</mo></mover><mo stretchy="false" id="alg1.l6.m1.2.2.3" xref="alg1.l6.m1.2.2.3.cmml">←</mo><mrow id="alg1.l6.m1.2.2.2" xref="alg1.l6.m1.2.2.2.cmml"><mover accent="true" id="alg1.l6.m1.2.2.2.4" xref="alg1.l6.m1.2.2.2.4.cmml"><mi id="alg1.l6.m1.2.2.2.4.2" xref="alg1.l6.m1.2.2.2.4.2.cmml">q</mi><mo id="alg1.l6.m1.2.2.2.4.1" xref="alg1.l6.m1.2.2.2.4.1.cmml">^</mo></mover><mo id="alg1.l6.m1.2.2.2.3" xref="alg1.l6.m1.2.2.2.3.cmml">+</mo><mrow id="alg1.l6.m1.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.cmml"><mi id="alg1.l6.m1.2.2.2.2.4" xref="alg1.l6.m1.2.2.2.2.4.cmml">Q</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.3.cmml">​</mo><mrow id="alg1.l6.m1.2.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l6.m1.1.1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.2" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.2.cmml">{</mo><msub id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="alg1.l6.m1.1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.1.3.2" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.2.cmml">i</mi><mo id="alg1.l6.m1.1.1.1.1.1.1.1.3.1" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.cmml">=</mo><mn id="alg1.l6.m1.1.1.1.1.1.1.1.3.3" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="alg1.l6.m1.1.1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.3.cmml">N</mi></msubsup><mo id="alg1.l6.m1.2.2.2.2.2.2.4" xref="alg1.l6.m1.2.2.2.2.2.3.cmml">,</mo><mrow id="alg1.l6.m1.2.2.2.2.2.2.2.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.2.cmml"><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.2.1.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.2.1.cmml">⌈</mo><mrow id="alg1.l6.m1.2.2.2.2.2.2.2.1.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.cmml"><mrow id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.2.cmml">1</mn><mo id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.1.cmml">−</mo><mi id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.3.cmml">​</mo><mrow id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.cmml"><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.cmml">(</mo><mrow id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.2.cmml">N</mi><mo id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.1.cmml">+</mo><mn id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.2.1.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.2.1.cmml">⌉</mo></mrow><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.2.5" xref="alg1.l6.m1.2.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2"><ci id="alg1.l6.m1.2.2.3.cmml" xref="alg1.l6.m1.2.2.3">←</ci><apply id="alg1.l6.m1.2.2.4.cmml" xref="alg1.l6.m1.2.2.4"><ci id="alg1.l6.m1.2.2.4.1.cmml" xref="alg1.l6.m1.2.2.4.1">^</ci><ci id="alg1.l6.m1.2.2.4.2.cmml" xref="alg1.l6.m1.2.2.4.2">𝑞</ci></apply><apply id="alg1.l6.m1.2.2.2.cmml" xref="alg1.l6.m1.2.2.2"><plus id="alg1.l6.m1.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.3"></plus><apply id="alg1.l6.m1.2.2.2.4.cmml" xref="alg1.l6.m1.2.2.2.4"><ci id="alg1.l6.m1.2.2.2.4.1.cmml" xref="alg1.l6.m1.2.2.2.4.1">^</ci><ci id="alg1.l6.m1.2.2.2.4.2.cmml" xref="alg1.l6.m1.2.2.2.4.2">𝑞</ci></apply><apply id="alg1.l6.m1.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2"><times id="alg1.l6.m1.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.3"></times><ci id="alg1.l6.m1.2.2.2.2.4.cmml" xref="alg1.l6.m1.2.2.2.2.4">𝑄</ci><interval closure="open" id="alg1.l6.m1.2.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2"><apply id="alg1.l6.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l6.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1">superscript</csymbol><set id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1"><apply id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><ci id="alg1.l6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.3">𝑁</ci></apply><apply id="alg1.l6.m1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3"><eq id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1"></eq><ci id="alg1.l6.m1.1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="alg1.l6.m1.1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="alg1.l6.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1"><ceiling id="alg1.l6.m1.2.2.2.2.2.2.2.2.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.2"></ceiling><apply id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1"><times id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.3"></times><apply id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1"><minus id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.1"></minus><cn type="integer" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.2">1</cn><ci id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.1.1.1.3">𝛼</ci></apply><apply id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1"><plus id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.1"></plus><ci id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.2">𝑁</ci><cn type="integer" id="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.1.1.2.1.1.3">1</cn></apply></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">\hat{q}\leftarrow\hat{q}+Q(\{s_{i}\}^{N}_{i=1},\lceil(1-\alpha)(N+1)\rceil)</annotation></semantics></math>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>  <span id="alg1.l7.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l7.2" class="ltx_text ltx_font_bold">for</span> 
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>  <span id="alg1.l8.1" class="ltx_text ltx_font_bold">return </span>: <math id="alg1.l8.m1.2" class="ltx_Math" alttext="\{y\in Y:S(X_{m})_{y}&gt;\hat{q}/K\}" display="inline"><semantics id="alg1.l8.m1.2a"><mrow id="alg1.l8.m1.2.2.2" xref="alg1.l8.m1.2.2.3.cmml"><mo stretchy="false" id="alg1.l8.m1.2.2.2.3" xref="alg1.l8.m1.2.2.3.1.cmml">{</mo><mrow id="alg1.l8.m1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.cmml"><mi id="alg1.l8.m1.1.1.1.1.2" xref="alg1.l8.m1.1.1.1.1.2.cmml">y</mi><mo id="alg1.l8.m1.1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.1.cmml">∈</mo><mi id="alg1.l8.m1.1.1.1.1.3" xref="alg1.l8.m1.1.1.1.1.3.cmml">Y</mi></mrow><mo lspace="0.278em" rspace="0.278em" id="alg1.l8.m1.2.2.2.4" xref="alg1.l8.m1.2.2.3.1.cmml">:</mo><mrow id="alg1.l8.m1.2.2.2.2" xref="alg1.l8.m1.2.2.2.2.cmml"><mrow id="alg1.l8.m1.2.2.2.2.1" xref="alg1.l8.m1.2.2.2.2.1.cmml"><mi id="alg1.l8.m1.2.2.2.2.1.3" xref="alg1.l8.m1.2.2.2.2.1.3.cmml">S</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.2.2.2.2.1.2" xref="alg1.l8.m1.2.2.2.2.1.2.cmml">​</mo><msub id="alg1.l8.m1.2.2.2.2.1.1" xref="alg1.l8.m1.2.2.2.2.1.1.cmml"><mrow id="alg1.l8.m1.2.2.2.2.1.1.1.1" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l8.m1.2.2.2.2.1.1.1.1.2" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.cmml">(</mo><msub id="alg1.l8.m1.2.2.2.2.1.1.1.1.1" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.cmml"><mi id="alg1.l8.m1.2.2.2.2.1.1.1.1.1.2" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.2.cmml">X</mi><mi id="alg1.l8.m1.2.2.2.2.1.1.1.1.1.3" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="alg1.l8.m1.2.2.2.2.1.1.1.1.3" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.cmml">)</mo></mrow><mi id="alg1.l8.m1.2.2.2.2.1.1.3" xref="alg1.l8.m1.2.2.2.2.1.1.3.cmml">y</mi></msub></mrow><mo id="alg1.l8.m1.2.2.2.2.2" xref="alg1.l8.m1.2.2.2.2.2.cmml">&gt;</mo><mrow id="alg1.l8.m1.2.2.2.2.3" xref="alg1.l8.m1.2.2.2.2.3.cmml"><mover accent="true" id="alg1.l8.m1.2.2.2.2.3.2" xref="alg1.l8.m1.2.2.2.2.3.2.cmml"><mi id="alg1.l8.m1.2.2.2.2.3.2.2" xref="alg1.l8.m1.2.2.2.2.3.2.2.cmml">q</mi><mo id="alg1.l8.m1.2.2.2.2.3.2.1" xref="alg1.l8.m1.2.2.2.2.3.2.1.cmml">^</mo></mover><mo id="alg1.l8.m1.2.2.2.2.3.1" xref="alg1.l8.m1.2.2.2.2.3.1.cmml">/</mo><mi id="alg1.l8.m1.2.2.2.2.3.3" xref="alg1.l8.m1.2.2.2.2.3.3.cmml">K</mi></mrow></mrow><mo stretchy="false" id="alg1.l8.m1.2.2.2.5" xref="alg1.l8.m1.2.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.2b"><apply id="alg1.l8.m1.2.2.3.cmml" xref="alg1.l8.m1.2.2.2"><csymbol cd="latexml" id="alg1.l8.m1.2.2.3.1.cmml" xref="alg1.l8.m1.2.2.2.3">conditional-set</csymbol><apply id="alg1.l8.m1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1"><in id="alg1.l8.m1.1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1.1"></in><ci id="alg1.l8.m1.1.1.1.1.2.cmml" xref="alg1.l8.m1.1.1.1.1.2">𝑦</ci><ci id="alg1.l8.m1.1.1.1.1.3.cmml" xref="alg1.l8.m1.1.1.1.1.3">𝑌</ci></apply><apply id="alg1.l8.m1.2.2.2.2.cmml" xref="alg1.l8.m1.2.2.2.2"><gt id="alg1.l8.m1.2.2.2.2.2.cmml" xref="alg1.l8.m1.2.2.2.2.2"></gt><apply id="alg1.l8.m1.2.2.2.2.1.cmml" xref="alg1.l8.m1.2.2.2.2.1"><times id="alg1.l8.m1.2.2.2.2.1.2.cmml" xref="alg1.l8.m1.2.2.2.2.1.2"></times><ci id="alg1.l8.m1.2.2.2.2.1.3.cmml" xref="alg1.l8.m1.2.2.2.2.1.3">𝑆</ci><apply id="alg1.l8.m1.2.2.2.2.1.1.cmml" xref="alg1.l8.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.2.2.2.2.1.1.2.cmml" xref="alg1.l8.m1.2.2.2.2.1.1">subscript</csymbol><apply id="alg1.l8.m1.2.2.2.2.1.1.1.1.1.cmml" xref="alg1.l8.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="alg1.l8.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l8.m1.2.2.2.2.1.1.1.1.1.2.cmml" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.2">𝑋</ci><ci id="alg1.l8.m1.2.2.2.2.1.1.1.1.1.3.cmml" xref="alg1.l8.m1.2.2.2.2.1.1.1.1.1.3">𝑚</ci></apply><ci id="alg1.l8.m1.2.2.2.2.1.1.3.cmml" xref="alg1.l8.m1.2.2.2.2.1.1.3">𝑦</ci></apply></apply><apply id="alg1.l8.m1.2.2.2.2.3.cmml" xref="alg1.l8.m1.2.2.2.2.3"><divide id="alg1.l8.m1.2.2.2.2.3.1.cmml" xref="alg1.l8.m1.2.2.2.2.3.1"></divide><apply id="alg1.l8.m1.2.2.2.2.3.2.cmml" xref="alg1.l8.m1.2.2.2.2.3.2"><ci id="alg1.l8.m1.2.2.2.2.3.2.1.cmml" xref="alg1.l8.m1.2.2.2.2.3.2.1">^</ci><ci id="alg1.l8.m1.2.2.2.2.3.2.2.cmml" xref="alg1.l8.m1.2.2.2.2.3.2.2">𝑞</ci></apply><ci id="alg1.l8.m1.2.2.2.2.3.3.cmml" xref="alg1.l8.m1.2.2.2.2.3.3">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.2c">\{y\in Y:S(X_{m})_{y}&gt;\hat{q}/K\}</annotation></semantics></math>

</div>
</div>
</div>
</div>
</figure>
<div id="Sx3.p3" class="ltx_para">
<p id="Sx3.p3.1" class="ltx_p">Because this marginal coverage property does not impose any assumptions on the distribution (besides exchangeability) or score function (besides monotonicity), conformal prediction methods can be easily adapted for FL settings.
Federated averaging (FedAvg) is a simple FL procedure that averages parameter weights of all local model (client side) to update the global model (server side) – which is then distributed back to each local model – after each training epoch <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al. <a href="#bib.bib17" title="" class="ltx_ref">2017</a>)</cite>.
As described in Algorithm <a href="#alg1" title="Algorithm 1 ‣ Methods ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we adapt split conformal predictions <cite class="ltx_cite ltx_citemacro_citep">(Romano, Sesia, and Candès <a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> for FedAvg
While our conformal framework does not depend on a specific FL technique, we implement FedAvg for its simplicity in order to demonstrate a proof of concept.</p>
</div>
<div id="Sx3.p4" class="ltx_para">
<p id="Sx3.p4.1" class="ltx_p">For more information on conformal predictions and distribution-free uncertainty, we refer the reader to the excellent tutorial by <cite class="ltx_cite ltx_citemacro_citet">Angelopoulos and Bates (<a href="#bib.bib2" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
</section>
<section id="Sx4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Experiments</h2>

<div id="Sx4.p1" class="ltx_para">
<p id="Sx4.p1.1" class="ltx_p">We compare three methods of forming prediction sets: a naive baseline, conformal predictions using local quantiles, and conformal predictions using federated quantiles.
The naive baseline simply form predictions sets by adding sorting classes by predicted scores and adding elements to the set until the <math id="Sx4.p1.1.m1.1" class="ltx_Math" alttext="1-\alpha" display="inline"><semantics id="Sx4.p1.1.m1.1a"><mrow id="Sx4.p1.1.m1.1.1" xref="Sx4.p1.1.m1.1.1.cmml"><mn id="Sx4.p1.1.m1.1.1.2" xref="Sx4.p1.1.m1.1.1.2.cmml">1</mn><mo id="Sx4.p1.1.m1.1.1.1" xref="Sx4.p1.1.m1.1.1.1.cmml">−</mo><mi id="Sx4.p1.1.m1.1.1.3" xref="Sx4.p1.1.m1.1.1.3.cmml">α</mi></mrow><annotation-xml encoding="MathML-Content" id="Sx4.p1.1.m1.1b"><apply id="Sx4.p1.1.m1.1.1.cmml" xref="Sx4.p1.1.m1.1.1"><minus id="Sx4.p1.1.m1.1.1.1.cmml" xref="Sx4.p1.1.m1.1.1.1"></minus><cn type="integer" id="Sx4.p1.1.m1.1.1.2.cmml" xref="Sx4.p1.1.m1.1.1.2">1</cn><ci id="Sx4.p1.1.m1.1.1.3.cmml" xref="Sx4.p1.1.m1.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.p1.1.m1.1c">1-\alpha</annotation></semantics></math> threshold is met.
Because the naive baseline does not estimate the empirical quantile on a held-out calibrate set, we cannot expect it to satisfy the coverage guarantee described above.</p>
</div>
<div id="Sx4.p2" class="ltx_para">
<p id="Sx4.p2.1" class="ltx_p">For our experiments, we train a ResNet-18 <cite class="ltx_cite ltx_citemacro_citep">(He et al. <a href="#bib.bib10" title="" class="ltx_ref">2016</a>)</cite> for 5 different random weight initializations to optimize a cross entropy loss on six datasets in the MedMNIST medical imaging dataset benchmark <cite class="ltx_cite ltx_citemacro_citep">(Yang, Shi, and Ni <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite> (BloodMNIST, DermaMNIST, PathMNIST, TissueMNIST, RetinaMNIST, OrganMNIST3D).
The number of classes and overall class distribution for each dataset is shown in Figure <a href="#Sx4.F2" title="Figure 2 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div id="Sx4.p3" class="ltx_para">
<p id="Sx4.p3.1" class="ltx_p">For each dataset, we split the original training, validation, and testing sets into four partitions to simulate different healthcare institutions to train our FL models.
As conformal predictions are a “post-proccessing” step that do not depend on model training, the same trained models where used for all three methods of forming prediction sets.
For local conformal prediction sets, we estimate the quantile using only the first institution’s validation set as the calibration set.
For federated conformal prediction sets, we calibrate the quantile using a simple average of quantiles from each individual institution’s respective validation set.
To further assess the performance of federated conformal and to tease out possible confounding of performance with larger calibration dataset sizes, we randomly shuffle 30% of labels for three out of the four institutions’ validation set while keeping the first institution’s validation set “clean”.
All three methods were evaluated only on the first institution’s test set.</p>
</div>
<div id="Sx4.p4" class="ltx_para">
<p id="Sx4.p4.1" class="ltx_p">Images with the corresponding conformal prediction set is shown in Figure <a href="#Sx4.F1" title="Figure 1 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="Sx4.F1" class="ltx_figure"><img src="/html/2110.07661/assets/predictions.png" id="Sx4.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="598" height="513" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Image and corresponding prediction set at 90% confidence level ( larger sets indicate higher uncertainty in the prediction task while smaller sets indicate more confidence in the prediction).</figcaption>
</figure>
<figure id="Sx4.F2" class="ltx_figure"><img src="/html/2110.07661/assets/class_distribution.png" id="Sx4.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Varying class distribution of six MedMNIST benchmark datasets (see Figure <a href="#Sx4.F1" title="Figure 1 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> for an image from each dataset).</figcaption>
</figure>
<figure id="Sx4.F3" class="ltx_figure"><img src="/html/2110.07661/assets/4-coverage.png" id="Sx4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="374" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Coverage of naive, local conformal, and federated conformal methods by different levels of confidence (<math id="Sx4.F3.2.m1.1" class="ltx_Math" alttext="1-\alpha" display="inline"><semantics id="Sx4.F3.2.m1.1b"><mrow id="Sx4.F3.2.m1.1.1" xref="Sx4.F3.2.m1.1.1.cmml"><mn id="Sx4.F3.2.m1.1.1.2" xref="Sx4.F3.2.m1.1.1.2.cmml">1</mn><mo id="Sx4.F3.2.m1.1.1.1" xref="Sx4.F3.2.m1.1.1.1.cmml">−</mo><mi id="Sx4.F3.2.m1.1.1.3" xref="Sx4.F3.2.m1.1.1.3.cmml">α</mi></mrow><annotation-xml encoding="MathML-Content" id="Sx4.F3.2.m1.1c"><apply id="Sx4.F3.2.m1.1.1.cmml" xref="Sx4.F3.2.m1.1.1"><minus id="Sx4.F3.2.m1.1.1.1.cmml" xref="Sx4.F3.2.m1.1.1.1"></minus><cn type="integer" id="Sx4.F3.2.m1.1.1.2.cmml" xref="Sx4.F3.2.m1.1.1.2">1</cn><ci id="Sx4.F3.2.m1.1.1.3.cmml" xref="Sx4.F3.2.m1.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.F3.2.m1.1d">1-\alpha</annotation></semantics></math>). Dashed line shows idealized coverage.</figcaption>
</figure>
<figure id="Sx4.F4" class="ltx_figure"><img src="/html/2110.07661/assets/4-cardinality.png" id="Sx4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="374" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Average size of prediction sets of naive, local conformal, and federated conformal methods by different levels of confidence (<math id="Sx4.F4.2.m1.1" class="ltx_Math" alttext="1-\alpha" display="inline"><semantics id="Sx4.F4.2.m1.1b"><mrow id="Sx4.F4.2.m1.1.1" xref="Sx4.F4.2.m1.1.1.cmml"><mn id="Sx4.F4.2.m1.1.1.2" xref="Sx4.F4.2.m1.1.1.2.cmml">1</mn><mo id="Sx4.F4.2.m1.1.1.1" xref="Sx4.F4.2.m1.1.1.1.cmml">−</mo><mi id="Sx4.F4.2.m1.1.1.3" xref="Sx4.F4.2.m1.1.1.3.cmml">α</mi></mrow><annotation-xml encoding="MathML-Content" id="Sx4.F4.2.m1.1c"><apply id="Sx4.F4.2.m1.1.1.cmml" xref="Sx4.F4.2.m1.1.1"><minus id="Sx4.F4.2.m1.1.1.1.cmml" xref="Sx4.F4.2.m1.1.1.1"></minus><cn type="integer" id="Sx4.F4.2.m1.1.1.2.cmml" xref="Sx4.F4.2.m1.1.1.2">1</cn><ci id="Sx4.F4.2.m1.1.1.3.cmml" xref="Sx4.F4.2.m1.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.F4.2.m1.1d">1-\alpha</annotation></semantics></math>).</figcaption>
</figure>
<div id="Sx4.p5" class="ltx_para">
<p id="Sx4.p5.1" class="ltx_p">Additionally, we wish to study the relationship between the difficulty of predicting a specific case (independent to the number of classes) with its corresponding uncertainty estimate (as determined by the number of elements in the prediction set).
To this end, we hold out 10% of the training set from each dataset to train an auxiliary classifier, which can then be used to correlate the maximum Softmax score with the class-wise entropy, <math id="Sx4.p5.1.m1.3" class="ltx_Math" alttext="H(X_{i})=-\sum_{y\in Y}S(X_{i})_{y}\cdot\log S(X_{i})_{y}" display="inline"><semantics id="Sx4.p5.1.m1.3a"><mrow id="Sx4.p5.1.m1.3.3" xref="Sx4.p5.1.m1.3.3.cmml"><mrow id="Sx4.p5.1.m1.1.1.1" xref="Sx4.p5.1.m1.1.1.1.cmml"><mi id="Sx4.p5.1.m1.1.1.1.3" xref="Sx4.p5.1.m1.1.1.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="Sx4.p5.1.m1.1.1.1.2" xref="Sx4.p5.1.m1.1.1.1.2.cmml">​</mo><mrow id="Sx4.p5.1.m1.1.1.1.1.1" xref="Sx4.p5.1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="Sx4.p5.1.m1.1.1.1.1.1.2" xref="Sx4.p5.1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="Sx4.p5.1.m1.1.1.1.1.1.1" xref="Sx4.p5.1.m1.1.1.1.1.1.1.cmml"><mi id="Sx4.p5.1.m1.1.1.1.1.1.1.2" xref="Sx4.p5.1.m1.1.1.1.1.1.1.2.cmml">X</mi><mi id="Sx4.p5.1.m1.1.1.1.1.1.1.3" xref="Sx4.p5.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="Sx4.p5.1.m1.1.1.1.1.1.3" xref="Sx4.p5.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="Sx4.p5.1.m1.3.3.4" xref="Sx4.p5.1.m1.3.3.4.cmml">=</mo><mrow id="Sx4.p5.1.m1.3.3.3" xref="Sx4.p5.1.m1.3.3.3.cmml"><mo id="Sx4.p5.1.m1.3.3.3a" xref="Sx4.p5.1.m1.3.3.3.cmml">−</mo><mrow id="Sx4.p5.1.m1.3.3.3.2" xref="Sx4.p5.1.m1.3.3.3.2.cmml"><msub id="Sx4.p5.1.m1.3.3.3.2.3" xref="Sx4.p5.1.m1.3.3.3.2.3.cmml"><mo id="Sx4.p5.1.m1.3.3.3.2.3.2" xref="Sx4.p5.1.m1.3.3.3.2.3.2.cmml">∑</mo><mrow id="Sx4.p5.1.m1.3.3.3.2.3.3" xref="Sx4.p5.1.m1.3.3.3.2.3.3.cmml"><mi id="Sx4.p5.1.m1.3.3.3.2.3.3.2" xref="Sx4.p5.1.m1.3.3.3.2.3.3.2.cmml">y</mi><mo id="Sx4.p5.1.m1.3.3.3.2.3.3.1" xref="Sx4.p5.1.m1.3.3.3.2.3.3.1.cmml">∈</mo><mi id="Sx4.p5.1.m1.3.3.3.2.3.3.3" xref="Sx4.p5.1.m1.3.3.3.2.3.3.3.cmml">Y</mi></mrow></msub><mrow id="Sx4.p5.1.m1.3.3.3.2.2" xref="Sx4.p5.1.m1.3.3.3.2.2.cmml"><mrow id="Sx4.p5.1.m1.2.2.2.1.1.1" xref="Sx4.p5.1.m1.2.2.2.1.1.1.cmml"><mrow id="Sx4.p5.1.m1.2.2.2.1.1.1.1" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.cmml"><mi id="Sx4.p5.1.m1.2.2.2.1.1.1.1.3" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.3.cmml">S</mi><mo lspace="0em" rspace="0em" id="Sx4.p5.1.m1.2.2.2.1.1.1.1.2" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.2.cmml">​</mo><msub id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.cmml"><mrow id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.2" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml">X</mi><mi id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo rspace="0.055em" stretchy="false" id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.3" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.3" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.3.cmml">y</mi></msub></mrow><mo rspace="0.222em" id="Sx4.p5.1.m1.2.2.2.1.1.1.2" xref="Sx4.p5.1.m1.2.2.2.1.1.1.2.cmml">⋅</mo><mrow id="Sx4.p5.1.m1.2.2.2.1.1.1.3" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3.cmml"><mi id="Sx4.p5.1.m1.2.2.2.1.1.1.3.1" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="Sx4.p5.1.m1.2.2.2.1.1.1.3a" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3.cmml">⁡</mo><mi id="Sx4.p5.1.m1.2.2.2.1.1.1.3.2" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3.2.cmml">S</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="Sx4.p5.1.m1.3.3.3.2.2.3" xref="Sx4.p5.1.m1.3.3.3.2.2.3.cmml">​</mo><msub id="Sx4.p5.1.m1.3.3.3.2.2.2" xref="Sx4.p5.1.m1.3.3.3.2.2.2.cmml"><mrow id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.cmml"><mo stretchy="false" id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.2" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.cmml">(</mo><msub id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.cmml"><mi id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.2" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.2.cmml">X</mi><mi id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.3" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.3" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.cmml">)</mo></mrow><mi id="Sx4.p5.1.m1.3.3.3.2.2.2.3" xref="Sx4.p5.1.m1.3.3.3.2.2.2.3.cmml">y</mi></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx4.p5.1.m1.3b"><apply id="Sx4.p5.1.m1.3.3.cmml" xref="Sx4.p5.1.m1.3.3"><eq id="Sx4.p5.1.m1.3.3.4.cmml" xref="Sx4.p5.1.m1.3.3.4"></eq><apply id="Sx4.p5.1.m1.1.1.1.cmml" xref="Sx4.p5.1.m1.1.1.1"><times id="Sx4.p5.1.m1.1.1.1.2.cmml" xref="Sx4.p5.1.m1.1.1.1.2"></times><ci id="Sx4.p5.1.m1.1.1.1.3.cmml" xref="Sx4.p5.1.m1.1.1.1.3">𝐻</ci><apply id="Sx4.p5.1.m1.1.1.1.1.1.1.cmml" xref="Sx4.p5.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx4.p5.1.m1.1.1.1.1.1.1.1.cmml" xref="Sx4.p5.1.m1.1.1.1.1.1">subscript</csymbol><ci id="Sx4.p5.1.m1.1.1.1.1.1.1.2.cmml" xref="Sx4.p5.1.m1.1.1.1.1.1.1.2">𝑋</ci><ci id="Sx4.p5.1.m1.1.1.1.1.1.1.3.cmml" xref="Sx4.p5.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="Sx4.p5.1.m1.3.3.3.cmml" xref="Sx4.p5.1.m1.3.3.3"><minus id="Sx4.p5.1.m1.3.3.3.3.cmml" xref="Sx4.p5.1.m1.3.3.3"></minus><apply id="Sx4.p5.1.m1.3.3.3.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2"><apply id="Sx4.p5.1.m1.3.3.3.2.3.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3"><csymbol cd="ambiguous" id="Sx4.p5.1.m1.3.3.3.2.3.1.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3">subscript</csymbol><sum id="Sx4.p5.1.m1.3.3.3.2.3.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3.2"></sum><apply id="Sx4.p5.1.m1.3.3.3.2.3.3.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3.3"><in id="Sx4.p5.1.m1.3.3.3.2.3.3.1.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3.3.1"></in><ci id="Sx4.p5.1.m1.3.3.3.2.3.3.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3.3.2">𝑦</ci><ci id="Sx4.p5.1.m1.3.3.3.2.3.3.3.cmml" xref="Sx4.p5.1.m1.3.3.3.2.3.3.3">𝑌</ci></apply></apply><apply id="Sx4.p5.1.m1.3.3.3.2.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2"><times id="Sx4.p5.1.m1.3.3.3.2.2.3.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.3"></times><apply id="Sx4.p5.1.m1.2.2.2.1.1.1.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1"><ci id="Sx4.p5.1.m1.2.2.2.1.1.1.2.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.2">⋅</ci><apply id="Sx4.p5.1.m1.2.2.2.1.1.1.1.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1"><times id="Sx4.p5.1.m1.2.2.2.1.1.1.1.2.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.2"></times><ci id="Sx4.p5.1.m1.2.2.2.1.1.1.1.3.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.3">𝑆</ci><apply id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.2.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1">subscript</csymbol><apply id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.2">𝑋</ci><ci id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><ci id="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.3.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.1.1.3">𝑦</ci></apply></apply><apply id="Sx4.p5.1.m1.2.2.2.1.1.1.3.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3"><log id="Sx4.p5.1.m1.2.2.2.1.1.1.3.1.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3.1"></log><ci id="Sx4.p5.1.m1.2.2.2.1.1.1.3.2.cmml" xref="Sx4.p5.1.m1.2.2.2.1.1.1.3.2">𝑆</ci></apply></apply><apply id="Sx4.p5.1.m1.3.3.3.2.2.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2"><csymbol cd="ambiguous" id="Sx4.p5.1.m1.3.3.3.2.2.2.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2">subscript</csymbol><apply id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1"><csymbol cd="ambiguous" id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.1.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1">subscript</csymbol><ci id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.2.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.2">𝑋</ci><ci id="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.3.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2.1.1.1.3">𝑖</ci></apply><ci id="Sx4.p5.1.m1.3.3.3.2.2.2.3.cmml" xref="Sx4.p5.1.m1.3.3.3.2.2.2.3">𝑦</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.p5.1.m1.3c">H(X_{i})=-\sum_{y\in Y}S(X_{i})_{y}\cdot\log S(X_{i})_{y}</annotation></semantics></math>, for the rest of the dataset.
Therefore, we expect entropy to be indicative of model uncertainty and positively correlated with the size of a conformal prediction set.</p>
</div>
<figure id="Sx4.T1" class="ltx_table">
<table id="Sx4.T1.36" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="Sx4.T1.36.37.1" class="ltx_tr">
<th id="Sx4.T1.36.37.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"><span id="Sx4.T1.36.37.1.1.1" class="ltx_text ltx_font_bold">Dataset</span></th>
<th id="Sx4.T1.36.37.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span id="Sx4.T1.36.37.1.2.1" class="ltx_text ltx_font_bold">Classes</span></th>
<th id="Sx4.T1.36.37.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="Sx4.T1.36.37.1.3.1" class="ltx_text ltx_font_bold">Examples</span></th>
<th id="Sx4.T1.36.37.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="Sx4.T1.36.37.1.4.1" class="ltx_text ltx_font_bold">Method</span></th>
<th id="Sx4.T1.36.37.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="Sx4.T1.36.37.1.5.1" class="ltx_text ltx_font_bold">Coverage</span></th>
<th id="Sx4.T1.36.37.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="Sx4.T1.36.37.1.6.1" class="ltx_text ltx_font_bold">Cardinality</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="Sx4.T1.2.2" class="ltx_tr">
<th id="Sx4.T1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.2.2.3.1" class="ltx_text">Blood</span></th>
<th id="Sx4.T1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.2.2.4.1" class="ltx_text">9</span></th>
<td id="Sx4.T1.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.2.2.5.1" class="ltx_text">17,092</span></td>
<td id="Sx4.T1.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Naive</td>
<td id="Sx4.T1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100% <math id="Sx4.T1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.1.1.1.m1.1a"><mo id="Sx4.T1.1.1.1.m1.1.1" xref="Sx4.T1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.1.1.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.1.1.1.m1.1.1.cmml" xref="Sx4.T1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.1.1.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8 <math id="Sx4.T1.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.2.2.2.m1.1a"><mo id="Sx4.T1.2.2.2.m1.1.1" xref="Sx4.T1.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.2.2.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.2.2.2.m1.1.1.cmml" xref="Sx4.T1.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.2.2.2.m1.1c">\pm</annotation></semantics></math> 0</td>
</tr>
<tr id="Sx4.T1.4.4" class="ltx_tr">
<td id="Sx4.T1.4.4.3" class="ltx_td ltx_align_center ltx_border_r">Local</td>
<td id="Sx4.T1.3.3.1" class="ltx_td ltx_align_center ltx_border_r">100% <math id="Sx4.T1.3.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.3.3.1.m1.1a"><mo id="Sx4.T1.3.3.1.m1.1.1" xref="Sx4.T1.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.3.3.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.3.3.1.m1.1.1.cmml" xref="Sx4.T1.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.3.3.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.4.4.2" class="ltx_td ltx_align_center ltx_border_r">5.4 <math id="Sx4.T1.4.4.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.4.4.2.m1.1a"><mo id="Sx4.T1.4.4.2.m1.1.1" xref="Sx4.T1.4.4.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.4.4.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.4.4.2.m1.1.1.cmml" xref="Sx4.T1.4.4.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.4.4.2.m1.1c">\pm</annotation></semantics></math> 0.3</td>
</tr>
<tr id="Sx4.T1.6.6" class="ltx_tr">
<td id="Sx4.T1.6.6.3" class="ltx_td ltx_align_center ltx_border_r">Federated</td>
<td id="Sx4.T1.5.5.1" class="ltx_td ltx_align_center ltx_border_r">97.7% <math id="Sx4.T1.5.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.5.5.1.m1.1a"><mo id="Sx4.T1.5.5.1.m1.1.1" xref="Sx4.T1.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.5.5.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.5.5.1.m1.1.1.cmml" xref="Sx4.T1.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.5.5.1.m1.1c">\pm</annotation></semantics></math> 0.7%</td>
<td id="Sx4.T1.6.6.2" class="ltx_td ltx_align_center ltx_border_r">2.3 <math id="Sx4.T1.6.6.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.6.6.2.m1.1a"><mo id="Sx4.T1.6.6.2.m1.1.1" xref="Sx4.T1.6.6.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.6.6.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.6.6.2.m1.1.1.cmml" xref="Sx4.T1.6.6.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.6.6.2.m1.1c">\pm</annotation></semantics></math> 0.1</td>
</tr>
<tr id="Sx4.T1.8.8" class="ltx_tr">
<th id="Sx4.T1.8.8.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.8.8.3.1" class="ltx_text">Derma</span></th>
<th id="Sx4.T1.8.8.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.8.8.4.1" class="ltx_text">7</span></th>
<td id="Sx4.T1.8.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.8.8.5.1" class="ltx_text">10,015</span></td>
<td id="Sx4.T1.8.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Naive</td>
<td id="Sx4.T1.7.7.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100% <math id="Sx4.T1.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.7.7.1.m1.1a"><mo id="Sx4.T1.7.7.1.m1.1.1" xref="Sx4.T1.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.7.7.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.7.7.1.m1.1.1.cmml" xref="Sx4.T1.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.7.7.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7 <math id="Sx4.T1.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.8.8.2.m1.1a"><mo id="Sx4.T1.8.8.2.m1.1.1" xref="Sx4.T1.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.8.8.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.8.8.2.m1.1.1.cmml" xref="Sx4.T1.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.8.8.2.m1.1c">\pm</annotation></semantics></math> 0</td>
</tr>
<tr id="Sx4.T1.10.10" class="ltx_tr">
<td id="Sx4.T1.10.10.3" class="ltx_td ltx_align_center ltx_border_r">Local</td>
<td id="Sx4.T1.9.9.1" class="ltx_td ltx_align_center ltx_border_r">98.2% <math id="Sx4.T1.9.9.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.9.9.1.m1.1a"><mo id="Sx4.T1.9.9.1.m1.1.1" xref="Sx4.T1.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.9.9.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.9.9.1.m1.1.1.cmml" xref="Sx4.T1.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.9.9.1.m1.1c">\pm</annotation></semantics></math> 0.5%</td>
<td id="Sx4.T1.10.10.2" class="ltx_td ltx_align_center ltx_border_r">4.5 <math id="Sx4.T1.10.10.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.10.10.2.m1.1a"><mo id="Sx4.T1.10.10.2.m1.1.1" xref="Sx4.T1.10.10.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.10.10.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.10.10.2.m1.1.1.cmml" xref="Sx4.T1.10.10.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.10.10.2.m1.1c">\pm</annotation></semantics></math> 0.2</td>
</tr>
<tr id="Sx4.T1.12.12" class="ltx_tr">
<td id="Sx4.T1.12.12.3" class="ltx_td ltx_align_center ltx_border_r">Federated</td>
<td id="Sx4.T1.11.11.1" class="ltx_td ltx_align_center ltx_border_r">97.1% <math id="Sx4.T1.11.11.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.11.11.1.m1.1a"><mo id="Sx4.T1.11.11.1.m1.1.1" xref="Sx4.T1.11.11.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.11.11.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.11.11.1.m1.1.1.cmml" xref="Sx4.T1.11.11.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.11.11.1.m1.1c">\pm</annotation></semantics></math> 0.4%</td>
<td id="Sx4.T1.12.12.2" class="ltx_td ltx_align_center ltx_border_r">3.6 <math id="Sx4.T1.12.12.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.12.12.2.m1.1a"><mo id="Sx4.T1.12.12.2.m1.1.1" xref="Sx4.T1.12.12.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.12.12.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.12.12.2.m1.1.1.cmml" xref="Sx4.T1.12.12.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.12.12.2.m1.1c">\pm</annotation></semantics></math> 0.1</td>
</tr>
<tr id="Sx4.T1.14.14" class="ltx_tr">
<th id="Sx4.T1.14.14.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.14.14.3.1" class="ltx_text">Path</span></th>
<th id="Sx4.T1.14.14.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.14.14.4.1" class="ltx_text">9</span></th>
<td id="Sx4.T1.14.14.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.14.14.5.1" class="ltx_text">107,180</span></td>
<td id="Sx4.T1.14.14.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Naive</td>
<td id="Sx4.T1.13.13.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100% <math id="Sx4.T1.13.13.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.13.13.1.m1.1a"><mo id="Sx4.T1.13.13.1.m1.1.1" xref="Sx4.T1.13.13.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.13.13.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.13.13.1.m1.1.1.cmml" xref="Sx4.T1.13.13.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.13.13.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.14.14.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8 <math id="Sx4.T1.14.14.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.14.14.2.m1.1a"><mo id="Sx4.T1.14.14.2.m1.1.1" xref="Sx4.T1.14.14.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.14.14.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.14.14.2.m1.1.1.cmml" xref="Sx4.T1.14.14.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.14.14.2.m1.1c">\pm</annotation></semantics></math> 0</td>
</tr>
<tr id="Sx4.T1.16.16" class="ltx_tr">
<td id="Sx4.T1.16.16.3" class="ltx_td ltx_align_center ltx_border_r">Local</td>
<td id="Sx4.T1.15.15.1" class="ltx_td ltx_align_center ltx_border_r">99.1% <math id="Sx4.T1.15.15.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.15.15.1.m1.1a"><mo id="Sx4.T1.15.15.1.m1.1.1" xref="Sx4.T1.15.15.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.15.15.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.15.15.1.m1.1.1.cmml" xref="Sx4.T1.15.15.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.15.15.1.m1.1c">\pm</annotation></semantics></math> 0.2%</td>
<td id="Sx4.T1.16.16.2" class="ltx_td ltx_align_center ltx_border_r">5 <math id="Sx4.T1.16.16.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.16.16.2.m1.1a"><mo id="Sx4.T1.16.16.2.m1.1.1" xref="Sx4.T1.16.16.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.16.16.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.16.16.2.m1.1.1.cmml" xref="Sx4.T1.16.16.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.16.16.2.m1.1c">\pm</annotation></semantics></math> 0.2</td>
</tr>
<tr id="Sx4.T1.18.18" class="ltx_tr">
<td id="Sx4.T1.18.18.3" class="ltx_td ltx_align_center ltx_border_r">Federated</td>
<td id="Sx4.T1.17.17.1" class="ltx_td ltx_align_center ltx_border_r">94.2% <math id="Sx4.T1.17.17.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.17.17.1.m1.1a"><mo id="Sx4.T1.17.17.1.m1.1.1" xref="Sx4.T1.17.17.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.17.17.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.17.17.1.m1.1.1.cmml" xref="Sx4.T1.17.17.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.17.17.1.m1.1c">\pm</annotation></semantics></math> 0.8%</td>
<td id="Sx4.T1.18.18.2" class="ltx_td ltx_align_center ltx_border_r">2 <math id="Sx4.T1.18.18.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.18.18.2.m1.1a"><mo id="Sx4.T1.18.18.2.m1.1.1" xref="Sx4.T1.18.18.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.18.18.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.18.18.2.m1.1.1.cmml" xref="Sx4.T1.18.18.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.18.18.2.m1.1c">\pm</annotation></semantics></math> 0.1</td>
</tr>
<tr id="Sx4.T1.20.20" class="ltx_tr">
<th id="Sx4.T1.20.20.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.20.20.3.1" class="ltx_text">Tissue</span></th>
<th id="Sx4.T1.20.20.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.20.20.4.1" class="ltx_text">8</span></th>
<td id="Sx4.T1.20.20.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.20.20.5.1" class="ltx_text">236,386</span></td>
<td id="Sx4.T1.20.20.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Naive</td>
<td id="Sx4.T1.19.19.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100% <math id="Sx4.T1.19.19.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.19.19.1.m1.1a"><mo id="Sx4.T1.19.19.1.m1.1.1" xref="Sx4.T1.19.19.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.19.19.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.19.19.1.m1.1.1.cmml" xref="Sx4.T1.19.19.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.19.19.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.20.20.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8 <math id="Sx4.T1.20.20.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.20.20.2.m1.1a"><mo id="Sx4.T1.20.20.2.m1.1.1" xref="Sx4.T1.20.20.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.20.20.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.20.20.2.m1.1.1.cmml" xref="Sx4.T1.20.20.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.20.20.2.m1.1c">\pm</annotation></semantics></math> 0</td>
</tr>
<tr id="Sx4.T1.22.22" class="ltx_tr">
<td id="Sx4.T1.22.22.3" class="ltx_td ltx_align_center ltx_border_r">Local</td>
<td id="Sx4.T1.21.21.1" class="ltx_td ltx_align_center ltx_border_r">96.8% <math id="Sx4.T1.21.21.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.21.21.1.m1.1a"><mo id="Sx4.T1.21.21.1.m1.1.1" xref="Sx4.T1.21.21.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.21.21.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.21.21.1.m1.1.1.cmml" xref="Sx4.T1.21.21.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.21.21.1.m1.1c">\pm</annotation></semantics></math> 0.1%</td>
<td id="Sx4.T1.22.22.2" class="ltx_td ltx_align_center ltx_border_r">5.3 <math id="Sx4.T1.22.22.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.22.22.2.m1.1a"><mo id="Sx4.T1.22.22.2.m1.1.1" xref="Sx4.T1.22.22.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.22.22.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.22.22.2.m1.1.1.cmml" xref="Sx4.T1.22.22.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.22.22.2.m1.1c">\pm</annotation></semantics></math> 0.1</td>
</tr>
<tr id="Sx4.T1.24.24" class="ltx_tr">
<td id="Sx4.T1.24.24.3" class="ltx_td ltx_align_center ltx_border_r">Federated</td>
<td id="Sx4.T1.23.23.1" class="ltx_td ltx_align_center ltx_border_r">93.6% <math id="Sx4.T1.23.23.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.23.23.1.m1.1a"><mo id="Sx4.T1.23.23.1.m1.1.1" xref="Sx4.T1.23.23.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.23.23.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.23.23.1.m1.1.1.cmml" xref="Sx4.T1.23.23.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.23.23.1.m1.1c">\pm</annotation></semantics></math> 0.4%</td>
<td id="Sx4.T1.24.24.2" class="ltx_td ltx_align_center ltx_border_r">4.5 <math id="Sx4.T1.24.24.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.24.24.2.m1.1a"><mo id="Sx4.T1.24.24.2.m1.1.1" xref="Sx4.T1.24.24.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.24.24.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.24.24.2.m1.1.1.cmml" xref="Sx4.T1.24.24.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.24.24.2.m1.1c">\pm</annotation></semantics></math> 0.1</td>
</tr>
<tr id="Sx4.T1.26.26" class="ltx_tr">
<th id="Sx4.T1.26.26.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.26.26.3.1" class="ltx_text">Retina</span></th>
<th id="Sx4.T1.26.26.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.26.26.4.1" class="ltx_text">5</span></th>
<td id="Sx4.T1.26.26.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.26.26.5.1" class="ltx_text">1,600</span></td>
<td id="Sx4.T1.26.26.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Naive</td>
<td id="Sx4.T1.25.25.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100% <math id="Sx4.T1.25.25.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.25.25.1.m1.1a"><mo id="Sx4.T1.25.25.1.m1.1.1" xref="Sx4.T1.25.25.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.25.25.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.25.25.1.m1.1.1.cmml" xref="Sx4.T1.25.25.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.25.25.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.26.26.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5 <math id="Sx4.T1.26.26.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.26.26.2.m1.1a"><mo id="Sx4.T1.26.26.2.m1.1.1" xref="Sx4.T1.26.26.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.26.26.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.26.26.2.m1.1.1.cmml" xref="Sx4.T1.26.26.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.26.26.2.m1.1c">\pm</annotation></semantics></math> 0</td>
</tr>
<tr id="Sx4.T1.28.28" class="ltx_tr">
<td id="Sx4.T1.28.28.3" class="ltx_td ltx_align_center ltx_border_r">Local</td>
<td id="Sx4.T1.27.27.1" class="ltx_td ltx_align_center ltx_border_r">91% <math id="Sx4.T1.27.27.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.27.27.1.m1.1a"><mo id="Sx4.T1.27.27.1.m1.1.1" xref="Sx4.T1.27.27.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.27.27.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.27.27.1.m1.1.1.cmml" xref="Sx4.T1.27.27.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.27.27.1.m1.1c">\pm</annotation></semantics></math> 9.8%</td>
<td id="Sx4.T1.28.28.2" class="ltx_td ltx_align_center ltx_border_r">4.3 <math id="Sx4.T1.28.28.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.28.28.2.m1.1a"><mo id="Sx4.T1.28.28.2.m1.1.1" xref="Sx4.T1.28.28.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.28.28.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.28.28.2.m1.1.1.cmml" xref="Sx4.T1.28.28.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.28.28.2.m1.1c">\pm</annotation></semantics></math> 0.7</td>
</tr>
<tr id="Sx4.T1.30.30" class="ltx_tr">
<td id="Sx4.T1.30.30.3" class="ltx_td ltx_align_center ltx_border_r">Federated</td>
<td id="Sx4.T1.29.29.1" class="ltx_td ltx_align_center ltx_border_r">95.6% <math id="Sx4.T1.29.29.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.29.29.1.m1.1a"><mo id="Sx4.T1.29.29.1.m1.1.1" xref="Sx4.T1.29.29.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.29.29.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.29.29.1.m1.1.1.cmml" xref="Sx4.T1.29.29.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.29.29.1.m1.1c">\pm</annotation></semantics></math> 6.9%</td>
<td id="Sx4.T1.30.30.2" class="ltx_td ltx_align_center ltx_border_r">4.7 <math id="Sx4.T1.30.30.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.30.30.2.m1.1a"><mo id="Sx4.T1.30.30.2.m1.1.1" xref="Sx4.T1.30.30.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.30.30.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.30.30.2.m1.1.1.cmml" xref="Sx4.T1.30.30.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.30.30.2.m1.1c">\pm</annotation></semantics></math> 0.6</td>
</tr>
<tr id="Sx4.T1.32.32" class="ltx_tr">
<th id="Sx4.T1.32.32.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.32.32.3.1" class="ltx_text">Organ3d</span></th>
<th id="Sx4.T1.32.32.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.32.32.4.1" class="ltx_text">11</span></th>
<td id="Sx4.T1.32.32.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" rowspan="3"><span id="Sx4.T1.32.32.5.1" class="ltx_text">1,743</span></td>
<td id="Sx4.T1.32.32.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Naive</td>
<td id="Sx4.T1.31.31.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100% <math id="Sx4.T1.31.31.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.31.31.1.m1.1a"><mo id="Sx4.T1.31.31.1.m1.1.1" xref="Sx4.T1.31.31.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.31.31.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.31.31.1.m1.1.1.cmml" xref="Sx4.T1.31.31.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.31.31.1.m1.1c">\pm</annotation></semantics></math> 0%</td>
<td id="Sx4.T1.32.32.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">11 <math id="Sx4.T1.32.32.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.32.32.2.m1.1a"><mo id="Sx4.T1.32.32.2.m1.1.1" xref="Sx4.T1.32.32.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.32.32.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.32.32.2.m1.1.1.cmml" xref="Sx4.T1.32.32.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.32.32.2.m1.1c">\pm</annotation></semantics></math> 0</td>
</tr>
<tr id="Sx4.T1.34.34" class="ltx_tr">
<td id="Sx4.T1.34.34.3" class="ltx_td ltx_align_center ltx_border_r">Local</td>
<td id="Sx4.T1.33.33.1" class="ltx_td ltx_align_center ltx_border_r">89.5% <math id="Sx4.T1.33.33.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.33.33.1.m1.1a"><mo id="Sx4.T1.33.33.1.m1.1.1" xref="Sx4.T1.33.33.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.33.33.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.33.33.1.m1.1.1.cmml" xref="Sx4.T1.33.33.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.33.33.1.m1.1c">\pm</annotation></semantics></math> 4.5%</td>
<td id="Sx4.T1.34.34.2" class="ltx_td ltx_align_center ltx_border_r">5.6 <math id="Sx4.T1.34.34.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.34.34.2.m1.1a"><mo id="Sx4.T1.34.34.2.m1.1.1" xref="Sx4.T1.34.34.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.34.34.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.34.34.2.m1.1.1.cmml" xref="Sx4.T1.34.34.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.34.34.2.m1.1c">\pm</annotation></semantics></math> 0.3</td>
</tr>
<tr id="Sx4.T1.36.36" class="ltx_tr">
<td id="Sx4.T1.36.36.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">Federated</td>
<td id="Sx4.T1.35.35.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">90.5% <math id="Sx4.T1.35.35.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.35.35.1.m1.1a"><mo id="Sx4.T1.35.35.1.m1.1.1" xref="Sx4.T1.35.35.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.35.35.1.m1.1b"><csymbol cd="latexml" id="Sx4.T1.35.35.1.m1.1.1.cmml" xref="Sx4.T1.35.35.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.35.35.1.m1.1c">\pm</annotation></semantics></math> 3.5%</td>
<td id="Sx4.T1.36.36.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">6 <math id="Sx4.T1.36.36.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="Sx4.T1.36.36.2.m1.1a"><mo id="Sx4.T1.36.36.2.m1.1.1" xref="Sx4.T1.36.36.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="Sx4.T1.36.36.2.m1.1b"><csymbol cd="latexml" id="Sx4.T1.36.36.2.m1.1.1.cmml" xref="Sx4.T1.36.36.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.36.36.2.m1.1c">\pm</annotation></semantics></math> 0.6</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Summary of experimental results for each dataset at setting of 90% coverage (<math id="Sx4.T1.38.m1.1" class="ltx_Math" alttext="\alpha=0.1" display="inline"><semantics id="Sx4.T1.38.m1.1b"><mrow id="Sx4.T1.38.m1.1.1" xref="Sx4.T1.38.m1.1.1.cmml"><mi id="Sx4.T1.38.m1.1.1.2" xref="Sx4.T1.38.m1.1.1.2.cmml">α</mi><mo id="Sx4.T1.38.m1.1.1.1" xref="Sx4.T1.38.m1.1.1.1.cmml">=</mo><mn id="Sx4.T1.38.m1.1.1.3" xref="Sx4.T1.38.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="Sx4.T1.38.m1.1c"><apply id="Sx4.T1.38.m1.1.1.cmml" xref="Sx4.T1.38.m1.1.1"><eq id="Sx4.T1.38.m1.1.1.1.cmml" xref="Sx4.T1.38.m1.1.1.1"></eq><ci id="Sx4.T1.38.m1.1.1.2.cmml" xref="Sx4.T1.38.m1.1.1.2">𝛼</ci><cn type="float" id="Sx4.T1.38.m1.1.1.3.cmml" xref="Sx4.T1.38.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.T1.38.m1.1d">\alpha=0.1</annotation></semantics></math>).</figcaption>
</figure>
<figure id="Sx4.F5" class="ltx_figure"><img src="/html/2110.07661/assets/violin.png" id="Sx4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="200" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>(Left) figure shows average test coverage at <math id="Sx4.F5.3.m1.1" class="ltx_Math" alttext="\alpha=0.9" display="inline"><semantics id="Sx4.F5.3.m1.1b"><mrow id="Sx4.F5.3.m1.1.1" xref="Sx4.F5.3.m1.1.1.cmml"><mi id="Sx4.F5.3.m1.1.1.2" xref="Sx4.F5.3.m1.1.1.2.cmml">α</mi><mo id="Sx4.F5.3.m1.1.1.1" xref="Sx4.F5.3.m1.1.1.1.cmml">=</mo><mn id="Sx4.F5.3.m1.1.1.3" xref="Sx4.F5.3.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="Sx4.F5.3.m1.1c"><apply id="Sx4.F5.3.m1.1.1.cmml" xref="Sx4.F5.3.m1.1.1"><eq id="Sx4.F5.3.m1.1.1.1.cmml" xref="Sx4.F5.3.m1.1.1.1"></eq><ci id="Sx4.F5.3.m1.1.1.2.cmml" xref="Sx4.F5.3.m1.1.1.2">𝛼</ci><cn type="float" id="Sx4.F5.3.m1.1.1.3.cmml" xref="Sx4.F5.3.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.F5.3.m1.1d">\alpha=0.9</annotation></semantics></math> of local conformal and federated conformal methods across six MedMNIST classification tasks; (right) figure shows federated prediction sets having lower average cardinality than local prediction sets at <math id="Sx4.F5.4.m2.1" class="ltx_Math" alttext="p&lt;0.001" display="inline"><semantics id="Sx4.F5.4.m2.1b"><mrow id="Sx4.F5.4.m2.1.1" xref="Sx4.F5.4.m2.1.1.cmml"><mi id="Sx4.F5.4.m2.1.1.2" xref="Sx4.F5.4.m2.1.1.2.cmml">p</mi><mo id="Sx4.F5.4.m2.1.1.1" xref="Sx4.F5.4.m2.1.1.1.cmml">&lt;</mo><mn id="Sx4.F5.4.m2.1.1.3" xref="Sx4.F5.4.m2.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="Sx4.F5.4.m2.1c"><apply id="Sx4.F5.4.m2.1.1.cmml" xref="Sx4.F5.4.m2.1.1"><lt id="Sx4.F5.4.m2.1.1.1.cmml" xref="Sx4.F5.4.m2.1.1.1"></lt><ci id="Sx4.F5.4.m2.1.1.2.cmml" xref="Sx4.F5.4.m2.1.1.2">𝑝</ci><cn type="float" id="Sx4.F5.4.m2.1.1.3.cmml" xref="Sx4.F5.4.m2.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx4.F5.4.m2.1d">p&lt;0.001</annotation></semantics></math> significance for BloodMNIST, DermaMNIST, PathMNIST, and TissueMNIST datasets</figcaption>
</figure>
<figure id="Sx4.F6" class="ltx_figure"><img src="/html/2110.07661/assets/correlation.png" id="Sx4.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="374" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Correlation of local conformal set size and entropy percentile for each of the four institutions (1 clean; 3 trained with 30% random labels).</figcaption>
</figure>
</section>
<section id="Sx5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Discussion</h2>

<div id="Sx5.p1" class="ltx_para">
<p id="Sx5.p1.1" class="ltx_p">We can evaluate and compare different methods of predictions sets by their cardinality (average number of elements in a prediction set) and coverage (probability that the true class is an element of the prediction set).
Ideally, we would also like prediction sets to be “adaptive” to communicate model uncertainty at an instance level (difficult cases should have larger confidence sets while easier cases should have fewer elements in their prediction sets) while still satisfying marginal coverage guarantees.
From the results of our experiments, which are summarized in Table <a href="#Sx4.T1" title="Table 1 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we can immediately see the naive baseline prediction sets as exceptionally conservative in coverage across all six datasets.
In order words, naively forming predictions sets using raw Softmax “probabilities” simply outputs all possible classes for each prediction for 100% coverage but useless for any kind of prediction task.
Our results validate previous studies on overconfident Softmax scores in deep neural networks <cite class="ltx_cite ltx_citemacro_citep">(Guo et al. <a href="#bib.bib9" title="" class="ltx_ref">2017</a>; Hendrycks and Gimpel <a href="#bib.bib11" title="" class="ltx_ref">2018</a>)</cite>.
While post-processing calibration techniques may produce more useful confidence sets, they do not offer the statistical guarantees provided by conformal prediction methods.</p>
</div>
<div id="Sx5.p2" class="ltx_para">
<p id="Sx5.p2.5" class="ltx_p">Next, we compare the two conformal prediction methods: prediction sets calibrated with a federated quantile and prediction sets calibrated with a local quantile.
As shown in Table <a href="#Sx4.T1" title="Table 1 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and <a href="#Sx4.F3" title="Figure 3 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, while all methods satisfy coverage properties (for example at a <math id="Sx5.p2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="Sx5.p2.1.m1.1a"><mi id="Sx5.p2.1.m1.1.1" xref="Sx5.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="Sx5.p2.1.m1.1b"><ci id="Sx5.p2.1.m1.1.1.cmml" xref="Sx5.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.p2.1.m1.1c">\alpha</annotation></semantics></math> threshold of 90%), both conformal methods have much tighter confidence sets in terms of empirical cardinality compared to the naive baseline (see Figure <a href="#Sx4.F4" title="Figure 4 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).
Additionally, federated conformal predictions have lower cardinality than local conformal predictions across MedMNIST datasets for at most <math id="Sx5.p2.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="Sx5.p2.2.m2.1a"><mi id="Sx5.p2.2.m2.1.1" xref="Sx5.p2.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="Sx5.p2.2.m2.1b"><ci id="Sx5.p2.2.m2.1.1.cmml" xref="Sx5.p2.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.p2.2.m2.1c">\alpha</annotation></semantics></math> levels (see Figure <a href="#Sx4.F4" title="Figure 4 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) – even when label noise was introduced to 30% of the validation set used to estimate the federated conformal prediction quantile.
Notably, our federated method performs remarkably well on both the BloodMNIST and PathMNIST datasets, which both have mostly equal distribution of classes (see Figure <a href="#Sx4.F2" title="Figure 2 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), achieving average prediction set sizes of <math id="Sx5.p2.3.m3.1" class="ltx_Math" alttext="2.3\pm 0.1" display="inline"><semantics id="Sx5.p2.3.m3.1a"><mrow id="Sx5.p2.3.m3.1.1" xref="Sx5.p2.3.m3.1.1.cmml"><mn id="Sx5.p2.3.m3.1.1.2" xref="Sx5.p2.3.m3.1.1.2.cmml">2.3</mn><mo id="Sx5.p2.3.m3.1.1.1" xref="Sx5.p2.3.m3.1.1.1.cmml">±</mo><mn id="Sx5.p2.3.m3.1.1.3" xref="Sx5.p2.3.m3.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="Sx5.p2.3.m3.1b"><apply id="Sx5.p2.3.m3.1.1.cmml" xref="Sx5.p2.3.m3.1.1"><csymbol cd="latexml" id="Sx5.p2.3.m3.1.1.1.cmml" xref="Sx5.p2.3.m3.1.1.1">plus-or-minus</csymbol><cn type="float" id="Sx5.p2.3.m3.1.1.2.cmml" xref="Sx5.p2.3.m3.1.1.2">2.3</cn><cn type="float" id="Sx5.p2.3.m3.1.1.3.cmml" xref="Sx5.p2.3.m3.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx5.p2.3.m3.1c">2.3\pm 0.1</annotation></semantics></math> and <math id="Sx5.p2.4.m4.1" class="ltx_Math" alttext="2\pm 0.1" display="inline"><semantics id="Sx5.p2.4.m4.1a"><mrow id="Sx5.p2.4.m4.1.1" xref="Sx5.p2.4.m4.1.1.cmml"><mn id="Sx5.p2.4.m4.1.1.2" xref="Sx5.p2.4.m4.1.1.2.cmml">2</mn><mo id="Sx5.p2.4.m4.1.1.1" xref="Sx5.p2.4.m4.1.1.1.cmml">±</mo><mn id="Sx5.p2.4.m4.1.1.3" xref="Sx5.p2.4.m4.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="Sx5.p2.4.m4.1b"><apply id="Sx5.p2.4.m4.1.1.cmml" xref="Sx5.p2.4.m4.1.1"><csymbol cd="latexml" id="Sx5.p2.4.m4.1.1.1.cmml" xref="Sx5.p2.4.m4.1.1.1">plus-or-minus</csymbol><cn type="integer" id="Sx5.p2.4.m4.1.1.2.cmml" xref="Sx5.p2.4.m4.1.1.2">2</cn><cn type="float" id="Sx5.p2.4.m4.1.1.3.cmml" xref="Sx5.p2.4.m4.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx5.p2.4.m4.1c">2\pm 0.1</annotation></semantics></math>, respectively, and having a much lower rate of set size with at lower <math id="Sx5.p2.5.m5.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="Sx5.p2.5.m5.1a"><mi id="Sx5.p2.5.m5.1.1" xref="Sx5.p2.5.m5.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="Sx5.p2.5.m5.1b"><ci id="Sx5.p2.5.m5.1.1.cmml" xref="Sx5.p2.5.m5.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.p2.5.m5.1c">\alpha</annotation></semantics></math> thresholds compared to local conformal prediction sets (see <a href="#Sx4.F4" title="Figure 4 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).
However, on both RetinaMNIST and OrganMNIST3d datasets, prediction sets formed using federated quantile estimate show a similar average set size as prediction sets formed with a local quantile estimate; however, both dataset also have (between 10-200 times) fewer cases than the other datasets.
As shown in Figure <a href="#Sx4.F5" title="Figure 5 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, both these smaller datasets have much larger variance bands for both coverage and prediction set size.
Therefore, we conclude that conformal methods outperform the naive baseline of forming prediction sets (RQ1) and that federated conformal prediction sets have smaller set sizes than local conformal prediction sets (RQ2) for datasets with a sufficient number of examples.</p>
</div>
<div id="Sx5.p3" class="ltx_para">
<p id="Sx5.p3.1" class="ltx_p">To answer RQ3, we plot each of the four institutions at different three different class entropy percentiles (50%, 75%, and 90%) each dataset (see Figure <a href="#Sx4.F6" title="Figure 6 ‣ Experiments ‣ Distribution-Free Federated Learning with Conformal Predictions" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>).
We confirm a positive relationship between between cardinality and epistemic model uncertainty, and also observe that conformal uncertainty to be robust to moderate levels of label corruption in the calibration set used to estimate the empirical quantile.</p>
</div>
</section>
<section id="Sx6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Conclusion</h2>

<div id="Sx6.p1" class="ltx_para">
<p id="Sx6.p1.1" class="ltx_p">We proposed a novel approach to combine FL with conformal prediction sets and empirically evaluated our method on several benchmark medical imaging datasets (MedMNIST) to demonstrate feasibility of conformal uncertainty in healthcare.
Additionally, we find a intuitive correspondence between conformal uncertainty and prediction task difficulty as measured by predictive class entropy.
Combining the benefits of federated training with conformal inference, our distribution-free method of uncertainty quantification is a simple and flexible technique that requires no direct modification to model training while retaining wide applicability for collaboratively developing FL models among healthcare institutions.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Angelopoulos et al. (2020)</span>
<span class="ltx_bibblock">
Angelopoulos, A.; Bates, S.; Malik, J.; and Jordan, M. I. 2020.

</span>
<span class="ltx_bibblock">Uncertainty Sets for Image Classifiers using Conformal Prediction.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2009.14193.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Angelopoulos and Bates (2021)</span>
<span class="ltx_bibblock">
Angelopoulos, A. N.; and Bates, S. 2021.

</span>
<span class="ltx_bibblock">A Gentle Introduction to Conformal Prediction and Distribution-Free
Uncertainty Quantification.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bates et al. (2021)</span>
<span class="ltx_bibblock">
Bates, S.; Angelopoulos, A. N.; Lei, L.; Malik, J.; and Jordan, M. I. 2021.

</span>
<span class="ltx_bibblock">Distribution Free, Risk Controlling Prediction Sets.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bhatt et al. (2021)</span>
<span class="ltx_bibblock">
Bhatt, U.; Antorán, J.; Zhang, Y.; Liao, Q. V.; Sattigeri, P.; Fogliato, R.;
Melançon, G. G.; Krishnan, R.; Stanley, J.; Tickoo, O.; Nachman, L.;
Chunara, R.; Srikumar, M.; Weller, A.; and Xiang, A. 2021.

</span>
<span class="ltx_bibblock">Uncertainty as a Form of Transparency: Measuring, Communicating, and
Using Uncertainty.

</span>
<span class="ltx_bibblock">arXiv:2011.07586.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cauchois, Gupta, and Duchi (2020)</span>
<span class="ltx_bibblock">
Cauchois, M.; Gupta, S.; and Duchi, J. 2020.

</span>
<span class="ltx_bibblock">Knowing what you know: valid and validated confidence sets in
multiclass and multilabel prediction.

</span>
<span class="ltx_bibblock">arXiv:2004.10181.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Corbière et al. (2019)</span>
<span class="ltx_bibblock">
Corbière, C.; Thome, N.; Bar-Hen, A.; Cord, M.; and Pérez, P. 2019.

</span>
<span class="ltx_bibblock">Addressing Failure Prediction by Learning Model Confidence.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gal and Ghahramani (2015)</span>
<span class="ltx_bibblock">
Gal, Y.; and Ghahramani, Z. 2015.

</span>
<span class="ltx_bibblock">Dropout as a Bayesian Approximation: Representing Model Uncertainty
in Deep Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of The 33rd International Conference on Machine
Learning</em>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghassemi et al. (2019)</span>
<span class="ltx_bibblock">
Ghassemi, M.; Naumann, T.; Schulam, P.; Beam, A. L.; Chen, I. Y.; and
Ranganath, R. 2019.

</span>
<span class="ltx_bibblock">A Review of Challenges and Opportunities in Machine Learning for
Health.

</span>
<span class="ltx_bibblock">arXiv:1806.00388.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2017)</span>
<span class="ltx_bibblock">
Guo, C.; Pleiss, G.; Sun, Y.; and Weinberger, K. Q. 2017.

</span>
<span class="ltx_bibblock">On Calibration of Modern Neural Networks.

</span>
<span class="ltx_bibblock">arXiv:1706.04599.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2016)</span>
<span class="ltx_bibblock">
He, K.; Zhang, X.; Ren, S.; and Sun, J. 2016.

</span>
<span class="ltx_bibblock">Deep Residual Learning for Image Recognition.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">2016 IEEE Conference on Computer Vision and Pattern Recognition
(CVPR)</em>, 770–778.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks and Gimpel (2018)</span>
<span class="ltx_bibblock">
Hendrycks, D.; and Gimpel, K. 2018.

</span>
<span class="ltx_bibblock">A Baseline for Detecting Misclassified and Out-of-Distribution
Examples in Neural Networks.

</span>
<span class="ltx_bibblock">arXiv:1610.02136.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lakshminarayanan, Roy, and Teh (2016)</span>
<span class="ltx_bibblock">
Lakshminarayanan, B.; Roy, D. M.; and Teh, Y. W. 2016.

</span>
<span class="ltx_bibblock">Mondrian Forests for Large-Scale Regression when Uncertainty Matters.

</span>
<span class="ltx_bibblock">In Gretton, A.; and Robert, C. C., eds., <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
19th International Conference on Artificial Intelligence and Statistics</em>,
volume 51 of <em id="bib.bib12.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, 1478–1487.
Cadiz, Spain: PMLR.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lei et al. (2017)</span>
<span class="ltx_bibblock">
Lei, J.; G’Sell, M.; Rinaldo, A.; Tibshirani, R. J.; and Wasserman, L. 2017.

</span>
<span class="ltx_bibblock">Distribution-Free Predictive Inference For Regression.

</span>
<span class="ltx_bibblock">arXiv:1604.04173.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2021)</span>
<span class="ltx_bibblock">
Lu, C.; Lemay, A.; Chang, K.; Hoebel, K.; and Kalpathy-Cramer, J. 2021.

</span>
<span class="ltx_bibblock">Fair Conformal Predictors for Applications in Medical Imaging.

</span>
<span class="ltx_bibblock">arXiv:2109.04392.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lundervold and Lundervold (2019)</span>
<span class="ltx_bibblock">
Lundervold, A. S.; and Lundervold, A. 2019.

</span>
<span class="ltx_bibblock">An overview of deep learning in medical imaging focusing on MRI.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Zeitschrift für Medizinische Physik</em>, 29(2): 102–127.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2021)</span>
<span class="ltx_bibblock">
Luo, M.; Chen, F.; Hu, D.; Zhang, Y.; Liang, J.; and Feng, J. 2021.

</span>
<span class="ltx_bibblock">No Fear of Heterogeneity: Classifier Calibration for Federated
Learning with Non-IID Data.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2106.05001.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, H. B.; Moore, E.; Ramage, D.; Hampson, S.; and y Arcas, B. A. 2017.

</span>
<span class="ltx_bibblock">Communication-Efficient Learning of Deep Networks from Decentralized
Data.

</span>
<span class="ltx_bibblock">arXiv:1602.05629.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Papadopoulos et al. (2002)</span>
<span class="ltx_bibblock">
Papadopoulos, H.; Proedrou, K.; Vovk, V.; and Gammerman, A. 2002.

</span>
<span class="ltx_bibblock">Inductive Confidence Machines for Regression.

</span>
<span class="ltx_bibblock">In Elomaa, T.; Mannila, H.; and Toivonen, H., eds., <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Machine
Learning: ECML 2002</em>, 345–356. Berlin, Heidelberg: Springer Berlin
Heidelberg.

</span>
<span class="ltx_bibblock">ISBN 978-3-540-36755-0.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rieke et al. (2020)</span>
<span class="ltx_bibblock">
Rieke, N.; Hancox, J.; Li, W.; Milletari, F.; Roth, H.; Albarqouni, S.; Bakas,
S.; Galtier, M.; Landman, B.; Maier-Hein, K.; Ourselin, S.; Sheller, M.;
Summers, R.; Trask, A.; Xu, D.; Baust, M.; and Cardoso, M. J. 2020.

</span>
<span class="ltx_bibblock">The future of digital health with federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">npj Digital Medicine</em>, 3.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Romano, Patterson, and Candès (2019)</span>
<span class="ltx_bibblock">
Romano, Y.; Patterson, E.; and Candès, E. J. 2019.

</span>
<span class="ltx_bibblock">Conformalized Quantile Regression.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Romano, Sesia, and Candès (2020)</span>
<span class="ltx_bibblock">
Romano, Y.; Sesia, M.; and Candès, E. J. 2020.

</span>
<span class="ltx_bibblock">Classification with Valid and Adaptive Coverage.

</span>
<span class="ltx_bibblock">arXiv:2006.02544.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh et al. (2020)</span>
<span class="ltx_bibblock">
Singh, S. P.; Wang, L.; Gupta, S.; Goli, H.; Padmanabhan, P.; and Gulyás, B.
2020.

</span>
<span class="ltx_bibblock">3D Deep Learning on Medical Images: A Review.

</span>
<span class="ltx_bibblock">arXiv:2004.00218.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Spjuth, Carlsson, and Gauraha (2018)</span>
<span class="ltx_bibblock">
Spjuth, O.; Carlsson, L.; and Gauraha, N. 2018.

</span>
<span class="ltx_bibblock">Aggregating Predictions on Multiple Non-disclosed Datasets using
Conformal Prediction.

</span>
<span class="ltx_bibblock">arXiv:1806.04000.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vovk (2012)</span>
<span class="ltx_bibblock">
Vovk, V. 2012.

</span>
<span class="ltx_bibblock">Conditional validity of inductive conformal predictors.

</span>
<span class="ltx_bibblock">arXiv:1209.2673.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vovk, Gammerman, and Shafer (2005)</span>
<span class="ltx_bibblock">
Vovk, V.; Gammerman, A.; and Shafer, G. 2005.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Algorithmic Learning in a Random World</em>.

</span>
<span class="ltx_bibblock">Berlin, Heidelberg: Springer-Verlag.

</span>
<span class="ltx_bibblock">ISBN 0387001522.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu and Wang (2019)</span>
<span class="ltx_bibblock">
Xu, J.; and Wang, F. 2019.

</span>
<span class="ltx_bibblock">Federated Learning for Healthcare Informatics.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1911.06270.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang, Shi, and Ni (2021)</span>
<span class="ltx_bibblock">
Yang, J.; Shi, R.; and Ni, B. 2021.

</span>
<span class="ltx_bibblock">MedMNIST Classification Decathlon: A Lightweight AutoML Benchmark for
Medical Image Analysis.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">IEEE 18th International Symposium on Biomedical Imaging
(ISBI)</em>, 191–195.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yurochkin et al. (2019)</span>
<span class="ltx_bibblock">
Yurochkin, M.; Agarwal, M.; Ghosh, S.; Greenewald, K.; Hoang, N.; and Khazaeni,
Y. 2019.

</span>
<span class="ltx_bibblock">Bayesian Nonparametric Federated Learning of Neural Networks.

</span>
<span class="ltx_bibblock">In Chaudhuri, K.; and Salakhutdinov, R., eds., <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Proceedings of
the 36th International Conference on Machine Learning</em>, volume 97 of
<em id="bib.bib28.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, 7252–7261. PMLR.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2110.07660" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2110.07661" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2110.07661">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2110.07661" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2110.07662" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar 19 15:26:36 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
