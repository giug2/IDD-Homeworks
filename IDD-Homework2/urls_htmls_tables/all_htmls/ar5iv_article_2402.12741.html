<article class="ltx_document ltx_pruned_first">
 <h1 class="ltx_title ltx_title_document">
  MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Sen Li
   </span>
  </span>
  <span class="ltx_author_before">
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Ruochen Wang
   </span>
  </span>
  <span class="ltx_author_before">
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Cho-Jui Hsieh
   </span>
  </span>
  <span class="ltx_author_before">
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Minhao Cheng
   </span>
  </span>
  <span class="ltx_author_before">
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Tianyi Zhou
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id1.id1">
   Existing text-to-image models still struggle to generate images of multiple objects, especially in handling their spatial positions, relative sizes, overlapping, and attribute bindings.
In this paper, we develop a training-free
   <span class="ltx_text ltx_font_bold" id="id1.id1.1">
    Mu
   </span>
   ltimodal-
   <span class="ltx_text ltx_font_bold" id="id1.id1.2">
    L
   </span>
   LM
   <span class="ltx_text ltx_font_bold" id="id1.id1.3">
    a
   </span>
   ge
   <span class="ltx_text ltx_font_bold" id="id1.id1.4">
    n
   </span>
   t (MuLan) to address these challenges by progressive multi-object generation with planning and feedback control, like a human painter.
MuLan harnesses a large language model (LLM) to decompose a prompt to a sequence of sub-tasks, each generating only one object conditioned on previously generated objects by stable diffusion.
Unlike existing LLM-grounded methods, MuLan only produces a high-level plan at the beginning while the exact size and location of each object are determined by an LLM and attention guidance upon each sub-task.
Moreover, MuLan adopts a vision-language model (VLM) to provide feedback to the image generated in each sub-task and control the diffusion model to re-generate the image if it violates the original prompt.
Hence, each model in every step of MuLan only needs to address an easy sub-task it is specialized for.
We collect 200 prompts containing multi-objects with spatial relationships and attribute bindings from different benchmarks to evaluate MuLan. The results demonstrate the superiority of MuLan in generating multiple objects over baselines. The code is available on
   <a class="ltx_ref ltx_url ltx_font_typewriter" href="https:github.com/measure-infinity/mulan-code" target="_blank" title="">
    https:github.com/measure-infinity/mulan-code
   </a>
   .
  </p>
 </div>
 <div class="ltx_keywords">
  Computer Vision, Machine Learning, ICML
 </div>
 <div class="ltx_para" id="p2">
  <br class="ltx_break"/>
 </div>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    1
   </span>
   Introduction
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    Diffusion models
    <cite class="ltx_cite ltx_citemacro_citep">
     (Sohl-Dickstein et al.,
     <a class="ltx_ref" href="#bib.bib19" title="">
      2015
     </a>
     ; Ho et al.,
     <a class="ltx_ref" href="#bib.bib9" title="">
      2020
     </a>
     ; Song et al.,
     <a class="ltx_ref" href="#bib.bib20" title="">
      2020
     </a>
     )
    </cite>
    have shown growing potential in generative AI tasks, especially in creating diverse and high-quality images with text prompts
    <cite class="ltx_cite ltx_citemacro_citep">
     (Saharia et al.,
     <a class="ltx_ref" href="#bib.bib18" title="">
      2022
     </a>
     ; Rombach et al.,
     <a class="ltx_ref" href="#bib.bib17" title="">
      2022
     </a>
     )
    </cite>
    . However, current state-of-the-art text-to-image (T2I) models such as Stable Diffusion
    <cite class="ltx_cite ltx_citemacro_citep">
     (Rombach et al.,
     <a class="ltx_ref" href="#bib.bib17" title="">
      2022
     </a>
     )
    </cite>
    and DALL-E 3
    <cite class="ltx_cite ltx_citemacro_citep">
     (Betker et al.,
     <a class="ltx_ref" href="#bib.bib2" title="">
      2023
     </a>
     )
    </cite>
    still struggle to deal with complicated prompts involving multiple objects and lack precise control of their spatial relations, potential occlusions, relative sizes, etc.
As shown in Figure
    <a class="ltx_ref" href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      2
     </span>
    </a>
    , to generate a sketch of “The orange pumpkin is on the right side of the black door”, even the SOTA open-source T2I model, Stable Diffusion XL
    <cite class="ltx_cite ltx_citemacro_citep">
     (Podell et al.,
     <a class="ltx_ref" href="#bib.bib16" title="">
      2023
     </a>
     )
    </cite>
    , still generates wrong attribute-binding as well as incorrect spatial positions of several objects.
   </p>
  </div>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    Among works that aim to improve the controllability of T2I models on complicated prompts, a recent promising line of research seeks to utilize large language models (LLMs), e.g., ChatGPT, GPT-4
    <cite class="ltx_cite ltx_citemacro_citep">
     (Achiam et al.,
     <a class="ltx_ref" href="#bib.bib1" title="">
      2023
     </a>
     )
    </cite>
    , to guide the generation process
    <cite class="ltx_cite ltx_citemacro_citep">
     (Lian et al.,
     <a class="ltx_ref" href="#bib.bib12" title="">
      2023
     </a>
     ; Feng et al.,
     <a class="ltx_ref" href="#bib.bib6" title="">
      2023
     </a>
     )
    </cite>
    . Specifically, an LLM is prompted to generate a layout for the given prompt, i.e., a bounding box for each object in the image, given detailed instructions or demonstrations if necessary.
However, due to the limited spatial reasoning capability of LLMs as well as their lack of alignment with the diffusion models, it is still challenging for LLMs to directly generate a complete and precise layout for multiple objects. Without a feedback loop interacting with the generative process, the layout’s possible mistakes cannot be effectively detected and corrected.
Moreover, the layout is often applied as an extra condition in addition to the original prompt (e.g., bounding boxes combined with GLIGEN
    <cite class="ltx_cite ltx_citemacro_citep">
     (Li et al.,
     <a class="ltx_ref" href="#bib.bib11" title="">
      2023
     </a>
     )
    </cite>
    ), so the diffusion models may still generate an incorrect image due to its misunderstanding of the complicated prompt.
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <p class="ltx_p ltx_align_center ltx_align_center" id="S1.F1.1.1">
    <span class="ltx_text" id="S1.F1.1.1.1">
     <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="344" id="S1.F1.1.1.1.g1" src="/html/2402.12741/assets/framework.png" width="509"/>
    </span>
   </p>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1:
    </span>
    The proposed training-free Multimodal-LLM Agent (MuLan) for Progressive Multi-Object Diffusion. MuLan consists of three main components: (1) LLM planning; (2) Single-object diffusion with attention guidance; and (3) VLM-feedback control. MuLan first decomposes a complicated prompt into a sequence of sub-prompts each for one object, and then generates one object per step conditioned on a sub-prompt and previously generated objects, where LLM plans the rough layout of the object and attention guidance provides an accurate mask for it. The VLM-feedback control allows MuLan to correct mistakes in each step by adjusting hyperparameters in (2).
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    To address the limitations and challenges of previous methods, we develop a training-free and controllable T2I generation paradigm that does not require demonstrations but mainly focuses on improving the tool usage of existing models. Our paradigm is built upon a progressive multi-object generation by a Multimodal-LLM agent (MuLan), which generates only one object per stage, conditioned on generated objects in the image and attention masks of the most plausible positions to place the new object.
Unlike previous methods that add conditions to each model and make the task even more challenging, MuLan uses an LLM as a planner decomposing the original T2I task into a sequence of easier subtasks. Each subtask generates one single object, which can be easily handled by diffusion models.
To be noted, the LLM applied at the beginning of MuLan only focuses on high-level planning rather than a precise layout of bounding boxes, while the exact size and position of each object are determined later in each stage by LLM and attention guidance based on the generated objects in the image.
Hence, we can avoid mistakes in the planning stage and find a better placement for each object adaptive to the generated content and adhering to the original prompt.
In addition, MuLan builds a feedback loop monitoring the generation process, which assesses the generated image per stage using a vision-language model (VLM).
When the generated image violates the prompt, the VLM will adjust the diffusion model to re-generate the image so any mistake can be corrected before moving to the next stage.
Furthermore, we develop a strategy applied in each stage to handle the overlapping between objects, which is commonly ignored by previous work
    <cite class="ltx_cite ltx_citemacro_citep">
     (Lian et al.,
     <a class="ltx_ref" href="#bib.bib12" title="">
      2023
     </a>
     )
    </cite>
    .
   </p>
  </div>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    Therefore, MuLan obtains better controllability of the multi-object composition. An illustration of the progressive generation process is shown in Figure
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    . To evaluate MuLan, we curate a dataset of intricate and challenging prompts from different benchmarks.
To compare MuLan with existing approaches, we prompt GPT-4V
    <cite class="ltx_cite ltx_citemacro_citep">
     (OpenAI,
     <a class="ltx_ref" href="#bib.bib15" title="">
      2023
     </a>
     )
    </cite>
    several questions based on the input texts to comprehensively evaluate the alignment of the generated images with the prompts from three aspects. We further conduct human evaluations of the generated images.
Extensive experimental results show that MuLan can achieve better controllability over the generation process and generate high-quality images aligning better with the prompts than the baselines.
Example images generated by different methods are shown in Figure
    <a class="ltx_ref" href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      2
     </span>
    </a>
    .
Our main contributions are summarized as follows:
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F2">
   <br class="ltx_break"/>
   <p class="ltx_p ltx_align_center ltx_align_center" id="S1.F2.1.1">
    <span class="ltx_text" id="S1.F2.1.1.1">
     <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="162" id="S1.F2.1.1.1.g1" src="/html/2402.12741/assets/illustration.png" width="598"/>
    </span>
   </p>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 2:
    </span>
    Examples of MuLan-generated images, compared to the original SD-v1.4
    <cite class="ltx_cite ltx_citemacro_citep">
     (Rombach et al.,
     <a class="ltx_ref" href="#bib.bib17" title="">
      2022
     </a>
     )
    </cite>
    , the original SDXL
    <cite class="ltx_cite ltx_citemacro_citep">
     (Podell et al.,
     <a class="ltx_ref" href="#bib.bib16" title="">
      2023
     </a>
     )
    </cite>
    , Structure diffusion
    <cite class="ltx_cite ltx_citemacro_citep">
     (Feng et al.,
     <a class="ltx_ref" href="#bib.bib5" title="">
      2022
     </a>
     )
    </cite>
    , Promptist
    <cite class="ltx_cite ltx_citemacro_citep">
     (Hao et al.,
     <a class="ltx_ref" href="#bib.bib7" title="">
      2022
     </a>
     )
    </cite>
    , and PixArt-
    <math alttext="\alpha" class="ltx_Math" display="inline" id="S1.F2.3.3.m1.1">
     <semantics id="S1.F2.3.3.m1.1b">
      <mi id="S1.F2.3.3.m1.1.1" xref="S1.F2.3.3.m1.1.1.cmml">
       α
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.F2.3.3.m1.1c">
       <ci id="S1.F2.3.3.m1.1.1.cmml" xref="S1.F2.3.3.m1.1.1">
        𝛼
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.F2.3.3.m1.1d">
       \alpha
      </annotation>
     </semantics>
    </math>
    <cite class="ltx_cite ltx_citemacro_citep">
     (Chen et al.,
     <a class="ltx_ref" href="#bib.bib3" title="">
      2023
     </a>
     )
    </cite>
    .
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p5">
   <ul class="ltx_itemize" id="S1.I1">
    <li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i1.p1">
      <p class="ltx_p" id="S1.I1.i1.p1.1">
       We propose a novel training-free paradigm for text-to-image generation and a Multimodal-LLM agent. It achieves better control in generating images for complicated prompts consisting of multiple objects with specified spatial relationships and attribute bindings.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i2.p1">
      <p class="ltx_p" id="S1.I1.i2.p1.1">
       We propose an effective strategy to handle multi-object occlusion in T2I generation, which improves the image quality and makes them more realistic.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i3.p1">
      <p class="ltx_p" id="S1.I1.i3.p1.1">
       We curate a dataset of prompts to evaluate multi-object composition with spatial relationships and attribute bindings in T2I tasks. The quantitative results and human evaluation results show that our method can achieve better results compared to different controllable generation methods and general T2I generation methods.
      </p>
     </div>
    </li>
   </ul>
  </div>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    2
   </span>
   Related Work
  </h2>
  <section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
   <h4 class="ltx_title ltx_title_paragraph">
    Diffusion models
   </h4>
   <div class="ltx_para" id="S2.SS0.SSS0.Px1.p1">
    <p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">
     As a new family of generative models, diffusion models have attracting more and more attention due to its powerful creative capability. Text-to-image generation, which aims to generate the high-quality image aligning with given text prompts, is one of the most popular applications
     <cite class="ltx_cite ltx_citemacro_citep">
      (Nichol et al.,
      <a class="ltx_ref" href="#bib.bib14" title="">
       2021
      </a>
      ; Saharia et al.,
      <a class="ltx_ref" href="#bib.bib18" title="">
       2022
      </a>
      ; Rombach et al.,
      <a class="ltx_ref" href="#bib.bib17" title="">
       2022
      </a>
      ; Betker et al.,
      <a class="ltx_ref" href="#bib.bib2" title="">
       2023
      </a>
      )
     </cite>
     . Among different powerful diffusion models, the latent diffusion model
     <cite class="ltx_cite ltx_citemacro_citep">
      (Rombach et al.,
      <a class="ltx_ref" href="#bib.bib17" title="">
       2022
      </a>
      )
     </cite>
     has shown amazing capability and has been widely used in practice due to the efficiency and superior performance, which is also the backbone of the current SOTA stable diffusion models. Different from the typical diffusion models which directly perform the diffusion and denoising process in the pixel space, the latent diffusion model perform the whole process in the encoded latent space
     <cite class="ltx_cite ltx_citemacro_citep">
      (Rombach et al.,
      <a class="ltx_ref" href="#bib.bib17" title="">
       2022
      </a>
      )
     </cite>
     , which can greatly reduce the training and inference time. Recently, empowered by a significantly expanded model capacity, Stable Diffusion XL has demonstrated performance levels approaching commercial application standards
     <cite class="ltx_cite ltx_citemacro_citep">
      (Podell et al.,
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      )
     </cite>
     .
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
   <h4 class="ltx_title ltx_title_paragraph">
    Composed generation in diffusion models
   </h4>
   <div class="ltx_para" id="S2.SS0.SSS0.Px2.p1">
    <p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">
     Although Stable Diffusion model has shown unprecedented performance on the T2I generation task, it still struggles with text prompts with multi-object, especially when there are several spatial relationships and attribute bindings in the prompts. To achieve more controllable and accurate image compositions, many compositional generation methods have been proposed. StructureDiffusion
     <cite class="ltx_cite ltx_citemacro_citep">
      (Feng et al.,
      <a class="ltx_ref" href="#bib.bib5" title="">
       2022
      </a>
      )
     </cite>
     proposed a training-free method to parse the input prompt and combine it with the cross-attention to achieve better control over attribute bindings and compositional generation. On the other hand, Promptist
     <cite class="ltx_cite ltx_citemacro_citep">
      (Hao et al.,
      <a class="ltx_ref" href="#bib.bib7" title="">
       2022
      </a>
      )
     </cite>
     aimed to train a language model with the objective of optimizing input prompts, rendering them more comprehensible and facilitative for diffusion models. Recently, several works utilize the large language model to directly generate the whole layout for the input prompt with in-context learning, and then generate the image conditioned on the layout
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lian et al.,
      <a class="ltx_ref" href="#bib.bib12" title="">
       2023
      </a>
      ; Feng et al.,
      <a class="ltx_ref" href="#bib.bib6" title="">
       2023
      </a>
      )
     </cite>
     . While all the previous take the whole input prompt, we propose to turn the original complicated task into several easier sub-tasks.
A training-free multimodal-LLM agent is utilized to progressively generate objects with feedback control so that the whole generation process would be better controlled.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    3
   </span>
   Multimodal-LLM Agent (MuLan)
  </h2>
  <div class="ltx_para" id="S3.p1">
   <p class="ltx_p" id="S3.p1.1">
    Existing diffusion models often struggle with complicated prompts but can handle simpler ones. Recent approaches train a model or apply in-context learning given similar examples to produce a detailed layout for the prompt in advance and the diffusion model can generate each part of the layout with a simpler prompt separately.
Rather than generating all objects at once or in parallel, MuLan is inspired by many human painters, who start by making a high-level plan, painting objects one after another as planned, and correcting mistakes after each step if needed. Thereby, the constraints between objects can be naturally taken into account.
   </p>
  </div>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.1
    </span>
    Problem Formulation
   </h3>
   <div class="ltx_para" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     Likewise, MuLan begins by strategically planning and decomposing an intricate input prompt into a manageable sequence of sub-prompts, each focusing on an easier sub-task generating one single object. MuLan then adopts a progressive strategy that generates one object in each stage conditioned on previously generated objects using a diffusion model. Simultaneously, a VLM offers insightful feedback and adaptively adjusts the generation process to guarantee precision in accomplishing each subtask.
Compared to previous methods, MuLan is entirely training-free and does not require any examples.
As illustrated in Fig.
     <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     , MuLan is composed of three components:
    </p>
    <ul class="ltx_itemize" id="S3.I1">
     <li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S3.I1.i1.p1">
       <p class="ltx_p" id="S3.I1.i1.p1.1">
        <span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.1.1">
         Prompt decomposition by LLM planning
        </span>
        , which produces a sequence of sub-prompts, each focusing on generating one object in the prompt.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S3.I1.i2.p1">
       <p class="ltx_p" id="S3.I1.i2.p1.1">
        <span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.1.1">
         Conditional single-object diffusion with LLM planning and attention guidance
        </span>
        , which generates a new object conditioned on the previous step’s image using a stable diffusion model. While a sub-prompt from LLM planning provides text guidance, the object’s size and position are controlled by an attention mask.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S3.I1.i3.p1">
       <p class="ltx_p" id="S3.I1.i3.p1.1">
        <span class="ltx_text ltx_font_bold" id="S3.I1.i3.p1.1.1">
         VLM-feedback control
        </span>
        , which inspects the image generated per stage and adjusts hyperparameters to re-generate the image if it violates the original prompt.
       </p>
      </div>
     </li>
    </ul>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.2
    </span>
    Background on (Latent) Diffusion Models
   </h3>
   <div class="ltx_para" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.10">
     Consisting of the diffusion process and the reverse process, diffusion models have shown impressive capability for high-quality image generation by iteratively adding noise and denoising
     <cite class="ltx_cite ltx_citemacro_citep">
      (Ho et al.,
      <a class="ltx_ref" href="#bib.bib9" title="">
       2020
      </a>
      )
     </cite>
     . Let
     <math alttext="\bm{x}_{0}\sim q(\bm{x}_{0})" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1">
      <semantics id="S3.SS2.p1.1.m1.1a">
       <mrow id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">
        <msub id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml">
         <mi id="S3.SS2.p1.1.m1.1.1.3.2" xref="S3.SS2.p1.1.m1.1.1.3.2.cmml">
          𝒙
         </mi>
         <mn id="S3.SS2.p1.1.m1.1.1.3.3" xref="S3.SS2.p1.1.m1.1.1.3.3.cmml">
          0
         </mn>
        </msub>
        <mo id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">
         ∼
        </mo>
        <mrow id="S3.SS2.p1.1.m1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.cmml">
         <mi id="S3.SS2.p1.1.m1.1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.1.3.cmml">
          q
         </mi>
         <mo id="S3.SS2.p1.1.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.SS2.p1.1.m1.1.1.1.2.cmml">
          ​
         </mo>
         <mrow id="S3.SS2.p1.1.m1.1.1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.cmml">
          <mo id="S3.SS2.p1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.cmml">
           (
          </mo>
          <msub id="S3.SS2.p1.1.m1.1.1.1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.cmml">
           <mi id="S3.SS2.p1.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.2.cmml">
            𝒙
           </mi>
           <mn id="S3.SS2.p1.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="S3.SS2.p1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b">
        <apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">
         <csymbol cd="latexml" id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">
          similar-to
         </csymbol>
         <apply id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3">
          <csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS2.p1.1.m1.1.1.3">
           subscript
          </csymbol>
          <ci id="S3.SS2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS2.p1.1.m1.1.1.3.2">
           𝒙
          </ci>
          <cn id="S3.SS2.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p1.1.m1.1.1.3.3">
           0
          </cn>
         </apply>
         <apply id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1">
          <times id="S3.SS2.p1.1.m1.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.1.2">
          </times>
          <ci id="S3.SS2.p1.1.m1.1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.1.3">
           𝑞
          </ci>
          <apply id="S3.SS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.p1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.2">
            𝒙
           </ci>
           <cn id="S3.SS2.p1.1.m1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS2.p1.1.m1.1.1.1.1.1.1.3">
            0
           </cn>
          </apply>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">
        \bm{x}_{0}\sim q(\bm{x}_{0})
       </annotation>
      </semantics>
     </math>
     be the true data distribution. Starting from
     <math alttext="\bm{x}_{0}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1">
      <semantics id="S3.SS2.p1.2.m2.1a">
       <msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">
        <mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">
         𝒙
        </mi>
        <mn id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">
         0
        </mn>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b">
        <apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">
         <csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">
          𝒙
         </ci>
         <cn id="S3.SS2.p1.2.m2.1.1.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.1.1.3">
          0
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">
        \bm{x}_{0}
       </annotation>
      </semantics>
     </math>
     , the diffusion process adds different levels of noise pre-defined by the schedule
     <math alttext="\{\beta_{t}\}_{1}^{T}" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1">
      <semantics id="S3.SS2.p1.3.m3.1a">
       <msubsup id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">
        <mrow id="S3.SS2.p1.3.m3.1.1.1.1.1" xref="S3.SS2.p1.3.m3.1.1.1.1.2.cmml">
         <mo id="S3.SS2.p1.3.m3.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.3.m3.1.1.1.1.2.cmml">
          {
         </mo>
         <msub id="S3.SS2.p1.3.m3.1.1.1.1.1.1" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1.cmml">
          <mi id="S3.SS2.p1.3.m3.1.1.1.1.1.1.2" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1.2.cmml">
           β
          </mi>
          <mi id="S3.SS2.p1.3.m3.1.1.1.1.1.1.3" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1.3.cmml">
           t
          </mi>
         </msub>
         <mo id="S3.SS2.p1.3.m3.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.3.m3.1.1.1.1.2.cmml">
          }
         </mo>
        </mrow>
        <mn id="S3.SS2.p1.3.m3.1.1.1.3" xref="S3.SS2.p1.3.m3.1.1.1.3.cmml">
         1
        </mn>
        <mi id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml">
         T
        </mi>
       </msubsup>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b">
        <apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">
         <csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1">
          superscript
         </csymbol>
         <apply id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1">
           subscript
          </csymbol>
          <set id="S3.SS2.p1.3.m3.1.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.1">
           <apply id="S3.SS2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="S3.SS2.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1.2">
             𝛽
            </ci>
            <ci id="S3.SS2.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.1.1.3">
             𝑡
            </ci>
           </apply>
          </set>
          <cn id="S3.SS2.p1.3.m3.1.1.1.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.1.1.1.3">
           1
          </cn>
         </apply>
         <ci id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3">
          𝑇
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">
        \{\beta_{t}\}_{1}^{T}
       </annotation>
      </semantics>
     </math>
     , producing
     <math alttext="\bm{x}_{1},\cdots,\bm{x}_{T}" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.3">
      <semantics id="S3.SS2.p1.4.m4.3a">
       <mrow id="S3.SS2.p1.4.m4.3.3.2" xref="S3.SS2.p1.4.m4.3.3.3.cmml">
        <msub id="S3.SS2.p1.4.m4.2.2.1.1" xref="S3.SS2.p1.4.m4.2.2.1.1.cmml">
         <mi id="S3.SS2.p1.4.m4.2.2.1.1.2" xref="S3.SS2.p1.4.m4.2.2.1.1.2.cmml">
          𝒙
         </mi>
         <mn id="S3.SS2.p1.4.m4.2.2.1.1.3" xref="S3.SS2.p1.4.m4.2.2.1.1.3.cmml">
          1
         </mn>
        </msub>
        <mo id="S3.SS2.p1.4.m4.3.3.2.3" xref="S3.SS2.p1.4.m4.3.3.3.cmml">
         ,
        </mo>
        <mi id="S3.SS2.p1.4.m4.1.1" mathvariant="normal" xref="S3.SS2.p1.4.m4.1.1.cmml">
         ⋯
        </mi>
        <mo id="S3.SS2.p1.4.m4.3.3.2.4" xref="S3.SS2.p1.4.m4.3.3.3.cmml">
         ,
        </mo>
        <msub id="S3.SS2.p1.4.m4.3.3.2.2" xref="S3.SS2.p1.4.m4.3.3.2.2.cmml">
         <mi id="S3.SS2.p1.4.m4.3.3.2.2.2" xref="S3.SS2.p1.4.m4.3.3.2.2.2.cmml">
          𝒙
         </mi>
         <mi id="S3.SS2.p1.4.m4.3.3.2.2.3" xref="S3.SS2.p1.4.m4.3.3.2.2.3.cmml">
          T
         </mi>
        </msub>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.3b">
        <list id="S3.SS2.p1.4.m4.3.3.3.cmml" xref="S3.SS2.p1.4.m4.3.3.2">
         <apply id="S3.SS2.p1.4.m4.2.2.1.1.cmml" xref="S3.SS2.p1.4.m4.2.2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.2.2.1.1.1.cmml" xref="S3.SS2.p1.4.m4.2.2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.p1.4.m4.2.2.1.1.2.cmml" xref="S3.SS2.p1.4.m4.2.2.1.1.2">
           𝒙
          </ci>
          <cn id="S3.SS2.p1.4.m4.2.2.1.1.3.cmml" type="integer" xref="S3.SS2.p1.4.m4.2.2.1.1.3">
           1
          </cn>
         </apply>
         <ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">
          ⋯
         </ci>
         <apply id="S3.SS2.p1.4.m4.3.3.2.2.cmml" xref="S3.SS2.p1.4.m4.3.3.2.2">
          <csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.3.3.2.2.1.cmml" xref="S3.SS2.p1.4.m4.3.3.2.2">
           subscript
          </csymbol>
          <ci id="S3.SS2.p1.4.m4.3.3.2.2.2.cmml" xref="S3.SS2.p1.4.m4.3.3.2.2.2">
           𝒙
          </ci>
          <ci id="S3.SS2.p1.4.m4.3.3.2.2.3.cmml" xref="S3.SS2.p1.4.m4.3.3.2.2.3">
           𝑇
          </ci>
         </apply>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.3c">
        \bm{x}_{1},\cdots,\bm{x}_{T}
       </annotation>
      </semantics>
     </math>
     . As
     <math alttext="T\to\infty" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m5.1">
      <semantics id="S3.SS2.p1.5.m5.1a">
       <mrow id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">
        <mi id="S3.SS2.p1.5.m5.1.1.2" xref="S3.SS2.p1.5.m5.1.1.2.cmml">
         T
        </mi>
        <mo id="S3.SS2.p1.5.m5.1.1.1" stretchy="false" xref="S3.SS2.p1.5.m5.1.1.1.cmml">
         →
        </mo>
        <mi id="S3.SS2.p1.5.m5.1.1.3" mathvariant="normal" xref="S3.SS2.p1.5.m5.1.1.3.cmml">
         ∞
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b">
        <apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">
         <ci id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1">
          →
         </ci>
         <ci id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2">
          𝑇
         </ci>
         <infinity id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3">
         </infinity>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">
        T\to\infty
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="\bm{x}_{T}" class="ltx_Math" display="inline" id="S3.SS2.p1.6.m6.1">
      <semantics id="S3.SS2.p1.6.m6.1a">
       <msub id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">
        <mi id="S3.SS2.p1.6.m6.1.1.2" xref="S3.SS2.p1.6.m6.1.1.2.cmml">
         𝒙
        </mi>
        <mi id="S3.SS2.p1.6.m6.1.1.3" xref="S3.SS2.p1.6.m6.1.1.3.cmml">
         T
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b">
        <apply id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">
         <csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS2.p1.6.m6.1.1.2.cmml" xref="S3.SS2.p1.6.m6.1.1.2">
          𝒙
         </ci>
         <ci id="S3.SS2.p1.6.m6.1.1.3.cmml" xref="S3.SS2.p1.6.m6.1.1.3">
          𝑇
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">
        \bm{x}_{T}
       </annotation>
      </semantics>
     </math>
     will become the standard Gaussian distribution
     <math alttext="\mathcal{N}(\bm{0},\bm{I})" class="ltx_Math" display="inline" id="S3.SS2.p1.7.m7.2">
      <semantics id="S3.SS2.p1.7.m7.2a">
       <mrow id="S3.SS2.p1.7.m7.2.3" xref="S3.SS2.p1.7.m7.2.3.cmml">
        <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.7.m7.2.3.2" xref="S3.SS2.p1.7.m7.2.3.2.cmml">
         𝒩
        </mi>
        <mo id="S3.SS2.p1.7.m7.2.3.1" lspace="0em" rspace="0em" xref="S3.SS2.p1.7.m7.2.3.1.cmml">
         ​
        </mo>
        <mrow id="S3.SS2.p1.7.m7.2.3.3.2" xref="S3.SS2.p1.7.m7.2.3.3.1.cmml">
         <mo id="S3.SS2.p1.7.m7.2.3.3.2.1" stretchy="false" xref="S3.SS2.p1.7.m7.2.3.3.1.cmml">
          (
         </mo>
         <mn id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml">
          𝟎
         </mn>
         <mo id="S3.SS2.p1.7.m7.2.3.3.2.2" xref="S3.SS2.p1.7.m7.2.3.3.1.cmml">
          ,
         </mo>
         <mi id="S3.SS2.p1.7.m7.2.2" xref="S3.SS2.p1.7.m7.2.2.cmml">
          𝑰
         </mi>
         <mo id="S3.SS2.p1.7.m7.2.3.3.2.3" stretchy="false" xref="S3.SS2.p1.7.m7.2.3.3.1.cmml">
          )
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.2b">
        <apply id="S3.SS2.p1.7.m7.2.3.cmml" xref="S3.SS2.p1.7.m7.2.3">
         <times id="S3.SS2.p1.7.m7.2.3.1.cmml" xref="S3.SS2.p1.7.m7.2.3.1">
         </times>
         <ci id="S3.SS2.p1.7.m7.2.3.2.cmml" xref="S3.SS2.p1.7.m7.2.3.2">
          𝒩
         </ci>
         <interval closure="open" id="S3.SS2.p1.7.m7.2.3.3.1.cmml" xref="S3.SS2.p1.7.m7.2.3.3.2">
          <cn id="S3.SS2.p1.7.m7.1.1.cmml" type="integer" xref="S3.SS2.p1.7.m7.1.1">
           0
          </cn>
          <ci id="S3.SS2.p1.7.m7.2.2.cmml" xref="S3.SS2.p1.7.m7.2.2">
           𝑰
          </ci>
         </interval>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.2c">
        \mathcal{N}(\bm{0},\bm{I})
       </annotation>
      </semantics>
     </math>
     .
Accordingly, the reverse process aims to reverse the above process and reconstruct the true data distribution from
     <math alttext="p(\bm{x}_{T})=\mathcal{N}(\bm{0},\bm{I})" class="ltx_Math" display="inline" id="S3.SS2.p1.8.m8.3">
      <semantics id="S3.SS2.p1.8.m8.3a">
       <mrow id="S3.SS2.p1.8.m8.3.3" xref="S3.SS2.p1.8.m8.3.3.cmml">
        <mrow id="S3.SS2.p1.8.m8.3.3.1" xref="S3.SS2.p1.8.m8.3.3.1.cmml">
         <mi id="S3.SS2.p1.8.m8.3.3.1.3" xref="S3.SS2.p1.8.m8.3.3.1.3.cmml">
          p
         </mi>
         <mo id="S3.SS2.p1.8.m8.3.3.1.2" lspace="0em" rspace="0em" xref="S3.SS2.p1.8.m8.3.3.1.2.cmml">
          ​
         </mo>
         <mrow id="S3.SS2.p1.8.m8.3.3.1.1.1" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.cmml">
          <mo id="S3.SS2.p1.8.m8.3.3.1.1.1.2" stretchy="false" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.cmml">
           (
          </mo>
          <msub id="S3.SS2.p1.8.m8.3.3.1.1.1.1" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.cmml">
           <mi id="S3.SS2.p1.8.m8.3.3.1.1.1.1.2" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.2.cmml">
            𝒙
           </mi>
           <mi id="S3.SS2.p1.8.m8.3.3.1.1.1.1.3" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.3.cmml">
            T
           </mi>
          </msub>
          <mo id="S3.SS2.p1.8.m8.3.3.1.1.1.3" stretchy="false" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <mo id="S3.SS2.p1.8.m8.3.3.2" xref="S3.SS2.p1.8.m8.3.3.2.cmml">
         =
        </mo>
        <mrow id="S3.SS2.p1.8.m8.3.3.3" xref="S3.SS2.p1.8.m8.3.3.3.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.8.m8.3.3.3.2" xref="S3.SS2.p1.8.m8.3.3.3.2.cmml">
          𝒩
         </mi>
         <mo id="S3.SS2.p1.8.m8.3.3.3.1" lspace="0em" rspace="0em" xref="S3.SS2.p1.8.m8.3.3.3.1.cmml">
          ​
         </mo>
         <mrow id="S3.SS2.p1.8.m8.3.3.3.3.2" xref="S3.SS2.p1.8.m8.3.3.3.3.1.cmml">
          <mo id="S3.SS2.p1.8.m8.3.3.3.3.2.1" stretchy="false" xref="S3.SS2.p1.8.m8.3.3.3.3.1.cmml">
           (
          </mo>
          <mn id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml">
           𝟎
          </mn>
          <mo id="S3.SS2.p1.8.m8.3.3.3.3.2.2" xref="S3.SS2.p1.8.m8.3.3.3.3.1.cmml">
           ,
          </mo>
          <mi id="S3.SS2.p1.8.m8.2.2" xref="S3.SS2.p1.8.m8.2.2.cmml">
           𝑰
          </mi>
          <mo id="S3.SS2.p1.8.m8.3.3.3.3.2.3" stretchy="false" xref="S3.SS2.p1.8.m8.3.3.3.3.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.3b">
        <apply id="S3.SS2.p1.8.m8.3.3.cmml" xref="S3.SS2.p1.8.m8.3.3">
         <eq id="S3.SS2.p1.8.m8.3.3.2.cmml" xref="S3.SS2.p1.8.m8.3.3.2">
         </eq>
         <apply id="S3.SS2.p1.8.m8.3.3.1.cmml" xref="S3.SS2.p1.8.m8.3.3.1">
          <times id="S3.SS2.p1.8.m8.3.3.1.2.cmml" xref="S3.SS2.p1.8.m8.3.3.1.2">
          </times>
          <ci id="S3.SS2.p1.8.m8.3.3.1.3.cmml" xref="S3.SS2.p1.8.m8.3.3.1.3">
           𝑝
          </ci>
          <apply id="S3.SS2.p1.8.m8.3.3.1.1.1.1.cmml" xref="S3.SS2.p1.8.m8.3.3.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.3.3.1.1.1.1.1.cmml" xref="S3.SS2.p1.8.m8.3.3.1.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.p1.8.m8.3.3.1.1.1.1.2.cmml" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.2">
            𝒙
           </ci>
           <ci id="S3.SS2.p1.8.m8.3.3.1.1.1.1.3.cmml" xref="S3.SS2.p1.8.m8.3.3.1.1.1.1.3">
            𝑇
           </ci>
          </apply>
         </apply>
         <apply id="S3.SS2.p1.8.m8.3.3.3.cmml" xref="S3.SS2.p1.8.m8.3.3.3">
          <times id="S3.SS2.p1.8.m8.3.3.3.1.cmml" xref="S3.SS2.p1.8.m8.3.3.3.1">
          </times>
          <ci id="S3.SS2.p1.8.m8.3.3.3.2.cmml" xref="S3.SS2.p1.8.m8.3.3.3.2">
           𝒩
          </ci>
          <interval closure="open" id="S3.SS2.p1.8.m8.3.3.3.3.1.cmml" xref="S3.SS2.p1.8.m8.3.3.3.3.2">
           <cn id="S3.SS2.p1.8.m8.1.1.cmml" type="integer" xref="S3.SS2.p1.8.m8.1.1">
            0
           </cn>
           <ci id="S3.SS2.p1.8.m8.2.2.cmml" xref="S3.SS2.p1.8.m8.2.2">
            𝑰
           </ci>
          </interval>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.3c">
        p(\bm{x}_{T})=\mathcal{N}(\bm{0},\bm{I})
       </annotation>
      </semantics>
     </math>
     by a parameterized noise model
     <math alttext="\epsilon_{\theta}(\cdot)" class="ltx_Math" display="inline" id="S3.SS2.p1.9.m9.1">
      <semantics id="S3.SS2.p1.9.m9.1a">
       <mrow id="S3.SS2.p1.9.m9.1.2" xref="S3.SS2.p1.9.m9.1.2.cmml">
        <msub id="S3.SS2.p1.9.m9.1.2.2" xref="S3.SS2.p1.9.m9.1.2.2.cmml">
         <mi id="S3.SS2.p1.9.m9.1.2.2.2" xref="S3.SS2.p1.9.m9.1.2.2.2.cmml">
          ϵ
         </mi>
         <mi id="S3.SS2.p1.9.m9.1.2.2.3" xref="S3.SS2.p1.9.m9.1.2.2.3.cmml">
          θ
         </mi>
        </msub>
        <mo id="S3.SS2.p1.9.m9.1.2.1" lspace="0em" rspace="0em" xref="S3.SS2.p1.9.m9.1.2.1.cmml">
         ​
        </mo>
        <mrow id="S3.SS2.p1.9.m9.1.2.3.2" xref="S3.SS2.p1.9.m9.1.2.cmml">
         <mo id="S3.SS2.p1.9.m9.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.9.m9.1.2.cmml">
          (
         </mo>
         <mo id="S3.SS2.p1.9.m9.1.1" lspace="0em" rspace="0em" xref="S3.SS2.p1.9.m9.1.1.cmml">
          ⋅
         </mo>
         <mo id="S3.SS2.p1.9.m9.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.9.m9.1.2.cmml">
          )
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b">
        <apply id="S3.SS2.p1.9.m9.1.2.cmml" xref="S3.SS2.p1.9.m9.1.2">
         <times id="S3.SS2.p1.9.m9.1.2.1.cmml" xref="S3.SS2.p1.9.m9.1.2.1">
         </times>
         <apply id="S3.SS2.p1.9.m9.1.2.2.cmml" xref="S3.SS2.p1.9.m9.1.2.2">
          <csymbol cd="ambiguous" id="S3.SS2.p1.9.m9.1.2.2.1.cmml" xref="S3.SS2.p1.9.m9.1.2.2">
           subscript
          </csymbol>
          <ci id="S3.SS2.p1.9.m9.1.2.2.2.cmml" xref="S3.SS2.p1.9.m9.1.2.2.2">
           italic-ϵ
          </ci>
          <ci id="S3.SS2.p1.9.m9.1.2.2.3.cmml" xref="S3.SS2.p1.9.m9.1.2.2.3">
           𝜃
          </ci>
         </apply>
         <ci id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">
          ⋅
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">
        \epsilon_{\theta}(\cdot)
       </annotation>
      </semantics>
     </math>
     .
With
     <math alttext="\bm{\epsilon}\sim\mathcal{N}(\bm{0},\bm{I})" class="ltx_Math" display="inline" id="S3.SS2.p1.10.m10.2">
      <semantics id="S3.SS2.p1.10.m10.2a">
       <mrow id="S3.SS2.p1.10.m10.2.3" xref="S3.SS2.p1.10.m10.2.3.cmml">
        <mi class="ltx_mathvariant_bold-italic" id="S3.SS2.p1.10.m10.2.3.2" mathvariant="bold-italic" xref="S3.SS2.p1.10.m10.2.3.2.cmml">
         ϵ
        </mi>
        <mo id="S3.SS2.p1.10.m10.2.3.1" xref="S3.SS2.p1.10.m10.2.3.1.cmml">
         ∼
        </mo>
        <mrow id="S3.SS2.p1.10.m10.2.3.3" xref="S3.SS2.p1.10.m10.2.3.3.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.10.m10.2.3.3.2" xref="S3.SS2.p1.10.m10.2.3.3.2.cmml">
          𝒩
         </mi>
         <mo id="S3.SS2.p1.10.m10.2.3.3.1" lspace="0em" rspace="0em" xref="S3.SS2.p1.10.m10.2.3.3.1.cmml">
          ​
         </mo>
         <mrow id="S3.SS2.p1.10.m10.2.3.3.3.2" xref="S3.SS2.p1.10.m10.2.3.3.3.1.cmml">
          <mo id="S3.SS2.p1.10.m10.2.3.3.3.2.1" stretchy="false" xref="S3.SS2.p1.10.m10.2.3.3.3.1.cmml">
           (
          </mo>
          <mn id="S3.SS2.p1.10.m10.1.1" xref="S3.SS2.p1.10.m10.1.1.cmml">
           𝟎
          </mn>
          <mo id="S3.SS2.p1.10.m10.2.3.3.3.2.2" xref="S3.SS2.p1.10.m10.2.3.3.3.1.cmml">
           ,
          </mo>
          <mi id="S3.SS2.p1.10.m10.2.2" xref="S3.SS2.p1.10.m10.2.2.cmml">
           𝑰
          </mi>
          <mo id="S3.SS2.p1.10.m10.2.3.3.3.2.3" stretchy="false" xref="S3.SS2.p1.10.m10.2.3.3.3.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.2b">
        <apply id="S3.SS2.p1.10.m10.2.3.cmml" xref="S3.SS2.p1.10.m10.2.3">
         <csymbol cd="latexml" id="S3.SS2.p1.10.m10.2.3.1.cmml" xref="S3.SS2.p1.10.m10.2.3.1">
          similar-to
         </csymbol>
         <ci id="S3.SS2.p1.10.m10.2.3.2.cmml" xref="S3.SS2.p1.10.m10.2.3.2">
          bold-italic-ϵ
         </ci>
         <apply id="S3.SS2.p1.10.m10.2.3.3.cmml" xref="S3.SS2.p1.10.m10.2.3.3">
          <times id="S3.SS2.p1.10.m10.2.3.3.1.cmml" xref="S3.SS2.p1.10.m10.2.3.3.1">
          </times>
          <ci id="S3.SS2.p1.10.m10.2.3.3.2.cmml" xref="S3.SS2.p1.10.m10.2.3.3.2">
           𝒩
          </ci>
          <interval closure="open" id="S3.SS2.p1.10.m10.2.3.3.3.1.cmml" xref="S3.SS2.p1.10.m10.2.3.3.3.2">
           <cn id="S3.SS2.p1.10.m10.1.1.cmml" type="integer" xref="S3.SS2.p1.10.m10.1.1">
            0
           </cn>
           <ci id="S3.SS2.p1.10.m10.2.2.cmml" xref="S3.SS2.p1.10.m10.2.2">
            𝑰
           </ci>
          </interval>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.10.m10.2c">
        \bm{\epsilon}\sim\mathcal{N}(\bm{0},\bm{I})
       </annotation>
      </semantics>
     </math>
     , the training loss of the model can be simplified as
    </p>
    <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx1">
     <tbody id="S3.E1">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_td ltx_align_right ltx_eqn_cell">
        <math alttext="\displaystyle L(\theta)=\mathbb{E}_{t,\bm{x}_{0},\bm{\epsilon}}\|\bm{\epsilon}-\bm{\epsilon}_{\theta}(\sqrt{\bar{\alpha}_{t}}\bm{x}_{0}+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon},t)\|^{2}." class="ltx_Math" display="inline" id="S3.E1.m1.6">
         <semantics id="S3.E1.m1.6a">
          <mrow id="S3.E1.m1.6.6.1" xref="S3.E1.m1.6.6.1.1.cmml">
           <mrow id="S3.E1.m1.6.6.1.1" xref="S3.E1.m1.6.6.1.1.cmml">
            <mrow id="S3.E1.m1.6.6.1.1.3" xref="S3.E1.m1.6.6.1.1.3.cmml">
             <mi id="S3.E1.m1.6.6.1.1.3.2" xref="S3.E1.m1.6.6.1.1.3.2.cmml">
              L
             </mi>
             <mo id="S3.E1.m1.6.6.1.1.3.1" lspace="0em" rspace="0em" xref="S3.E1.m1.6.6.1.1.3.1.cmml">
              ​
             </mo>
             <mrow id="S3.E1.m1.6.6.1.1.3.3.2" xref="S3.E1.m1.6.6.1.1.3.cmml">
              <mo id="S3.E1.m1.6.6.1.1.3.3.2.1" stretchy="false" xref="S3.E1.m1.6.6.1.1.3.cmml">
               (
              </mo>
              <mi id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml">
               θ
              </mi>
              <mo id="S3.E1.m1.6.6.1.1.3.3.2.2" stretchy="false" xref="S3.E1.m1.6.6.1.1.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S3.E1.m1.6.6.1.1.2" xref="S3.E1.m1.6.6.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.E1.m1.6.6.1.1.1" xref="S3.E1.m1.6.6.1.1.1.cmml">
             <msub id="S3.E1.m1.6.6.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.3.cmml">
              <mi id="S3.E1.m1.6.6.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.3.2.cmml">
               𝔼
              </mi>
              <mrow id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.4.cmml">
               <mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">
                t
               </mi>
               <mo id="S3.E1.m1.3.3.3.3.2" xref="S3.E1.m1.3.3.3.4.cmml">
                ,
               </mo>
               <msub id="S3.E1.m1.3.3.3.3.1" xref="S3.E1.m1.3.3.3.3.1.cmml">
                <mi id="S3.E1.m1.3.3.3.3.1.2" xref="S3.E1.m1.3.3.3.3.1.2.cmml">
                 𝒙
                </mi>
                <mn id="S3.E1.m1.3.3.3.3.1.3" xref="S3.E1.m1.3.3.3.3.1.3.cmml">
                 0
                </mn>
               </msub>
               <mo id="S3.E1.m1.3.3.3.3.3" xref="S3.E1.m1.3.3.3.4.cmml">
                ,
               </mo>
               <mi class="ltx_mathvariant_bold-italic" id="S3.E1.m1.2.2.2.2" mathvariant="bold-italic" xref="S3.E1.m1.2.2.2.2.cmml">
                ϵ
               </mi>
              </mrow>
             </msub>
             <mo id="S3.E1.m1.6.6.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E1.m1.6.6.1.1.1.2.cmml">
              ​
             </mo>
             <msup id="S3.E1.m1.6.6.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.cmml">
              <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml">
               <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.6.6.1.1.1.1.1.2.1.cmml">
                ‖
               </mo>
               <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.cmml">
                <mi class="ltx_mathvariant_bold-italic" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.3" mathvariant="bold-italic" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.3.cmml">
                 ϵ
                </mi>
                <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.2.cmml">
                 −
                </mo>
                <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml">
                 <msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.cmml">
                  <mi class="ltx_mathvariant_bold-italic" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2" mathvariant="bold-italic" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml">
                   ϵ
                  </mi>
                  <mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml">
                   θ
                  </mi>
                 </msub>
                 <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2.cmml">
                  ​
                 </mo>
                 <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">
                  <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">
                   (
                  </mo>
                  <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">
                   <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                    <msqrt id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">
                     <msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">
                      <mover accent="true" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">
                       <mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml">
                        α
                       </mi>
                       <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml">
                        ¯
                       </mo>
                      </mover>
                      <mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">
                       t
                      </mi>
                     </msub>
                    </msqrt>
                    <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.1" lspace="0em" rspace="0em" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">
                     ​
                    </mo>
                    <msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">
                     <mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml">
                      𝒙
                     </mi>
                     <mn id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml">
                      0
                     </mn>
                    </msub>
                   </mrow>
                   <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                    +
                   </mo>
                   <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                    <msqrt id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">
                     <mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">
                      <mn id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.2.cmml">
                       1
                      </mn>
                      <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.1.cmml">
                       −
                      </mo>
                      <msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.cmml">
                       <mover accent="true" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.cmml">
                        <mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.2.cmml">
                         α
                        </mi>
                        <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.1.cmml">
                         ¯
                        </mo>
                       </mover>
                       <mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.3.cmml">
                        t
                       </mi>
                      </msub>
                     </mrow>
                    </msqrt>
                    <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">
                     ​
                    </mo>
                    <mi class="ltx_mathvariant_bold-italic" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3" mathvariant="bold-italic" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">
                     ϵ
                    </mi>
                   </mrow>
                  </mrow>
                  <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">
                   ,
                  </mo>
                  <mi id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml">
                   t
                  </mi>
                  <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mrow>
               <mo id="S3.E1.m1.6.6.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.6.6.1.1.1.1.1.2.1.cmml">
                ‖
               </mo>
              </mrow>
              <mn id="S3.E1.m1.6.6.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.3.cmml">
               2
              </mn>
             </msup>
            </mrow>
           </mrow>
           <mo id="S3.E1.m1.6.6.1.2" lspace="0em" xref="S3.E1.m1.6.6.1.1.cmml">
            .
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S3.E1.m1.6b">
           <apply id="S3.E1.m1.6.6.1.1.cmml" xref="S3.E1.m1.6.6.1">
            <eq id="S3.E1.m1.6.6.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2">
            </eq>
            <apply id="S3.E1.m1.6.6.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.3">
             <times id="S3.E1.m1.6.6.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.3.1">
             </times>
             <ci id="S3.E1.m1.6.6.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.3.2">
              𝐿
             </ci>
             <ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">
              𝜃
             </ci>
            </apply>
            <apply id="S3.E1.m1.6.6.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1">
             <times id="S3.E1.m1.6.6.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.2">
             </times>
             <apply id="S3.E1.m1.6.6.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.3">
              <csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.3">
               subscript
              </csymbol>
              <ci id="S3.E1.m1.6.6.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.3.2">
               𝔼
              </ci>
              <list id="S3.E1.m1.3.3.3.4.cmml" xref="S3.E1.m1.3.3.3.3">
               <ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">
                𝑡
               </ci>
               <apply id="S3.E1.m1.3.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3.3.1">
                <csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.3.1.1.cmml" xref="S3.E1.m1.3.3.3.3.1">
                 subscript
                </csymbol>
                <ci id="S3.E1.m1.3.3.3.3.1.2.cmml" xref="S3.E1.m1.3.3.3.3.1.2">
                 𝒙
                </ci>
                <cn id="S3.E1.m1.3.3.3.3.1.3.cmml" type="integer" xref="S3.E1.m1.3.3.3.3.1.3">
                 0
                </cn>
               </apply>
               <ci id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">
                bold-italic-ϵ
               </ci>
              </list>
             </apply>
             <apply id="S3.E1.m1.6.6.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1">
              <csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1">
               superscript
              </csymbol>
              <apply id="S3.E1.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1">
               <csymbol cd="latexml" id="S3.E1.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.2">
                norm
               </csymbol>
               <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1">
                <minus id="S3.E1.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.2">
                </minus>
                <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.3">
                 bold-italic-ϵ
                </ci>
                <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1">
                 <times id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2">
                 </times>
                 <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3">
                   subscript
                  </csymbol>
                  <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2">
                   bold-italic-ϵ
                  </ci>
                  <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3">
                   𝜃
                  </ci>
                 </apply>
                 <interval closure="open" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1">
                  <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1">
                   <plus id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1">
                   </plus>
                   <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2">
                    <times id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.1">
                    </times>
                    <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2">
                     <root id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2a.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2">
                     </root>
                     <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2">
                      <csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2">
                       subscript
                      </csymbol>
                      <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2">
                       <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.1">
                        ¯
                       </ci>
                       <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.2">
                        𝛼
                       </ci>
                      </apply>
                      <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3">
                       𝑡
                      </ci>
                     </apply>
                    </apply>
                    <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3">
                     <csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3">
                      subscript
                     </csymbol>
                     <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.2">
                      𝒙
                     </ci>
                     <cn id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.3">
                      0
                     </cn>
                    </apply>
                   </apply>
                   <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">
                    <times id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1">
                    </times>
                    <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2">
                     <root id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2">
                     </root>
                     <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2">
                      <minus id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.1">
                      </minus>
                      <cn id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.2.cmml" type="integer" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.2">
                       1
                      </cn>
                      <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3">
                       <csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3">
                        subscript
                       </csymbol>
                       <apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2">
                        <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.1">
                         ¯
                        </ci>
                        <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.2.2">
                         𝛼
                        </ci>
                       </apply>
                       <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.3.3">
                        𝑡
                       </ci>
                      </apply>
                     </apply>
                    </apply>
                    <ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3">
                     bold-italic-ϵ
                    </ci>
                   </apply>
                  </apply>
                  <ci id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5">
                   𝑡
                  </ci>
                 </interval>
                </apply>
               </apply>
              </apply>
              <cn id="S3.E1.m1.6.6.1.1.1.1.3.cmml" type="integer" xref="S3.E1.m1.6.6.1.1.1.1.3">
               2
              </cn>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.E1.m1.6c">
           \displaystyle L(\theta)=\mathbb{E}_{t,\bm{x}_{0},\bm{\epsilon}}\|\bm{\epsilon}-\bm{\epsilon}_{\theta}(\sqrt{\bar{\alpha}_{t}}\bm{x}_{0}+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon},t)\|^{2}.
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_right">
         (1)
        </span>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="ltx_para" id="S3.SS2.p2">
    <p class="ltx_p" id="S3.SS2.p2.4">
     Latent diffusion models
     <cite class="ltx_cite ltx_citemacro_citep">
      (Rombach et al.,
      <a class="ltx_ref" href="#bib.bib17" title="">
       2022
      </a>
      )
     </cite>
     have recently attracted growing attention due to their efficiency and superior performance. Instead of performing diffusion and its reverse process in the pixel space, they add noise and denoise in a latent space of
     <math alttext="\bm{z}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1">
      <semantics id="S3.SS2.p2.1.m1.1a">
       <mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">
        𝒛
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b">
        <ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">
         𝒛
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">
        \bm{z}
       </annotation>
      </semantics>
     </math>
     encoded by a pre-trained encoder
     <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1">
      <semantics id="S3.SS2.p2.2.m2.1a">
       <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">
        ℰ
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b">
        <ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">
         ℰ
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">
        \mathcal{E}
       </annotation>
      </semantics>
     </math>
     . Thereby, the diffusion process starts from
     <math alttext="\bm{z}_{0}=\mathcal{E}(\bm{x}_{0})" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1">
      <semantics id="S3.SS2.p2.3.m3.1a">
       <mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">
        <msub id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">
         <mi id="S3.SS2.p2.3.m3.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.3.2.cmml">
          𝒛
         </mi>
         <mn id="S3.SS2.p2.3.m3.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.cmml">
          0
         </mn>
        </msub>
        <mo id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">
         =
        </mo>
        <mrow id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m3.1.1.1.3" xref="S3.SS2.p2.3.m3.1.1.1.3.cmml">
          ℰ
         </mi>
         <mo id="S3.SS2.p2.3.m3.1.1.1.2" lspace="0em" rspace="0em" xref="S3.SS2.p2.3.m3.1.1.1.2.cmml">
          ​
         </mo>
         <mrow id="S3.SS2.p2.3.m3.1.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">
          <mo id="S3.SS2.p2.3.m3.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">
           (
          </mo>
          <msub id="S3.SS2.p2.3.m3.1.1.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">
           <mi id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.cmml">
            𝒙
           </mi>
           <mn id="S3.SS2.p2.3.m3.1.1.1.1.1.1.3" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="S3.SS2.p2.3.m3.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b">
        <apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">
         <eq id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">
         </eq>
         <apply id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">
          <csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3">
           subscript
          </csymbol>
          <ci id="S3.SS2.p2.3.m3.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.2">
           𝒛
          </ci>
          <cn id="S3.SS2.p2.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS2.p2.3.m3.1.1.3.3">
           0
          </cn>
         </apply>
         <apply id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1">
          <times id="S3.SS2.p2.3.m3.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.2">
          </times>
          <ci id="S3.SS2.p2.3.m3.1.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.1.3">
           ℰ
          </ci>
          <apply id="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.2">
            𝒙
           </ci>
           <cn id="S3.SS2.p2.3.m3.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.3">
            0
           </cn>
          </apply>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">
        \bm{z}_{0}=\mathcal{E}(\bm{x}_{0})
       </annotation>
      </semantics>
     </math>
     and subsequently produces latent states
     <math alttext="\bm{z}_{1},\cdots,\bm{z}_{t},\cdots,\bm{z}_{T}" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.5">
      <semantics id="S3.SS2.p2.4.m4.5a">
       <mrow id="S3.SS2.p2.4.m4.5.5.3" xref="S3.SS2.p2.4.m4.5.5.4.cmml">
        <msub id="S3.SS2.p2.4.m4.3.3.1.1" xref="S3.SS2.p2.4.m4.3.3.1.1.cmml">
         <mi id="S3.SS2.p2.4.m4.3.3.1.1.2" xref="S3.SS2.p2.4.m4.3.3.1.1.2.cmml">
          𝒛
         </mi>
         <mn id="S3.SS2.p2.4.m4.3.3.1.1.3" xref="S3.SS2.p2.4.m4.3.3.1.1.3.cmml">
          1
         </mn>
        </msub>
        <mo id="S3.SS2.p2.4.m4.5.5.3.4" xref="S3.SS2.p2.4.m4.5.5.4.cmml">
         ,
        </mo>
        <mi id="S3.SS2.p2.4.m4.1.1" mathvariant="normal" xref="S3.SS2.p2.4.m4.1.1.cmml">
         ⋯
        </mi>
        <mo id="S3.SS2.p2.4.m4.5.5.3.5" xref="S3.SS2.p2.4.m4.5.5.4.cmml">
         ,
        </mo>
        <msub id="S3.SS2.p2.4.m4.4.4.2.2" xref="S3.SS2.p2.4.m4.4.4.2.2.cmml">
         <mi id="S3.SS2.p2.4.m4.4.4.2.2.2" xref="S3.SS2.p2.4.m4.4.4.2.2.2.cmml">
          𝒛
         </mi>
         <mi id="S3.SS2.p2.4.m4.4.4.2.2.3" xref="S3.SS2.p2.4.m4.4.4.2.2.3.cmml">
          t
         </mi>
        </msub>
        <mo id="S3.SS2.p2.4.m4.5.5.3.6" xref="S3.SS2.p2.4.m4.5.5.4.cmml">
         ,
        </mo>
        <mi id="S3.SS2.p2.4.m4.2.2" mathvariant="normal" xref="S3.SS2.p2.4.m4.2.2.cmml">
         ⋯
        </mi>
        <mo id="S3.SS2.p2.4.m4.5.5.3.7" xref="S3.SS2.p2.4.m4.5.5.4.cmml">
         ,
        </mo>
        <msub id="S3.SS2.p2.4.m4.5.5.3.3" xref="S3.SS2.p2.4.m4.5.5.3.3.cmml">
         <mi id="S3.SS2.p2.4.m4.5.5.3.3.2" xref="S3.SS2.p2.4.m4.5.5.3.3.2.cmml">
          𝒛
         </mi>
         <mi id="S3.SS2.p2.4.m4.5.5.3.3.3" xref="S3.SS2.p2.4.m4.5.5.3.3.3.cmml">
          T
         </mi>
        </msub>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.5b">
        <list id="S3.SS2.p2.4.m4.5.5.4.cmml" xref="S3.SS2.p2.4.m4.5.5.3">
         <apply id="S3.SS2.p2.4.m4.3.3.1.1.cmml" xref="S3.SS2.p2.4.m4.3.3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.3.3.1.1.1.cmml" xref="S3.SS2.p2.4.m4.3.3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.p2.4.m4.3.3.1.1.2.cmml" xref="S3.SS2.p2.4.m4.3.3.1.1.2">
           𝒛
          </ci>
          <cn id="S3.SS2.p2.4.m4.3.3.1.1.3.cmml" type="integer" xref="S3.SS2.p2.4.m4.3.3.1.1.3">
           1
          </cn>
         </apply>
         <ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">
          ⋯
         </ci>
         <apply id="S3.SS2.p2.4.m4.4.4.2.2.cmml" xref="S3.SS2.p2.4.m4.4.4.2.2">
          <csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.4.4.2.2.1.cmml" xref="S3.SS2.p2.4.m4.4.4.2.2">
           subscript
          </csymbol>
          <ci id="S3.SS2.p2.4.m4.4.4.2.2.2.cmml" xref="S3.SS2.p2.4.m4.4.4.2.2.2">
           𝒛
          </ci>
          <ci id="S3.SS2.p2.4.m4.4.4.2.2.3.cmml" xref="S3.SS2.p2.4.m4.4.4.2.2.3">
           𝑡
          </ci>
         </apply>
         <ci id="S3.SS2.p2.4.m4.2.2.cmml" xref="S3.SS2.p2.4.m4.2.2">
          ⋯
         </ci>
         <apply id="S3.SS2.p2.4.m4.5.5.3.3.cmml" xref="S3.SS2.p2.4.m4.5.5.3.3">
          <csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.5.5.3.3.1.cmml" xref="S3.SS2.p2.4.m4.5.5.3.3">
           subscript
          </csymbol>
          <ci id="S3.SS2.p2.4.m4.5.5.3.3.2.cmml" xref="S3.SS2.p2.4.m4.5.5.3.3.2">
           𝒛
          </ci>
          <ci id="S3.SS2.p2.4.m4.5.5.3.3.3.cmml" xref="S3.SS2.p2.4.m4.5.5.3.3.3">
           𝑇
          </ci>
         </apply>
        </list>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.5c">
        \bm{z}_{1},\cdots,\bm{z}_{t},\cdots,\bm{z}_{T}
       </annotation>
      </semantics>
     </math>
     . Accordingly, the training loss becomes
    </p>
    <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx2">
     <tbody id="S3.E2">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_td ltx_align_right ltx_eqn_cell">
        <math alttext="\displaystyle L_{LDM}=\mathbb{E}_{\bm{z}_{0},\bm{\epsilon},t}\|\bm{\epsilon}-\bm{\epsilon}_{\theta}(\bm{z}_{t},t)\|^{2}." class="ltx_Math" display="inline" id="S3.E2.m1.5">
         <semantics id="S3.E2.m1.5a">
          <mrow id="S3.E2.m1.5.5.1" xref="S3.E2.m1.5.5.1.1.cmml">
           <mrow id="S3.E2.m1.5.5.1.1" xref="S3.E2.m1.5.5.1.1.cmml">
            <msub id="S3.E2.m1.5.5.1.1.3" xref="S3.E2.m1.5.5.1.1.3.cmml">
             <mi id="S3.E2.m1.5.5.1.1.3.2" xref="S3.E2.m1.5.5.1.1.3.2.cmml">
              L
             </mi>
             <mrow id="S3.E2.m1.5.5.1.1.3.3" xref="S3.E2.m1.5.5.1.1.3.3.cmml">
              <mi id="S3.E2.m1.5.5.1.1.3.3.2" xref="S3.E2.m1.5.5.1.1.3.3.2.cmml">
               L
              </mi>
              <mo id="S3.E2.m1.5.5.1.1.3.3.1" lspace="0em" rspace="0em" xref="S3.E2.m1.5.5.1.1.3.3.1.cmml">
               ​
              </mo>
              <mi id="S3.E2.m1.5.5.1.1.3.3.3" xref="S3.E2.m1.5.5.1.1.3.3.3.cmml">
               D
              </mi>
              <mo id="S3.E2.m1.5.5.1.1.3.3.1a" lspace="0em" rspace="0em" xref="S3.E2.m1.5.5.1.1.3.3.1.cmml">
               ​
              </mo>
              <mi id="S3.E2.m1.5.5.1.1.3.3.4" xref="S3.E2.m1.5.5.1.1.3.3.4.cmml">
               M
              </mi>
             </mrow>
            </msub>
            <mo id="S3.E2.m1.5.5.1.1.2" xref="S3.E2.m1.5.5.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.E2.m1.5.5.1.1.1" xref="S3.E2.m1.5.5.1.1.1.cmml">
             <msub id="S3.E2.m1.5.5.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.3.cmml">
              <mi id="S3.E2.m1.5.5.1.1.1.3.2" xref="S3.E2.m1.5.5.1.1.1.3.2.cmml">
               𝔼
              </mi>
              <mrow id="S3.E2.m1.3.3.3.3" xref="S3.E2.m1.3.3.3.4.cmml">
               <msub id="S3.E2.m1.3.3.3.3.1" xref="S3.E2.m1.3.3.3.3.1.cmml">
                <mi id="S3.E2.m1.3.3.3.3.1.2" xref="S3.E2.m1.3.3.3.3.1.2.cmml">
                 𝒛
                </mi>
                <mn id="S3.E2.m1.3.3.3.3.1.3" xref="S3.E2.m1.3.3.3.3.1.3.cmml">
                 0
                </mn>
               </msub>
               <mo id="S3.E2.m1.3.3.3.3.2" xref="S3.E2.m1.3.3.3.4.cmml">
                ,
               </mo>
               <mi class="ltx_mathvariant_bold-italic" id="S3.E2.m1.1.1.1.1" mathvariant="bold-italic" xref="S3.E2.m1.1.1.1.1.cmml">
                ϵ
               </mi>
               <mo id="S3.E2.m1.3.3.3.3.3" xref="S3.E2.m1.3.3.3.4.cmml">
                ,
               </mo>
               <mi id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">
                t
               </mi>
              </mrow>
             </msub>
             <mo id="S3.E2.m1.5.5.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E2.m1.5.5.1.1.1.2.cmml">
              ​
             </mo>
             <msup id="S3.E2.m1.5.5.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.cmml">
              <mrow id="S3.E2.m1.5.5.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.2.cmml">
               <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.2.1.cmml">
                ‖
               </mo>
               <mrow id="S3.E2.m1.5.5.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.cmml">
                <mi class="ltx_mathvariant_bold-italic" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.3" mathvariant="bold-italic" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.3.cmml">
                 ϵ
                </mi>
                <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.2.cmml">
                 −
                </mo>
                <mrow id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.cmml">
                 <msub id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.cmml">
                  <mi class="ltx_mathvariant_bold-italic" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2" mathvariant="bold-italic" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml">
                   ϵ
                  </mi>
                  <mi id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml">
                   θ
                  </mi>
                 </msub>
                 <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">
                  ​
                 </mo>
                 <mrow id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">
                  <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">
                   (
                  </mo>
                  <msub id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">
                   <mi id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                    𝒛
                   </mi>
                   <mi id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                    t
                   </mi>
                  </msub>
                  <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">
                   ,
                  </mo>
                  <mi id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml">
                   t
                  </mi>
                  <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mrow>
               <mo id="S3.E2.m1.5.5.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.2.1.cmml">
                ‖
               </mo>
              </mrow>
              <mn id="S3.E2.m1.5.5.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.1.3.cmml">
               2
              </mn>
             </msup>
            </mrow>
           </mrow>
           <mo id="S3.E2.m1.5.5.1.2" lspace="0em" xref="S3.E2.m1.5.5.1.1.cmml">
            .
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S3.E2.m1.5b">
           <apply id="S3.E2.m1.5.5.1.1.cmml" xref="S3.E2.m1.5.5.1">
            <eq id="S3.E2.m1.5.5.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.2">
            </eq>
            <apply id="S3.E2.m1.5.5.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.3">
             <csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.3">
              subscript
             </csymbol>
             <ci id="S3.E2.m1.5.5.1.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.3.2">
              𝐿
             </ci>
             <apply id="S3.E2.m1.5.5.1.1.3.3.cmml" xref="S3.E2.m1.5.5.1.1.3.3">
              <times id="S3.E2.m1.5.5.1.1.3.3.1.cmml" xref="S3.E2.m1.5.5.1.1.3.3.1">
              </times>
              <ci id="S3.E2.m1.5.5.1.1.3.3.2.cmml" xref="S3.E2.m1.5.5.1.1.3.3.2">
               𝐿
              </ci>
              <ci id="S3.E2.m1.5.5.1.1.3.3.3.cmml" xref="S3.E2.m1.5.5.1.1.3.3.3">
               𝐷
              </ci>
              <ci id="S3.E2.m1.5.5.1.1.3.3.4.cmml" xref="S3.E2.m1.5.5.1.1.3.3.4">
               𝑀
              </ci>
             </apply>
            </apply>
            <apply id="S3.E2.m1.5.5.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1">
             <times id="S3.E2.m1.5.5.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.2">
             </times>
             <apply id="S3.E2.m1.5.5.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.3">
              <csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.1.3">
               subscript
              </csymbol>
              <ci id="S3.E2.m1.5.5.1.1.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.1.3.2">
               𝔼
              </ci>
              <list id="S3.E2.m1.3.3.3.4.cmml" xref="S3.E2.m1.3.3.3.3">
               <apply id="S3.E2.m1.3.3.3.3.1.cmml" xref="S3.E2.m1.3.3.3.3.1">
                <csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.3.1.1.cmml" xref="S3.E2.m1.3.3.3.3.1">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.3.3.3.3.1.2.cmml" xref="S3.E2.m1.3.3.3.3.1.2">
                 𝒛
                </ci>
                <cn id="S3.E2.m1.3.3.3.3.1.3.cmml" type="integer" xref="S3.E2.m1.3.3.3.3.1.3">
                 0
                </cn>
               </apply>
               <ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">
                bold-italic-ϵ
               </ci>
               <ci id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">
                𝑡
               </ci>
              </list>
             </apply>
             <apply id="S3.E2.m1.5.5.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1">
              <csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1">
               superscript
              </csymbol>
              <apply id="S3.E2.m1.5.5.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1">
               <csymbol cd="latexml" id="S3.E2.m1.5.5.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.2">
                norm
               </csymbol>
               <apply id="S3.E2.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1">
                <minus id="S3.E2.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.2">
                </minus>
                <ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.3">
                 bold-italic-ϵ
                </ci>
                <apply id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1">
                 <times id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.2">
                 </times>
                 <apply id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3">
                   subscript
                  </csymbol>
                  <ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2">
                   bold-italic-ϵ
                  </ci>
                  <ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3">
                   𝜃
                  </ci>
                 </apply>
                 <interval closure="open" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1">
                  <apply id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1">
                   <csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1">
                    subscript
                   </csymbol>
                   <ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2">
                    𝒛
                   </ci>
                   <ci id="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">
                    𝑡
                   </ci>
                  </apply>
                  <ci id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">
                   𝑡
                  </ci>
                 </interval>
                </apply>
               </apply>
              </apply>
              <cn id="S3.E2.m1.5.5.1.1.1.1.3.cmml" type="integer" xref="S3.E2.m1.5.5.1.1.1.1.3">
               2
              </cn>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.E2.m1.5c">
           \displaystyle L_{LDM}=\mathbb{E}_{\bm{z}_{0},\bm{\epsilon},t}\|\bm{\epsilon}-\bm{\epsilon}_{\theta}(\bm{z}_{t},t)\|^{2}.
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_right">
         (2)
        </span>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.3
    </span>
    Prompt Decomposition by LLM Planning
   </h3>
   <div class="ltx_para" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.15">
     Given a complicated prompt
     <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p1.15.1">
      p
     </span>
     , MuLan first uses an LLM to automatically decompose
     <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p1.15.2">
      p
     </span>
     into
     <math alttext="N" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.1">
      <semantics id="S3.SS3.p1.3.m3.1a">
       <mi id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">
        N
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b">
        <ci id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">
         𝑁
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">
        N
       </annotation>
      </semantics>
     </math>
     object-wise sub-prompts
     <math alttext="\texttt{p}_{1:N}" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.1">
      <semantics id="S3.SS3.p1.4.m4.1a">
       <msub id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.4.m4.1.1.2" xref="S3.SS3.p1.4.m4.1.1.2a.cmml">
         p
        </mtext>
        <mrow id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml">
         <mn id="S3.SS3.p1.4.m4.1.1.3.2" xref="S3.SS3.p1.4.m4.1.1.3.2.cmml">
          1
         </mn>
         <mo id="S3.SS3.p1.4.m4.1.1.3.1" lspace="0.278em" rspace="0.278em" xref="S3.SS3.p1.4.m4.1.1.3.1.cmml">
          :
         </mo>
         <mi id="S3.SS3.p1.4.m4.1.1.3.3" xref="S3.SS3.p1.4.m4.1.1.3.3.cmml">
          N
         </mi>
        </mrow>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b">
        <apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">
         <csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS3.p1.4.m4.1.1.2a.cmml" xref="S3.SS3.p1.4.m4.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2">
           p
          </mtext>
         </ci>
         <apply id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3">
          <ci id="S3.SS3.p1.4.m4.1.1.3.1.cmml" xref="S3.SS3.p1.4.m4.1.1.3.1">
           :
          </ci>
          <cn id="S3.SS3.p1.4.m4.1.1.3.2.cmml" type="integer" xref="S3.SS3.p1.4.m4.1.1.3.2">
           1
          </cn>
          <ci id="S3.SS3.p1.4.m4.1.1.3.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3.3">
           𝑁
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">
        \texttt{p}_{1:N}
       </annotation>
      </semantics>
     </math>
     . MuLan specifically asks the LLM to produce a sequence of objects that will be created in the default order
from left to right and bottom to top in the image, so the LLM leverages its prior knowledge to fill all objects of
     <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p1.15.3">
      p
     </span>
     to an empty list of the pre-defined order.
Compared to layout generation, this is more feasible for most LLMs who may suffer from hallucinations in spatial reasoning. The pre-defined order will also facilitate sequential object generation in Section
     <a class="ltx_ref" href="#S3.SS4" title="3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       3.4
      </span>
     </a>
     .
Let
     <math alttext="\texttt{objs}=\{\texttt{obj}_{1},\cdots,\texttt{obj}_{n},\cdots,\texttt{obj}_{N}\}" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m6.5">
      <semantics id="S3.SS3.p1.6.m6.5a">
       <mrow id="S3.SS3.p1.6.m6.5.5" xref="S3.SS3.p1.6.m6.5.5.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.5.5.5" xref="S3.SS3.p1.6.m6.5.5.5a.cmml">
         objs
        </mtext>
        <mo id="S3.SS3.p1.6.m6.5.5.4" xref="S3.SS3.p1.6.m6.5.5.4.cmml">
         =
        </mo>
        <mrow id="S3.SS3.p1.6.m6.5.5.3.3" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
         <mo id="S3.SS3.p1.6.m6.5.5.3.3.4" stretchy="false" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
          {
         </mo>
         <msub id="S3.SS3.p1.6.m6.3.3.1.1.1" xref="S3.SS3.p1.6.m6.3.3.1.1.1.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.3.3.1.1.1.2" xref="S3.SS3.p1.6.m6.3.3.1.1.1.2a.cmml">
           obj
          </mtext>
          <mn id="S3.SS3.p1.6.m6.3.3.1.1.1.3" xref="S3.SS3.p1.6.m6.3.3.1.1.1.3.cmml">
           1
          </mn>
         </msub>
         <mo id="S3.SS3.p1.6.m6.5.5.3.3.5" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
          ,
         </mo>
         <mi id="S3.SS3.p1.6.m6.1.1" mathvariant="normal" xref="S3.SS3.p1.6.m6.1.1.cmml">
          ⋯
         </mi>
         <mo id="S3.SS3.p1.6.m6.5.5.3.3.6" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
          ,
         </mo>
         <msub id="S3.SS3.p1.6.m6.4.4.2.2.2" xref="S3.SS3.p1.6.m6.4.4.2.2.2.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.4.4.2.2.2.2" xref="S3.SS3.p1.6.m6.4.4.2.2.2.2a.cmml">
           obj
          </mtext>
          <mi id="S3.SS3.p1.6.m6.4.4.2.2.2.3" xref="S3.SS3.p1.6.m6.4.4.2.2.2.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S3.SS3.p1.6.m6.5.5.3.3.7" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
          ,
         </mo>
         <mi id="S3.SS3.p1.6.m6.2.2" mathvariant="normal" xref="S3.SS3.p1.6.m6.2.2.cmml">
          ⋯
         </mi>
         <mo id="S3.SS3.p1.6.m6.5.5.3.3.8" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
          ,
         </mo>
         <msub id="S3.SS3.p1.6.m6.5.5.3.3.3" xref="S3.SS3.p1.6.m6.5.5.3.3.3.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.5.5.3.3.3.2" xref="S3.SS3.p1.6.m6.5.5.3.3.3.2a.cmml">
           obj
          </mtext>
          <mi id="S3.SS3.p1.6.m6.5.5.3.3.3.3" xref="S3.SS3.p1.6.m6.5.5.3.3.3.3.cmml">
           N
          </mi>
         </msub>
         <mo id="S3.SS3.p1.6.m6.5.5.3.3.9" stretchy="false" xref="S3.SS3.p1.6.m6.5.5.3.4.cmml">
          }
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.5b">
        <apply id="S3.SS3.p1.6.m6.5.5.cmml" xref="S3.SS3.p1.6.m6.5.5">
         <eq id="S3.SS3.p1.6.m6.5.5.4.cmml" xref="S3.SS3.p1.6.m6.5.5.4">
         </eq>
         <ci id="S3.SS3.p1.6.m6.5.5.5a.cmml" xref="S3.SS3.p1.6.m6.5.5.5">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.5.5.5.cmml" xref="S3.SS3.p1.6.m6.5.5.5">
           objs
          </mtext>
         </ci>
         <set id="S3.SS3.p1.6.m6.5.5.3.4.cmml" xref="S3.SS3.p1.6.m6.5.5.3.3">
          <apply id="S3.SS3.p1.6.m6.3.3.1.1.1.cmml" xref="S3.SS3.p1.6.m6.3.3.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.3.3.1.1.1.1.cmml" xref="S3.SS3.p1.6.m6.3.3.1.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS3.p1.6.m6.3.3.1.1.1.2a.cmml" xref="S3.SS3.p1.6.m6.3.3.1.1.1.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.3.3.1.1.1.2.cmml" xref="S3.SS3.p1.6.m6.3.3.1.1.1.2">
             obj
            </mtext>
           </ci>
           <cn id="S3.SS3.p1.6.m6.3.3.1.1.1.3.cmml" type="integer" xref="S3.SS3.p1.6.m6.3.3.1.1.1.3">
            1
           </cn>
          </apply>
          <ci id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">
           ⋯
          </ci>
          <apply id="S3.SS3.p1.6.m6.4.4.2.2.2.cmml" xref="S3.SS3.p1.6.m6.4.4.2.2.2">
           <csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.4.4.2.2.2.1.cmml" xref="S3.SS3.p1.6.m6.4.4.2.2.2">
            subscript
           </csymbol>
           <ci id="S3.SS3.p1.6.m6.4.4.2.2.2.2a.cmml" xref="S3.SS3.p1.6.m6.4.4.2.2.2.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.4.4.2.2.2.2.cmml" xref="S3.SS3.p1.6.m6.4.4.2.2.2.2">
             obj
            </mtext>
           </ci>
           <ci id="S3.SS3.p1.6.m6.4.4.2.2.2.3.cmml" xref="S3.SS3.p1.6.m6.4.4.2.2.2.3">
            𝑛
           </ci>
          </apply>
          <ci id="S3.SS3.p1.6.m6.2.2.cmml" xref="S3.SS3.p1.6.m6.2.2">
           ⋯
          </ci>
          <apply id="S3.SS3.p1.6.m6.5.5.3.3.3.cmml" xref="S3.SS3.p1.6.m6.5.5.3.3.3">
           <csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.5.5.3.3.3.1.cmml" xref="S3.SS3.p1.6.m6.5.5.3.3.3">
            subscript
           </csymbol>
           <ci id="S3.SS3.p1.6.m6.5.5.3.3.3.2a.cmml" xref="S3.SS3.p1.6.m6.5.5.3.3.3.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.6.m6.5.5.3.3.3.2.cmml" xref="S3.SS3.p1.6.m6.5.5.3.3.3.2">
             obj
            </mtext>
           </ci>
           <ci id="S3.SS3.p1.6.m6.5.5.3.3.3.3.cmml" xref="S3.SS3.p1.6.m6.5.5.3.3.3.3">
            𝑁
           </ci>
          </apply>
         </set>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.5c">
        \texttt{objs}=\{\texttt{obj}_{1},\cdots,\texttt{obj}_{n},\cdots,\texttt{obj}_{N}\}
       </annotation>
      </semantics>
     </math>
     be the LLM-planned
     <math alttext="N" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m7.1">
      <semantics id="S3.SS3.p1.7.m7.1a">
       <mi id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml">
        N
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b">
        <ci id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">
         𝑁
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">
        N
       </annotation>
      </semantics>
     </math>
     objects extracted from
     <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p1.15.4">
      p
     </span>
     .
For the first object, the sub-prompt is simply
     <math alttext="\texttt{p}_{1}=" class="ltx_Math" display="inline" id="S3.SS3.p1.9.m9.1">
      <semantics id="S3.SS3.p1.9.m9.1a">
       <mrow id="S3.SS3.p1.9.m9.1.1" xref="S3.SS3.p1.9.m9.1.1.cmml">
        <msub id="S3.SS3.p1.9.m9.1.1.2" xref="S3.SS3.p1.9.m9.1.1.2.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.9.m9.1.1.2.2" xref="S3.SS3.p1.9.m9.1.1.2.2a.cmml">
          p
         </mtext>
         <mn id="S3.SS3.p1.9.m9.1.1.2.3" xref="S3.SS3.p1.9.m9.1.1.2.3.cmml">
          1
         </mn>
        </msub>
        <mo id="S3.SS3.p1.9.m9.1.1.1" xref="S3.SS3.p1.9.m9.1.1.1.cmml">
         =
        </mo>
        <mi id="S3.SS3.p1.9.m9.1.1.3" xref="S3.SS3.p1.9.m9.1.1.3.cmml">
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.9.m9.1b">
        <apply id="S3.SS3.p1.9.m9.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1">
         <eq id="S3.SS3.p1.9.m9.1.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1.1">
         </eq>
         <apply id="S3.SS3.p1.9.m9.1.1.2.cmml" xref="S3.SS3.p1.9.m9.1.1.2">
          <csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.1.1.2.1.cmml" xref="S3.SS3.p1.9.m9.1.1.2">
           subscript
          </csymbol>
          <ci id="S3.SS3.p1.9.m9.1.1.2.2a.cmml" xref="S3.SS3.p1.9.m9.1.1.2.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.9.m9.1.1.2.2.cmml" xref="S3.SS3.p1.9.m9.1.1.2.2">
            p
           </mtext>
          </ci>
          <cn id="S3.SS3.p1.9.m9.1.1.2.3.cmml" type="integer" xref="S3.SS3.p1.9.m9.1.1.2.3">
           1
          </cn>
         </apply>
         <csymbol cd="latexml" id="S3.SS3.p1.9.m9.1.1.3.cmml" xref="S3.SS3.p1.9.m9.1.1.3">
          absent
         </csymbol>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.9.m9.1c">
        \texttt{p}_{1}=
       </annotation>
      </semantics>
     </math>
     “
     <math alttext="\{\texttt{obj}_{1}\}" class="ltx_Math" display="inline" id="S3.SS3.p1.10.m10.1">
      <semantics id="S3.SS3.p1.10.m10.1a">
       <mrow id="S3.SS3.p1.10.m10.1.1.1" xref="S3.SS3.p1.10.m10.1.1.2.cmml">
        <mo id="S3.SS3.p1.10.m10.1.1.1.2" stretchy="false" xref="S3.SS3.p1.10.m10.1.1.2.cmml">
         {
        </mo>
        <msub id="S3.SS3.p1.10.m10.1.1.1.1" xref="S3.SS3.p1.10.m10.1.1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.10.m10.1.1.1.1.2" xref="S3.SS3.p1.10.m10.1.1.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="S3.SS3.p1.10.m10.1.1.1.1.3" xref="S3.SS3.p1.10.m10.1.1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <mo id="S3.SS3.p1.10.m10.1.1.1.3" stretchy="false" xref="S3.SS3.p1.10.m10.1.1.2.cmml">
         }
        </mo>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.10.m10.1b">
        <set id="S3.SS3.p1.10.m10.1.1.2.cmml" xref="S3.SS3.p1.10.m10.1.1.1">
         <apply id="S3.SS3.p1.10.m10.1.1.1.1.cmml" xref="S3.SS3.p1.10.m10.1.1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.p1.10.m10.1.1.1.1.1.cmml" xref="S3.SS3.p1.10.m10.1.1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.p1.10.m10.1.1.1.1.2a.cmml" xref="S3.SS3.p1.10.m10.1.1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.10.m10.1.1.1.1.2.cmml" xref="S3.SS3.p1.10.m10.1.1.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="S3.SS3.p1.10.m10.1.1.1.1.3.cmml" type="integer" xref="S3.SS3.p1.10.m10.1.1.1.1.3">
           1
          </cn>
         </apply>
        </set>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.10.m10.1c">
        \{\texttt{obj}_{1}\}
       </annotation>
      </semantics>
     </math>
     ”.
For object-
     <math alttext="n" class="ltx_Math" display="inline" id="S3.SS3.p1.11.m11.1">
      <semantics id="S3.SS3.p1.11.m11.1a">
       <mi id="S3.SS3.p1.11.m11.1.1" xref="S3.SS3.p1.11.m11.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.11.m11.1b">
        <ci id="S3.SS3.p1.11.m11.1.1.cmml" xref="S3.SS3.p1.11.m11.1.1">
         𝑛
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.11.m11.1c">
        n
       </annotation>
      </semantics>
     </math>
     with
     <math alttext="n&gt;1" class="ltx_Math" display="inline" id="S3.SS3.p1.12.m12.1">
      <semantics id="S3.SS3.p1.12.m12.1a">
       <mrow id="S3.SS3.p1.12.m12.1.1" xref="S3.SS3.p1.12.m12.1.1.cmml">
        <mi id="S3.SS3.p1.12.m12.1.1.2" xref="S3.SS3.p1.12.m12.1.1.2.cmml">
         n
        </mi>
        <mo id="S3.SS3.p1.12.m12.1.1.1" xref="S3.SS3.p1.12.m12.1.1.1.cmml">
         &gt;
        </mo>
        <mn id="S3.SS3.p1.12.m12.1.1.3" xref="S3.SS3.p1.12.m12.1.1.3.cmml">
         1
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.12.m12.1b">
        <apply id="S3.SS3.p1.12.m12.1.1.cmml" xref="S3.SS3.p1.12.m12.1.1">
         <gt id="S3.SS3.p1.12.m12.1.1.1.cmml" xref="S3.SS3.p1.12.m12.1.1.1">
         </gt>
         <ci id="S3.SS3.p1.12.m12.1.1.2.cmml" xref="S3.SS3.p1.12.m12.1.1.2">
          𝑛
         </ci>
         <cn id="S3.SS3.p1.12.m12.1.1.3.cmml" type="integer" xref="S3.SS3.p1.12.m12.1.1.3">
          1
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.12.m12.1c">
        n&gt;1
       </annotation>
      </semantics>
     </math>
     , the subtask is to generate object-
     <math alttext="n" class="ltx_Math" display="inline" id="S3.SS3.p1.13.m13.1">
      <semantics id="S3.SS3.p1.13.m13.1a">
       <mi id="S3.SS3.p1.13.m13.1.1" xref="S3.SS3.p1.13.m13.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.13.m13.1b">
        <ci id="S3.SS3.p1.13.m13.1.1.cmml" xref="S3.SS3.p1.13.m13.1.1">
         𝑛
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.13.m13.1c">
        n
       </annotation>
      </semantics>
     </math>
     conditioned on previous objects and the textual sub-prompt is defined as
     <math alttext="\texttt{p}_{n}=" class="ltx_Math" display="inline" id="S3.SS3.p1.14.m14.1">
      <semantics id="S3.SS3.p1.14.m14.1a">
       <mrow id="S3.SS3.p1.14.m14.1.1" xref="S3.SS3.p1.14.m14.1.1.cmml">
        <msub id="S3.SS3.p1.14.m14.1.1.2" xref="S3.SS3.p1.14.m14.1.1.2.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.14.m14.1.1.2.2" xref="S3.SS3.p1.14.m14.1.1.2.2a.cmml">
          p
         </mtext>
         <mi id="S3.SS3.p1.14.m14.1.1.2.3" xref="S3.SS3.p1.14.m14.1.1.2.3.cmml">
          n
         </mi>
        </msub>
        <mo id="S3.SS3.p1.14.m14.1.1.1" xref="S3.SS3.p1.14.m14.1.1.1.cmml">
         =
        </mo>
        <mi id="S3.SS3.p1.14.m14.1.1.3" xref="S3.SS3.p1.14.m14.1.1.3.cmml">
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.14.m14.1b">
        <apply id="S3.SS3.p1.14.m14.1.1.cmml" xref="S3.SS3.p1.14.m14.1.1">
         <eq id="S3.SS3.p1.14.m14.1.1.1.cmml" xref="S3.SS3.p1.14.m14.1.1.1">
         </eq>
         <apply id="S3.SS3.p1.14.m14.1.1.2.cmml" xref="S3.SS3.p1.14.m14.1.1.2">
          <csymbol cd="ambiguous" id="S3.SS3.p1.14.m14.1.1.2.1.cmml" xref="S3.SS3.p1.14.m14.1.1.2">
           subscript
          </csymbol>
          <ci id="S3.SS3.p1.14.m14.1.1.2.2a.cmml" xref="S3.SS3.p1.14.m14.1.1.2.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.14.m14.1.1.2.2.cmml" xref="S3.SS3.p1.14.m14.1.1.2.2">
            p
           </mtext>
          </ci>
          <ci id="S3.SS3.p1.14.m14.1.1.2.3.cmml" xref="S3.SS3.p1.14.m14.1.1.2.3">
           𝑛
          </ci>
         </apply>
         <csymbol cd="latexml" id="S3.SS3.p1.14.m14.1.1.3.cmml" xref="S3.SS3.p1.14.m14.1.1.3">
          absent
         </csymbol>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.14.m14.1c">
        \texttt{p}_{n}=
       </annotation>
      </semantics>
     </math>
     “
     <math alttext="\{\texttt{obj}_{n}\}\,\,\texttt{and}\,\,\{\texttt{obj}_{n-1}\}" class="ltx_Math" display="inline" id="S3.SS3.p1.15.m15.2">
      <semantics id="S3.SS3.p1.15.m15.2a">
       <mrow id="S3.SS3.p1.15.m15.2.2" xref="S3.SS3.p1.15.m15.2.2.cmml">
        <mrow id="S3.SS3.p1.15.m15.1.1.1.1" xref="S3.SS3.p1.15.m15.1.1.1.2.cmml">
         <mo id="S3.SS3.p1.15.m15.1.1.1.1.2" stretchy="false" xref="S3.SS3.p1.15.m15.1.1.1.2.cmml">
          {
         </mo>
         <msub id="S3.SS3.p1.15.m15.1.1.1.1.1" xref="S3.SS3.p1.15.m15.1.1.1.1.1.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.15.m15.1.1.1.1.1.2" xref="S3.SS3.p1.15.m15.1.1.1.1.1.2a.cmml">
           obj
          </mtext>
          <mi id="S3.SS3.p1.15.m15.1.1.1.1.1.3" xref="S3.SS3.p1.15.m15.1.1.1.1.1.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S3.SS3.p1.15.m15.1.1.1.1.3" stretchy="false" xref="S3.SS3.p1.15.m15.1.1.1.2.cmml">
          }
         </mo>
        </mrow>
        <mo id="S3.SS3.p1.15.m15.2.2.3" lspace="0.330em" rspace="0em" xref="S3.SS3.p1.15.m15.2.2.3.cmml">
         ​
        </mo>
        <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.15.m15.2.2.4" xref="S3.SS3.p1.15.m15.2.2.4a.cmml">
         and
        </mtext>
        <mo id="S3.SS3.p1.15.m15.2.2.3a" lspace="0.330em" rspace="0em" xref="S3.SS3.p1.15.m15.2.2.3.cmml">
         ​
        </mo>
        <mrow id="S3.SS3.p1.15.m15.2.2.2.1" xref="S3.SS3.p1.15.m15.2.2.2.2.cmml">
         <mo id="S3.SS3.p1.15.m15.2.2.2.1.2" stretchy="false" xref="S3.SS3.p1.15.m15.2.2.2.2.cmml">
          {
         </mo>
         <msub id="S3.SS3.p1.15.m15.2.2.2.1.1" xref="S3.SS3.p1.15.m15.2.2.2.1.1.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.15.m15.2.2.2.1.1.2" xref="S3.SS3.p1.15.m15.2.2.2.1.1.2a.cmml">
           obj
          </mtext>
          <mrow id="S3.SS3.p1.15.m15.2.2.2.1.1.3" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.cmml">
           <mi id="S3.SS3.p1.15.m15.2.2.2.1.1.3.2" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.2.cmml">
            n
           </mi>
           <mo id="S3.SS3.p1.15.m15.2.2.2.1.1.3.1" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.1.cmml">
            −
           </mo>
           <mn id="S3.SS3.p1.15.m15.2.2.2.1.1.3.3" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.3.cmml">
            1
           </mn>
          </mrow>
         </msub>
         <mo id="S3.SS3.p1.15.m15.2.2.2.1.3" stretchy="false" xref="S3.SS3.p1.15.m15.2.2.2.2.cmml">
          }
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.15.m15.2b">
        <apply id="S3.SS3.p1.15.m15.2.2.cmml" xref="S3.SS3.p1.15.m15.2.2">
         <times id="S3.SS3.p1.15.m15.2.2.3.cmml" xref="S3.SS3.p1.15.m15.2.2.3">
         </times>
         <set id="S3.SS3.p1.15.m15.1.1.1.2.cmml" xref="S3.SS3.p1.15.m15.1.1.1.1">
          <apply id="S3.SS3.p1.15.m15.1.1.1.1.1.cmml" xref="S3.SS3.p1.15.m15.1.1.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.p1.15.m15.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.15.m15.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS3.p1.15.m15.1.1.1.1.1.2a.cmml" xref="S3.SS3.p1.15.m15.1.1.1.1.1.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.15.m15.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.15.m15.1.1.1.1.1.2">
             obj
            </mtext>
           </ci>
           <ci id="S3.SS3.p1.15.m15.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.15.m15.1.1.1.1.1.3">
            𝑛
           </ci>
          </apply>
         </set>
         <ci id="S3.SS3.p1.15.m15.2.2.4a.cmml" xref="S3.SS3.p1.15.m15.2.2.4">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.15.m15.2.2.4.cmml" xref="S3.SS3.p1.15.m15.2.2.4">
           and
          </mtext>
         </ci>
         <set id="S3.SS3.p1.15.m15.2.2.2.2.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1">
          <apply id="S3.SS3.p1.15.m15.2.2.2.1.1.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.p1.15.m15.2.2.2.1.1.1.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS3.p1.15.m15.2.2.2.1.1.2a.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS3.p1.15.m15.2.2.2.1.1.2.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1.2">
             obj
            </mtext>
           </ci>
           <apply id="S3.SS3.p1.15.m15.2.2.2.1.1.3.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3">
            <minus id="S3.SS3.p1.15.m15.2.2.2.1.1.3.1.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.1">
            </minus>
            <ci id="S3.SS3.p1.15.m15.2.2.2.1.1.3.2.cmml" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.2">
             𝑛
            </ci>
            <cn id="S3.SS3.p1.15.m15.2.2.2.1.1.3.3.cmml" type="integer" xref="S3.SS3.p1.15.m15.2.2.2.1.1.3.3">
             1
            </cn>
           </apply>
          </apply>
         </set>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.15.m15.2c">
        \{\texttt{obj}_{n}\}\,\,\texttt{and}\,\,\{\texttt{obj}_{n-1}\}
       </annotation>
      </semantics>
     </math>
     ”.
MuLan conducts the above global planning by an LLM at the very beginning before generating any image.
The detailed prompts and template for LLM planning can be found in Appendix
     <a class="ltx_ref" href="#A1" title="Appendix A Detailed prompt template of the global planning by the LLM ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       A
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para" id="S3.SS3.p2">
    <p class="ltx_p" id="S3.SS3.p2.1">
     When generating each object in Section
     <a class="ltx_ref" href="#S3.SS4" title="3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       3.4
      </span>
     </a>
     , we will use the LLM again as a local planner of the object’s position and size, i.e., by generating a mask in the image and coordinating its overlap with previous objects. Then a diffusion model is used to generate the object under the attention guidance of the mask.
These will be further elaborated in Section
     <a class="ltx_ref" href="#S3.SS4" title="3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       3.4
      </span>
     </a>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.4
    </span>
    Conditional Single-Object Diffusion with LLM Planning and Attention Guidance
   </h3>
   <figure class="ltx_figure" id="S3.F3">
    <p class="ltx_p ltx_align_center ltx_align_center" id="S3.F3.1.1">
     <span class="ltx_text" id="S3.F3.1.1.1">
      <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="184" id="S3.F3.1.1.1.g1" src="/html/2402.12741/assets/x1.png" width="230"/>
     </span>
    </p>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 3:
     </span>
     Single object diffusion with LLM planning and attention guidance for
     <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.F3.3.3.m1.1">
      <semantics id="S3.F3.3.3.m1.1b">
       <msub id="S3.F3.3.3.m1.1.1" xref="S3.F3.3.3.m1.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.F3.3.3.m1.1.1.2" xref="S3.F3.3.3.m1.1.1.2a.cmml">
         obj
        </mtext>
        <mi id="S3.F3.3.3.m1.1.1.3" xref="S3.F3.3.3.m1.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.F3.3.3.m1.1c">
        <apply id="S3.F3.3.3.m1.1.1.cmml" xref="S3.F3.3.3.m1.1.1">
         <csymbol cd="ambiguous" id="S3.F3.3.3.m1.1.1.1.cmml" xref="S3.F3.3.3.m1.1.1">
          subscript
         </csymbol>
         <ci id="S3.F3.3.3.m1.1.1.2a.cmml" xref="S3.F3.3.3.m1.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.F3.3.3.m1.1.1.2.cmml" xref="S3.F3.3.3.m1.1.1.2">
           obj
          </mtext>
         </ci>
         <ci id="S3.F3.3.3.m1.1.1.3.cmml" xref="S3.F3.3.3.m1.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.F3.3.3.m1.1d">
        \texttt{obj}_{n}
       </annotation>
      </semantics>
     </math>
     (detailed procedure in Algorithm
     <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     ).
    </figcaption>
   </figure>
   <figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_float">
      <span class="ltx_text ltx_font_bold" id="alg1.2.1.1">
       Algorithm 1
      </span>
     </span>
     Single Object Diffusion in MuLan
    </figcaption>
    <div class="ltx_listing ltx_listing" id="alg1.3">
     <div class="ltx_listingline" id="alg1.l1">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">
        1:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l1.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l1.3" style="font-size:90%;">
       Input:
      </span>
      <span class="ltx_text" id="alg1.l1.4" style="font-size:90%;">
       Object number
      </span>
      <math alttext="n" class="ltx_Math" display="inline" id="alg1.l1.m1.1">
       <semantics id="alg1.l1.m1.1a">
        <mi id="alg1.l1.m1.1.1" mathsize="90%" xref="alg1.l1.m1.1.1.cmml">
         n
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b">
         <ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">
          𝑛
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m1.1c">
         n
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.5" style="font-size:90%;">
       , sub-prompt
      </span>
      <math alttext="\texttt{p}_{n}" class="ltx_Math" display="inline" id="alg1.l1.m2.1">
       <semantics id="alg1.l1.m2.1a">
        <msub id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="alg1.l1.m2.1.1.2" mathsize="90%" xref="alg1.l1.m2.1.1.2a.cmml">
          p
         </mtext>
         <mi id="alg1.l1.m2.1.1.3" mathsize="90%" xref="alg1.l1.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b">
         <apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">
          <csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l1.m2.1.1.2a.cmml" xref="alg1.l1.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l1.m2.1.1.2.cmml" mathsize="90%" xref="alg1.l1.m2.1.1.2">
            p
           </mtext>
          </ci>
          <ci id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m2.1c">
         \texttt{p}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.6" style="font-size:90%;">
       , LLM planner
      </span>
      <span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="alg1.l1.7" style="font-size:90%;">
       Planner
      </span>
      <span class="ltx_text" id="alg1.l1.8" style="font-size:90%;">
       , precise mask
      </span>
      <math alttext="\bm{\tilde{M}}_{n-1}" class="ltx_Math" display="inline" id="alg1.l1.m4.1">
       <semantics id="alg1.l1.m4.1a">
        <msub id="alg1.l1.m4.1.1" xref="alg1.l1.m4.1.1.cmml">
         <mover accent="true" id="alg1.l1.m4.1.1.2" xref="alg1.l1.m4.1.1.2.cmml">
          <mi id="alg1.l1.m4.1.1.2.2" mathsize="90%" xref="alg1.l1.m4.1.1.2.2.cmml">
           𝑴
          </mi>
          <mo class="ltx_mathvariant_bold" id="alg1.l1.m4.1.1.2.1" mathsize="90%" mathvariant="bold" xref="alg1.l1.m4.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mrow id="alg1.l1.m4.1.1.3" xref="alg1.l1.m4.1.1.3.cmml">
          <mi id="alg1.l1.m4.1.1.3.2" mathsize="90%" xref="alg1.l1.m4.1.1.3.2.cmml">
           n
          </mi>
          <mo id="alg1.l1.m4.1.1.3.1" mathsize="90%" xref="alg1.l1.m4.1.1.3.1.cmml">
           −
          </mo>
          <mn id="alg1.l1.m4.1.1.3.3" mathsize="90%" xref="alg1.l1.m4.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b">
         <apply id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1">
          <csymbol cd="ambiguous" id="alg1.l1.m4.1.1.1.cmml" xref="alg1.l1.m4.1.1">
           subscript
          </csymbol>
          <apply id="alg1.l1.m4.1.1.2.cmml" xref="alg1.l1.m4.1.1.2">
           <ci id="alg1.l1.m4.1.1.2.1.cmml" xref="alg1.l1.m4.1.1.2.1">
            bold-~
           </ci>
           <ci id="alg1.l1.m4.1.1.2.2.cmml" xref="alg1.l1.m4.1.1.2.2">
            𝑴
           </ci>
          </apply>
          <apply id="alg1.l1.m4.1.1.3.cmml" xref="alg1.l1.m4.1.1.3">
           <minus id="alg1.l1.m4.1.1.3.1.cmml" xref="alg1.l1.m4.1.1.3.1">
           </minus>
           <ci id="alg1.l1.m4.1.1.3.2.cmml" xref="alg1.l1.m4.1.1.3.2">
            𝑛
           </ci>
           <cn id="alg1.l1.m4.1.1.3.3.cmml" type="integer" xref="alg1.l1.m4.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m4.1c">
         \bm{\tilde{M}}_{n-1}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.9" style="font-size:90%;">
       (only for
      </span>
      <math alttext="n&gt;1" class="ltx_Math" display="inline" id="alg1.l1.m5.1">
       <semantics id="alg1.l1.m5.1a">
        <mrow id="alg1.l1.m5.1.1" xref="alg1.l1.m5.1.1.cmml">
         <mi id="alg1.l1.m5.1.1.2" mathsize="90%" xref="alg1.l1.m5.1.1.2.cmml">
          n
         </mi>
         <mo id="alg1.l1.m5.1.1.1" mathsize="90%" xref="alg1.l1.m5.1.1.1.cmml">
          &gt;
         </mo>
         <mn id="alg1.l1.m5.1.1.3" mathsize="90%" xref="alg1.l1.m5.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m5.1b">
         <apply id="alg1.l1.m5.1.1.cmml" xref="alg1.l1.m5.1.1">
          <gt id="alg1.l1.m5.1.1.1.cmml" xref="alg1.l1.m5.1.1.1">
          </gt>
          <ci id="alg1.l1.m5.1.1.2.cmml" xref="alg1.l1.m5.1.1.2">
           𝑛
          </ci>
          <cn id="alg1.l1.m5.1.1.3.cmml" type="integer" xref="alg1.l1.m5.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m5.1c">
         n&gt;1
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.10" style="font-size:90%;">
       ), latents
      </span>
      <math alttext="\{\bm{z}_{(n-1),(t-1)}\}_{t=1}^{T}" class="ltx_Math" display="inline" id="alg1.l1.m6.3">
       <semantics id="alg1.l1.m6.3a">
        <msubsup id="alg1.l1.m6.3.3" xref="alg1.l1.m6.3.3.cmml">
         <mrow id="alg1.l1.m6.3.3.1.1.1" xref="alg1.l1.m6.3.3.1.1.2.cmml">
          <mo id="alg1.l1.m6.3.3.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l1.m6.3.3.1.1.2.cmml">
           {
          </mo>
          <msub id="alg1.l1.m6.3.3.1.1.1.1" xref="alg1.l1.m6.3.3.1.1.1.1.cmml">
           <mi id="alg1.l1.m6.3.3.1.1.1.1.2" mathsize="90%" xref="alg1.l1.m6.3.3.1.1.1.1.2.cmml">
            𝒛
           </mi>
           <mrow id="alg1.l1.m6.2.2.2.2" xref="alg1.l1.m6.2.2.2.3.cmml">
            <mrow id="alg1.l1.m6.1.1.1.1.1.1" xref="alg1.l1.m6.1.1.1.1.1.1.1.cmml">
             <mo id="alg1.l1.m6.1.1.1.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l1.m6.1.1.1.1.1.1.1.cmml">
              (
             </mo>
             <mrow id="alg1.l1.m6.1.1.1.1.1.1.1" xref="alg1.l1.m6.1.1.1.1.1.1.1.cmml">
              <mi id="alg1.l1.m6.1.1.1.1.1.1.1.2" mathsize="90%" xref="alg1.l1.m6.1.1.1.1.1.1.1.2.cmml">
               n
              </mi>
              <mo id="alg1.l1.m6.1.1.1.1.1.1.1.1" mathsize="90%" xref="alg1.l1.m6.1.1.1.1.1.1.1.1.cmml">
               −
              </mo>
              <mn id="alg1.l1.m6.1.1.1.1.1.1.1.3" mathsize="90%" xref="alg1.l1.m6.1.1.1.1.1.1.1.3.cmml">
               1
              </mn>
             </mrow>
             <mo id="alg1.l1.m6.1.1.1.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l1.m6.1.1.1.1.1.1.1.cmml">
              )
             </mo>
            </mrow>
            <mo id="alg1.l1.m6.2.2.2.2.3" mathsize="90%" xref="alg1.l1.m6.2.2.2.3.cmml">
             ,
            </mo>
            <mrow id="alg1.l1.m6.2.2.2.2.2.1" xref="alg1.l1.m6.2.2.2.2.2.1.1.cmml">
             <mo id="alg1.l1.m6.2.2.2.2.2.1.2" maxsize="90%" minsize="90%" xref="alg1.l1.m6.2.2.2.2.2.1.1.cmml">
              (
             </mo>
             <mrow id="alg1.l1.m6.2.2.2.2.2.1.1" xref="alg1.l1.m6.2.2.2.2.2.1.1.cmml">
              <mi id="alg1.l1.m6.2.2.2.2.2.1.1.2" mathsize="90%" xref="alg1.l1.m6.2.2.2.2.2.1.1.2.cmml">
               t
              </mi>
              <mo id="alg1.l1.m6.2.2.2.2.2.1.1.1" mathsize="90%" xref="alg1.l1.m6.2.2.2.2.2.1.1.1.cmml">
               −
              </mo>
              <mn id="alg1.l1.m6.2.2.2.2.2.1.1.3" mathsize="90%" xref="alg1.l1.m6.2.2.2.2.2.1.1.3.cmml">
               1
              </mn>
             </mrow>
             <mo id="alg1.l1.m6.2.2.2.2.2.1.3" maxsize="90%" minsize="90%" xref="alg1.l1.m6.2.2.2.2.2.1.1.cmml">
              )
             </mo>
            </mrow>
           </mrow>
          </msub>
          <mo id="alg1.l1.m6.3.3.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l1.m6.3.3.1.1.2.cmml">
           }
          </mo>
         </mrow>
         <mrow id="alg1.l1.m6.3.3.1.3" xref="alg1.l1.m6.3.3.1.3.cmml">
          <mi id="alg1.l1.m6.3.3.1.3.2" mathsize="90%" xref="alg1.l1.m6.3.3.1.3.2.cmml">
           t
          </mi>
          <mo id="alg1.l1.m6.3.3.1.3.1" mathsize="90%" xref="alg1.l1.m6.3.3.1.3.1.cmml">
           =
          </mo>
          <mn id="alg1.l1.m6.3.3.1.3.3" mathsize="90%" xref="alg1.l1.m6.3.3.1.3.3.cmml">
           1
          </mn>
         </mrow>
         <mi id="alg1.l1.m6.3.3.3" mathsize="90%" xref="alg1.l1.m6.3.3.3.cmml">
          T
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m6.3b">
         <apply id="alg1.l1.m6.3.3.cmml" xref="alg1.l1.m6.3.3">
          <csymbol cd="ambiguous" id="alg1.l1.m6.3.3.2.cmml" xref="alg1.l1.m6.3.3">
           superscript
          </csymbol>
          <apply id="alg1.l1.m6.3.3.1.cmml" xref="alg1.l1.m6.3.3">
           <csymbol cd="ambiguous" id="alg1.l1.m6.3.3.1.2.cmml" xref="alg1.l1.m6.3.3">
            subscript
           </csymbol>
           <set id="alg1.l1.m6.3.3.1.1.2.cmml" xref="alg1.l1.m6.3.3.1.1.1">
            <apply id="alg1.l1.m6.3.3.1.1.1.1.cmml" xref="alg1.l1.m6.3.3.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l1.m6.3.3.1.1.1.1.1.cmml" xref="alg1.l1.m6.3.3.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.l1.m6.3.3.1.1.1.1.2.cmml" xref="alg1.l1.m6.3.3.1.1.1.1.2">
              𝒛
             </ci>
             <list id="alg1.l1.m6.2.2.2.3.cmml" xref="alg1.l1.m6.2.2.2.2">
              <apply id="alg1.l1.m6.1.1.1.1.1.1.1.cmml" xref="alg1.l1.m6.1.1.1.1.1.1">
               <minus id="alg1.l1.m6.1.1.1.1.1.1.1.1.cmml" xref="alg1.l1.m6.1.1.1.1.1.1.1.1">
               </minus>
               <ci id="alg1.l1.m6.1.1.1.1.1.1.1.2.cmml" xref="alg1.l1.m6.1.1.1.1.1.1.1.2">
                𝑛
               </ci>
               <cn id="alg1.l1.m6.1.1.1.1.1.1.1.3.cmml" type="integer" xref="alg1.l1.m6.1.1.1.1.1.1.1.3">
                1
               </cn>
              </apply>
              <apply id="alg1.l1.m6.2.2.2.2.2.1.1.cmml" xref="alg1.l1.m6.2.2.2.2.2.1">
               <minus id="alg1.l1.m6.2.2.2.2.2.1.1.1.cmml" xref="alg1.l1.m6.2.2.2.2.2.1.1.1">
               </minus>
               <ci id="alg1.l1.m6.2.2.2.2.2.1.1.2.cmml" xref="alg1.l1.m6.2.2.2.2.2.1.1.2">
                𝑡
               </ci>
               <cn id="alg1.l1.m6.2.2.2.2.2.1.1.3.cmml" type="integer" xref="alg1.l1.m6.2.2.2.2.2.1.1.3">
                1
               </cn>
              </apply>
             </list>
            </apply>
           </set>
           <apply id="alg1.l1.m6.3.3.1.3.cmml" xref="alg1.l1.m6.3.3.1.3">
            <eq id="alg1.l1.m6.3.3.1.3.1.cmml" xref="alg1.l1.m6.3.3.1.3.1">
            </eq>
            <ci id="alg1.l1.m6.3.3.1.3.2.cmml" xref="alg1.l1.m6.3.3.1.3.2">
             𝑡
            </ci>
            <cn id="alg1.l1.m6.3.3.1.3.3.cmml" type="integer" xref="alg1.l1.m6.3.3.1.3.3">
             1
            </cn>
           </apply>
          </apply>
          <ci id="alg1.l1.m6.3.3.3.cmml" xref="alg1.l1.m6.3.3.3">
           𝑇
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m6.3c">
         \{\bm{z}_{(n-1),(t-1)}\}_{t=1}^{T}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.11" style="font-size:90%;">
       (only for
      </span>
      <math alttext="n&gt;1" class="ltx_Math" display="inline" id="alg1.l1.m7.1">
       <semantics id="alg1.l1.m7.1a">
        <mrow id="alg1.l1.m7.1.1" xref="alg1.l1.m7.1.1.cmml">
         <mi id="alg1.l1.m7.1.1.2" mathsize="90%" xref="alg1.l1.m7.1.1.2.cmml">
          n
         </mi>
         <mo id="alg1.l1.m7.1.1.1" mathsize="90%" xref="alg1.l1.m7.1.1.1.cmml">
          &gt;
         </mo>
         <mn id="alg1.l1.m7.1.1.3" mathsize="90%" xref="alg1.l1.m7.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m7.1b">
         <apply id="alg1.l1.m7.1.1.cmml" xref="alg1.l1.m7.1.1">
          <gt id="alg1.l1.m7.1.1.1.cmml" xref="alg1.l1.m7.1.1.1">
          </gt>
          <ci id="alg1.l1.m7.1.1.2.cmml" xref="alg1.l1.m7.1.1.2">
           𝑛
          </ci>
          <cn id="alg1.l1.m7.1.1.3.cmml" type="integer" xref="alg1.l1.m7.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m7.1c">
         n&gt;1
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.12" style="font-size:90%;">
       ), attention guidance timestep threshold
      </span>
      <math alttext="T^{\prime}" class="ltx_Math" display="inline" id="alg1.l1.m8.1">
       <semantics id="alg1.l1.m8.1a">
        <msup id="alg1.l1.m8.1.1" xref="alg1.l1.m8.1.1.cmml">
         <mi id="alg1.l1.m8.1.1.2" mathsize="90%" xref="alg1.l1.m8.1.1.2.cmml">
          T
         </mi>
         <mo id="alg1.l1.m8.1.1.3" mathsize="90%" xref="alg1.l1.m8.1.1.3.cmml">
          ′
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m8.1b">
         <apply id="alg1.l1.m8.1.1.cmml" xref="alg1.l1.m8.1.1">
          <csymbol cd="ambiguous" id="alg1.l1.m8.1.1.1.cmml" xref="alg1.l1.m8.1.1">
           superscript
          </csymbol>
          <ci id="alg1.l1.m8.1.1.2.cmml" xref="alg1.l1.m8.1.1.2">
           𝑇
          </ci>
          <ci id="alg1.l1.m8.1.1.3.cmml" xref="alg1.l1.m8.1.1.3">
           ′
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m8.1c">
         T^{\prime}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.13" style="font-size:90%;">
       , combination timestep threshold
      </span>
      <math alttext="T^{*}" class="ltx_Math" display="inline" id="alg1.l1.m9.1">
       <semantics id="alg1.l1.m9.1a">
        <msup id="alg1.l1.m9.1.1" xref="alg1.l1.m9.1.1.cmml">
         <mi id="alg1.l1.m9.1.1.2" mathsize="90%" xref="alg1.l1.m9.1.1.2.cmml">
          T
         </mi>
         <mo id="alg1.l1.m9.1.1.3" mathsize="90%" xref="alg1.l1.m9.1.1.3.cmml">
          ∗
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m9.1b">
         <apply id="alg1.l1.m9.1.1.cmml" xref="alg1.l1.m9.1.1">
          <csymbol cd="ambiguous" id="alg1.l1.m9.1.1.1.cmml" xref="alg1.l1.m9.1.1">
           superscript
          </csymbol>
          <ci id="alg1.l1.m9.1.1.2.cmml" xref="alg1.l1.m9.1.1.2">
           𝑇
          </ci>
          <times id="alg1.l1.m9.1.1.3.cmml" xref="alg1.l1.m9.1.1.3">
          </times>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m9.1c">
         T^{*}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.14" style="font-size:90%;">
       (only for
      </span>
      <math alttext="n&gt;1" class="ltx_Math" display="inline" id="alg1.l1.m10.1">
       <semantics id="alg1.l1.m10.1a">
        <mrow id="alg1.l1.m10.1.1" xref="alg1.l1.m10.1.1.cmml">
         <mi id="alg1.l1.m10.1.1.2" mathsize="90%" xref="alg1.l1.m10.1.1.2.cmml">
          n
         </mi>
         <mo id="alg1.l1.m10.1.1.1" mathsize="90%" xref="alg1.l1.m10.1.1.1.cmml">
          &gt;
         </mo>
         <mn id="alg1.l1.m10.1.1.3" mathsize="90%" xref="alg1.l1.m10.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m10.1b">
         <apply id="alg1.l1.m10.1.1.cmml" xref="alg1.l1.m10.1.1">
          <gt id="alg1.l1.m10.1.1.1.cmml" xref="alg1.l1.m10.1.1.1">
          </gt>
          <ci id="alg1.l1.m10.1.1.2.cmml" xref="alg1.l1.m10.1.1.2">
           𝑛
          </ci>
          <cn id="alg1.l1.m10.1.1.3.cmml" type="integer" xref="alg1.l1.m10.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m10.1c">
         n&gt;1
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.15" style="font-size:90%;">
       ), diffusion model
      </span>
      <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="alg1.l1.m11.1">
       <semantics id="alg1.l1.m11.1a">
        <mi class="ltx_font_mathcaligraphic" id="alg1.l1.m11.1.1" mathsize="90%" xref="alg1.l1.m11.1.1.cmml">
         𝒟
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l1.m11.1b">
         <ci id="alg1.l1.m11.1.1.cmml" xref="alg1.l1.m11.1.1">
          𝒟
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l1.m11.1c">
         \mathcal{D}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l1.16" style="font-size:90%;">
       .
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l2">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">
        2:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l2.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l2.3" style="font-size:90%;">
       Output:
      </span>
      <span class="ltx_text" id="alg1.l2.4" style="font-size:90%;">
       Image with
      </span>
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="alg1.l2.m1.1">
       <semantics id="alg1.l2.m1.1a">
        <msub id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="alg1.l2.m1.1.1.2" mathsize="90%" xref="alg1.l2.m1.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="alg1.l2.m1.1.1.3" mathsize="90%" xref="alg1.l2.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b">
         <apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l2.m1.1.1.2a.cmml" xref="alg1.l2.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l2.m1.1.1.2.cmml" mathsize="90%" xref="alg1.l2.m1.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m1.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l2.5" style="font-size:90%;">
       and its precise mask
      </span>
      <math alttext="\bm{\tilde{M}}_{n}" class="ltx_Math" display="inline" id="alg1.l2.m2.1">
       <semantics id="alg1.l2.m2.1a">
        <msub id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">
         <mover accent="true" id="alg1.l2.m2.1.1.2" xref="alg1.l2.m2.1.1.2.cmml">
          <mi id="alg1.l2.m2.1.1.2.2" mathsize="90%" xref="alg1.l2.m2.1.1.2.2.cmml">
           𝑴
          </mi>
          <mo class="ltx_mathvariant_bold" id="alg1.l2.m2.1.1.2.1" mathsize="90%" mathvariant="bold" xref="alg1.l2.m2.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mi id="alg1.l2.m2.1.1.3" mathsize="90%" xref="alg1.l2.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b">
         <apply id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">
          <csymbol cd="ambiguous" id="alg1.l2.m2.1.1.1.cmml" xref="alg1.l2.m2.1.1">
           subscript
          </csymbol>
          <apply id="alg1.l2.m2.1.1.2.cmml" xref="alg1.l2.m2.1.1.2">
           <ci id="alg1.l2.m2.1.1.2.1.cmml" xref="alg1.l2.m2.1.1.2.1">
            bold-~
           </ci>
           <ci id="alg1.l2.m2.1.1.2.2.cmml" xref="alg1.l2.m2.1.1.2.2">
            𝑴
           </ci>
          </apply>
          <ci id="alg1.l2.m2.1.1.3.cmml" xref="alg1.l2.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m2.1c">
         \bm{\tilde{M}}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l2.6" style="font-size:90%;">
       .
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l3">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l3.1.1.1" style="font-size:80%;">
        3:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l3.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l3.3" style="font-size:90%;">
       if
      </span>
      <span class="ltx_text" id="alg1.l3.4" style="font-size:90%;">
      </span>
      <math alttext="n=1" class="ltx_Math" display="inline" id="alg1.l3.m1.1">
       <semantics id="alg1.l3.m1.1a">
        <mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">
         <mi id="alg1.l3.m1.1.1.2" mathsize="90%" xref="alg1.l3.m1.1.1.2.cmml">
          n
         </mi>
         <mo id="alg1.l3.m1.1.1.1" mathsize="90%" xref="alg1.l3.m1.1.1.1.cmml">
          =
         </mo>
         <mn id="alg1.l3.m1.1.1.3" mathsize="90%" xref="alg1.l3.m1.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b">
         <apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">
          <eq id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1">
          </eq>
          <ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">
           𝑛
          </ci>
          <cn id="alg1.l3.m1.1.1.3.cmml" type="integer" xref="alg1.l3.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l3.m1.1c">
         n=1
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l3.5" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l3.6" style="font-size:90%;">
       then
      </span>
      <span class="ltx_text" id="alg1.l3.7" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l4">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">
        4:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l4.2" style="font-size:90%;">
      </span>
      <math alttext="\texttt{opt}_{1},\texttt{Num}_{1}=\texttt{Planner}(\texttt{p}_{1})" class="ltx_Math" display="inline" id="alg1.l4.m1.3">
       <semantics id="alg1.l4.m1.3a">
        <mrow id="alg1.l4.m1.3.3" xref="alg1.l4.m1.3.3.cmml">
         <mrow id="alg1.l4.m1.2.2.2.2" xref="alg1.l4.m1.2.2.2.3.cmml">
          <msub id="alg1.l4.m1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.cmml">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.1.1.1.1.1.2" mathsize="90%" xref="alg1.l4.m1.1.1.1.1.1.2a.cmml">
            opt
           </mtext>
           <mn id="alg1.l4.m1.1.1.1.1.1.3" mathsize="90%" xref="alg1.l4.m1.1.1.1.1.1.3.cmml">
            1
           </mn>
          </msub>
          <mo id="alg1.l4.m1.2.2.2.2.3" mathsize="90%" xref="alg1.l4.m1.2.2.2.3.cmml">
           ,
          </mo>
          <msub id="alg1.l4.m1.2.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.2.cmml">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.2.2.2.2.2.2" mathsize="90%" xref="alg1.l4.m1.2.2.2.2.2.2a.cmml">
            Num
           </mtext>
           <mn id="alg1.l4.m1.2.2.2.2.2.3" mathsize="90%" xref="alg1.l4.m1.2.2.2.2.2.3.cmml">
            1
           </mn>
          </msub>
         </mrow>
         <mo id="alg1.l4.m1.3.3.4" mathsize="90%" xref="alg1.l4.m1.3.3.4.cmml">
          =
         </mo>
         <mrow id="alg1.l4.m1.3.3.3" xref="alg1.l4.m1.3.3.3.cmml">
          <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.3.3.3.3" mathsize="90%" xref="alg1.l4.m1.3.3.3.3a.cmml">
           Planner
          </mtext>
          <mo id="alg1.l4.m1.3.3.3.2" lspace="0em" rspace="0em" xref="alg1.l4.m1.3.3.3.2.cmml">
           ​
          </mo>
          <mrow id="alg1.l4.m1.3.3.3.1.1" xref="alg1.l4.m1.3.3.3.1.1.1.cmml">
           <mo id="alg1.l4.m1.3.3.3.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l4.m1.3.3.3.1.1.1.cmml">
            (
           </mo>
           <msub id="alg1.l4.m1.3.3.3.1.1.1" xref="alg1.l4.m1.3.3.3.1.1.1.cmml">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.3.3.3.1.1.1.2" mathsize="90%" xref="alg1.l4.m1.3.3.3.1.1.1.2a.cmml">
             p
            </mtext>
            <mn id="alg1.l4.m1.3.3.3.1.1.1.3" mathsize="90%" xref="alg1.l4.m1.3.3.3.1.1.1.3.cmml">
             1
            </mn>
           </msub>
           <mo id="alg1.l4.m1.3.3.3.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l4.m1.3.3.3.1.1.1.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l4.m1.3b">
         <apply id="alg1.l4.m1.3.3.cmml" xref="alg1.l4.m1.3.3">
          <eq id="alg1.l4.m1.3.3.4.cmml" xref="alg1.l4.m1.3.3.4">
          </eq>
          <list id="alg1.l4.m1.2.2.2.3.cmml" xref="alg1.l4.m1.2.2.2.2">
           <apply id="alg1.l4.m1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="alg1.l4.m1.1.1.1.1.1.2a.cmml" xref="alg1.l4.m1.1.1.1.1.1.2">
             <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.1.1.1.1.1.2.cmml" mathsize="90%" xref="alg1.l4.m1.1.1.1.1.1.2">
              opt
             </mtext>
            </ci>
            <cn id="alg1.l4.m1.1.1.1.1.1.3.cmml" type="integer" xref="alg1.l4.m1.1.1.1.1.1.3">
             1
            </cn>
           </apply>
           <apply id="alg1.l4.m1.2.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2.2">
            <csymbol cd="ambiguous" id="alg1.l4.m1.2.2.2.2.2.1.cmml" xref="alg1.l4.m1.2.2.2.2.2">
             subscript
            </csymbol>
            <ci id="alg1.l4.m1.2.2.2.2.2.2a.cmml" xref="alg1.l4.m1.2.2.2.2.2.2">
             <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.2.2.2.2.2.2.cmml" mathsize="90%" xref="alg1.l4.m1.2.2.2.2.2.2">
              Num
             </mtext>
            </ci>
            <cn id="alg1.l4.m1.2.2.2.2.2.3.cmml" type="integer" xref="alg1.l4.m1.2.2.2.2.2.3">
             1
            </cn>
           </apply>
          </list>
          <apply id="alg1.l4.m1.3.3.3.cmml" xref="alg1.l4.m1.3.3.3">
           <times id="alg1.l4.m1.3.3.3.2.cmml" xref="alg1.l4.m1.3.3.3.2">
           </times>
           <ci id="alg1.l4.m1.3.3.3.3a.cmml" xref="alg1.l4.m1.3.3.3.3">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.3.3.3.3.cmml" mathsize="90%" xref="alg1.l4.m1.3.3.3.3">
             Planner
            </mtext>
           </ci>
           <apply id="alg1.l4.m1.3.3.3.1.1.1.cmml" xref="alg1.l4.m1.3.3.3.1.1">
            <csymbol cd="ambiguous" id="alg1.l4.m1.3.3.3.1.1.1.1.cmml" xref="alg1.l4.m1.3.3.3.1.1">
             subscript
            </csymbol>
            <ci id="alg1.l4.m1.3.3.3.1.1.1.2a.cmml" xref="alg1.l4.m1.3.3.3.1.1.1.2">
             <mtext class="ltx_mathvariant_monospace" id="alg1.l4.m1.3.3.3.1.1.1.2.cmml" mathsize="90%" xref="alg1.l4.m1.3.3.3.1.1.1.2">
              p
             </mtext>
            </ci>
            <cn id="alg1.l4.m1.3.3.3.1.1.1.3.cmml" type="integer" xref="alg1.l4.m1.3.3.3.1.1.1.3">
             1
            </cn>
           </apply>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l4.m1.3c">
         \texttt{opt}_{1},\texttt{Num}_{1}=\texttt{Planner}(\texttt{p}_{1})
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l4.3" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l5">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l5.1.1.1" style="font-size:80%;">
        5:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l5.2" style="font-size:90%;">
       Apply Eq. (
      </span>
      <a class="ltx_ref" href="#S3.E3" style="font-size:90%;" title='Equation 3 ‣ LLM Planning of a Rough Mask for "obj"_𝑛. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion'>
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      <span class="ltx_text" id="alg1.l5.3" style="font-size:90%;">
       ) to compute
      </span>
      <math alttext="\bm{M}_{1}" class="ltx_Math" display="inline" id="alg1.l5.m1.1">
       <semantics id="alg1.l5.m1.1a">
        <msub id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">
         <mi id="alg1.l5.m1.1.1.2" mathsize="90%" xref="alg1.l5.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mn id="alg1.l5.m1.1.1.3" mathsize="90%" xref="alg1.l5.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b">
         <apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">
           𝑴
          </ci>
          <cn id="alg1.l5.m1.1.1.3.cmml" type="integer" xref="alg1.l5.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l5.m1.1c">
         \bm{M}_{1}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l5.4" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l6">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l6.1.1.1" style="font-size:80%;">
        6:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l6.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l6.3" style="font-size:90%;">
       for
      </span>
      <span class="ltx_text" id="alg1.l6.4" style="font-size:90%;">
      </span>
      <math alttext="t=T,\cdots,1" class="ltx_Math" display="inline" id="alg1.l6.m1.3">
       <semantics id="alg1.l6.m1.3a">
        <mrow id="alg1.l6.m1.3.4" xref="alg1.l6.m1.3.4.cmml">
         <mi id="alg1.l6.m1.3.4.2" mathsize="90%" xref="alg1.l6.m1.3.4.2.cmml">
          t
         </mi>
         <mo id="alg1.l6.m1.3.4.1" mathsize="90%" xref="alg1.l6.m1.3.4.1.cmml">
          =
         </mo>
         <mrow id="alg1.l6.m1.3.4.3.2" xref="alg1.l6.m1.3.4.3.1.cmml">
          <mi id="alg1.l6.m1.1.1" mathsize="90%" xref="alg1.l6.m1.1.1.cmml">
           T
          </mi>
          <mo id="alg1.l6.m1.3.4.3.2.1" mathsize="90%" xref="alg1.l6.m1.3.4.3.1.cmml">
           ,
          </mo>
          <mi id="alg1.l6.m1.2.2" mathsize="90%" mathvariant="normal" xref="alg1.l6.m1.2.2.cmml">
           ⋯
          </mi>
          <mo id="alg1.l6.m1.3.4.3.2.2" mathsize="90%" xref="alg1.l6.m1.3.4.3.1.cmml">
           ,
          </mo>
          <mn id="alg1.l6.m1.3.3" mathsize="90%" xref="alg1.l6.m1.3.3.cmml">
           1
          </mn>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l6.m1.3b">
         <apply id="alg1.l6.m1.3.4.cmml" xref="alg1.l6.m1.3.4">
          <eq id="alg1.l6.m1.3.4.1.cmml" xref="alg1.l6.m1.3.4.1">
          </eq>
          <ci id="alg1.l6.m1.3.4.2.cmml" xref="alg1.l6.m1.3.4.2">
           𝑡
          </ci>
          <list id="alg1.l6.m1.3.4.3.1.cmml" xref="alg1.l6.m1.3.4.3.2">
           <ci id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">
            𝑇
           </ci>
           <ci id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2">
            ⋯
           </ci>
           <cn id="alg1.l6.m1.3.3.cmml" type="integer" xref="alg1.l6.m1.3.3">
            1
           </cn>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l6.m1.3c">
         t=T,\cdots,1
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l6.5" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l6.6" style="font-size:90%;">
       do
      </span>
      <span class="ltx_text" id="alg1.l6.7" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l7">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">
        7:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l7.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l7.3" style="font-size:90%;">
       if
      </span>
      <span class="ltx_text" id="alg1.l7.4" style="font-size:90%;">
      </span>
      <math alttext="t&gt;T^{\prime}" class="ltx_Math" display="inline" id="alg1.l7.m1.1">
       <semantics id="alg1.l7.m1.1a">
        <mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml">
         <mi id="alg1.l7.m1.1.1.2" mathsize="90%" xref="alg1.l7.m1.1.1.2.cmml">
          t
         </mi>
         <mo id="alg1.l7.m1.1.1.1" mathsize="90%" xref="alg1.l7.m1.1.1.1.cmml">
          &gt;
         </mo>
         <msup id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">
          <mi id="alg1.l7.m1.1.1.3.2" mathsize="90%" xref="alg1.l7.m1.1.1.3.2.cmml">
           T
          </mi>
          <mo id="alg1.l7.m1.1.1.3.3" mathsize="90%" xref="alg1.l7.m1.1.1.3.3.cmml">
           ′
          </mo>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b">
         <apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">
          <gt id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">
          </gt>
          <ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">
           𝑡
          </ci>
          <apply id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">
           <csymbol cd="ambiguous" id="alg1.l7.m1.1.1.3.1.cmml" xref="alg1.l7.m1.1.1.3">
            superscript
           </csymbol>
           <ci id="alg1.l7.m1.1.1.3.2.cmml" xref="alg1.l7.m1.1.1.3.2">
            𝑇
           </ci>
           <ci id="alg1.l7.m1.1.1.3.3.cmml" xref="alg1.l7.m1.1.1.3.3">
            ′
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l7.m1.1c">
         t&gt;T^{\prime}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l7.5" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l7.6" style="font-size:90%;">
       then
      </span>
      <span class="ltx_text" id="alg1.l7.7" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l8">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">
        8:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l8.2" style="font-size:90%;">
       Apply Eq. (
      </span>
      <a class="ltx_ref" href="#S3.E6" style="font-size:90%;" title="Equation 6 ‣ Single-Object Diffusion with Attention Guidance. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        6
       </span>
      </a>
      <span class="ltx_text" id="alg1.l8.3" style="font-size:90%;">
       ) with
      </span>
      <math alttext="\bm{M}_{1}" class="ltx_Math" display="inline" id="alg1.l8.m1.1">
       <semantics id="alg1.l8.m1.1a">
        <msub id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml">
         <mi id="alg1.l8.m1.1.1.2" mathsize="90%" xref="alg1.l8.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mn id="alg1.l8.m1.1.1.3" mathsize="90%" xref="alg1.l8.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b">
         <apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">
           𝑴
          </ci>
          <cn id="alg1.l8.m1.1.1.3.cmml" type="integer" xref="alg1.l8.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l8.m1.1c">
         \bm{M}_{1}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l8.4" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l9">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l9.1.1.1" style="font-size:80%;">
        9:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l9.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l9.3" style="font-size:90%;">
       end
      </span>
      <span class="ltx_text" id="alg1.l9.4" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l9.5" style="font-size:90%;">
       if
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l10">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l10.1.1.1" style="font-size:80%;">
        10:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l10.2" style="font-size:90%;">
      </span>
      <math alttext="\bm{z}_{1,(t-1)}=\mathcal{D}(\bm{z}_{1,t},t,\texttt{p}_{1})" class="ltx_Math" display="inline" id="alg1.l10.m1.7">
       <semantics id="alg1.l10.m1.7a">
        <mrow id="alg1.l10.m1.7.7" xref="alg1.l10.m1.7.7.cmml">
         <msub id="alg1.l10.m1.7.7.4" xref="alg1.l10.m1.7.7.4.cmml">
          <mi id="alg1.l10.m1.7.7.4.2" mathsize="90%" xref="alg1.l10.m1.7.7.4.2.cmml">
           𝒛
          </mi>
          <mrow id="alg1.l10.m1.2.2.2.2" xref="alg1.l10.m1.2.2.2.3.cmml">
           <mn id="alg1.l10.m1.1.1.1.1" mathsize="90%" xref="alg1.l10.m1.1.1.1.1.cmml">
            1
           </mn>
           <mo id="alg1.l10.m1.2.2.2.2.2" mathsize="90%" xref="alg1.l10.m1.2.2.2.3.cmml">
            ,
           </mo>
           <mrow id="alg1.l10.m1.2.2.2.2.1.1" xref="alg1.l10.m1.2.2.2.2.1.1.1.cmml">
            <mo id="alg1.l10.m1.2.2.2.2.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l10.m1.2.2.2.2.1.1.1.cmml">
             (
            </mo>
            <mrow id="alg1.l10.m1.2.2.2.2.1.1.1" xref="alg1.l10.m1.2.2.2.2.1.1.1.cmml">
             <mi id="alg1.l10.m1.2.2.2.2.1.1.1.2" mathsize="90%" xref="alg1.l10.m1.2.2.2.2.1.1.1.2.cmml">
              t
             </mi>
             <mo id="alg1.l10.m1.2.2.2.2.1.1.1.1" mathsize="90%" xref="alg1.l10.m1.2.2.2.2.1.1.1.1.cmml">
              −
             </mo>
             <mn id="alg1.l10.m1.2.2.2.2.1.1.1.3" mathsize="90%" xref="alg1.l10.m1.2.2.2.2.1.1.1.3.cmml">
              1
             </mn>
            </mrow>
            <mo id="alg1.l10.m1.2.2.2.2.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l10.m1.2.2.2.2.1.1.1.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </msub>
         <mo id="alg1.l10.m1.7.7.3" mathsize="90%" xref="alg1.l10.m1.7.7.3.cmml">
          =
         </mo>
         <mrow id="alg1.l10.m1.7.7.2" xref="alg1.l10.m1.7.7.2.cmml">
          <mi class="ltx_font_mathcaligraphic" id="alg1.l10.m1.7.7.2.4" mathsize="90%" xref="alg1.l10.m1.7.7.2.4.cmml">
           𝒟
          </mi>
          <mo id="alg1.l10.m1.7.7.2.3" lspace="0em" rspace="0em" xref="alg1.l10.m1.7.7.2.3.cmml">
           ​
          </mo>
          <mrow id="alg1.l10.m1.7.7.2.2.2" xref="alg1.l10.m1.7.7.2.2.3.cmml">
           <mo id="alg1.l10.m1.7.7.2.2.2.3" maxsize="90%" minsize="90%" xref="alg1.l10.m1.7.7.2.2.3.cmml">
            (
           </mo>
           <msub id="alg1.l10.m1.6.6.1.1.1.1" xref="alg1.l10.m1.6.6.1.1.1.1.cmml">
            <mi id="alg1.l10.m1.6.6.1.1.1.1.2" mathsize="90%" xref="alg1.l10.m1.6.6.1.1.1.1.2.cmml">
             𝒛
            </mi>
            <mrow id="alg1.l10.m1.4.4.2.4" xref="alg1.l10.m1.4.4.2.3.cmml">
             <mn id="alg1.l10.m1.3.3.1.1" mathsize="90%" xref="alg1.l10.m1.3.3.1.1.cmml">
              1
             </mn>
             <mo id="alg1.l10.m1.4.4.2.4.1" mathsize="90%" xref="alg1.l10.m1.4.4.2.3.cmml">
              ,
             </mo>
             <mi id="alg1.l10.m1.4.4.2.2" mathsize="90%" xref="alg1.l10.m1.4.4.2.2.cmml">
              t
             </mi>
            </mrow>
           </msub>
           <mo id="alg1.l10.m1.7.7.2.2.2.4" mathsize="90%" xref="alg1.l10.m1.7.7.2.2.3.cmml">
            ,
           </mo>
           <mi id="alg1.l10.m1.5.5" mathsize="90%" xref="alg1.l10.m1.5.5.cmml">
            t
           </mi>
           <mo id="alg1.l10.m1.7.7.2.2.2.5" mathsize="90%" xref="alg1.l10.m1.7.7.2.2.3.cmml">
            ,
           </mo>
           <msub id="alg1.l10.m1.7.7.2.2.2.2" xref="alg1.l10.m1.7.7.2.2.2.2.cmml">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l10.m1.7.7.2.2.2.2.2" mathsize="90%" xref="alg1.l10.m1.7.7.2.2.2.2.2a.cmml">
             p
            </mtext>
            <mn id="alg1.l10.m1.7.7.2.2.2.2.3" mathsize="90%" xref="alg1.l10.m1.7.7.2.2.2.2.3.cmml">
             1
            </mn>
           </msub>
           <mo id="alg1.l10.m1.7.7.2.2.2.6" maxsize="90%" minsize="90%" xref="alg1.l10.m1.7.7.2.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l10.m1.7b">
         <apply id="alg1.l10.m1.7.7.cmml" xref="alg1.l10.m1.7.7">
          <eq id="alg1.l10.m1.7.7.3.cmml" xref="alg1.l10.m1.7.7.3">
          </eq>
          <apply id="alg1.l10.m1.7.7.4.cmml" xref="alg1.l10.m1.7.7.4">
           <csymbol cd="ambiguous" id="alg1.l10.m1.7.7.4.1.cmml" xref="alg1.l10.m1.7.7.4">
            subscript
           </csymbol>
           <ci id="alg1.l10.m1.7.7.4.2.cmml" xref="alg1.l10.m1.7.7.4.2">
            𝒛
           </ci>
           <list id="alg1.l10.m1.2.2.2.3.cmml" xref="alg1.l10.m1.2.2.2.2">
            <cn id="alg1.l10.m1.1.1.1.1.cmml" type="integer" xref="alg1.l10.m1.1.1.1.1">
             1
            </cn>
            <apply id="alg1.l10.m1.2.2.2.2.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.2.1.1">
             <minus id="alg1.l10.m1.2.2.2.2.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.2.1.1.1.1">
             </minus>
             <ci id="alg1.l10.m1.2.2.2.2.1.1.1.2.cmml" xref="alg1.l10.m1.2.2.2.2.1.1.1.2">
              𝑡
             </ci>
             <cn id="alg1.l10.m1.2.2.2.2.1.1.1.3.cmml" type="integer" xref="alg1.l10.m1.2.2.2.2.1.1.1.3">
              1
             </cn>
            </apply>
           </list>
          </apply>
          <apply id="alg1.l10.m1.7.7.2.cmml" xref="alg1.l10.m1.7.7.2">
           <times id="alg1.l10.m1.7.7.2.3.cmml" xref="alg1.l10.m1.7.7.2.3">
           </times>
           <ci id="alg1.l10.m1.7.7.2.4.cmml" xref="alg1.l10.m1.7.7.2.4">
            𝒟
           </ci>
           <vector id="alg1.l10.m1.7.7.2.2.3.cmml" xref="alg1.l10.m1.7.7.2.2.2">
            <apply id="alg1.l10.m1.6.6.1.1.1.1.cmml" xref="alg1.l10.m1.6.6.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l10.m1.6.6.1.1.1.1.1.cmml" xref="alg1.l10.m1.6.6.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.l10.m1.6.6.1.1.1.1.2.cmml" xref="alg1.l10.m1.6.6.1.1.1.1.2">
              𝒛
             </ci>
             <list id="alg1.l10.m1.4.4.2.3.cmml" xref="alg1.l10.m1.4.4.2.4">
              <cn id="alg1.l10.m1.3.3.1.1.cmml" type="integer" xref="alg1.l10.m1.3.3.1.1">
               1
              </cn>
              <ci id="alg1.l10.m1.4.4.2.2.cmml" xref="alg1.l10.m1.4.4.2.2">
               𝑡
              </ci>
             </list>
            </apply>
            <ci id="alg1.l10.m1.5.5.cmml" xref="alg1.l10.m1.5.5">
             𝑡
            </ci>
            <apply id="alg1.l10.m1.7.7.2.2.2.2.cmml" xref="alg1.l10.m1.7.7.2.2.2.2">
             <csymbol cd="ambiguous" id="alg1.l10.m1.7.7.2.2.2.2.1.cmml" xref="alg1.l10.m1.7.7.2.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.l10.m1.7.7.2.2.2.2.2a.cmml" xref="alg1.l10.m1.7.7.2.2.2.2.2">
              <mtext class="ltx_mathvariant_monospace" id="alg1.l10.m1.7.7.2.2.2.2.2.cmml" mathsize="90%" xref="alg1.l10.m1.7.7.2.2.2.2.2">
               p
              </mtext>
             </ci>
             <cn id="alg1.l10.m1.7.7.2.2.2.2.3.cmml" type="integer" xref="alg1.l10.m1.7.7.2.2.2.2.3">
              1
             </cn>
            </apply>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l10.m1.7c">
         \bm{z}_{1,(t-1)}=\mathcal{D}(\bm{z}_{1,t},t,\texttt{p}_{1})
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l10.3" style="font-size:90%;">
       {Single denoising step}
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l11">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l11.1.1.1" style="font-size:80%;">
        11:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l11.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l11.3" style="font-size:90%;">
       end
      </span>
      <span class="ltx_text" id="alg1.l11.4" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l11.5" style="font-size:90%;">
       for
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l12">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l12.1.1.1" style="font-size:80%;">
        12:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l12.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l12.3" style="font-size:90%;">
       else
      </span>
      <span class="ltx_text" id="alg1.l12.4" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l13">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l13.1.1.1" style="font-size:80%;">
        13:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l13.2" style="font-size:90%;">
      </span>
      <math alttext="\texttt{opt}_{n},\texttt{Num}_{n}=\texttt{Planner}(\texttt{p}_{n},\{\texttt{obj}_{i}\}_{i=1}^{n-1})" class="ltx_Math" display="inline" id="alg1.l13.m1.4">
       <semantics id="alg1.l13.m1.4a">
        <mrow id="alg1.l13.m1.4.4" xref="alg1.l13.m1.4.4.cmml">
         <mrow id="alg1.l13.m1.2.2.2.2" xref="alg1.l13.m1.2.2.2.3.cmml">
          <msub id="alg1.l13.m1.1.1.1.1.1" xref="alg1.l13.m1.1.1.1.1.1.cmml">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.1.1.1.1.1.2" mathsize="90%" xref="alg1.l13.m1.1.1.1.1.1.2a.cmml">
            opt
           </mtext>
           <mi id="alg1.l13.m1.1.1.1.1.1.3" mathsize="90%" xref="alg1.l13.m1.1.1.1.1.1.3.cmml">
            n
           </mi>
          </msub>
          <mo id="alg1.l13.m1.2.2.2.2.3" mathsize="90%" xref="alg1.l13.m1.2.2.2.3.cmml">
           ,
          </mo>
          <msub id="alg1.l13.m1.2.2.2.2.2" xref="alg1.l13.m1.2.2.2.2.2.cmml">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.2.2.2.2.2.2" mathsize="90%" xref="alg1.l13.m1.2.2.2.2.2.2a.cmml">
            Num
           </mtext>
           <mi id="alg1.l13.m1.2.2.2.2.2.3" mathsize="90%" xref="alg1.l13.m1.2.2.2.2.2.3.cmml">
            n
           </mi>
          </msub>
         </mrow>
         <mo id="alg1.l13.m1.4.4.5" mathsize="90%" xref="alg1.l13.m1.4.4.5.cmml">
          =
         </mo>
         <mrow id="alg1.l13.m1.4.4.4" xref="alg1.l13.m1.4.4.4.cmml">
          <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.4.4.4.4" mathsize="90%" xref="alg1.l13.m1.4.4.4.4a.cmml">
           Planner
          </mtext>
          <mo id="alg1.l13.m1.4.4.4.3" lspace="0em" rspace="0em" xref="alg1.l13.m1.4.4.4.3.cmml">
           ​
          </mo>
          <mrow id="alg1.l13.m1.4.4.4.2.2" xref="alg1.l13.m1.4.4.4.2.3.cmml">
           <mo id="alg1.l13.m1.4.4.4.2.2.3" maxsize="90%" minsize="90%" xref="alg1.l13.m1.4.4.4.2.3.cmml">
            (
           </mo>
           <msub id="alg1.l13.m1.3.3.3.1.1.1" xref="alg1.l13.m1.3.3.3.1.1.1.cmml">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.3.3.3.1.1.1.2" mathsize="90%" xref="alg1.l13.m1.3.3.3.1.1.1.2a.cmml">
             p
            </mtext>
            <mi id="alg1.l13.m1.3.3.3.1.1.1.3" mathsize="90%" xref="alg1.l13.m1.3.3.3.1.1.1.3.cmml">
             n
            </mi>
           </msub>
           <mo id="alg1.l13.m1.4.4.4.2.2.4" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.3.cmml">
            ,
           </mo>
           <msubsup id="alg1.l13.m1.4.4.4.2.2.2" xref="alg1.l13.m1.4.4.4.2.2.2.cmml">
            <mrow id="alg1.l13.m1.4.4.4.2.2.2.1.1.1" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.2.cmml">
             <mo id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.2.cmml">
              {
             </mo>
             <msub id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.cmml">
              <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.2" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.2a.cmml">
               obj
              </mtext>
              <mi id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.3" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.3.cmml">
               i
              </mi>
             </msub>
             <mo id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.2.cmml">
              }
             </mo>
            </mrow>
            <mrow id="alg1.l13.m1.4.4.4.2.2.2.1.3" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.cmml">
             <mi id="alg1.l13.m1.4.4.4.2.2.2.1.3.2" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.2.cmml">
              i
             </mi>
             <mo id="alg1.l13.m1.4.4.4.2.2.2.1.3.1" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.1.cmml">
              =
             </mo>
             <mn id="alg1.l13.m1.4.4.4.2.2.2.1.3.3" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.3.cmml">
              1
             </mn>
            </mrow>
            <mrow id="alg1.l13.m1.4.4.4.2.2.2.3" xref="alg1.l13.m1.4.4.4.2.2.2.3.cmml">
             <mi id="alg1.l13.m1.4.4.4.2.2.2.3.2" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.3.2.cmml">
              n
             </mi>
             <mo id="alg1.l13.m1.4.4.4.2.2.2.3.1" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.3.1.cmml">
              −
             </mo>
             <mn id="alg1.l13.m1.4.4.4.2.2.2.3.3" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.3.3.cmml">
              1
             </mn>
            </mrow>
           </msubsup>
           <mo id="alg1.l13.m1.4.4.4.2.2.5" maxsize="90%" minsize="90%" xref="alg1.l13.m1.4.4.4.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l13.m1.4b">
         <apply id="alg1.l13.m1.4.4.cmml" xref="alg1.l13.m1.4.4">
          <eq id="alg1.l13.m1.4.4.5.cmml" xref="alg1.l13.m1.4.4.5">
          </eq>
          <list id="alg1.l13.m1.2.2.2.3.cmml" xref="alg1.l13.m1.2.2.2.2">
           <apply id="alg1.l13.m1.1.1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="alg1.l13.m1.1.1.1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="alg1.l13.m1.1.1.1.1.1.2a.cmml" xref="alg1.l13.m1.1.1.1.1.1.2">
             <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.1.1.1.1.1.2.cmml" mathsize="90%" xref="alg1.l13.m1.1.1.1.1.1.2">
              opt
             </mtext>
            </ci>
            <ci id="alg1.l13.m1.1.1.1.1.1.3.cmml" xref="alg1.l13.m1.1.1.1.1.1.3">
             𝑛
            </ci>
           </apply>
           <apply id="alg1.l13.m1.2.2.2.2.2.cmml" xref="alg1.l13.m1.2.2.2.2.2">
            <csymbol cd="ambiguous" id="alg1.l13.m1.2.2.2.2.2.1.cmml" xref="alg1.l13.m1.2.2.2.2.2">
             subscript
            </csymbol>
            <ci id="alg1.l13.m1.2.2.2.2.2.2a.cmml" xref="alg1.l13.m1.2.2.2.2.2.2">
             <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.2.2.2.2.2.2.cmml" mathsize="90%" xref="alg1.l13.m1.2.2.2.2.2.2">
              Num
             </mtext>
            </ci>
            <ci id="alg1.l13.m1.2.2.2.2.2.3.cmml" xref="alg1.l13.m1.2.2.2.2.2.3">
             𝑛
            </ci>
           </apply>
          </list>
          <apply id="alg1.l13.m1.4.4.4.cmml" xref="alg1.l13.m1.4.4.4">
           <times id="alg1.l13.m1.4.4.4.3.cmml" xref="alg1.l13.m1.4.4.4.3">
           </times>
           <ci id="alg1.l13.m1.4.4.4.4a.cmml" xref="alg1.l13.m1.4.4.4.4">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.4.4.4.4.cmml" mathsize="90%" xref="alg1.l13.m1.4.4.4.4">
             Planner
            </mtext>
           </ci>
           <interval closure="open" id="alg1.l13.m1.4.4.4.2.3.cmml" xref="alg1.l13.m1.4.4.4.2.2">
            <apply id="alg1.l13.m1.3.3.3.1.1.1.cmml" xref="alg1.l13.m1.3.3.3.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l13.m1.3.3.3.1.1.1.1.cmml" xref="alg1.l13.m1.3.3.3.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.l13.m1.3.3.3.1.1.1.2a.cmml" xref="alg1.l13.m1.3.3.3.1.1.1.2">
              <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.3.3.3.1.1.1.2.cmml" mathsize="90%" xref="alg1.l13.m1.3.3.3.1.1.1.2">
               p
              </mtext>
             </ci>
             <ci id="alg1.l13.m1.3.3.3.1.1.1.3.cmml" xref="alg1.l13.m1.3.3.3.1.1.1.3">
              𝑛
             </ci>
            </apply>
            <apply id="alg1.l13.m1.4.4.4.2.2.2.cmml" xref="alg1.l13.m1.4.4.4.2.2.2">
             <csymbol cd="ambiguous" id="alg1.l13.m1.4.4.4.2.2.2.2.cmml" xref="alg1.l13.m1.4.4.4.2.2.2">
              superscript
             </csymbol>
             <apply id="alg1.l13.m1.4.4.4.2.2.2.1.cmml" xref="alg1.l13.m1.4.4.4.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l13.m1.4.4.4.2.2.2.1.2.cmml" xref="alg1.l13.m1.4.4.4.2.2.2">
               subscript
              </csymbol>
              <set id="alg1.l13.m1.4.4.4.2.2.2.1.1.2.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1">
               <apply id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1">
                <csymbol cd="ambiguous" id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.1.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1">
                 subscript
                </csymbol>
                <ci id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.2a.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.2">
                 <mtext class="ltx_mathvariant_monospace" id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.2.cmml" mathsize="90%" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.2">
                  obj
                 </mtext>
                </ci>
                <ci id="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.3.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.1.1.1.3">
                 𝑖
                </ci>
               </apply>
              </set>
              <apply id="alg1.l13.m1.4.4.4.2.2.2.1.3.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.3">
               <eq id="alg1.l13.m1.4.4.4.2.2.2.1.3.1.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.1">
               </eq>
               <ci id="alg1.l13.m1.4.4.4.2.2.2.1.3.2.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.2">
                𝑖
               </ci>
               <cn id="alg1.l13.m1.4.4.4.2.2.2.1.3.3.cmml" type="integer" xref="alg1.l13.m1.4.4.4.2.2.2.1.3.3">
                1
               </cn>
              </apply>
             </apply>
             <apply id="alg1.l13.m1.4.4.4.2.2.2.3.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.3">
              <minus id="alg1.l13.m1.4.4.4.2.2.2.3.1.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.3.1">
              </minus>
              <ci id="alg1.l13.m1.4.4.4.2.2.2.3.2.cmml" xref="alg1.l13.m1.4.4.4.2.2.2.3.2">
               𝑛
              </ci>
              <cn id="alg1.l13.m1.4.4.4.2.2.2.3.3.cmml" type="integer" xref="alg1.l13.m1.4.4.4.2.2.2.3.3">
               1
              </cn>
             </apply>
            </apply>
           </interval>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l13.m1.4c">
         \texttt{opt}_{n},\texttt{Num}_{n}=\texttt{Planner}(\texttt{p}_{n},\{\texttt{obj}_{i}\}_{i=1}^{n-1})
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l13.3" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l14">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l14.1.1.1" style="font-size:80%;">
        14:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l14.2" style="font-size:90%;">
       Apply Eq. (
      </span>
      <a class="ltx_ref" href="#S3.E4" style="font-size:90%;" title='Equation 4 ‣ LLM Planning of a Rough Mask for "obj"_𝑛. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion'>
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      <span class="ltx_text" id="alg1.l14.3" style="font-size:90%;">
       ) to compute
      </span>
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="alg1.l14.m1.1">
       <semantics id="alg1.l14.m1.1a">
        <msub id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml">
         <mi id="alg1.l14.m1.1.1.2" mathsize="90%" xref="alg1.l14.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="alg1.l14.m1.1.1.3" mathsize="90%" xref="alg1.l14.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b">
         <apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">
           𝑴
          </ci>
          <ci id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l14.m1.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l14.4" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l15">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l15.1.1.1" style="font-size:80%;">
        15:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l15.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l15.3" style="font-size:90%;">
       for
      </span>
      <span class="ltx_text" id="alg1.l15.4" style="font-size:90%;">
      </span>
      <math alttext="t=T,\cdots,1" class="ltx_Math" display="inline" id="alg1.l15.m1.3">
       <semantics id="alg1.l15.m1.3a">
        <mrow id="alg1.l15.m1.3.4" xref="alg1.l15.m1.3.4.cmml">
         <mi id="alg1.l15.m1.3.4.2" mathsize="90%" xref="alg1.l15.m1.3.4.2.cmml">
          t
         </mi>
         <mo id="alg1.l15.m1.3.4.1" mathsize="90%" xref="alg1.l15.m1.3.4.1.cmml">
          =
         </mo>
         <mrow id="alg1.l15.m1.3.4.3.2" xref="alg1.l15.m1.3.4.3.1.cmml">
          <mi id="alg1.l15.m1.1.1" mathsize="90%" xref="alg1.l15.m1.1.1.cmml">
           T
          </mi>
          <mo id="alg1.l15.m1.3.4.3.2.1" mathsize="90%" xref="alg1.l15.m1.3.4.3.1.cmml">
           ,
          </mo>
          <mi id="alg1.l15.m1.2.2" mathsize="90%" mathvariant="normal" xref="alg1.l15.m1.2.2.cmml">
           ⋯
          </mi>
          <mo id="alg1.l15.m1.3.4.3.2.2" mathsize="90%" xref="alg1.l15.m1.3.4.3.1.cmml">
           ,
          </mo>
          <mn id="alg1.l15.m1.3.3" mathsize="90%" xref="alg1.l15.m1.3.3.cmml">
           1
          </mn>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l15.m1.3b">
         <apply id="alg1.l15.m1.3.4.cmml" xref="alg1.l15.m1.3.4">
          <eq id="alg1.l15.m1.3.4.1.cmml" xref="alg1.l15.m1.3.4.1">
          </eq>
          <ci id="alg1.l15.m1.3.4.2.cmml" xref="alg1.l15.m1.3.4.2">
           𝑡
          </ci>
          <list id="alg1.l15.m1.3.4.3.1.cmml" xref="alg1.l15.m1.3.4.3.2">
           <ci id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1">
            𝑇
           </ci>
           <ci id="alg1.l15.m1.2.2.cmml" xref="alg1.l15.m1.2.2">
            ⋯
           </ci>
           <cn id="alg1.l15.m1.3.3.cmml" type="integer" xref="alg1.l15.m1.3.3">
            1
           </cn>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l15.m1.3c">
         t=T,\cdots,1
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l15.5" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l15.6" style="font-size:90%;">
       do
      </span>
      <span class="ltx_text" id="alg1.l15.7" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l16">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l16.1.1.1" style="font-size:80%;">
        16:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l16.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l16.3" style="font-size:90%;">
       if
      </span>
      <span class="ltx_text" id="alg1.l16.4" style="font-size:90%;">
      </span>
      <math alttext="t&gt;T^{\prime}" class="ltx_Math" display="inline" id="alg1.l16.m1.1">
       <semantics id="alg1.l16.m1.1a">
        <mrow id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml">
         <mi id="alg1.l16.m1.1.1.2" mathsize="90%" xref="alg1.l16.m1.1.1.2.cmml">
          t
         </mi>
         <mo id="alg1.l16.m1.1.1.1" mathsize="90%" xref="alg1.l16.m1.1.1.1.cmml">
          &gt;
         </mo>
         <msup id="alg1.l16.m1.1.1.3" xref="alg1.l16.m1.1.1.3.cmml">
          <mi id="alg1.l16.m1.1.1.3.2" mathsize="90%" xref="alg1.l16.m1.1.1.3.2.cmml">
           T
          </mi>
          <mo id="alg1.l16.m1.1.1.3.3" mathsize="90%" xref="alg1.l16.m1.1.1.3.3.cmml">
           ′
          </mo>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b">
         <apply id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1">
          <gt id="alg1.l16.m1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1">
          </gt>
          <ci id="alg1.l16.m1.1.1.2.cmml" xref="alg1.l16.m1.1.1.2">
           𝑡
          </ci>
          <apply id="alg1.l16.m1.1.1.3.cmml" xref="alg1.l16.m1.1.1.3">
           <csymbol cd="ambiguous" id="alg1.l16.m1.1.1.3.1.cmml" xref="alg1.l16.m1.1.1.3">
            superscript
           </csymbol>
           <ci id="alg1.l16.m1.1.1.3.2.cmml" xref="alg1.l16.m1.1.1.3.2">
            𝑇
           </ci>
           <ci id="alg1.l16.m1.1.1.3.3.cmml" xref="alg1.l16.m1.1.1.3.3">
            ′
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m1.1c">
         t&gt;T^{\prime}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l16.5" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l16.6" style="font-size:90%;">
       then
      </span>
      <span class="ltx_text" id="alg1.l16.7" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l17">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l17.1.1.1" style="font-size:80%;">
        17:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l17.2" style="font-size:90%;">
       Apply Eq. (
      </span>
      <a class="ltx_ref" href="#S3.E6" style="font-size:90%;" title="Equation 6 ‣ Single-Object Diffusion with Attention Guidance. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        6
       </span>
      </a>
      <span class="ltx_text" id="alg1.l17.3" style="font-size:90%;">
       ) with
      </span>
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="alg1.l17.m1.1">
       <semantics id="alg1.l17.m1.1a">
        <msub id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml">
         <mi id="alg1.l17.m1.1.1.2" mathsize="90%" xref="alg1.l17.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="alg1.l17.m1.1.1.3" mathsize="90%" xref="alg1.l17.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b">
         <apply id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.l17.m1.1.1.1.cmml" xref="alg1.l17.m1.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l17.m1.1.1.2.cmml" xref="alg1.l17.m1.1.1.2">
           𝑴
          </ci>
          <ci id="alg1.l17.m1.1.1.3.cmml" xref="alg1.l17.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l17.m1.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l17.4" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l18">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l18.1.1.1" style="font-size:80%;">
        18:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l18.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l18.3" style="font-size:90%;">
       end
      </span>
      <span class="ltx_text" id="alg1.l18.4" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l18.5" style="font-size:90%;">
       if
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l19">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l19.1.1.1" style="font-size:80%;">
        19:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l19.2" style="font-size:90%;">
      </span>
      <math alttext="\bm{z}_{n,(t-1)}=\mathcal{D}(\bm{z}_{n,t},t,\texttt{p}_{n})" class="ltx_Math" display="inline" id="alg1.l19.m1.7">
       <semantics id="alg1.l19.m1.7a">
        <mrow id="alg1.l19.m1.7.7" xref="alg1.l19.m1.7.7.cmml">
         <msub id="alg1.l19.m1.7.7.4" xref="alg1.l19.m1.7.7.4.cmml">
          <mi id="alg1.l19.m1.7.7.4.2" mathsize="90%" xref="alg1.l19.m1.7.7.4.2.cmml">
           𝒛
          </mi>
          <mrow id="alg1.l19.m1.2.2.2.2" xref="alg1.l19.m1.2.2.2.3.cmml">
           <mi id="alg1.l19.m1.1.1.1.1" mathsize="90%" xref="alg1.l19.m1.1.1.1.1.cmml">
            n
           </mi>
           <mo id="alg1.l19.m1.2.2.2.2.2" mathsize="90%" xref="alg1.l19.m1.2.2.2.3.cmml">
            ,
           </mo>
           <mrow id="alg1.l19.m1.2.2.2.2.1.1" xref="alg1.l19.m1.2.2.2.2.1.1.1.cmml">
            <mo id="alg1.l19.m1.2.2.2.2.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l19.m1.2.2.2.2.1.1.1.cmml">
             (
            </mo>
            <mrow id="alg1.l19.m1.2.2.2.2.1.1.1" xref="alg1.l19.m1.2.2.2.2.1.1.1.cmml">
             <mi id="alg1.l19.m1.2.2.2.2.1.1.1.2" mathsize="90%" xref="alg1.l19.m1.2.2.2.2.1.1.1.2.cmml">
              t
             </mi>
             <mo id="alg1.l19.m1.2.2.2.2.1.1.1.1" mathsize="90%" xref="alg1.l19.m1.2.2.2.2.1.1.1.1.cmml">
              −
             </mo>
             <mn id="alg1.l19.m1.2.2.2.2.1.1.1.3" mathsize="90%" xref="alg1.l19.m1.2.2.2.2.1.1.1.3.cmml">
              1
             </mn>
            </mrow>
            <mo id="alg1.l19.m1.2.2.2.2.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l19.m1.2.2.2.2.1.1.1.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </msub>
         <mo id="alg1.l19.m1.7.7.3" mathsize="90%" xref="alg1.l19.m1.7.7.3.cmml">
          =
         </mo>
         <mrow id="alg1.l19.m1.7.7.2" xref="alg1.l19.m1.7.7.2.cmml">
          <mi class="ltx_font_mathcaligraphic" id="alg1.l19.m1.7.7.2.4" mathsize="90%" xref="alg1.l19.m1.7.7.2.4.cmml">
           𝒟
          </mi>
          <mo id="alg1.l19.m1.7.7.2.3" lspace="0em" rspace="0em" xref="alg1.l19.m1.7.7.2.3.cmml">
           ​
          </mo>
          <mrow id="alg1.l19.m1.7.7.2.2.2" xref="alg1.l19.m1.7.7.2.2.3.cmml">
           <mo id="alg1.l19.m1.7.7.2.2.2.3" maxsize="90%" minsize="90%" xref="alg1.l19.m1.7.7.2.2.3.cmml">
            (
           </mo>
           <msub id="alg1.l19.m1.6.6.1.1.1.1" xref="alg1.l19.m1.6.6.1.1.1.1.cmml">
            <mi id="alg1.l19.m1.6.6.1.1.1.1.2" mathsize="90%" xref="alg1.l19.m1.6.6.1.1.1.1.2.cmml">
             𝒛
            </mi>
            <mrow id="alg1.l19.m1.4.4.2.4" xref="alg1.l19.m1.4.4.2.3.cmml">
             <mi id="alg1.l19.m1.3.3.1.1" mathsize="90%" xref="alg1.l19.m1.3.3.1.1.cmml">
              n
             </mi>
             <mo id="alg1.l19.m1.4.4.2.4.1" mathsize="90%" xref="alg1.l19.m1.4.4.2.3.cmml">
              ,
             </mo>
             <mi id="alg1.l19.m1.4.4.2.2" mathsize="90%" xref="alg1.l19.m1.4.4.2.2.cmml">
              t
             </mi>
            </mrow>
           </msub>
           <mo id="alg1.l19.m1.7.7.2.2.2.4" mathsize="90%" xref="alg1.l19.m1.7.7.2.2.3.cmml">
            ,
           </mo>
           <mi id="alg1.l19.m1.5.5" mathsize="90%" xref="alg1.l19.m1.5.5.cmml">
            t
           </mi>
           <mo id="alg1.l19.m1.7.7.2.2.2.5" mathsize="90%" xref="alg1.l19.m1.7.7.2.2.3.cmml">
            ,
           </mo>
           <msub id="alg1.l19.m1.7.7.2.2.2.2" xref="alg1.l19.m1.7.7.2.2.2.2.cmml">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l19.m1.7.7.2.2.2.2.2" mathsize="90%" xref="alg1.l19.m1.7.7.2.2.2.2.2a.cmml">
             p
            </mtext>
            <mi id="alg1.l19.m1.7.7.2.2.2.2.3" mathsize="90%" xref="alg1.l19.m1.7.7.2.2.2.2.3.cmml">
             n
            </mi>
           </msub>
           <mo id="alg1.l19.m1.7.7.2.2.2.6" maxsize="90%" minsize="90%" xref="alg1.l19.m1.7.7.2.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l19.m1.7b">
         <apply id="alg1.l19.m1.7.7.cmml" xref="alg1.l19.m1.7.7">
          <eq id="alg1.l19.m1.7.7.3.cmml" xref="alg1.l19.m1.7.7.3">
          </eq>
          <apply id="alg1.l19.m1.7.7.4.cmml" xref="alg1.l19.m1.7.7.4">
           <csymbol cd="ambiguous" id="alg1.l19.m1.7.7.4.1.cmml" xref="alg1.l19.m1.7.7.4">
            subscript
           </csymbol>
           <ci id="alg1.l19.m1.7.7.4.2.cmml" xref="alg1.l19.m1.7.7.4.2">
            𝒛
           </ci>
           <list id="alg1.l19.m1.2.2.2.3.cmml" xref="alg1.l19.m1.2.2.2.2">
            <ci id="alg1.l19.m1.1.1.1.1.cmml" xref="alg1.l19.m1.1.1.1.1">
             𝑛
            </ci>
            <apply id="alg1.l19.m1.2.2.2.2.1.1.1.cmml" xref="alg1.l19.m1.2.2.2.2.1.1">
             <minus id="alg1.l19.m1.2.2.2.2.1.1.1.1.cmml" xref="alg1.l19.m1.2.2.2.2.1.1.1.1">
             </minus>
             <ci id="alg1.l19.m1.2.2.2.2.1.1.1.2.cmml" xref="alg1.l19.m1.2.2.2.2.1.1.1.2">
              𝑡
             </ci>
             <cn id="alg1.l19.m1.2.2.2.2.1.1.1.3.cmml" type="integer" xref="alg1.l19.m1.2.2.2.2.1.1.1.3">
              1
             </cn>
            </apply>
           </list>
          </apply>
          <apply id="alg1.l19.m1.7.7.2.cmml" xref="alg1.l19.m1.7.7.2">
           <times id="alg1.l19.m1.7.7.2.3.cmml" xref="alg1.l19.m1.7.7.2.3">
           </times>
           <ci id="alg1.l19.m1.7.7.2.4.cmml" xref="alg1.l19.m1.7.7.2.4">
            𝒟
           </ci>
           <vector id="alg1.l19.m1.7.7.2.2.3.cmml" xref="alg1.l19.m1.7.7.2.2.2">
            <apply id="alg1.l19.m1.6.6.1.1.1.1.cmml" xref="alg1.l19.m1.6.6.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l19.m1.6.6.1.1.1.1.1.cmml" xref="alg1.l19.m1.6.6.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.l19.m1.6.6.1.1.1.1.2.cmml" xref="alg1.l19.m1.6.6.1.1.1.1.2">
              𝒛
             </ci>
             <list id="alg1.l19.m1.4.4.2.3.cmml" xref="alg1.l19.m1.4.4.2.4">
              <ci id="alg1.l19.m1.3.3.1.1.cmml" xref="alg1.l19.m1.3.3.1.1">
               𝑛
              </ci>
              <ci id="alg1.l19.m1.4.4.2.2.cmml" xref="alg1.l19.m1.4.4.2.2">
               𝑡
              </ci>
             </list>
            </apply>
            <ci id="alg1.l19.m1.5.5.cmml" xref="alg1.l19.m1.5.5">
             𝑡
            </ci>
            <apply id="alg1.l19.m1.7.7.2.2.2.2.cmml" xref="alg1.l19.m1.7.7.2.2.2.2">
             <csymbol cd="ambiguous" id="alg1.l19.m1.7.7.2.2.2.2.1.cmml" xref="alg1.l19.m1.7.7.2.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.l19.m1.7.7.2.2.2.2.2a.cmml" xref="alg1.l19.m1.7.7.2.2.2.2.2">
              <mtext class="ltx_mathvariant_monospace" id="alg1.l19.m1.7.7.2.2.2.2.2.cmml" mathsize="90%" xref="alg1.l19.m1.7.7.2.2.2.2.2">
               p
              </mtext>
             </ci>
             <ci id="alg1.l19.m1.7.7.2.2.2.2.3.cmml" xref="alg1.l19.m1.7.7.2.2.2.2.3">
              𝑛
             </ci>
            </apply>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l19.m1.7c">
         \bm{z}_{n,(t-1)}=\mathcal{D}(\bm{z}_{n,t},t,\texttt{p}_{n})
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l19.3" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l20">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l20.1.1.1" style="font-size:80%;">
        20:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l20.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l20.3" style="font-size:90%;">
       if
      </span>
      <span class="ltx_text" id="alg1.l20.4" style="font-size:90%;">
      </span>
      <math alttext="t&gt;T^{*}" class="ltx_Math" display="inline" id="alg1.l20.m1.1">
       <semantics id="alg1.l20.m1.1a">
        <mrow id="alg1.l20.m1.1.1" xref="alg1.l20.m1.1.1.cmml">
         <mi id="alg1.l20.m1.1.1.2" mathsize="90%" xref="alg1.l20.m1.1.1.2.cmml">
          t
         </mi>
         <mo id="alg1.l20.m1.1.1.1" mathsize="90%" xref="alg1.l20.m1.1.1.1.cmml">
          &gt;
         </mo>
         <msup id="alg1.l20.m1.1.1.3" xref="alg1.l20.m1.1.1.3.cmml">
          <mi id="alg1.l20.m1.1.1.3.2" mathsize="90%" xref="alg1.l20.m1.1.1.3.2.cmml">
           T
          </mi>
          <mo id="alg1.l20.m1.1.1.3.3" mathsize="90%" xref="alg1.l20.m1.1.1.3.3.cmml">
           ∗
          </mo>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l20.m1.1b">
         <apply id="alg1.l20.m1.1.1.cmml" xref="alg1.l20.m1.1.1">
          <gt id="alg1.l20.m1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1">
          </gt>
          <ci id="alg1.l20.m1.1.1.2.cmml" xref="alg1.l20.m1.1.1.2">
           𝑡
          </ci>
          <apply id="alg1.l20.m1.1.1.3.cmml" xref="alg1.l20.m1.1.1.3">
           <csymbol cd="ambiguous" id="alg1.l20.m1.1.1.3.1.cmml" xref="alg1.l20.m1.1.1.3">
            superscript
           </csymbol>
           <ci id="alg1.l20.m1.1.1.3.2.cmml" xref="alg1.l20.m1.1.1.3.2">
            𝑇
           </ci>
           <times id="alg1.l20.m1.1.1.3.3.cmml" xref="alg1.l20.m1.1.1.3.3">
           </times>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l20.m1.1c">
         t&gt;T^{*}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l20.5" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l20.6" style="font-size:90%;">
       then
      </span>
      <span class="ltx_text" id="alg1.l20.7" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l21">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l21.1.1.1" style="font-size:80%;">
        21:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l21.2" style="font-size:90%;">
       Apply Eq. (
      </span>
      <a class="ltx_ref" href="#S3.E7" style="font-size:90%;" title="Equation 7 ‣ Single-Object Diffusion with Attention Guidance. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        7
       </span>
      </a>
      <span class="ltx_text" id="alg1.l21.3" style="font-size:90%;">
       ) to combine latent of
      </span>
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="alg1.l21.m1.1">
       <semantics id="alg1.l21.m1.1a">
        <msub id="alg1.l21.m1.1.1" xref="alg1.l21.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="alg1.l21.m1.1.1.2" mathsize="90%" xref="alg1.l21.m1.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="alg1.l21.m1.1.1.3" mathsize="90%" xref="alg1.l21.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l21.m1.1b">
         <apply id="alg1.l21.m1.1.1.cmml" xref="alg1.l21.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.l21.m1.1.1.1.cmml" xref="alg1.l21.m1.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l21.m1.1.1.2a.cmml" xref="alg1.l21.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l21.m1.1.1.2.cmml" mathsize="90%" xref="alg1.l21.m1.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="alg1.l21.m1.1.1.3.cmml" xref="alg1.l21.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l21.m1.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l21.4" style="font-size:90%;">
       and
      </span>
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="alg1.l21.m2.1">
       <semantics id="alg1.l21.m2.1a">
        <msub id="alg1.l21.m2.1.1" xref="alg1.l21.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="alg1.l21.m2.1.1.2" mathsize="90%" xref="alg1.l21.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="alg1.l21.m2.1.1.3" xref="alg1.l21.m2.1.1.3.cmml">
          <mi id="alg1.l21.m2.1.1.3.2" mathsize="90%" xref="alg1.l21.m2.1.1.3.2.cmml">
           n
          </mi>
          <mo id="alg1.l21.m2.1.1.3.1" mathsize="90%" xref="alg1.l21.m2.1.1.3.1.cmml">
           −
          </mo>
          <mn id="alg1.l21.m2.1.1.3.3" mathsize="90%" xref="alg1.l21.m2.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l21.m2.1b">
         <apply id="alg1.l21.m2.1.1.cmml" xref="alg1.l21.m2.1.1">
          <csymbol cd="ambiguous" id="alg1.l21.m2.1.1.1.cmml" xref="alg1.l21.m2.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l21.m2.1.1.2a.cmml" xref="alg1.l21.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l21.m2.1.1.2.cmml" mathsize="90%" xref="alg1.l21.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="alg1.l21.m2.1.1.3.cmml" xref="alg1.l21.m2.1.1.3">
           <minus id="alg1.l21.m2.1.1.3.1.cmml" xref="alg1.l21.m2.1.1.3.1">
           </minus>
           <ci id="alg1.l21.m2.1.1.3.2.cmml" xref="alg1.l21.m2.1.1.3.2">
            𝑛
           </ci>
           <cn id="alg1.l21.m2.1.1.3.3.cmml" type="integer" xref="alg1.l21.m2.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l21.m2.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l21.5" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l22">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l22.1.1.1" style="font-size:80%;">
        22:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l22.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l22.3" style="font-size:90%;">
       end
      </span>
      <span class="ltx_text" id="alg1.l22.4" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l22.5" style="font-size:90%;">
       if
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l23">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l23.1.1.1" style="font-size:80%;">
        23:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l23.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l23.3" style="font-size:90%;">
       end
      </span>
      <span class="ltx_text" id="alg1.l23.4" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l23.5" style="font-size:90%;">
       for
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l24">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l24.1.1.1" style="font-size:80%;">
        24:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l24.2" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l24.3" style="font-size:90%;">
       end
      </span>
      <span class="ltx_text" id="alg1.l24.4" style="font-size:90%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.l24.5" style="font-size:90%;">
       if
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l25">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l25.1.1.1" style="font-size:80%;">
        25:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l25.2" style="font-size:90%;">
      </span>
      <math alttext="\texttt{obj}_{n}=\bm{z}_{n,0}" class="ltx_Math" display="inline" id="alg1.l25.m1.2">
       <semantics id="alg1.l25.m1.2a">
        <mrow id="alg1.l25.m1.2.3" xref="alg1.l25.m1.2.3.cmml">
         <msub id="alg1.l25.m1.2.3.2" xref="alg1.l25.m1.2.3.2.cmml">
          <mtext class="ltx_mathvariant_monospace" id="alg1.l25.m1.2.3.2.2" mathsize="90%" xref="alg1.l25.m1.2.3.2.2a.cmml">
           obj
          </mtext>
          <mi id="alg1.l25.m1.2.3.2.3" mathsize="90%" xref="alg1.l25.m1.2.3.2.3.cmml">
           n
          </mi>
         </msub>
         <mo id="alg1.l25.m1.2.3.1" mathsize="90%" xref="alg1.l25.m1.2.3.1.cmml">
          =
         </mo>
         <msub id="alg1.l25.m1.2.3.3" xref="alg1.l25.m1.2.3.3.cmml">
          <mi id="alg1.l25.m1.2.3.3.2" mathsize="90%" xref="alg1.l25.m1.2.3.3.2.cmml">
           𝒛
          </mi>
          <mrow id="alg1.l25.m1.2.2.2.4" xref="alg1.l25.m1.2.2.2.3.cmml">
           <mi id="alg1.l25.m1.1.1.1.1" mathsize="90%" xref="alg1.l25.m1.1.1.1.1.cmml">
            n
           </mi>
           <mo id="alg1.l25.m1.2.2.2.4.1" mathsize="90%" xref="alg1.l25.m1.2.2.2.3.cmml">
            ,
           </mo>
           <mn id="alg1.l25.m1.2.2.2.2" mathsize="90%" xref="alg1.l25.m1.2.2.2.2.cmml">
            0
           </mn>
          </mrow>
         </msub>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l25.m1.2b">
         <apply id="alg1.l25.m1.2.3.cmml" xref="alg1.l25.m1.2.3">
          <eq id="alg1.l25.m1.2.3.1.cmml" xref="alg1.l25.m1.2.3.1">
          </eq>
          <apply id="alg1.l25.m1.2.3.2.cmml" xref="alg1.l25.m1.2.3.2">
           <csymbol cd="ambiguous" id="alg1.l25.m1.2.3.2.1.cmml" xref="alg1.l25.m1.2.3.2">
            subscript
           </csymbol>
           <ci id="alg1.l25.m1.2.3.2.2a.cmml" xref="alg1.l25.m1.2.3.2.2">
            <mtext class="ltx_mathvariant_monospace" id="alg1.l25.m1.2.3.2.2.cmml" mathsize="90%" xref="alg1.l25.m1.2.3.2.2">
             obj
            </mtext>
           </ci>
           <ci id="alg1.l25.m1.2.3.2.3.cmml" xref="alg1.l25.m1.2.3.2.3">
            𝑛
           </ci>
          </apply>
          <apply id="alg1.l25.m1.2.3.3.cmml" xref="alg1.l25.m1.2.3.3">
           <csymbol cd="ambiguous" id="alg1.l25.m1.2.3.3.1.cmml" xref="alg1.l25.m1.2.3.3">
            subscript
           </csymbol>
           <ci id="alg1.l25.m1.2.3.3.2.cmml" xref="alg1.l25.m1.2.3.3.2">
            𝒛
           </ci>
           <list id="alg1.l25.m1.2.2.2.3.cmml" xref="alg1.l25.m1.2.2.2.4">
            <ci id="alg1.l25.m1.1.1.1.1.cmml" xref="alg1.l25.m1.1.1.1.1">
             𝑛
            </ci>
            <cn id="alg1.l25.m1.2.2.2.2.cmml" type="integer" xref="alg1.l25.m1.2.2.2.2">
             0
            </cn>
           </list>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l25.m1.2c">
         \texttt{obj}_{n}=\bm{z}_{n,0}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l25.3" style="font-size:90%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l26">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.l26.1.1.1" style="font-size:80%;">
        26:
       </span>
      </span>
      <span class="ltx_text" id="alg1.l26.2" style="font-size:90%;">
      </span>
      <math alttext="\bm{\tilde{M}}_{n}=(\tilde{x}_{n},\tilde{y}_{n},\tilde{w}_{n},\tilde{h}_{n})" class="ltx_Math" display="inline" id="alg1.l26.m1.4">
       <semantics id="alg1.l26.m1.4a">
        <mrow id="alg1.l26.m1.4.4" xref="alg1.l26.m1.4.4.cmml">
         <msub id="alg1.l26.m1.4.4.6" xref="alg1.l26.m1.4.4.6.cmml">
          <mover accent="true" id="alg1.l26.m1.4.4.6.2" xref="alg1.l26.m1.4.4.6.2.cmml">
           <mi id="alg1.l26.m1.4.4.6.2.2" mathsize="90%" xref="alg1.l26.m1.4.4.6.2.2.cmml">
            𝑴
           </mi>
           <mo class="ltx_mathvariant_bold" id="alg1.l26.m1.4.4.6.2.1" mathsize="90%" mathvariant="bold" xref="alg1.l26.m1.4.4.6.2.1.cmml">
            ~
           </mo>
          </mover>
          <mi id="alg1.l26.m1.4.4.6.3" mathsize="90%" xref="alg1.l26.m1.4.4.6.3.cmml">
           n
          </mi>
         </msub>
         <mo id="alg1.l26.m1.4.4.5" mathsize="90%" xref="alg1.l26.m1.4.4.5.cmml">
          =
         </mo>
         <mrow id="alg1.l26.m1.4.4.4.4" xref="alg1.l26.m1.4.4.4.5.cmml">
          <mo id="alg1.l26.m1.4.4.4.4.5" maxsize="90%" minsize="90%" xref="alg1.l26.m1.4.4.4.5.cmml">
           (
          </mo>
          <msub id="alg1.l26.m1.1.1.1.1.1" xref="alg1.l26.m1.1.1.1.1.1.cmml">
           <mover accent="true" id="alg1.l26.m1.1.1.1.1.1.2" xref="alg1.l26.m1.1.1.1.1.1.2.cmml">
            <mi id="alg1.l26.m1.1.1.1.1.1.2.2" mathsize="90%" xref="alg1.l26.m1.1.1.1.1.1.2.2.cmml">
             x
            </mi>
            <mo id="alg1.l26.m1.1.1.1.1.1.2.1" mathsize="90%" xref="alg1.l26.m1.1.1.1.1.1.2.1.cmml">
             ~
            </mo>
           </mover>
           <mi id="alg1.l26.m1.1.1.1.1.1.3" mathsize="90%" xref="alg1.l26.m1.1.1.1.1.1.3.cmml">
            n
           </mi>
          </msub>
          <mo id="alg1.l26.m1.4.4.4.4.6" mathsize="90%" xref="alg1.l26.m1.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="alg1.l26.m1.2.2.2.2.2" xref="alg1.l26.m1.2.2.2.2.2.cmml">
           <mover accent="true" id="alg1.l26.m1.2.2.2.2.2.2" xref="alg1.l26.m1.2.2.2.2.2.2.cmml">
            <mi id="alg1.l26.m1.2.2.2.2.2.2.2" mathsize="90%" xref="alg1.l26.m1.2.2.2.2.2.2.2.cmml">
             y
            </mi>
            <mo id="alg1.l26.m1.2.2.2.2.2.2.1" mathsize="90%" xref="alg1.l26.m1.2.2.2.2.2.2.1.cmml">
             ~
            </mo>
           </mover>
           <mi id="alg1.l26.m1.2.2.2.2.2.3" mathsize="90%" xref="alg1.l26.m1.2.2.2.2.2.3.cmml">
            n
           </mi>
          </msub>
          <mo id="alg1.l26.m1.4.4.4.4.7" mathsize="90%" xref="alg1.l26.m1.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="alg1.l26.m1.3.3.3.3.3" xref="alg1.l26.m1.3.3.3.3.3.cmml">
           <mover accent="true" id="alg1.l26.m1.3.3.3.3.3.2" xref="alg1.l26.m1.3.3.3.3.3.2.cmml">
            <mi id="alg1.l26.m1.3.3.3.3.3.2.2" mathsize="90%" xref="alg1.l26.m1.3.3.3.3.3.2.2.cmml">
             w
            </mi>
            <mo id="alg1.l26.m1.3.3.3.3.3.2.1" mathsize="90%" xref="alg1.l26.m1.3.3.3.3.3.2.1.cmml">
             ~
            </mo>
           </mover>
           <mi id="alg1.l26.m1.3.3.3.3.3.3" mathsize="90%" xref="alg1.l26.m1.3.3.3.3.3.3.cmml">
            n
           </mi>
          </msub>
          <mo id="alg1.l26.m1.4.4.4.4.8" mathsize="90%" xref="alg1.l26.m1.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="alg1.l26.m1.4.4.4.4.4" xref="alg1.l26.m1.4.4.4.4.4.cmml">
           <mover accent="true" id="alg1.l26.m1.4.4.4.4.4.2" xref="alg1.l26.m1.4.4.4.4.4.2.cmml">
            <mi id="alg1.l26.m1.4.4.4.4.4.2.2" mathsize="90%" xref="alg1.l26.m1.4.4.4.4.4.2.2.cmml">
             h
            </mi>
            <mo id="alg1.l26.m1.4.4.4.4.4.2.1" mathsize="90%" xref="alg1.l26.m1.4.4.4.4.4.2.1.cmml">
             ~
            </mo>
           </mover>
           <mi id="alg1.l26.m1.4.4.4.4.4.3" mathsize="90%" xref="alg1.l26.m1.4.4.4.4.4.3.cmml">
            n
           </mi>
          </msub>
          <mo id="alg1.l26.m1.4.4.4.4.9" maxsize="90%" minsize="90%" xref="alg1.l26.m1.4.4.4.5.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l26.m1.4b">
         <apply id="alg1.l26.m1.4.4.cmml" xref="alg1.l26.m1.4.4">
          <eq id="alg1.l26.m1.4.4.5.cmml" xref="alg1.l26.m1.4.4.5">
          </eq>
          <apply id="alg1.l26.m1.4.4.6.cmml" xref="alg1.l26.m1.4.4.6">
           <csymbol cd="ambiguous" id="alg1.l26.m1.4.4.6.1.cmml" xref="alg1.l26.m1.4.4.6">
            subscript
           </csymbol>
           <apply id="alg1.l26.m1.4.4.6.2.cmml" xref="alg1.l26.m1.4.4.6.2">
            <ci id="alg1.l26.m1.4.4.6.2.1.cmml" xref="alg1.l26.m1.4.4.6.2.1">
             bold-~
            </ci>
            <ci id="alg1.l26.m1.4.4.6.2.2.cmml" xref="alg1.l26.m1.4.4.6.2.2">
             𝑴
            </ci>
           </apply>
           <ci id="alg1.l26.m1.4.4.6.3.cmml" xref="alg1.l26.m1.4.4.6.3">
            𝑛
           </ci>
          </apply>
          <vector id="alg1.l26.m1.4.4.4.5.cmml" xref="alg1.l26.m1.4.4.4.4">
           <apply id="alg1.l26.m1.1.1.1.1.1.cmml" xref="alg1.l26.m1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="alg1.l26.m1.1.1.1.1.1.1.cmml" xref="alg1.l26.m1.1.1.1.1.1">
             subscript
            </csymbol>
            <apply id="alg1.l26.m1.1.1.1.1.1.2.cmml" xref="alg1.l26.m1.1.1.1.1.1.2">
             <ci id="alg1.l26.m1.1.1.1.1.1.2.1.cmml" xref="alg1.l26.m1.1.1.1.1.1.2.1">
              ~
             </ci>
             <ci id="alg1.l26.m1.1.1.1.1.1.2.2.cmml" xref="alg1.l26.m1.1.1.1.1.1.2.2">
              𝑥
             </ci>
            </apply>
            <ci id="alg1.l26.m1.1.1.1.1.1.3.cmml" xref="alg1.l26.m1.1.1.1.1.1.3">
             𝑛
            </ci>
           </apply>
           <apply id="alg1.l26.m1.2.2.2.2.2.cmml" xref="alg1.l26.m1.2.2.2.2.2">
            <csymbol cd="ambiguous" id="alg1.l26.m1.2.2.2.2.2.1.cmml" xref="alg1.l26.m1.2.2.2.2.2">
             subscript
            </csymbol>
            <apply id="alg1.l26.m1.2.2.2.2.2.2.cmml" xref="alg1.l26.m1.2.2.2.2.2.2">
             <ci id="alg1.l26.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l26.m1.2.2.2.2.2.2.1">
              ~
             </ci>
             <ci id="alg1.l26.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l26.m1.2.2.2.2.2.2.2">
              𝑦
             </ci>
            </apply>
            <ci id="alg1.l26.m1.2.2.2.2.2.3.cmml" xref="alg1.l26.m1.2.2.2.2.2.3">
             𝑛
            </ci>
           </apply>
           <apply id="alg1.l26.m1.3.3.3.3.3.cmml" xref="alg1.l26.m1.3.3.3.3.3">
            <csymbol cd="ambiguous" id="alg1.l26.m1.3.3.3.3.3.1.cmml" xref="alg1.l26.m1.3.3.3.3.3">
             subscript
            </csymbol>
            <apply id="alg1.l26.m1.3.3.3.3.3.2.cmml" xref="alg1.l26.m1.3.3.3.3.3.2">
             <ci id="alg1.l26.m1.3.3.3.3.3.2.1.cmml" xref="alg1.l26.m1.3.3.3.3.3.2.1">
              ~
             </ci>
             <ci id="alg1.l26.m1.3.3.3.3.3.2.2.cmml" xref="alg1.l26.m1.3.3.3.3.3.2.2">
              𝑤
             </ci>
            </apply>
            <ci id="alg1.l26.m1.3.3.3.3.3.3.cmml" xref="alg1.l26.m1.3.3.3.3.3.3">
             𝑛
            </ci>
           </apply>
           <apply id="alg1.l26.m1.4.4.4.4.4.cmml" xref="alg1.l26.m1.4.4.4.4.4">
            <csymbol cd="ambiguous" id="alg1.l26.m1.4.4.4.4.4.1.cmml" xref="alg1.l26.m1.4.4.4.4.4">
             subscript
            </csymbol>
            <apply id="alg1.l26.m1.4.4.4.4.4.2.cmml" xref="alg1.l26.m1.4.4.4.4.4.2">
             <ci id="alg1.l26.m1.4.4.4.4.4.2.1.cmml" xref="alg1.l26.m1.4.4.4.4.4.2.1">
              ~
             </ci>
             <ci id="alg1.l26.m1.4.4.4.4.4.2.2.cmml" xref="alg1.l26.m1.4.4.4.4.4.2.2">
              ℎ
             </ci>
            </apply>
            <ci id="alg1.l26.m1.4.4.4.4.4.3.cmml" xref="alg1.l26.m1.4.4.4.4.4.3">
             𝑛
            </ci>
           </apply>
          </vector>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l26.m1.4c">
         \bm{\tilde{M}}_{n}=(\tilde{x}_{n},\tilde{y}_{n},\tilde{w}_{n},\tilde{h}_{n})
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l26.3" style="font-size:90%;">
       , a bounding box based on thresholding of
      </span>
      <math alttext="\frac{1}{|B|}\sum_{j\in B}\bm{A}^{(j)}_{(:,k)}" class="ltx_Math" display="inline" id="alg1.l26.m2.4">
       <semantics id="alg1.l26.m2.4a">
        <mrow id="alg1.l26.m2.4.5" xref="alg1.l26.m2.4.5.cmml">
         <mfrac id="alg1.l26.m2.1.1" xref="alg1.l26.m2.1.1.cmml">
          <mn id="alg1.l26.m2.1.1.3" mathsize="90%" xref="alg1.l26.m2.1.1.3.cmml">
           1
          </mn>
          <mrow id="alg1.l26.m2.1.1.1.3" xref="alg1.l26.m2.1.1.1.2.cmml">
           <mo id="alg1.l26.m2.1.1.1.3.1" maxsize="90%" minsize="90%" xref="alg1.l26.m2.1.1.1.2.1.cmml">
            |
           </mo>
           <mi id="alg1.l26.m2.1.1.1.1" mathsize="90%" xref="alg1.l26.m2.1.1.1.1.cmml">
            B
           </mi>
           <mo id="alg1.l26.m2.1.1.1.3.2" maxsize="90%" minsize="90%" xref="alg1.l26.m2.1.1.1.2.1.cmml">
            |
           </mo>
          </mrow>
         </mfrac>
         <mo id="alg1.l26.m2.4.5.1" lspace="0em" rspace="0em" xref="alg1.l26.m2.4.5.1.cmml">
          ​
         </mo>
         <mrow id="alg1.l26.m2.4.5.2" xref="alg1.l26.m2.4.5.2.cmml">
          <msub id="alg1.l26.m2.4.5.2.1" xref="alg1.l26.m2.4.5.2.1.cmml">
           <mo id="alg1.l26.m2.4.5.2.1.2" maxsize="90%" minsize="90%" stretchy="true" xref="alg1.l26.m2.4.5.2.1.2.cmml">
            ∑
           </mo>
           <mrow id="alg1.l26.m2.4.5.2.1.3" xref="alg1.l26.m2.4.5.2.1.3.cmml">
            <mi id="alg1.l26.m2.4.5.2.1.3.2" mathsize="90%" xref="alg1.l26.m2.4.5.2.1.3.2.cmml">
             j
            </mi>
            <mo id="alg1.l26.m2.4.5.2.1.3.1" mathsize="90%" xref="alg1.l26.m2.4.5.2.1.3.1.cmml">
             ∈
            </mo>
            <mi id="alg1.l26.m2.4.5.2.1.3.3" mathsize="90%" xref="alg1.l26.m2.4.5.2.1.3.3.cmml">
             B
            </mi>
           </mrow>
          </msub>
          <msubsup id="alg1.l26.m2.4.5.2.2" xref="alg1.l26.m2.4.5.2.2.cmml">
           <mi id="alg1.l26.m2.4.5.2.2.2.2" mathsize="90%" xref="alg1.l26.m2.4.5.2.2.2.2.cmml">
            𝑨
           </mi>
           <mrow id="alg1.l26.m2.4.4.2.4" xref="alg1.l26.m2.4.4.2.3.cmml">
            <mo id="alg1.l26.m2.4.4.2.4.1" maxsize="90%" minsize="90%" xref="alg1.l26.m2.4.4.2.3.cmml">
             (
            </mo>
            <mo id="alg1.l26.m2.3.3.1.1" mathsize="90%" rspace="0em" xref="alg1.l26.m2.3.3.1.1.cmml">
             :
            </mo>
            <mo id="alg1.l26.m2.4.4.2.4.2" mathsize="90%" xref="alg1.l26.m2.4.4.2.3.cmml">
             ,
            </mo>
            <mi id="alg1.l26.m2.4.4.2.2" mathsize="90%" xref="alg1.l26.m2.4.4.2.2.cmml">
             k
            </mi>
            <mo id="alg1.l26.m2.4.4.2.4.3" maxsize="90%" minsize="90%" xref="alg1.l26.m2.4.4.2.3.cmml">
             )
            </mo>
           </mrow>
           <mrow id="alg1.l26.m2.2.2.1.3" xref="alg1.l26.m2.4.5.2.2.cmml">
            <mo id="alg1.l26.m2.2.2.1.3.1" maxsize="90%" minsize="90%" xref="alg1.l26.m2.4.5.2.2.cmml">
             (
            </mo>
            <mi id="alg1.l26.m2.2.2.1.1" mathsize="90%" xref="alg1.l26.m2.2.2.1.1.cmml">
             j
            </mi>
            <mo id="alg1.l26.m2.2.2.1.3.2" maxsize="90%" minsize="90%" xref="alg1.l26.m2.4.5.2.2.cmml">
             )
            </mo>
           </mrow>
          </msubsup>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l26.m2.4b">
         <apply id="alg1.l26.m2.4.5.cmml" xref="alg1.l26.m2.4.5">
          <times id="alg1.l26.m2.4.5.1.cmml" xref="alg1.l26.m2.4.5.1">
          </times>
          <apply id="alg1.l26.m2.1.1.cmml" xref="alg1.l26.m2.1.1">
           <divide id="alg1.l26.m2.1.1.2.cmml" xref="alg1.l26.m2.1.1">
           </divide>
           <cn id="alg1.l26.m2.1.1.3.cmml" type="integer" xref="alg1.l26.m2.1.1.3">
            1
           </cn>
           <apply id="alg1.l26.m2.1.1.1.2.cmml" xref="alg1.l26.m2.1.1.1.3">
            <abs id="alg1.l26.m2.1.1.1.2.1.cmml" xref="alg1.l26.m2.1.1.1.3.1">
            </abs>
            <ci id="alg1.l26.m2.1.1.1.1.cmml" xref="alg1.l26.m2.1.1.1.1">
             𝐵
            </ci>
           </apply>
          </apply>
          <apply id="alg1.l26.m2.4.5.2.cmml" xref="alg1.l26.m2.4.5.2">
           <apply id="alg1.l26.m2.4.5.2.1.cmml" xref="alg1.l26.m2.4.5.2.1">
            <csymbol cd="ambiguous" id="alg1.l26.m2.4.5.2.1.1.cmml" xref="alg1.l26.m2.4.5.2.1">
             subscript
            </csymbol>
            <sum id="alg1.l26.m2.4.5.2.1.2.cmml" xref="alg1.l26.m2.4.5.2.1.2">
            </sum>
            <apply id="alg1.l26.m2.4.5.2.1.3.cmml" xref="alg1.l26.m2.4.5.2.1.3">
             <in id="alg1.l26.m2.4.5.2.1.3.1.cmml" xref="alg1.l26.m2.4.5.2.1.3.1">
             </in>
             <ci id="alg1.l26.m2.4.5.2.1.3.2.cmml" xref="alg1.l26.m2.4.5.2.1.3.2">
              𝑗
             </ci>
             <ci id="alg1.l26.m2.4.5.2.1.3.3.cmml" xref="alg1.l26.m2.4.5.2.1.3.3">
              𝐵
             </ci>
            </apply>
           </apply>
           <apply id="alg1.l26.m2.4.5.2.2.cmml" xref="alg1.l26.m2.4.5.2.2">
            <csymbol cd="ambiguous" id="alg1.l26.m2.4.5.2.2.1.cmml" xref="alg1.l26.m2.4.5.2.2">
             subscript
            </csymbol>
            <apply id="alg1.l26.m2.4.5.2.2.2.cmml" xref="alg1.l26.m2.4.5.2.2">
             <csymbol cd="ambiguous" id="alg1.l26.m2.4.5.2.2.2.1.cmml" xref="alg1.l26.m2.4.5.2.2">
              superscript
             </csymbol>
             <ci id="alg1.l26.m2.4.5.2.2.2.2.cmml" xref="alg1.l26.m2.4.5.2.2.2.2">
              𝑨
             </ci>
             <ci id="alg1.l26.m2.2.2.1.1.cmml" xref="alg1.l26.m2.2.2.1.1">
              𝑗
             </ci>
            </apply>
            <interval closure="open" id="alg1.l26.m2.4.4.2.3.cmml" xref="alg1.l26.m2.4.4.2.4">
             <ci id="alg1.l26.m2.3.3.1.1.cmml" xref="alg1.l26.m2.3.3.1.1">
              :
             </ci>
             <ci id="alg1.l26.m2.4.4.2.2.cmml" xref="alg1.l26.m2.4.4.2.2">
              𝑘
             </ci>
            </interval>
           </apply>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l26.m2.4c">
         \frac{1}{|B|}\sum_{j\in B}\bm{A}^{(j)}_{(:,k)}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l26.4" style="font-size:90%;">
       {Token-
      </span>
      <math alttext="k" class="ltx_Math" display="inline" id="alg1.l26.m3.1">
       <semantics id="alg1.l26.m3.1a">
        <mi id="alg1.l26.m3.1.1" mathsize="90%" xref="alg1.l26.m3.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l26.m3.1b">
         <ci id="alg1.l26.m3.1.1.cmml" xref="alg1.l26.m3.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l26.m3.1c">
         k
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l26.5" style="font-size:90%;">
       corresponds to
      </span>
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="alg1.l26.m4.1">
       <semantics id="alg1.l26.m4.1a">
        <msub id="alg1.l26.m4.1.1" xref="alg1.l26.m4.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="alg1.l26.m4.1.1.2" mathsize="90%" xref="alg1.l26.m4.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="alg1.l26.m4.1.1.3" mathsize="90%" xref="alg1.l26.m4.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="alg1.l26.m4.1b">
         <apply id="alg1.l26.m4.1.1.cmml" xref="alg1.l26.m4.1.1">
          <csymbol cd="ambiguous" id="alg1.l26.m4.1.1.1.cmml" xref="alg1.l26.m4.1.1">
           subscript
          </csymbol>
          <ci id="alg1.l26.m4.1.1.2a.cmml" xref="alg1.l26.m4.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="alg1.l26.m4.1.1.2.cmml" mathsize="90%" xref="alg1.l26.m4.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="alg1.l26.m4.1.1.3.cmml" xref="alg1.l26.m4.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l26.m4.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.l26.6" style="font-size:90%;">
       }
      </span>
     </div>
    </div>
   </figure>
   <div class="ltx_para" id="S3.SS4.p1">
    <p class="ltx_p" id="S3.SS4.p1.12">
     At stage-
     <math alttext="n" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1">
      <semantics id="S3.SS4.p1.1.m1.1a">
       <mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b">
        <ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">
         𝑛
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">
        n
       </annotation>
      </semantics>
     </math>
     , the diffusion model only focuses on generating
     <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.2.m2.1">
      <semantics id="S3.SS4.p1.2.m2.1a">
       <msub id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.2.m2.1.1.2" xref="S3.SS4.p1.2.m2.1.1.2a.cmml">
         obj
        </mtext>
        <mi id="S3.SS4.p1.2.m2.1.1.3" xref="S3.SS4.p1.2.m2.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b">
        <apply id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.2.m2.1.1.2a.cmml" xref="S3.SS4.p1.2.m2.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.p1.2.m2.1.1.2">
           obj
          </mtext>
         </ci>
         <ci id="S3.SS4.p1.2.m2.1.1.3.cmml" xref="S3.SS4.p1.2.m2.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">
        \texttt{obj}_{n}
       </annotation>
      </semantics>
     </math>
     according to the sub-prompt
     <math alttext="\texttt{p}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.3.m3.1">
      <semantics id="S3.SS4.p1.3.m3.1a">
       <msub id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.3.m3.1.1.2" xref="S3.SS4.p1.3.m3.1.1.2a.cmml">
         p
        </mtext>
        <mi id="S3.SS4.p1.3.m3.1.1.3" xref="S3.SS4.p1.3.m3.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b">
        <apply id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.3.m3.1.1.2a.cmml" xref="S3.SS4.p1.3.m3.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.3.m3.1.1.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2">
           p
          </mtext>
         </ci>
         <ci id="S3.SS4.p1.3.m3.1.1.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">
        \texttt{p}_{n}
       </annotation>
      </semantics>
     </math>
     under attention guidance, which is based on a rough mask (i.e., a bounding box)
     <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.4.m4.1">
      <semantics id="S3.SS4.p1.4.m4.1a">
       <msub id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml">
        <mi id="S3.SS4.p1.4.m4.1.1.2" xref="S3.SS4.p1.4.m4.1.1.2.cmml">
         𝑴
        </mi>
        <mi id="S3.SS4.p1.4.m4.1.1.3" xref="S3.SS4.p1.4.m4.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.1b">
        <apply id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.1.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.4.m4.1.1.2.cmml" xref="S3.SS4.p1.4.m4.1.1.2">
          𝑴
         </ci>
         <ci id="S3.SS4.p1.4.m4.1.1.3.cmml" xref="S3.SS4.p1.4.m4.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.1c">
        \bm{M}_{n}
       </annotation>
      </semantics>
     </math>
     for
     <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.5.m5.1">
      <semantics id="S3.SS4.p1.5.m5.1a">
       <msub id="S3.SS4.p1.5.m5.1.1" xref="S3.SS4.p1.5.m5.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.5.m5.1.1.2" xref="S3.SS4.p1.5.m5.1.1.2a.cmml">
         obj
        </mtext>
        <mi id="S3.SS4.p1.5.m5.1.1.3" xref="S3.SS4.p1.5.m5.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m5.1b">
        <apply id="S3.SS4.p1.5.m5.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.1.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.5.m5.1.1.2a.cmml" xref="S3.SS4.p1.5.m5.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.5.m5.1.1.2.cmml" xref="S3.SS4.p1.5.m5.1.1.2">
           obj
          </mtext>
         </ci>
         <ci id="S3.SS4.p1.5.m5.1.1.3.cmml" xref="S3.SS4.p1.5.m5.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.5.m5.1c">
        \texttt{obj}_{n}
       </annotation>
      </semantics>
     </math>
     .
     <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.6.m6.1">
      <semantics id="S3.SS4.p1.6.m6.1a">
       <msub id="S3.SS4.p1.6.m6.1.1" xref="S3.SS4.p1.6.m6.1.1.cmml">
        <mi id="S3.SS4.p1.6.m6.1.1.2" xref="S3.SS4.p1.6.m6.1.1.2.cmml">
         𝑴
        </mi>
        <mi id="S3.SS4.p1.6.m6.1.1.3" xref="S3.SS4.p1.6.m6.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.6.m6.1b">
        <apply id="S3.SS4.p1.6.m6.1.1.cmml" xref="S3.SS4.p1.6.m6.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.6.m6.1.1.1.cmml" xref="S3.SS4.p1.6.m6.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.6.m6.1.1.2.cmml" xref="S3.SS4.p1.6.m6.1.1.2">
          𝑴
         </ci>
         <ci id="S3.SS4.p1.6.m6.1.1.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.6.m6.1c">
        \bm{M}_{n}
       </annotation>
      </semantics>
     </math>
     is derived from
     <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.7.m7.1">
      <semantics id="S3.SS4.p1.7.m7.1a">
       <msub id="S3.SS4.p1.7.m7.1.1" xref="S3.SS4.p1.7.m7.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.7.m7.1.1.2" xref="S3.SS4.p1.7.m7.1.1.2a.cmml">
         obj
        </mtext>
        <mi id="S3.SS4.p1.7.m7.1.1.3" xref="S3.SS4.p1.7.m7.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.7.m7.1b">
        <apply id="S3.SS4.p1.7.m7.1.1.cmml" xref="S3.SS4.p1.7.m7.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.7.m7.1.1.1.cmml" xref="S3.SS4.p1.7.m7.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.7.m7.1.1.2a.cmml" xref="S3.SS4.p1.7.m7.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.7.m7.1.1.2.cmml" xref="S3.SS4.p1.7.m7.1.1.2">
           obj
          </mtext>
         </ci>
         <ci id="S3.SS4.p1.7.m7.1.1.3.cmml" xref="S3.SS4.p1.7.m7.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.7.m7.1c">
        \texttt{obj}_{n}
       </annotation>
      </semantics>
     </math>
     ’s relative position and size planned by the LLM, conditioned on the current space availability in the image. When
     <math alttext="n&gt;1" class="ltx_Math" display="inline" id="S3.SS4.p1.8.m8.1">
      <semantics id="S3.SS4.p1.8.m8.1a">
       <mrow id="S3.SS4.p1.8.m8.1.1" xref="S3.SS4.p1.8.m8.1.1.cmml">
        <mi id="S3.SS4.p1.8.m8.1.1.2" xref="S3.SS4.p1.8.m8.1.1.2.cmml">
         n
        </mi>
        <mo id="S3.SS4.p1.8.m8.1.1.1" xref="S3.SS4.p1.8.m8.1.1.1.cmml">
         &gt;
        </mo>
        <mn id="S3.SS4.p1.8.m8.1.1.3" xref="S3.SS4.p1.8.m8.1.1.3.cmml">
         1
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.8.m8.1b">
        <apply id="S3.SS4.p1.8.m8.1.1.cmml" xref="S3.SS4.p1.8.m8.1.1">
         <gt id="S3.SS4.p1.8.m8.1.1.1.cmml" xref="S3.SS4.p1.8.m8.1.1.1">
         </gt>
         <ci id="S3.SS4.p1.8.m8.1.1.2.cmml" xref="S3.SS4.p1.8.m8.1.1.2">
          𝑛
         </ci>
         <cn id="S3.SS4.p1.8.m8.1.1.3.cmml" type="integer" xref="S3.SS4.p1.8.m8.1.1.3">
          1
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.8.m8.1c">
        n&gt;1
       </annotation>
      </semantics>
     </math>
     ,
     <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.p1.9.m9.1">
      <semantics id="S3.SS4.p1.9.m9.1a">
       <msub id="S3.SS4.p1.9.m9.1.1" xref="S3.SS4.p1.9.m9.1.1.cmml">
        <mi id="S3.SS4.p1.9.m9.1.1.2" xref="S3.SS4.p1.9.m9.1.1.2.cmml">
         𝑴
        </mi>
        <mi id="S3.SS4.p1.9.m9.1.1.3" xref="S3.SS4.p1.9.m9.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.9.m9.1b">
        <apply id="S3.SS4.p1.9.m9.1.1.cmml" xref="S3.SS4.p1.9.m9.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.9.m9.1.1.1.cmml" xref="S3.SS4.p1.9.m9.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.9.m9.1.1.2.cmml" xref="S3.SS4.p1.9.m9.1.1.2">
          𝑴
         </ci>
         <ci id="S3.SS4.p1.9.m9.1.1.3.cmml" xref="S3.SS4.p1.9.m9.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.9.m9.1c">
        \bm{M}_{n}
       </annotation>
      </semantics>
     </math>
     also depends on the previous object
     <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.p1.10.m10.1">
      <semantics id="S3.SS4.p1.10.m10.1a">
       <msub id="S3.SS4.p1.10.m10.1.1" xref="S3.SS4.p1.10.m10.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.10.m10.1.1.2" xref="S3.SS4.p1.10.m10.1.1.2a.cmml">
         obj
        </mtext>
        <mrow id="S3.SS4.p1.10.m10.1.1.3" xref="S3.SS4.p1.10.m10.1.1.3.cmml">
         <mi id="S3.SS4.p1.10.m10.1.1.3.2" xref="S3.SS4.p1.10.m10.1.1.3.2.cmml">
          n
         </mi>
         <mo id="S3.SS4.p1.10.m10.1.1.3.1" xref="S3.SS4.p1.10.m10.1.1.3.1.cmml">
          −
         </mo>
         <mn id="S3.SS4.p1.10.m10.1.1.3.3" xref="S3.SS4.p1.10.m10.1.1.3.3.cmml">
          1
         </mn>
        </mrow>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.10.m10.1b">
        <apply id="S3.SS4.p1.10.m10.1.1.cmml" xref="S3.SS4.p1.10.m10.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.10.m10.1.1.1.cmml" xref="S3.SS4.p1.10.m10.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.p1.10.m10.1.1.2a.cmml" xref="S3.SS4.p1.10.m10.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.p1.10.m10.1.1.2.cmml" xref="S3.SS4.p1.10.m10.1.1.2">
           obj
          </mtext>
         </ci>
         <apply id="S3.SS4.p1.10.m10.1.1.3.cmml" xref="S3.SS4.p1.10.m10.1.1.3">
          <minus id="S3.SS4.p1.10.m10.1.1.3.1.cmml" xref="S3.SS4.p1.10.m10.1.1.3.1">
          </minus>
          <ci id="S3.SS4.p1.10.m10.1.1.3.2.cmml" xref="S3.SS4.p1.10.m10.1.1.3.2">
           𝑛
          </ci>
          <cn id="S3.SS4.p1.10.m10.1.1.3.3.cmml" type="integer" xref="S3.SS4.p1.10.m10.1.1.3.3">
           1
          </cn>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.10.m10.1c">
        \texttt{obj}_{n-1}
       </annotation>
      </semantics>
     </math>
     and its precise mask
     <math alttext="\tilde{\bm{M}}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.p1.11.m11.1">
      <semantics id="S3.SS4.p1.11.m11.1a">
       <msub id="S3.SS4.p1.11.m11.1.1" xref="S3.SS4.p1.11.m11.1.1.cmml">
        <mover accent="true" id="S3.SS4.p1.11.m11.1.1.2" xref="S3.SS4.p1.11.m11.1.1.2.cmml">
         <mi id="S3.SS4.p1.11.m11.1.1.2.2" xref="S3.SS4.p1.11.m11.1.1.2.2.cmml">
          𝑴
         </mi>
         <mo id="S3.SS4.p1.11.m11.1.1.2.1" xref="S3.SS4.p1.11.m11.1.1.2.1.cmml">
          ~
         </mo>
        </mover>
        <mrow id="S3.SS4.p1.11.m11.1.1.3" xref="S3.SS4.p1.11.m11.1.1.3.cmml">
         <mi id="S3.SS4.p1.11.m11.1.1.3.2" xref="S3.SS4.p1.11.m11.1.1.3.2.cmml">
          n
         </mi>
         <mo id="S3.SS4.p1.11.m11.1.1.3.1" xref="S3.SS4.p1.11.m11.1.1.3.1.cmml">
          −
         </mo>
         <mn id="S3.SS4.p1.11.m11.1.1.3.3" xref="S3.SS4.p1.11.m11.1.1.3.3.cmml">
          1
         </mn>
        </mrow>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.11.m11.1b">
        <apply id="S3.SS4.p1.11.m11.1.1.cmml" xref="S3.SS4.p1.11.m11.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.p1.11.m11.1.1.1.cmml" xref="S3.SS4.p1.11.m11.1.1">
          subscript
         </csymbol>
         <apply id="S3.SS4.p1.11.m11.1.1.2.cmml" xref="S3.SS4.p1.11.m11.1.1.2">
          <ci id="S3.SS4.p1.11.m11.1.1.2.1.cmml" xref="S3.SS4.p1.11.m11.1.1.2.1">
           ~
          </ci>
          <ci id="S3.SS4.p1.11.m11.1.1.2.2.cmml" xref="S3.SS4.p1.11.m11.1.1.2.2">
           𝑴
          </ci>
         </apply>
         <apply id="S3.SS4.p1.11.m11.1.1.3.cmml" xref="S3.SS4.p1.11.m11.1.1.3">
          <minus id="S3.SS4.p1.11.m11.1.1.3.1.cmml" xref="S3.SS4.p1.11.m11.1.1.3.1">
          </minus>
          <ci id="S3.SS4.p1.11.m11.1.1.3.2.cmml" xref="S3.SS4.p1.11.m11.1.1.3.2">
           𝑛
          </ci>
          <cn id="S3.SS4.p1.11.m11.1.1.3.3.cmml" type="integer" xref="S3.SS4.p1.11.m11.1.1.3.3">
           1
          </cn>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.11.m11.1c">
        \tilde{\bm{M}}_{n-1}
       </annotation>
      </semantics>
     </math>
     in the image generated in stage-(
     <math alttext="n" class="ltx_Math" display="inline" id="S3.SS4.p1.12.m12.1">
      <semantics id="S3.SS4.p1.12.m12.1a">
       <mi id="S3.SS4.p1.12.m12.1.1" xref="S3.SS4.p1.12.m12.1.1.cmml">
        n
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.12.m12.1b">
        <ci id="S3.SS4.p1.12.m12.1.1.cmml" xref="S3.SS4.p1.12.m12.1.1">
         𝑛
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.12.m12.1c">
        n
       </annotation>
      </semantics>
     </math>
     -1). The pipeline is given in Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     with the complete procedure listed in Algorithm
     <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     . We will introduce it step by step in the following.
    </p>
   </div>
   <section class="ltx_paragraph" id="S3.SS4.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     LLM Planning of a Rough Mask for
     <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.1.m1.1">
      <semantics id="S3.SS4.SSS0.Px1.1.m1.1b">
       <msub id="S3.SS4.SSS0.Px1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.1.m1.1.1.cmml">
        <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px1.1.m1.1.1.2a.cmml">
         obj
        </mtext>
        <mi id="S3.SS4.SSS0.Px1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px1.1.m1.1.1.3.cmml">
         n
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.1.m1.1c">
        <apply id="S3.SS4.SSS0.Px1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.1.m1.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS4.SSS0.Px1.1.m1.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.1.m1.1.1.2">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.1.m1.1.1.2">
           obj
          </mtext>
         </ci>
         <ci id="S3.SS4.SSS0.Px1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.1.m1.1.1.3">
          𝑛
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.1.m1.1d">
        \texttt{obj}_{n}
       </annotation>
      </semantics>
     </math>
     .
    </h4>
    <div class="ltx_para" id="S3.SS4.SSS0.Px1.p1">
     <p class="ltx_p" id="S3.SS4.SSS0.Px1.p1.16">
      At stage-
      <math alttext="n" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.1.m1.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.1.m1.1a">
        <mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml">
         n
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.1.m1.1b">
         <ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1">
          𝑛
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.1.m1.1c">
         n
        </annotation>
       </semantics>
      </math>
      , MuLan first derives a rough mask as a bounding box
      <math alttext="{\bm{M}}_{n}\triangleq(x_{n},y_{n},w_{n},h_{n})" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.2.m2.4">
       <semantics id="S3.SS4.SSS0.Px1.p1.2.m2.4a">
        <mrow id="S3.SS4.SSS0.Px1.p1.2.m2.4.4" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.cmml">
         <msub id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.2.cmml">
           𝑴
          </mi>
          <mi id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.5" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.5.cmml">
          ≜
         </mo>
         <mrow id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml">
          <mo id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.5" stretchy="false" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml">
           (
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.cmml">
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">
            x
           </mi>
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.3.cmml">
            n
           </mi>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.6" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.cmml">
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.cmml">
            y
           </mi>
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.3.cmml">
            n
           </mi>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.7" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.cmml">
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.2.cmml">
            w
           </mi>
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.cmml">
            n
           </mi>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.8" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.cmml">
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.2.cmml">
            h
           </mi>
           <mi id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.3.cmml">
            n
           </mi>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.9" stretchy="false" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.2.m2.4b">
         <apply id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4">
          <ci id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.5.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.5">
           ≜
          </ci>
          <apply id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6">
            subscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.2">
            𝑴
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.6.3">
            𝑛
           </ci>
          </apply>
          <vector id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.5.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4">
           <apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.2">
             𝑥
            </ci>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.1.1.3">
             𝑛
            </ci>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2">
             subscript
            </csymbol>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.2">
             𝑦
            </ci>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.2.2.2.2.2.3">
             𝑛
            </ci>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3">
             subscript
            </csymbol>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.2">
             𝑤
            </ci>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.3.3.3.3.3.3">
             𝑛
            </ci>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4">
             subscript
            </csymbol>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.2">
             ℎ
            </ci>
            <ci id="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.4.4.4.4.4.3">
             𝑛
            </ci>
           </apply>
          </vector>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.2.m2.4c">
         {\bm{M}}_{n}\triangleq(x_{n},y_{n},w_{n},h_{n})
        </annotation>
       </semantics>
      </math>
      (x/y coordinates of the top-left corner, width, and height) for
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.3.m3.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.3.m3.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.3.m3.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.3.m3.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      in the image.
As shown in Figure
      <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      ,
      <math alttext="{\bm{M}}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.4.m4.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.4.m4.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.4.m4.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.4.m4.1c">
         {\bm{M}}_{n}
        </annotation>
       </semantics>
      </math>
      can be derived from
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.5.m5.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.5.m5.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.5.m5.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.5.m5.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      ’s rough position
      <math alttext="\texttt{opt}_{n}\in\texttt{Opts=\{left,right,top,bottom\}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.6.m6.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.6.m6.1a">
        <mrow id="S3.SS4.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml">
         <msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.2a.cmml">
           opt
          </mtext>
          <mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1.cmml">
          ∈
         </mo>
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3a.cmml">
          Opts={left,right,top,bottom}
         </mtext>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.6.m6.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1">
          <in id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1">
          </in>
          <apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2">
            subscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.2">
             opt
            </mtext>
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.3">
            𝑛
           </ci>
          </apply>
          <ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3a.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3">
            Opts={left,right,top,bottom}
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.6.m6.1c">
         \texttt{opt}_{n}\in\texttt{Opts=\{left,right,top,bottom\}}
        </annotation>
       </semantics>
      </math>
      , the total number of objects
      <math alttext="\texttt{Num}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.7.m7.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.7.m7.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2a.cmml">
          Num
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.3" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.7.m7.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2">
            Num
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.7.m7.1c">
         \texttt{Num}_{n}
        </annotation>
       </semantics>
      </math>
      in the same position/region as
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.8.m8.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.8.m8.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.8.m8.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.8.m8.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      , and the precise mask
      <math alttext="\bm{\tilde{M}}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.9.m9.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.9.m9.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml">
         <mover accent="true" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.2.cmml">
           𝑴
          </mi>
          <mo class="ltx_mathvariant_bold" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.1" mathvariant="bold" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mrow id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.9.m9.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2">
           <ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.1">
            bold-~
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.2">
            𝑴
           </ci>
          </apply>
          <apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3">
           <minus id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.9.m9.1c">
         \bm{\tilde{M}}_{n-1}
        </annotation>
       </semantics>
      </math>
      of previously generated
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.10.m10.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.10.m10.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.1" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.10.m10.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3">
           <minus id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.10.m10.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      .
MuLan utilizes an LLM planner to determine
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.11.m11.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.11.m11.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.2" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.3" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.11.m11.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.11.m11.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\texttt{Num}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.12.m12.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.12.m12.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2a.cmml">
          Num
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.12.m12.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2">
            Num
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.12.m12.1c">
         \texttt{Num}_{n}
        </annotation>
       </semantics>
      </math>
      given the sub-prompt
      <math alttext="\texttt{p}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.13.m13.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.13.m13.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.13.m13.1.1" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.2" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1.2a.cmml">
          p
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.3" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.13.m13.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1.2">
            p
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p1.13.m13.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.13.m13.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.13.m13.1c">
         \texttt{p}_{n}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_note ltx_role_footnote" id="footnote1">
       <sup class="ltx_note_mark">
        1
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          1
         </sup>
         <span class="ltx_tag ltx_tag_note">
          1
         </span>
         The detailed prompt template can be found in Appendix
         <a class="ltx_ref" href="#A2" title="Appendix B Detailed prompt template of the local planning by the LLM ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
          <span class="ltx_text ltx_ref_tag">
           B
          </span>
         </a>
         .
        </span>
       </span>
      </span>
      , while
      <math alttext="\bm{\tilde{M}}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.14.m14.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.14.m14.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.14.m14.1.1" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.cmml">
         <mover accent="true" id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.2" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.2.cmml">
           𝑴
          </mi>
          <mo class="ltx_mathvariant_bold" id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.1" mathvariant="bold" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mrow id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.1" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.14.m14.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2">
           <ci id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.1">
            bold-~
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.2.2">
            𝑴
           </ci>
          </apply>
          <apply id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3">
           <minus id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.14.m14.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.14.m14.1c">
         \bm{\tilde{M}}_{n-1}
        </annotation>
       </semantics>
      </math>
      can be easily derived from the generated image from stage-
      <math alttext="(n-1)" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.15.m15.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.15.m15.1a">
        <mrow id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.cmml">
         <mo id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.cmml">
          (
         </mo>
         <mrow id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.2" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.1" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.3" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.3.cmml">
           1
          </mn>
         </mrow>
         <mo id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.cmml">
          )
         </mo>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.15.m15.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1">
          <minus id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.1">
          </minus>
          <ci id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.2">
           𝑛
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.15.m15.1.1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.15.m15.1c">
         (n-1)
        </annotation>
       </semantics>
      </math>
      with
      <math alttext="\texttt{opt}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.16.m16.1">
       <semantics id="S3.SS4.SSS0.Px1.p1.16.m16.1a">
        <msub id="S3.SS4.SSS0.Px1.p1.16.m16.1.1" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.2" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.2a.cmml">
          opt
         </mtext>
         <mrow id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.1" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.16.m16.1b">
         <apply id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.2">
            opt
           </mtext>
          </ci>
          <apply id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3">
           <minus id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.16.m16.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.16.m16.1c">
         \texttt{opt}_{n-1}
        </annotation>
       </semantics>
      </math>
      .
     </p>
    </div>
    <div class="ltx_para" id="S3.SS4.SSS0.Px1.p2">
     <p class="ltx_p" id="S3.SS4.SSS0.Px1.p2.13">
      <span class="ltx_text ltx_font_bold" id="S3.SS4.SSS0.Px1.p2.1.1">
       When
       <math alttext="n=1" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.1.1.m1.1">
        <semantics id="S3.SS4.SSS0.Px1.p2.1.1.m1.1a">
         <mrow id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.cmml">
          <mi id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.1" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.1.cmml">
           =
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.3.cmml">
           1
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.1.1.m1.1b">
          <apply id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1">
           <eq id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.1">
           </eq>
           <ci id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.1.1.m1.1.1.3">
            1
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.1.1.m1.1c">
          n=1
         </annotation>
        </semantics>
       </math>
      </span>
      , since there is not any object generated yet, both the position
      <math alttext="\texttt{opt}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.2.m1.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.2.m1.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.2.m1.1.1" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1.2a.cmml">
          opt
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.2.m1.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1.2">
            opt
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.2.m1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.2.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.2.m1.1c">
         \texttt{opt}_{1}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\texttt{Num}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.3.m2.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.3.m2.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.3.m2.1.1" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.2" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1.2a.cmml">
          Num
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.3" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.3.m2.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1.2">
            Num
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.3.m2.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.3.m2.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.3.m2.1c">
         \texttt{Num}_{1}
        </annotation>
       </semantics>
      </math>
      are unrestricted and the LLM can be prompted to determine
      <math alttext="\texttt{opt}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.4.m3.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.4.m3.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.4.m3.1.1" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.2" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1.2a.cmml">
          opt
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.3" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.4.m3.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1.2">
            opt
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.4.m3.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.4.m3.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.4.m3.1c">
         \texttt{opt}_{1}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\texttt{Num}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.5.m4.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.5.m4.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.5.m4.1.1" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.2" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1.2a.cmml">
          Num
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.3" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.5.m4.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1.2">
            Num
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.5.m4.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.5.m4.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.5.m4.1c">
         \texttt{Num}_{1}
        </annotation>
       </semantics>
      </math>
      given sub-prompt
      <math alttext="\texttt{p}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.6.m5.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.6.m5.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.6.m5.1.1" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.2" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1.2a.cmml">
          p
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.3" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.6.m5.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1.2">
            p
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.6.m5.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.6.m5.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.6.m5.1c">
         \texttt{p}_{1}
        </annotation>
       </semantics>
      </math>
      .
Since the object order starts from left to right and bottom to top, there will be only two position options
      <math alttext="\texttt{opt}_{1}\in\{\texttt{left},\texttt{bottom}\}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.7.m6.2">
       <semantics id="S3.SS4.SSS0.Px1.p2.7.m6.2a">
        <mrow id="S3.SS4.SSS0.Px1.p2.7.m6.2.3" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.cmml">
         <msub id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.2" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.2a.cmml">
           opt
          </mtext>
          <mn id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.3" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.3.cmml">
           1
          </mn>
         </msub>
         <mo id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.1" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.1.cmml">
          ∈
         </mo>
         <mrow id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.2" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.1.cmml">
          <mo id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.2.1" stretchy="false" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.1.cmml">
           {
          </mo>
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.7.m6.1.1" xref="S3.SS4.SSS0.Px1.p2.7.m6.1.1a.cmml">
           left
          </mtext>
          <mo id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.2.2" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.1.cmml">
           ,
          </mo>
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.7.m6.2.2" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.2a.cmml">
           bottom
          </mtext>
          <mo id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.2.3" stretchy="false" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.1.cmml">
           }
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.7.m6.2b">
         <apply id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3">
          <in id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.1.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.1">
          </in>
          <apply id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.1.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2">
            subscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.2.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.2">
             opt
            </mtext>
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.2.3">
            1
           </cn>
          </apply>
          <set id="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.3.3.2">
           <ci id="S3.SS4.SSS0.Px1.p2.7.m6.1.1a.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.1.1">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.7.m6.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.1.1">
             left
            </mtext>
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p2.7.m6.2.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.7.m6.2.2.cmml" xref="S3.SS4.SSS0.Px1.p2.7.m6.2.2">
             bottom
            </mtext>
           </ci>
          </set>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.7.m6.2c">
         \texttt{opt}_{1}\in\{\texttt{left},\texttt{bottom}\}
        </annotation>
       </semantics>
      </math>
      for
      <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.8.m7.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.8.m7.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.8.m7.1.1" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.2" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.3" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.8.m7.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.8.m7.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.8.m7.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.8.m7.1c">
         \texttt{obj}_{1}
        </annotation>
       </semantics>
      </math>
      . Once
      <math alttext="\texttt{opt}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.9.m8.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.9.m8.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.9.m8.1.1" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.2" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1.2a.cmml">
          opt
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.3" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.9.m8.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1.2">
            opt
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.9.m8.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.9.m8.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.9.m8.1c">
         \texttt{opt}_{1}
        </annotation>
       </semantics>
      </math>
      determined, as shown in Figure
      <a class="ltx_ref" href="#S3.F5" title='Figure 5 ‣ LLM Planning of a Rough Mask for "obj"_𝑛. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion'>
       <span class="ltx_text ltx_ref_tag">
        5
       </span>
      </a>
      , MuLan evenly splits the whole image’s width
      <math alttext="W" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.10.m9.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.10.m9.1a">
        <mi id="S3.SS4.SSS0.Px1.p2.10.m9.1.1" xref="S3.SS4.SSS0.Px1.p2.10.m9.1.1.cmml">
         W
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.10.m9.1b">
         <ci id="S3.SS4.SSS0.Px1.p2.10.m9.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.10.m9.1.1">
          𝑊
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.10.m9.1c">
         W
        </annotation>
       </semantics>
      </math>
      (
      <math alttext="H" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.11.m10.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.11.m10.1a">
        <mi id="S3.SS4.SSS0.Px1.p2.11.m10.1.1" xref="S3.SS4.SSS0.Px1.p2.11.m10.1.1.cmml">
         H
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.11.m10.1b">
         <ci id="S3.SS4.SSS0.Px1.p2.11.m10.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.11.m10.1.1">
          𝐻
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.11.m10.1c">
         H
        </annotation>
       </semantics>
      </math>
      ) to
      <math alttext="\texttt{Num}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.12.m11.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.12.m11.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.12.m11.1.1" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.2" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1.2a.cmml">
          Num
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.3" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.12.m11.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1.2">
            Num
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.12.m11.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.12.m11.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.12.m11.1c">
         \texttt{Num}_{1}
        </annotation>
       </semantics>
      </math>
      parts and assigns the very left (bottom) part to
      <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p2.13.m12.1">
       <semantics id="S3.SS4.SSS0.Px1.p2.13.m12.1a">
        <msub id="S3.SS4.SSS0.Px1.p2.13.m12.1.1" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.2" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.3" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p2.13.m12.1b">
         <apply id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px1.p2.13.m12.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p2.13.m12.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p2.13.m12.1c">
         \texttt{obj}_{1}
        </annotation>
       </semantics>
      </math>
      , which leads to the following bounding box:
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx3">
      <tbody id="S3.E3">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\bm{M}_{1}=\begin{cases}(0,0,\frac{W}{\texttt{Num}_{1}},H),&amp;\texttt{opt}_{1}=\texttt{left},\\
(\frac{(\texttt{Num}_{1}-1)\cdot H}{\texttt{Num}_{1}},0,W,\frac{H}{\texttt{Num}_{1}}),&amp;\texttt{opt}_{1}=\texttt{bottom}.\end{cases}" class="ltx_Math" display="inline" id="S3.E3.m1.4">
          <semantics id="S3.E3.m1.4a">
           <mrow id="S3.E3.m1.4.5" xref="S3.E3.m1.4.5.cmml">
            <msub id="S3.E3.m1.4.5.2" xref="S3.E3.m1.4.5.2.cmml">
             <mi id="S3.E3.m1.4.5.2.2" xref="S3.E3.m1.4.5.2.2.cmml">
              𝑴
             </mi>
             <mn id="S3.E3.m1.4.5.2.3" xref="S3.E3.m1.4.5.2.3.cmml">
              1
             </mn>
            </msub>
            <mo id="S3.E3.m1.4.5.1" xref="S3.E3.m1.4.5.1.cmml">
             =
            </mo>
            <mrow id="S3.E3.m1.4.4a" xref="S3.E3.m1.4.5.3.1.cmml">
             <mo id="S3.E3.m1.4.4a.5" xref="S3.E3.m1.4.5.3.1.1.cmml">
              {
             </mo>
             <mtable columnspacing="5pt" id="S3.E3.m1.4.4.4a" rowspacing="0pt" xref="S3.E3.m1.4.5.3.1.cmml">
              <mtr id="S3.E3.m1.4.4.4aa" xref="S3.E3.m1.4.5.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="S3.E3.m1.4.4.4ab" xref="S3.E3.m1.4.5.3.1.cmml">
                <mrow id="S3.E3.m1.1.1.1.1.1.1.5" xref="S3.E3.m1.4.5.3.1.cmml">
                 <mrow id="S3.E3.m1.1.1.1.1.1.1.5.1.2" xref="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml">
                  <mo id="S3.E3.m1.1.1.1.1.1.1.5.1.2.1" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml">
                   (
                  </mo>
                  <mn id="S3.E3.m1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml">
                   0
                  </mn>
                  <mo id="S3.E3.m1.1.1.1.1.1.1.5.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mn id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">
                   0
                  </mn>
                  <mo id="S3.E3.m1.1.1.1.1.1.1.5.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mfrac id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml">
                   <mi id="S3.E3.m1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.3.2.cmml">
                    W
                   </mi>
                   <msub id="S3.E3.m1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.3.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.1.1.1.1.1.1.3.3.2" xref="S3.E3.m1.1.1.1.1.1.1.3.3.2a.cmml">
                     Num
                    </mtext>
                    <mn id="S3.E3.m1.1.1.1.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.1.1.3.3.3.cmml">
                     1
                    </mn>
                   </msub>
                  </mfrac>
                  <mo id="S3.E3.m1.1.1.1.1.1.1.5.1.2.4" xref="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mi id="S3.E3.m1.1.1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.1.1.4.cmml">
                   H
                  </mi>
                  <mo id="S3.E3.m1.1.1.1.1.1.1.5.1.2.5" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="S3.E3.m1.1.1.1.1.1.1.5.2" xref="S3.E3.m1.4.5.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="S3.E3.m1.4.4.4ac" xref="S3.E3.m1.4.5.3.1.cmml">
                <mrow id="S3.E3.m1.2.2.2.2.2.1.1" xref="S3.E3.m1.2.2.2.2.2.1.1.1.cmml">
                 <mrow id="S3.E3.m1.2.2.2.2.2.1.1.1" xref="S3.E3.m1.2.2.2.2.2.1.1.1.cmml">
                  <msub id="S3.E3.m1.2.2.2.2.2.1.1.1.2" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2.cmml">
                   <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.2.2.2.2.2.1.1.1.2.2" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2.2a.cmml">
                    opt
                   </mtext>
                   <mn id="S3.E3.m1.2.2.2.2.2.1.1.1.2.3" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2.3.cmml">
                    1
                   </mn>
                  </msub>
                  <mo id="S3.E3.m1.2.2.2.2.2.1.1.1.1" xref="S3.E3.m1.2.2.2.2.2.1.1.1.1.cmml">
                   =
                  </mo>
                  <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.2.2.2.2.2.1.1.1.3" xref="S3.E3.m1.2.2.2.2.2.1.1.1.3a.cmml">
                   left
                  </mtext>
                 </mrow>
                 <mo id="S3.E3.m1.2.2.2.2.2.1.1.2" xref="S3.E3.m1.2.2.2.2.2.1.1.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
              </mtr>
              <mtr id="S3.E3.m1.4.4.4ad" xref="S3.E3.m1.4.5.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="S3.E3.m1.4.4.4ae" xref="S3.E3.m1.4.5.3.1.cmml">
                <mrow id="S3.E3.m1.3.3.3.3.1.1.5" xref="S3.E3.m1.4.5.3.1.cmml">
                 <mrow id="S3.E3.m1.3.3.3.3.1.1.5.1.2" xref="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml">
                  <mo id="S3.E3.m1.3.3.3.3.1.1.5.1.2.1" stretchy="false" xref="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml">
                   (
                  </mo>
                  <mfrac id="S3.E3.m1.3.3.3.3.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.cmml">
                   <mrow id="S3.E3.m1.3.3.3.3.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.cmml">
                    <mrow id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                     <mo id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                      (
                     </mo>
                     <mrow id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                      <msub id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.cmml">
                       <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.2a.cmml">
                        Num
                       </mtext>
                       <mn id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.3.cmml">
                        1
                       </mn>
                      </msub>
                      <mo id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml">
                       −
                      </mo>
                      <mn id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.3.cmml">
                       1
                      </mn>
                     </mrow>
                     <mo id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                      )
                     </mo>
                    </mrow>
                    <mo id="S3.E3.m1.3.3.3.3.1.1.1.1.2" rspace="0.222em" xref="S3.E3.m1.3.3.3.3.1.1.1.1.2.cmml">
                     ⋅
                    </mo>
                    <mi id="S3.E3.m1.3.3.3.3.1.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.3.cmml">
                     H
                    </mi>
                   </mrow>
                   <msub id="S3.E3.m1.3.3.3.3.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.3.3.3.3.1.1.1.3.2" xref="S3.E3.m1.3.3.3.3.1.1.1.3.2a.cmml">
                     Num
                    </mtext>
                    <mn id="S3.E3.m1.3.3.3.3.1.1.1.3.3" xref="S3.E3.m1.3.3.3.3.1.1.1.3.3.cmml">
                     1
                    </mn>
                   </msub>
                  </mfrac>
                  <mo id="S3.E3.m1.3.3.3.3.1.1.5.1.2.2" xref="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mn id="S3.E3.m1.3.3.3.3.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.2.cmml">
                   0
                  </mn>
                  <mo id="S3.E3.m1.3.3.3.3.1.1.5.1.2.3" xref="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mi id="S3.E3.m1.3.3.3.3.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.3.cmml">
                   W
                  </mi>
                  <mo id="S3.E3.m1.3.3.3.3.1.1.5.1.2.4" xref="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mfrac id="S3.E3.m1.3.3.3.3.1.1.4" xref="S3.E3.m1.3.3.3.3.1.1.4.cmml">
                   <mi id="S3.E3.m1.3.3.3.3.1.1.4.2" xref="S3.E3.m1.3.3.3.3.1.1.4.2.cmml">
                    H
                   </mi>
                   <msub id="S3.E3.m1.3.3.3.3.1.1.4.3" xref="S3.E3.m1.3.3.3.3.1.1.4.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.3.3.3.3.1.1.4.3.2" xref="S3.E3.m1.3.3.3.3.1.1.4.3.2a.cmml">
                     Num
                    </mtext>
                    <mn id="S3.E3.m1.3.3.3.3.1.1.4.3.3" xref="S3.E3.m1.3.3.3.3.1.1.4.3.3.cmml">
                     1
                    </mn>
                   </msub>
                  </mfrac>
                  <mo id="S3.E3.m1.3.3.3.3.1.1.5.1.2.5" stretchy="false" xref="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="S3.E3.m1.3.3.3.3.1.1.5.2" xref="S3.E3.m1.4.5.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd class="ltx_align_left" columnalign="left" id="S3.E3.m1.4.4.4af" xref="S3.E3.m1.4.5.3.1.cmml">
                <mrow id="S3.E3.m1.4.4.4.4.2.1.1" xref="S3.E3.m1.4.4.4.4.2.1.1.1.cmml">
                 <mrow id="S3.E3.m1.4.4.4.4.2.1.1.1" xref="S3.E3.m1.4.4.4.4.2.1.1.1.cmml">
                  <msub id="S3.E3.m1.4.4.4.4.2.1.1.1.2" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2.cmml">
                   <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.4.4.4.4.2.1.1.1.2.2" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2.2a.cmml">
                    opt
                   </mtext>
                   <mn id="S3.E3.m1.4.4.4.4.2.1.1.1.2.3" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2.3.cmml">
                    1
                   </mn>
                  </msub>
                  <mo id="S3.E3.m1.4.4.4.4.2.1.1.1.1" xref="S3.E3.m1.4.4.4.4.2.1.1.1.1.cmml">
                   =
                  </mo>
                  <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.4.4.4.4.2.1.1.1.3" xref="S3.E3.m1.4.4.4.4.2.1.1.1.3a.cmml">
                   bottom
                  </mtext>
                 </mrow>
                 <mo id="S3.E3.m1.4.4.4.4.2.1.1.2" lspace="0em" xref="S3.E3.m1.4.4.4.4.2.1.1.1.cmml">
                  .
                 </mo>
                </mrow>
               </mtd>
              </mtr>
             </mtable>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E3.m1.4b">
            <apply id="S3.E3.m1.4.5.cmml" xref="S3.E3.m1.4.5">
             <eq id="S3.E3.m1.4.5.1.cmml" xref="S3.E3.m1.4.5.1">
             </eq>
             <apply id="S3.E3.m1.4.5.2.cmml" xref="S3.E3.m1.4.5.2">
              <csymbol cd="ambiguous" id="S3.E3.m1.4.5.2.1.cmml" xref="S3.E3.m1.4.5.2">
               subscript
              </csymbol>
              <ci id="S3.E3.m1.4.5.2.2.cmml" xref="S3.E3.m1.4.5.2.2">
               𝑴
              </ci>
              <cn id="S3.E3.m1.4.5.2.3.cmml" type="integer" xref="S3.E3.m1.4.5.2.3">
               1
              </cn>
             </apply>
             <apply id="S3.E3.m1.4.5.3.1.cmml" xref="S3.E3.m1.4.4a">
              <csymbol cd="latexml" id="S3.E3.m1.4.5.3.1.1.cmml" xref="S3.E3.m1.4.4a.5">
               cases
              </csymbol>
              <vector id="S3.E3.m1.1.1.1.1.1.1.5.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.5.1.2">
               <cn id="S3.E3.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.1.1">
                0
               </cn>
               <cn id="S3.E3.m1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.1.2">
                0
               </cn>
               <apply id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">
                <divide id="S3.E3.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">
                </divide>
                <ci id="S3.E3.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.2">
                 𝑊
                </ci>
                <apply id="S3.E3.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3">
                 <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E3.m1.1.1.1.1.1.1.3.3.2a.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.1.1.1.1.1.1.3.3.2.cmml" mathsize="70%" xref="S3.E3.m1.1.1.1.1.1.1.3.3.2">
                   Num
                  </mtext>
                 </ci>
                 <cn id="S3.E3.m1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.1.3.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <ci id="S3.E3.m1.1.1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4">
                𝐻
               </ci>
              </vector>
              <apply id="S3.E3.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1">
               <eq id="S3.E3.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.1">
               </eq>
               <apply id="S3.E3.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2">
                <csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.1.1.1.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2">
                 subscript
                </csymbol>
                <ci id="S3.E3.m1.2.2.2.2.2.1.1.1.2.2a.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2.2">
                 <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.2.2.2.2.2.1.1.1.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2.2">
                  opt
                 </mtext>
                </ci>
                <cn id="S3.E3.m1.2.2.2.2.2.1.1.1.2.3.cmml" type="integer" xref="S3.E3.m1.2.2.2.2.2.1.1.1.2.3">
                 1
                </cn>
               </apply>
               <ci id="S3.E3.m1.2.2.2.2.2.1.1.1.3a.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.3">
                <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.2.2.1.1.1.3">
                 left
                </mtext>
               </ci>
              </apply>
              <vector id="S3.E3.m1.3.3.3.3.1.1.5.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.5.1.2">
               <apply id="S3.E3.m1.3.3.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1">
                <divide id="S3.E3.m1.3.3.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1">
                </divide>
                <apply id="S3.E3.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1">
                 <ci id="S3.E3.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.2">
                  ⋅
                 </ci>
                 <apply id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1">
                  <minus id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.1">
                  </minus>
                  <apply id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2">
                   <csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2">
                    subscript
                   </csymbol>
                   <ci id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.2a.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.2">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.2.cmml" mathsize="70%" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.2">
                     Num
                    </mtext>
                   </ci>
                   <cn id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.3.cmml" type="integer" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.2.3">
                    1
                   </cn>
                  </apply>
                  <cn id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.1.3">
                   1
                  </cn>
                 </apply>
                 <ci id="S3.E3.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.3">
                  𝐻
                 </ci>
                </apply>
                <apply id="S3.E3.m1.3.3.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.1.3.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E3.m1.3.3.3.3.1.1.1.3.2a.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.3.3.3.3.1.1.1.3.2.cmml" mathsize="70%" xref="S3.E3.m1.3.3.3.3.1.1.1.3.2">
                   Num
                  </mtext>
                 </ci>
                 <cn id="S3.E3.m1.3.3.3.3.1.1.1.3.3.cmml" type="integer" xref="S3.E3.m1.3.3.3.3.1.1.1.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <cn id="S3.E3.m1.3.3.3.3.1.1.2.cmml" type="integer" xref="S3.E3.m1.3.3.3.3.1.1.2">
                0
               </cn>
               <ci id="S3.E3.m1.3.3.3.3.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3">
                𝑊
               </ci>
               <apply id="S3.E3.m1.3.3.3.3.1.1.4.cmml" xref="S3.E3.m1.3.3.3.3.1.1.4">
                <divide id="S3.E3.m1.3.3.3.3.1.1.4.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.4">
                </divide>
                <ci id="S3.E3.m1.3.3.3.3.1.1.4.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.4.2">
                 𝐻
                </ci>
                <apply id="S3.E3.m1.3.3.3.3.1.1.4.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.4.3">
                 <csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.4.3.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.4.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E3.m1.3.3.3.3.1.1.4.3.2a.cmml" xref="S3.E3.m1.3.3.3.3.1.1.4.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.3.3.3.3.1.1.4.3.2.cmml" mathsize="70%" xref="S3.E3.m1.3.3.3.3.1.1.4.3.2">
                   Num
                  </mtext>
                 </ci>
                 <cn id="S3.E3.m1.3.3.3.3.1.1.4.3.3.cmml" type="integer" xref="S3.E3.m1.3.3.3.3.1.1.4.3.3">
                  1
                 </cn>
                </apply>
               </apply>
              </vector>
              <apply id="S3.E3.m1.4.4.4.4.2.1.1.1.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1">
               <eq id="S3.E3.m1.4.4.4.4.2.1.1.1.1.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.1">
               </eq>
               <apply id="S3.E3.m1.4.4.4.4.2.1.1.1.2.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2">
                <csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.4.2.1.1.1.2.1.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2">
                 subscript
                </csymbol>
                <ci id="S3.E3.m1.4.4.4.4.2.1.1.1.2.2a.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2.2">
                 <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.4.4.4.4.2.1.1.1.2.2.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2.2">
                  opt
                 </mtext>
                </ci>
                <cn id="S3.E3.m1.4.4.4.4.2.1.1.1.2.3.cmml" type="integer" xref="S3.E3.m1.4.4.4.4.2.1.1.1.2.3">
                 1
                </cn>
               </apply>
               <ci id="S3.E3.m1.4.4.4.4.2.1.1.1.3a.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.3">
                <mtext class="ltx_mathvariant_monospace" id="S3.E3.m1.4.4.4.4.2.1.1.1.3.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1.3">
                 bottom
                </mtext>
               </ci>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E3.m1.4c">
            \displaystyle\bm{M}_{1}=\begin{cases}(0,0,\frac{W}{\texttt{Num}_{1}},H),&amp;\texttt{opt}_{1}=\texttt{left},\\
(\frac{(\texttt{Num}_{1}-1)\cdot H}{\texttt{Num}_{1}},0,W,\frac{H}{\texttt{Num}_{1}}),&amp;\texttt{opt}_{1}=\texttt{bottom}.\end{cases}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (3)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <figure class="ltx_figure" id="S3.F4">
     <p class="ltx_p ltx_align_center ltx_align_center" id="S3.F4.1.1">
      <span class="ltx_text" id="S3.F4.1.1.1">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="171" id="S3.F4.1.1.1.g1" src="/html/2402.12741/assets/objn.png" width="598"/>
      </span>
     </p>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 4:
      </span>
      The rough mask
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.F4.6.6.m1.1">
       <semantics id="S3.F4.6.6.m1.1b">
        <msub id="S3.F4.6.6.m1.1.1" xref="S3.F4.6.6.m1.1.1.cmml">
         <mi id="S3.F4.6.6.m1.1.1.2" xref="S3.F4.6.6.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.F4.6.6.m1.1.1.3" xref="S3.F4.6.6.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.F4.6.6.m1.1c">
         <apply id="S3.F4.6.6.m1.1.1.cmml" xref="S3.F4.6.6.m1.1.1">
          <csymbol cd="ambiguous" id="S3.F4.6.6.m1.1.1.1.cmml" xref="S3.F4.6.6.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.F4.6.6.m1.1.1.2.cmml" xref="S3.F4.6.6.m1.1.1.2">
           𝑴
          </ci>
          <ci id="S3.F4.6.6.m1.1.1.3.cmml" xref="S3.F4.6.6.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F4.6.6.m1.1d">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      of
      <math alttext="\texttt{obj}_{n}(n&gt;1)" class="ltx_Math" display="inline" id="S3.F4.7.7.m2.1">
       <semantics id="S3.F4.7.7.m2.1b">
        <mrow id="S3.F4.7.7.m2.1.1" xref="S3.F4.7.7.m2.1.1.cmml">
         <msub id="S3.F4.7.7.m2.1.1.3" xref="S3.F4.7.7.m2.1.1.3.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.F4.7.7.m2.1.1.3.2" xref="S3.F4.7.7.m2.1.1.3.2a.cmml">
           obj
          </mtext>
          <mi id="S3.F4.7.7.m2.1.1.3.3" xref="S3.F4.7.7.m2.1.1.3.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S3.F4.7.7.m2.1.1.2" lspace="0em" rspace="0em" xref="S3.F4.7.7.m2.1.1.2.cmml">
          ​
         </mo>
         <mrow id="S3.F4.7.7.m2.1.1.1.1" xref="S3.F4.7.7.m2.1.1.1.1.1.cmml">
          <mo id="S3.F4.7.7.m2.1.1.1.1.2" stretchy="false" xref="S3.F4.7.7.m2.1.1.1.1.1.cmml">
           (
          </mo>
          <mrow id="S3.F4.7.7.m2.1.1.1.1.1" xref="S3.F4.7.7.m2.1.1.1.1.1.cmml">
           <mi id="S3.F4.7.7.m2.1.1.1.1.1.2" xref="S3.F4.7.7.m2.1.1.1.1.1.2.cmml">
            n
           </mi>
           <mo id="S3.F4.7.7.m2.1.1.1.1.1.1" xref="S3.F4.7.7.m2.1.1.1.1.1.1.cmml">
            &gt;
           </mo>
           <mn id="S3.F4.7.7.m2.1.1.1.1.1.3" xref="S3.F4.7.7.m2.1.1.1.1.1.3.cmml">
            1
           </mn>
          </mrow>
          <mo id="S3.F4.7.7.m2.1.1.1.1.3" stretchy="false" xref="S3.F4.7.7.m2.1.1.1.1.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.F4.7.7.m2.1c">
         <apply id="S3.F4.7.7.m2.1.1.cmml" xref="S3.F4.7.7.m2.1.1">
          <times id="S3.F4.7.7.m2.1.1.2.cmml" xref="S3.F4.7.7.m2.1.1.2">
          </times>
          <apply id="S3.F4.7.7.m2.1.1.3.cmml" xref="S3.F4.7.7.m2.1.1.3">
           <csymbol cd="ambiguous" id="S3.F4.7.7.m2.1.1.3.1.cmml" xref="S3.F4.7.7.m2.1.1.3">
            subscript
           </csymbol>
           <ci id="S3.F4.7.7.m2.1.1.3.2a.cmml" xref="S3.F4.7.7.m2.1.1.3.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.F4.7.7.m2.1.1.3.2.cmml" xref="S3.F4.7.7.m2.1.1.3.2">
             obj
            </mtext>
           </ci>
           <ci id="S3.F4.7.7.m2.1.1.3.3.cmml" xref="S3.F4.7.7.m2.1.1.3.3">
            𝑛
           </ci>
          </apply>
          <apply id="S3.F4.7.7.m2.1.1.1.1.1.cmml" xref="S3.F4.7.7.m2.1.1.1.1">
           <gt id="S3.F4.7.7.m2.1.1.1.1.1.1.cmml" xref="S3.F4.7.7.m2.1.1.1.1.1.1">
           </gt>
           <ci id="S3.F4.7.7.m2.1.1.1.1.1.2.cmml" xref="S3.F4.7.7.m2.1.1.1.1.1.2">
            𝑛
           </ci>
           <cn id="S3.F4.7.7.m2.1.1.1.1.1.3.cmml" type="integer" xref="S3.F4.7.7.m2.1.1.1.1.1.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F4.7.7.m2.1d">
         \texttt{obj}_{n}(n&gt;1)
        </annotation>
       </semantics>
      </math>
      is derived from the precise mask
      <math alttext="\bm{\tilde{M}}_{n-1}" class="ltx_Math" display="inline" id="S3.F4.8.8.m3.1">
       <semantics id="S3.F4.8.8.m3.1b">
        <msub id="S3.F4.8.8.m3.1.1" xref="S3.F4.8.8.m3.1.1.cmml">
         <mover accent="true" id="S3.F4.8.8.m3.1.1.2" xref="S3.F4.8.8.m3.1.1.2.cmml">
          <mi id="S3.F4.8.8.m3.1.1.2.2" xref="S3.F4.8.8.m3.1.1.2.2.cmml">
           𝑴
          </mi>
          <mo class="ltx_mathvariant_bold" id="S3.F4.8.8.m3.1.1.2.1" mathvariant="bold" xref="S3.F4.8.8.m3.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mrow id="S3.F4.8.8.m3.1.1.3" xref="S3.F4.8.8.m3.1.1.3.cmml">
          <mi id="S3.F4.8.8.m3.1.1.3.2" xref="S3.F4.8.8.m3.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.F4.8.8.m3.1.1.3.1" xref="S3.F4.8.8.m3.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.F4.8.8.m3.1.1.3.3" xref="S3.F4.8.8.m3.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.F4.8.8.m3.1c">
         <apply id="S3.F4.8.8.m3.1.1.cmml" xref="S3.F4.8.8.m3.1.1">
          <csymbol cd="ambiguous" id="S3.F4.8.8.m3.1.1.1.cmml" xref="S3.F4.8.8.m3.1.1">
           subscript
          </csymbol>
          <apply id="S3.F4.8.8.m3.1.1.2.cmml" xref="S3.F4.8.8.m3.1.1.2">
           <ci id="S3.F4.8.8.m3.1.1.2.1.cmml" xref="S3.F4.8.8.m3.1.1.2.1">
            bold-~
           </ci>
           <ci id="S3.F4.8.8.m3.1.1.2.2.cmml" xref="S3.F4.8.8.m3.1.1.2.2">
            𝑴
           </ci>
          </apply>
          <apply id="S3.F4.8.8.m3.1.1.3.cmml" xref="S3.F4.8.8.m3.1.1.3">
           <minus id="S3.F4.8.8.m3.1.1.3.1.cmml" xref="S3.F4.8.8.m3.1.1.3.1">
           </minus>
           <ci id="S3.F4.8.8.m3.1.1.3.2.cmml" xref="S3.F4.8.8.m3.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.F4.8.8.m3.1.1.3.3.cmml" type="integer" xref="S3.F4.8.8.m3.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F4.8.8.m3.1d">
         \bm{\tilde{M}}_{n-1}
        </annotation>
       </semantics>
      </math>
      of the previously generated object
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="S3.F4.9.9.m4.1">
       <semantics id="S3.F4.9.9.m4.1b">
        <msub id="S3.F4.9.9.m4.1.1" xref="S3.F4.9.9.m4.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.F4.9.9.m4.1.1.2" xref="S3.F4.9.9.m4.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="S3.F4.9.9.m4.1.1.3" xref="S3.F4.9.9.m4.1.1.3.cmml">
          <mi id="S3.F4.9.9.m4.1.1.3.2" xref="S3.F4.9.9.m4.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.F4.9.9.m4.1.1.3.1" xref="S3.F4.9.9.m4.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.F4.9.9.m4.1.1.3.3" xref="S3.F4.9.9.m4.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.F4.9.9.m4.1c">
         <apply id="S3.F4.9.9.m4.1.1.cmml" xref="S3.F4.9.9.m4.1.1">
          <csymbol cd="ambiguous" id="S3.F4.9.9.m4.1.1.1.cmml" xref="S3.F4.9.9.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.F4.9.9.m4.1.1.2a.cmml" xref="S3.F4.9.9.m4.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.F4.9.9.m4.1.1.2.cmml" xref="S3.F4.9.9.m4.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="S3.F4.9.9.m4.1.1.3.cmml" xref="S3.F4.9.9.m4.1.1.3">
           <minus id="S3.F4.9.9.m4.1.1.3.1.cmml" xref="S3.F4.9.9.m4.1.1.3.1">
           </minus>
           <ci id="S3.F4.9.9.m4.1.1.3.2.cmml" xref="S3.F4.9.9.m4.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.F4.9.9.m4.1.1.3.3.cmml" type="integer" xref="S3.F4.9.9.m4.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F4.9.9.m4.1d">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      .
     </figcaption>
    </figure>
    <div class="ltx_para" id="S3.SS4.SSS0.Px1.p3">
     <p class="ltx_p" id="S3.SS4.SSS0.Px1.p3.16">
      <span class="ltx_text ltx_font_bold" id="S3.SS4.SSS0.Px1.p3.1.1">
       When
       <math alttext="n&gt;1" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.1.1.m1.1">
        <semantics id="S3.SS4.SSS0.Px1.p3.1.1.m1.1a">
         <mrow id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.cmml">
          <mi id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.1" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.1.cmml">
           &gt;
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.3.cmml">
           1
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.1.1.m1.1b">
          <apply id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1">
           <gt id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.1">
           </gt>
           <ci id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.1.1.m1.1.1.3">
            1
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.1.1.m1.1c">
          n&gt;1
         </annotation>
        </semantics>
       </math>
      </span>
      , the position
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.2.m1.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.2.m1.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.2.m1.1.1" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.2.m1.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.2.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.2.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.2.m1.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      denotes
      <math alttext="\{\texttt{obj}\}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.3.m2.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.3.m2.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.3.m2.1.2" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.cmml">
         <mrow id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.2" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.1.cmml">
          <mo id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.2.1" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.1.cmml">
           {
          </mo>
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.3.m2.1.1" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.1a.cmml">
           obj
          </mtext>
          <mo id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.2.2" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.1.cmml">
           }
          </mo>
         </mrow>
         <mi id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.3" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.3.m2.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2">
           subscript
          </csymbol>
          <set id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.2.2">
           <ci id="S3.SS4.SSS0.Px1.p3.3.m2.1.1a.cmml" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.1">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.3.m2.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.1">
             obj
            </mtext>
           </ci>
          </set>
          <ci id="S3.SS4.SSS0.Px1.p3.3.m2.1.2.3.cmml" xref="S3.SS4.SSS0.Px1.p3.3.m2.1.2.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.3.m2.1c">
         \{\texttt{obj}\}_{n}
        </annotation>
       </semantics>
      </math>
      ’s relational position to the previous object
      <math alttext="\{\texttt{obj}\}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.4.m3.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.4.m3.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.4.m3.1.2" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.cmml">
         <mrow id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.2" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.1.cmml">
          <mo id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.2.1" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.1.cmml">
           {
          </mo>
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.4.m3.1.1" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.1a.cmml">
           obj
          </mtext>
          <mo id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.2.2" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.1.cmml">
           }
          </mo>
         </mrow>
         <mrow id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.2" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.1" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.3" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.4.m3.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2">
           subscript
          </csymbol>
          <set id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.2.2">
           <ci id="S3.SS4.SSS0.Px1.p3.4.m3.1.1a.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.1">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.4.m3.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.1">
             obj
            </mtext>
           </ci>
          </set>
          <apply id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3">
           <minus id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.4.m3.1.2.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.4.m3.1c">
         \{\texttt{obj}\}_{n-1}
        </annotation>
       </semantics>
      </math>
      . Since MuLan generates objects from left to right and from bottom to top,
      <math alttext="\texttt{opt}_{n}\in\texttt{\{right,top\}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.5.m4.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.5.m4.1a">
        <mrow id="S3.SS4.SSS0.Px1.p3.5.m4.1.1" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.cmml">
         <msub id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.cmml">
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.2" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.2a.cmml">
           opt
          </mtext>
          <mi id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.3" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.3.cmml">
           n
          </mi>
         </msub>
         <mo id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.1" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.1.cmml">
          ∈
         </mo>
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.3" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.3a.cmml">
          {right,top}
         </mtext>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.5.m4.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1">
          <in id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.1">
          </in>
          <apply id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2">
            subscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.2">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.2">
             opt
            </mtext>
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.3.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.2.3">
            𝑛
           </ci>
          </apply>
          <ci id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.3a.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.3">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.5.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.5.m4.1.1.3">
            {right,top}
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.5.m4.1c">
         \texttt{opt}_{n}\in\texttt{\{right,top\}}
        </annotation>
       </semantics>
      </math>
      . Given sub-prompt
      <math alttext="\texttt{p}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.6.m5.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.6.m5.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.6.m5.1.1" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.2" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1.2a.cmml">
          p
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.3" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.6.m5.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1.2">
            p
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.6.m5.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.6.m5.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.6.m5.1c">
         \texttt{p}_{n}
        </annotation>
       </semantics>
      </math>
      , an LLM is prompted to select
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.7.m6.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.7.m6.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.7.m6.1.1" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.2" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.3" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.7.m6.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.7.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.7.m6.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.7.m6.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      and determine
      <math alttext="\texttt{Num}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.8.m7.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.8.m7.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.8.m7.1.1" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.2" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1.2a.cmml">
          Num
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.3" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.8.m7.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1.2">
            Num
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.8.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.8.m7.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.8.m7.1c">
         \texttt{Num}_{n}
        </annotation>
       </semantics>
      </math>
      . Meanwhile, the precise mask
      <math alttext="\bm{\tilde{M}}_{n-1}=(\tilde{x}_{n-1},\tilde{y}_{n-1},\tilde{w}_{n-1},\tilde{h}_{n-1})" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.9.m8.4">
       <semantics id="S3.SS4.SSS0.Px1.p3.9.m8.4a">
        <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.4.4" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.cmml">
         <msub id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.cmml">
          <mover accent="true" id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.cmml">
           <mi id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.2.cmml">
            𝑴
           </mi>
           <mo class="ltx_mathvariant_bold" id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.1" mathvariant="bold" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.1.cmml">
            ~
           </mo>
          </mover>
          <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.cmml">
           <mi id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.2.cmml">
            n
           </mi>
           <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.1.cmml">
            −
           </mo>
           <mn id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.3.cmml">
            1
           </mn>
          </mrow>
         </msub>
         <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.5" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.5.cmml">
          =
         </mo>
         <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml">
          <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.5" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml">
           (
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.cmml">
           <mover accent="true" id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.2.cmml">
             x
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.1.cmml">
             ~
            </mo>
           </mover>
           <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.2.cmml">
             n
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.1.cmml">
             −
            </mo>
            <mn id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.3.cmml">
             1
            </mn>
           </mrow>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.6" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.cmml">
           <mover accent="true" id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.2.cmml">
             y
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.1.cmml">
             ~
            </mo>
           </mover>
           <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.2.cmml">
             n
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.1.cmml">
             −
            </mo>
            <mn id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.3.cmml">
             1
            </mn>
           </mrow>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.7" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.cmml">
           <mover accent="true" id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.2.cmml">
             w
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.1.cmml">
             ~
            </mo>
           </mover>
           <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.2.cmml">
             n
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.1.cmml">
             −
            </mo>
            <mn id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.3.cmml">
             1
            </mn>
           </mrow>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.8" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml">
           ,
          </mo>
          <msub id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.cmml">
           <mover accent="true" id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.2.cmml">
             h
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.1.cmml">
             ~
            </mo>
           </mover>
           <mrow id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.cmml">
            <mi id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.2" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.2.cmml">
             n
            </mi>
            <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.1" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.1.cmml">
             −
            </mo>
            <mn id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.3" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.3.cmml">
             1
            </mn>
           </mrow>
          </msub>
          <mo id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.9" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.9.m8.4b">
         <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4">
          <eq id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.5.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.5">
          </eq>
          <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6">
            subscript
           </csymbol>
           <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2">
            <ci id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.1">
             bold-~
            </ci>
            <ci id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.2.2">
             𝑴
            </ci>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3">
            <minus id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.1">
            </minus>
            <ci id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.2">
             𝑛
            </ci>
            <cn id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.6.3.3">
             1
            </cn>
           </apply>
          </apply>
          <vector id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.5.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4">
           <apply id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1">
             subscript
            </csymbol>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2">
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.1">
              ~
             </ci>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.2.2">
              𝑥
             </ci>
            </apply>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3">
             <minus id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.1">
             </minus>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.2">
              𝑛
             </ci>
             <cn id="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.9.m8.1.1.1.1.1.3.3">
              1
             </cn>
            </apply>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2">
             subscript
            </csymbol>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2">
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.1">
              ~
             </ci>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.2.2">
              𝑦
             </ci>
            </apply>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3">
             <minus id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.1">
             </minus>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.2">
              𝑛
             </ci>
             <cn id="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.9.m8.2.2.2.2.2.3.3">
              1
             </cn>
            </apply>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3">
             subscript
            </csymbol>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2">
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.1">
              ~
             </ci>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.2.2">
              𝑤
             </ci>
            </apply>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3">
             <minus id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.1">
             </minus>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.2">
              𝑛
             </ci>
             <cn id="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.9.m8.3.3.3.3.3.3.3">
              1
             </cn>
            </apply>
           </apply>
           <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4">
             subscript
            </csymbol>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2">
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.1">
              ~
             </ci>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.2.2">
              ℎ
             </ci>
            </apply>
            <apply id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3">
             <minus id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.1">
             </minus>
             <ci id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.2">
              𝑛
             </ci>
             <cn id="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.9.m8.4.4.4.4.4.3.3">
              1
             </cn>
            </apply>
           </apply>
          </vector>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.9.m8.4c">
         \bm{\tilde{M}}_{n-1}=(\tilde{x}_{n-1},\tilde{y}_{n-1},\tilde{w}_{n-1},\tilde{h}_{n-1})
        </annotation>
       </semantics>
      </math>
      of
      <math alttext="\texttt{opt}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.10.m9.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.10.m9.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.10.m9.1.1" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.2" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.2a.cmml">
          opt
         </mtext>
         <mrow id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.2" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.1" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.3" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.10.m9.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.2">
            opt
           </mtext>
          </ci>
          <apply id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3">
           <minus id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.10.m9.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.10.m9.1c">
         \texttt{opt}_{n-1}
        </annotation>
       </semantics>
      </math>
      can be extracted from the image with
      <math alttext="\{\texttt{obj}\}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.11.m10.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.11.m10.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.11.m10.1.2" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.cmml">
         <mrow id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.2" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.1.cmml">
          <mo id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.2.1" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.1.cmml">
           {
          </mo>
          <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.11.m10.1.1" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.1a.cmml">
           obj
          </mtext>
          <mo id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.2.2" stretchy="false" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.1.cmml">
           }
          </mo>
         </mrow>
         <mrow id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.2" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.1" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.3" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.11.m10.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2">
           subscript
          </csymbol>
          <set id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.2.2">
           <ci id="S3.SS4.SSS0.Px1.p3.11.m10.1.1a.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.1">
            <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.11.m10.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.1">
             obj
            </mtext>
           </ci>
          </set>
          <apply id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3">
           <minus id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.11.m10.1.2.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.11.m10.1c">
         \{\texttt{obj}\}_{n-1}
        </annotation>
       </semantics>
      </math>
      generated (e.g., by text-image cross-attention maps in the diffusion model). Hence, the rough mask
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.12.m11.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.12.m11.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.12.m11.1.1" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px1.p3.12.m11.1.1.2" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px1.p3.12.m11.1.1.3" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.12.m11.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.12.m11.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.12.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.12.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.12.m11.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.12.m11.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.12.m11.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      for
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.13.m12.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.13.m12.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.13.m12.1.1" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.2" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.3" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.13.m12.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.13.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.13.m12.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.13.m12.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      can be derived from
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.14.m13.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.14.m13.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.14.m13.1.1" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.2" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.3" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.14.m13.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.14.m13.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.14.m13.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.14.m13.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="\texttt{Num}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.15.m14.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.15.m14.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.15.m14.1.1" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.2" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1.2a.cmml">
          Num
         </mtext>
         <mi id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.3" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.15.m14.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.2a.cmml" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1.2">
            Num
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px1.p3.15.m14.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.15.m14.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.15.m14.1c">
         \texttt{Num}_{n}
        </annotation>
       </semantics>
      </math>
      , and
      <math alttext="\bm{\tilde{M}}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p3.16.m15.1">
       <semantics id="S3.SS4.SSS0.Px1.p3.16.m15.1a">
        <msub id="S3.SS4.SSS0.Px1.p3.16.m15.1.1" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.cmml">
         <mover accent="true" id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.cmml">
          <mi id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.2" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.2.cmml">
           𝑴
          </mi>
          <mo class="ltx_mathvariant_bold" id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.1" mathvariant="bold" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mrow id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.2" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.1" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.3" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p3.16.m15.1b">
         <apply id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2">
           <ci id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.1">
            bold-~
           </ci>
           <ci id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.2.2">
            𝑴
           </ci>
          </apply>
          <apply id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3">
           <minus id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p3.16.m15.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p3.16.m15.1c">
         \bm{\tilde{M}}_{n-1}
        </annotation>
       </semantics>
      </math>
      as followings.
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx4">
      <tbody id="S3.E4">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\bm{M}_{n}=\begin{cases}(\tilde{x}_{n-1}+\tilde{w}_{n-1},0,\frac{W-\tilde{x}_{n-1}+\tilde{w}_{n-1}}{\texttt{Num}_{n}},H),\\
\text{if }\texttt{opt}_{n}=\texttt{right},\\
\\
(0,\frac{\tilde{y}_{n-1}\cdot(\texttt{Num}_{n}-1)}{\texttt{Num}_{n}},W,\frac{\tilde{y}_{n-1}}{\texttt{Num}_{n}}),\\
\text{if }\texttt{opt}^{n}=\texttt{top}.\end{cases}" class="ltx_Math" display="inline" id="S3.E4.m1.4">
          <semantics id="S3.E4.m1.4a">
           <mrow id="S3.E4.m1.4.5" xref="S3.E4.m1.4.5.cmml">
            <msub id="S3.E4.m1.4.5.2" xref="S3.E4.m1.4.5.2.cmml">
             <mi id="S3.E4.m1.4.5.2.2" xref="S3.E4.m1.4.5.2.2.cmml">
              𝑴
             </mi>
             <mi id="S3.E4.m1.4.5.2.3" xref="S3.E4.m1.4.5.2.3.cmml">
              n
             </mi>
            </msub>
            <mo id="S3.E4.m1.4.5.1" xref="S3.E4.m1.4.5.1.cmml">
             =
            </mo>
            <mrow id="S3.E4.m1.4.4a" xref="S3.E4.m1.4.5.3.1.cmml">
             <mo id="S3.E4.m1.4.4a.5" xref="S3.E4.m1.4.5.3.1.1.cmml">
              {
             </mo>
             <mtable columnspacing="5pt" id="S3.E4.m1.4.4.4a" rowspacing="0pt" xref="S3.E4.m1.4.5.3.1.cmml">
              <mtr id="S3.E4.m1.4.4.4aa" xref="S3.E4.m1.4.5.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.4.4.4ab" xref="S3.E4.m1.4.5.3.1.cmml">
                <mrow id="S3.E4.m1.1.1.1.1.1.1.4" xref="S3.E4.m1.4.5.3.1.cmml">
                 <mrow id="S3.E4.m1.1.1.1.1.1.1.4.1.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml">
                  <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.2" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml">
                   (
                  </mo>
                  <mrow id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.cmml">
                   <msub id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.cmml">
                    <mover accent="true" id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.cmml">
                     <mi id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.2.cmml">
                      x
                     </mi>
                     <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.1.cmml">
                      ~
                     </mo>
                    </mover>
                    <mrow id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.cmml">
                     <mi id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.2.cmml">
                      n
                     </mi>
                     <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.1.cmml">
                      −
                     </mo>
                     <mn id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.3" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.3.cmml">
                      1
                     </mn>
                    </mrow>
                   </msub>
                   <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.1.cmml">
                    +
                   </mo>
                   <msub id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.cmml">
                    <mover accent="true" id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.cmml">
                     <mi id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.2.cmml">
                      w
                     </mi>
                     <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.1.cmml">
                      ~
                     </mo>
                    </mover>
                    <mrow id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.cmml">
                     <mi id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.2.cmml">
                      n
                     </mi>
                     <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.1" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.1.cmml">
                      −
                     </mo>
                     <mn id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.3.cmml">
                      1
                     </mn>
                    </mrow>
                   </msub>
                  </mrow>
                  <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml">
                   ,
                  </mo>
                  <mn id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">
                   0
                  </mn>
                  <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.4" xref="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml">
                   ,
                  </mo>
                  <mfrac id="S3.E4.m1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.2.cmml">
                   <mrow id="S3.E4.m1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.cmml">
                    <mrow id="S3.E4.m1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.cmml">
                     <mi id="S3.E4.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.2.cmml">
                      W
                     </mi>
                     <mo id="S3.E4.m1.1.1.1.1.1.1.2.2.2.1" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.1.cmml">
                      −
                     </mo>
                     <msub id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.cmml">
                      <mover accent="true" id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.cmml">
                       <mi id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.2.cmml">
                        x
                       </mi>
                       <mo id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.1" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.1.cmml">
                        ~
                       </mo>
                      </mover>
                      <mrow id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.cmml">
                       <mi id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.2.cmml">
                        n
                       </mi>
                       <mo id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.1" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.1.cmml">
                        −
                       </mo>
                       <mn id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.3" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.3.cmml">
                        1
                       </mn>
                      </mrow>
                     </msub>
                    </mrow>
                    <mo id="S3.E4.m1.1.1.1.1.1.1.2.2.1" xref="S3.E4.m1.1.1.1.1.1.1.2.2.1.cmml">
                     +
                    </mo>
                    <msub id="S3.E4.m1.1.1.1.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.cmml">
                     <mover accent="true" id="S3.E4.m1.1.1.1.1.1.1.2.2.3.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.cmml">
                      <mi id="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.2.cmml">
                       w
                      </mi>
                      <mo id="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.1" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.cmml">
                      <mi id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.2" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.2.cmml">
                       n
                      </mi>
                      <mo id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.1" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.1.cmml">
                       −
                      </mo>
                      <mn id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.3" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                   </mrow>
                   <msub id="S3.E4.m1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.1.1.2.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.1.1.1.1.1.1.2.3.2" xref="S3.E4.m1.1.1.1.1.1.1.2.3.2a.cmml">
                     Num
                    </mtext>
                    <mi id="S3.E4.m1.1.1.1.1.1.1.2.3.3" xref="S3.E4.m1.1.1.1.1.1.1.2.3.3.cmml">
                     n
                    </mi>
                   </msub>
                  </mfrac>
                  <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.5" xref="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml">
                   ,
                  </mo>
                  <mi id="S3.E4.m1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.3.cmml">
                   H
                  </mi>
                  <mo id="S3.E4.m1.1.1.1.1.1.1.4.1.1.6" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="S3.E4.m1.1.1.1.1.1.1.4.2" xref="S3.E4.m1.4.5.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd id="S3.E4.m1.4.4.4ac" xref="S3.E4.m1.4.5.3.1.1.cmml">
               </mtd>
              </mtr>
              <mtr id="S3.E4.m1.4.4.4ad" xref="S3.E4.m1.4.5.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.4.4.4ae" xref="S3.E4.m1.4.5.3.1.cmml">
                <mrow id="S3.E4.m1.2.2.2.2.1.1.1" xref="S3.E4.m1.2.2.2.2.1.1.1.1.cmml">
                 <mrow id="S3.E4.m1.2.2.2.2.1.1.1.1" xref="S3.E4.m1.2.2.2.2.1.1.1.1.cmml">
                  <msub id="S3.E4.m1.2.2.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.cmml">
                   <mrow id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2c.cmml">
                    <mtext id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2a" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2c.cmml">
                     if
                    </mtext>
                    <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2b" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2c.cmml">
                     opt
                    </mtext>
                   </mrow>
                   <mi id="S3.E4.m1.2.2.2.2.1.1.1.1.2.3" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.3.cmml">
                    n
                   </mi>
                  </msub>
                  <mo id="S3.E4.m1.2.2.2.2.1.1.1.1.1" xref="S3.E4.m1.2.2.2.2.1.1.1.1.1.cmml">
                   =
                  </mo>
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.2.2.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.2.2.1.1.1.1.3a.cmml">
                   right
                  </mtext>
                 </mrow>
                 <mo id="S3.E4.m1.2.2.2.2.1.1.1.2" xref="S3.E4.m1.2.2.2.2.1.1.1.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd id="S3.E4.m1.4.4.4af" xref="S3.E4.m1.4.5.3.1.1.cmml">
               </mtd>
              </mtr>
              <mtr id="S3.E4.m1.4.4.4ag" xref="S3.E4.m1.4.5.3.1.cmml">
               <mtd id="S3.E4.m1.4.4.4ah" xref="S3.E4.m1.4.5.3.1.1.cmml">
               </mtd>
               <mtd id="S3.E4.m1.4.4.4ai" xref="S3.E4.m1.4.5.3.1.1.cmml">
               </mtd>
              </mtr>
              <mtr id="S3.E4.m1.4.4.4aj" xref="S3.E4.m1.4.5.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.4.4.4ak" xref="S3.E4.m1.4.5.3.1.cmml">
                <mrow id="S3.E4.m1.3.3.3.3.1.1.5" xref="S3.E4.m1.4.5.3.1.cmml">
                 <mrow id="S3.E4.m1.3.3.3.3.1.1.5.1.2" xref="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml">
                  <mo id="S3.E4.m1.3.3.3.3.1.1.5.1.2.1" stretchy="false" xref="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml">
                   (
                  </mo>
                  <mn id="S3.E4.m1.3.3.3.3.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.2.cmml">
                   0
                  </mn>
                  <mo id="S3.E4.m1.3.3.3.3.1.1.5.1.2.2" xref="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mfrac id="S3.E4.m1.3.3.3.3.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.cmml">
                   <mrow id="S3.E4.m1.3.3.3.3.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.cmml">
                    <msub id="S3.E4.m1.3.3.3.3.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.cmml">
                     <mover accent="true" id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.cmml">
                      <mi id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.2.cmml">
                       y
                      </mi>
                      <mo id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.cmml">
                      <mi id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.2.cmml">
                       n
                      </mi>
                      <mo id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.1.cmml">
                       −
                      </mo>
                      <mn id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                    <mo id="S3.E4.m1.3.3.3.3.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml">
                     ⋅
                    </mo>
                    <mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                     <mo id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                      (
                     </mo>
                     <mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                      <msub id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.cmml">
                       <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.2a.cmml">
                        Num
                       </mtext>
                       <mi id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.3.cmml">
                        n
                       </mi>
                      </msub>
                      <mo id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml">
                       −
                      </mo>
                      <mn id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.3.cmml">
                       1
                      </mn>
                     </mrow>
                     <mo id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">
                      )
                     </mo>
                    </mrow>
                   </mrow>
                   <msub id="S3.E4.m1.3.3.3.3.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.1.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.3.3.3.3.1.1.1.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.3.2a.cmml">
                     Num
                    </mtext>
                    <mi id="S3.E4.m1.3.3.3.3.1.1.1.3.3" xref="S3.E4.m1.3.3.3.3.1.1.1.3.3.cmml">
                     n
                    </mi>
                   </msub>
                  </mfrac>
                  <mo id="S3.E4.m1.3.3.3.3.1.1.5.1.2.3" xref="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mi id="S3.E4.m1.3.3.3.3.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.3.cmml">
                   W
                  </mi>
                  <mo id="S3.E4.m1.3.3.3.3.1.1.5.1.2.4" xref="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml">
                   ,
                  </mo>
                  <mfrac id="S3.E4.m1.3.3.3.3.1.1.4" xref="S3.E4.m1.3.3.3.3.1.1.4.cmml">
                   <msub id="S3.E4.m1.3.3.3.3.1.1.4.2" xref="S3.E4.m1.3.3.3.3.1.1.4.2.cmml">
                    <mover accent="true" id="S3.E4.m1.3.3.3.3.1.1.4.2.2" xref="S3.E4.m1.3.3.3.3.1.1.4.2.2.cmml">
                     <mi id="S3.E4.m1.3.3.3.3.1.1.4.2.2.2" xref="S3.E4.m1.3.3.3.3.1.1.4.2.2.2.cmml">
                      y
                     </mi>
                     <mo id="S3.E4.m1.3.3.3.3.1.1.4.2.2.1" xref="S3.E4.m1.3.3.3.3.1.1.4.2.2.1.cmml">
                      ~
                     </mo>
                    </mover>
                    <mrow id="S3.E4.m1.3.3.3.3.1.1.4.2.3" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.cmml">
                     <mi id="S3.E4.m1.3.3.3.3.1.1.4.2.3.2" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.2.cmml">
                      n
                     </mi>
                     <mo id="S3.E4.m1.3.3.3.3.1.1.4.2.3.1" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.1.cmml">
                      −
                     </mo>
                     <mn id="S3.E4.m1.3.3.3.3.1.1.4.2.3.3" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.3.cmml">
                      1
                     </mn>
                    </mrow>
                   </msub>
                   <msub id="S3.E4.m1.3.3.3.3.1.1.4.3" xref="S3.E4.m1.3.3.3.3.1.1.4.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.3.3.3.3.1.1.4.3.2" xref="S3.E4.m1.3.3.3.3.1.1.4.3.2a.cmml">
                     Num
                    </mtext>
                    <mi id="S3.E4.m1.3.3.3.3.1.1.4.3.3" xref="S3.E4.m1.3.3.3.3.1.1.4.3.3.cmml">
                     n
                    </mi>
                   </msub>
                  </mfrac>
                  <mo id="S3.E4.m1.3.3.3.3.1.1.5.1.2.5" stretchy="false" xref="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="S3.E4.m1.3.3.3.3.1.1.5.2" xref="S3.E4.m1.4.5.3.1.cmml">
                  ,
                 </mo>
                </mrow>
               </mtd>
               <mtd id="S3.E4.m1.4.4.4al" xref="S3.E4.m1.4.5.3.1.1.cmml">
               </mtd>
              </mtr>
              <mtr id="S3.E4.m1.4.4.4am" xref="S3.E4.m1.4.5.3.1.cmml">
               <mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.4.4.4an" xref="S3.E4.m1.4.5.3.1.cmml">
                <mrow id="S3.E4.m1.4.4.4.4.1.1.1" xref="S3.E4.m1.4.4.4.4.1.1.1.1.cmml">
                 <mrow id="S3.E4.m1.4.4.4.4.1.1.1.1" xref="S3.E4.m1.4.4.4.4.1.1.1.1.cmml">
                  <msup id="S3.E4.m1.4.4.4.4.1.1.1.1.2" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.cmml">
                   <mrow id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2c.cmml">
                    <mtext id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2a" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2c.cmml">
                     if
                    </mtext>
                    <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2b" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2c.cmml">
                     opt
                    </mtext>
                   </mrow>
                   <mi id="S3.E4.m1.4.4.4.4.1.1.1.1.2.3" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.3.cmml">
                    n
                   </mi>
                  </msup>
                  <mo id="S3.E4.m1.4.4.4.4.1.1.1.1.1" xref="S3.E4.m1.4.4.4.4.1.1.1.1.1.cmml">
                   =
                  </mo>
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.4.4.4.4.1.1.1.1.3" xref="S3.E4.m1.4.4.4.4.1.1.1.1.3a.cmml">
                   top
                  </mtext>
                 </mrow>
                 <mo id="S3.E4.m1.4.4.4.4.1.1.1.2" lspace="0em" xref="S3.E4.m1.4.4.4.4.1.1.1.1.cmml">
                  .
                 </mo>
                </mrow>
               </mtd>
               <mtd id="S3.E4.m1.4.4.4ao" xref="S3.E4.m1.4.5.3.1.1.cmml">
               </mtd>
              </mtr>
             </mtable>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E4.m1.4b">
            <apply id="S3.E4.m1.4.5.cmml" xref="S3.E4.m1.4.5">
             <eq id="S3.E4.m1.4.5.1.cmml" xref="S3.E4.m1.4.5.1">
             </eq>
             <apply id="S3.E4.m1.4.5.2.cmml" xref="S3.E4.m1.4.5.2">
              <csymbol cd="ambiguous" id="S3.E4.m1.4.5.2.1.cmml" xref="S3.E4.m1.4.5.2">
               subscript
              </csymbol>
              <ci id="S3.E4.m1.4.5.2.2.cmml" xref="S3.E4.m1.4.5.2.2">
               𝑴
              </ci>
              <ci id="S3.E4.m1.4.5.2.3.cmml" xref="S3.E4.m1.4.5.2.3">
               𝑛
              </ci>
             </apply>
             <apply id="S3.E4.m1.4.5.3.1.cmml" xref="S3.E4.m1.4.4a">
              <csymbol cd="latexml" id="S3.E4.m1.4.5.3.1.1.cmml" xref="S3.E4.m1.4.4a.5">
               cases
              </csymbol>
              <vector id="S3.E4.m1.1.1.1.1.1.1.4.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1">
               <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1">
                <plus id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.1">
                </plus>
                <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2">
                 <csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2">
                  subscript
                 </csymbol>
                 <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2">
                  <ci id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.1">
                   ~
                  </ci>
                  <ci id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.2.2">
                   𝑥
                  </ci>
                 </apply>
                 <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3">
                  <minus id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.1">
                  </minus>
                  <ci id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.2">
                   𝑛
                  </ci>
                  <cn id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3">
                  subscript
                 </csymbol>
                 <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2">
                  <ci id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.1">
                   ~
                  </ci>
                  <ci id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.2.2">
                   𝑤
                  </ci>
                 </apply>
                 <apply id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3">
                  <minus id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.1">
                  </minus>
                  <ci id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.2">
                   𝑛
                  </ci>
                  <cn id="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.4.1.1.1.3.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
               </apply>
               <cn id="S3.E4.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.1">
                0
               </cn>
               <apply id="S3.E4.m1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2">
                <divide id="S3.E4.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2">
                </divide>
                <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2">
                 <plus id="S3.E4.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.1">
                 </plus>
                 <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2">
                  <minus id="S3.E4.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.1">
                  </minus>
                  <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.2">
                   𝑊
                  </ci>
                  <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3">
                   <csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3">
                    subscript
                   </csymbol>
                   <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2">
                    <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.1">
                     ~
                    </ci>
                    <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.2.2">
                     𝑥
                    </ci>
                   </apply>
                   <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3">
                    <minus id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.1">
                    </minus>
                    <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.2">
                     𝑛
                    </ci>
                    <cn id="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.2.2.2.3.3.3">
                     1
                    </cn>
                   </apply>
                  </apply>
                 </apply>
                 <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3">
                  <csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3">
                   subscript
                  </csymbol>
                  <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.2">
                   <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.1">
                    ~
                   </ci>
                   <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.2.2">
                    𝑤
                   </ci>
                  </apply>
                  <apply id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3">
                   <minus id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.1">
                   </minus>
                   <ci id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.2">
                    𝑛
                   </ci>
                   <cn id="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.2.2.3.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                </apply>
                <apply id="S3.E4.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.3">
                 <csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.1.1.1.1.1.1.2.3.2a.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.1.1.1.1.1.1.2.3.2.cmml" mathsize="70%" xref="S3.E4.m1.1.1.1.1.1.1.2.3.2">
                   Num
                  </mtext>
                 </ci>
                 <ci id="S3.E4.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2.3.3">
                  𝑛
                 </ci>
                </apply>
               </apply>
               <ci id="S3.E4.m1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3">
                𝐻
               </ci>
              </vector>
              <ci id="S3.E4.m1.4.5.3.1.3a.cmml" xref="S3.E4.m1.4.4a">
               <mtext class="ltx_mathvariant_italic" id="S3.E4.m1.4.5.3.1.3.cmml" xref="S3.E4.m1.4.4a.5">
                otherwise
               </mtext>
              </ci>
              <apply id="S3.E4.m1.2.2.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1">
               <eq id="S3.E4.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.1">
               </eq>
               <apply id="S3.E4.m1.2.2.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.1.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2">
                 subscript
                </csymbol>
                <ci id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2c.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2">
                 <mrow id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2">
                  <mtext id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2a.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2">
                   if
                  </mtext>
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.2.2.2.2.1.1.1.1.2.2b.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.2">
                   opt
                  </mtext>
                 </mrow>
                </ci>
                <ci id="S3.E4.m1.2.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.2.3">
                 𝑛
                </ci>
               </apply>
               <ci id="S3.E4.m1.2.2.2.2.1.1.1.1.3a.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.3">
                <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.2.2.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.2.2.1.1.1.1.3">
                 right
                </mtext>
               </ci>
              </apply>
              <ci id="S3.E4.m1.4.5.3.1.5a.cmml" xref="S3.E4.m1.4.4a">
               <mtext class="ltx_mathvariant_italic" id="S3.E4.m1.4.5.3.1.5.cmml" xref="S3.E4.m1.4.4a.5">
                otherwise
               </mtext>
              </ci>
              <ci id="S3.E4.m1.4.5.3.1.6a.cmml" xref="S3.E4.m1.4.4a">
               <mtext class="ltx_mathvariant_italic" id="S3.E4.m1.4.5.3.1.6.cmml" xref="S3.E4.m1.4.4a.5">
                otherwise
               </mtext>
              </ci>
              <ci id="S3.E4.m1.4.5.3.1.7a.cmml" xref="S3.E4.m1.4.4a">
               <mtext class="ltx_mathvariant_italic" id="S3.E4.m1.4.5.3.1.7.cmml" xref="S3.E4.m1.4.4a.5">
                otherwise
               </mtext>
              </ci>
              <vector id="S3.E4.m1.3.3.3.3.1.1.5.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.5.1.2">
               <cn id="S3.E4.m1.3.3.3.3.1.1.2.cmml" type="integer" xref="S3.E4.m1.3.3.3.3.1.1.2">
                0
               </cn>
               <apply id="S3.E4.m1.3.3.3.3.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1">
                <divide id="S3.E4.m1.3.3.3.3.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1">
                </divide>
                <apply id="S3.E4.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1">
                 <ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2">
                  ⋅
                 </ci>
                 <apply id="S3.E4.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3">
                   subscript
                  </csymbol>
                  <apply id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2">
                   <ci id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.1">
                    ~
                   </ci>
                   <ci id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.2">
                    𝑦
                   </ci>
                  </apply>
                  <apply id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3">
                   <minus id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.1">
                   </minus>
                   <ci id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.2">
                    𝑛
                   </ci>
                   <cn id="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                 <apply id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1">
                  <minus id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1">
                  </minus>
                  <apply id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2">
                   <csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2">
                    subscript
                   </csymbol>
                   <ci id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.2a.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.2">
                    <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.2.cmml" mathsize="70%" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.2">
                     Num
                    </mtext>
                   </ci>
                   <ci id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2.3">
                    𝑛
                   </ci>
                  </apply>
                  <cn id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <apply id="S3.E4.m1.3.3.3.3.1.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.3.3.3.3.1.1.1.3.2a.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.3.3.3.3.1.1.1.3.2.cmml" mathsize="70%" xref="S3.E4.m1.3.3.3.3.1.1.1.3.2">
                   Num
                  </mtext>
                 </ci>
                 <ci id="S3.E4.m1.3.3.3.3.1.1.1.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.3.3">
                  𝑛
                 </ci>
                </apply>
               </apply>
               <ci id="S3.E4.m1.3.3.3.3.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.3">
                𝑊
               </ci>
               <apply id="S3.E4.m1.3.3.3.3.1.1.4.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4">
                <divide id="S3.E4.m1.3.3.3.3.1.1.4.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4">
                </divide>
                <apply id="S3.E4.m1.3.3.3.3.1.1.4.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2">
                 <csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.4.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2">
                  subscript
                 </csymbol>
                 <apply id="S3.E4.m1.3.3.3.3.1.1.4.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2.2">
                  <ci id="S3.E4.m1.3.3.3.3.1.1.4.2.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2.2.1">
                   ~
                  </ci>
                  <ci id="S3.E4.m1.3.3.3.3.1.1.4.2.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2.2.2">
                   𝑦
                  </ci>
                 </apply>
                 <apply id="S3.E4.m1.3.3.3.3.1.1.4.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3">
                  <minus id="S3.E4.m1.3.3.3.3.1.1.4.2.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.1">
                  </minus>
                  <ci id="S3.E4.m1.3.3.3.3.1.1.4.2.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.2">
                   𝑛
                  </ci>
                  <cn id="S3.E4.m1.3.3.3.3.1.1.4.2.3.3.cmml" type="integer" xref="S3.E4.m1.3.3.3.3.1.1.4.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <apply id="S3.E4.m1.3.3.3.3.1.1.4.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.3">
                 <csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.4.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.3.3.3.3.1.1.4.3.2a.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.3.3.3.3.1.1.4.3.2.cmml" mathsize="70%" xref="S3.E4.m1.3.3.3.3.1.1.4.3.2">
                   Num
                  </mtext>
                 </ci>
                 <ci id="S3.E4.m1.3.3.3.3.1.1.4.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4.3.3">
                  𝑛
                 </ci>
                </apply>
               </apply>
              </vector>
              <ci id="S3.E4.m1.4.5.3.1.9a.cmml" xref="S3.E4.m1.4.4a">
               <mtext class="ltx_mathvariant_italic" id="S3.E4.m1.4.5.3.1.9.cmml" xref="S3.E4.m1.4.4a.5">
                otherwise
               </mtext>
              </ci>
              <apply id="S3.E4.m1.4.4.4.4.1.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1">
               <eq id="S3.E4.m1.4.4.4.4.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.1">
               </eq>
               <apply id="S3.E4.m1.4.4.4.4.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2">
                <csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.1.1.1.1.2.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2">
                 superscript
                </csymbol>
                <ci id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2c.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2">
                 <mrow id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2">
                  <mtext id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2a.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2">
                   if
                  </mtext>
                  <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.4.4.4.4.1.1.1.1.2.2b.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.2">
                   opt
                  </mtext>
                 </mrow>
                </ci>
                <ci id="S3.E4.m1.4.4.4.4.1.1.1.1.2.3.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.2.3">
                 𝑛
                </ci>
               </apply>
               <ci id="S3.E4.m1.4.4.4.4.1.1.1.1.3a.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.3">
                <mtext class="ltx_mathvariant_monospace" id="S3.E4.m1.4.4.4.4.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1.1.3">
                 top
                </mtext>
               </ci>
              </apply>
              <ci id="S3.E4.m1.4.5.3.1.11a.cmml" xref="S3.E4.m1.4.4a">
               <mtext class="ltx_mathvariant_italic" id="S3.E4.m1.4.5.3.1.11.cmml" xref="S3.E4.m1.4.4a.5">
                otherwise
               </mtext>
              </ci>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E4.m1.4c">
            \displaystyle\bm{M}_{n}=\begin{cases}(\tilde{x}_{n-1}+\tilde{w}_{n-1},0,\frac{W-\tilde{x}_{n-1}+\tilde{w}_{n-1}}{\texttt{Num}_{n}},H),\\
\text{if }\texttt{opt}_{n}=\texttt{right},\\
\\
(0,\frac{\tilde{y}_{n-1}\cdot(\texttt{Num}_{n}-1)}{\texttt{Num}_{n}},W,\frac{\tilde{y}_{n-1}}{\texttt{Num}_{n}}),\\
\text{if }\texttt{opt}^{n}=\texttt{top}.\end{cases}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (4)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS4.SSS0.Px1.p3.17">
      Figure
      <a class="ltx_ref" href="#S3.F4" title='Figure 4 ‣ LLM Planning of a Rough Mask for "obj"_𝑛. ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion'>
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      illustrates how the rough mask can be computed based on the precise mask of previous objects.
     </p>
    </div>
    <figure class="ltx_figure" id="S3.F5">
     <p class="ltx_p ltx_align_center ltx_align_center" id="S3.F5.1.1">
      <span class="ltx_text" id="S3.F5.1.1.1">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="324" id="S3.F5.1.1.1.g1" src="/html/2402.12741/assets/obj1.png" width="598"/>
      </span>
     </p>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 5:
      </span>
      Illustration of the rough mask
      <math alttext="\bm{M}_{1}" class="ltx_Math" display="inline" id="S3.F5.5.5.m1.1">
       <semantics id="S3.F5.5.5.m1.1b">
        <msub id="S3.F5.5.5.m1.1.1" xref="S3.F5.5.5.m1.1.1.cmml">
         <mi id="S3.F5.5.5.m1.1.1.2" xref="S3.F5.5.5.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mn id="S3.F5.5.5.m1.1.1.3" xref="S3.F5.5.5.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.F5.5.5.m1.1c">
         <apply id="S3.F5.5.5.m1.1.1.cmml" xref="S3.F5.5.5.m1.1.1">
          <csymbol cd="ambiguous" id="S3.F5.5.5.m1.1.1.1.cmml" xref="S3.F5.5.5.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.F5.5.5.m1.1.1.2.cmml" xref="S3.F5.5.5.m1.1.1.2">
           𝑴
          </ci>
          <cn id="S3.F5.5.5.m1.1.1.3.cmml" type="integer" xref="S3.F5.5.5.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F5.5.5.m1.1d">
         \bm{M}_{1}
        </annotation>
       </semantics>
      </math>
      of
      <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="S3.F5.6.6.m2.1">
       <semantics id="S3.F5.6.6.m2.1b">
        <msub id="S3.F5.6.6.m2.1.1" xref="S3.F5.6.6.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.F5.6.6.m2.1.1.2" xref="S3.F5.6.6.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="S3.F5.6.6.m2.1.1.3" xref="S3.F5.6.6.m2.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.F5.6.6.m2.1c">
         <apply id="S3.F5.6.6.m2.1.1.cmml" xref="S3.F5.6.6.m2.1.1">
          <csymbol cd="ambiguous" id="S3.F5.6.6.m2.1.1.1.cmml" xref="S3.F5.6.6.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.F5.6.6.m2.1.1.2a.cmml" xref="S3.F5.6.6.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.F5.6.6.m2.1.1.2.cmml" xref="S3.F5.6.6.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="S3.F5.6.6.m2.1.1.3.cmml" type="integer" xref="S3.F5.6.6.m2.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F5.6.6.m2.1d">
         \texttt{obj}_{1}
        </annotation>
       </semantics>
      </math>
      . There are only two options
      <math alttext="\texttt{left},\texttt{bottom}" class="ltx_Math" display="inline" id="S3.F5.7.7.m3.2">
       <semantics id="S3.F5.7.7.m3.2b">
        <mrow id="S3.F5.7.7.m3.2.3.2" xref="S3.F5.7.7.m3.2.3.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.F5.7.7.m3.1.1" xref="S3.F5.7.7.m3.1.1a.cmml">
          left
         </mtext>
         <mo id="S3.F5.7.7.m3.2.3.2.1" xref="S3.F5.7.7.m3.2.3.1.cmml">
          ,
         </mo>
         <mtext class="ltx_mathvariant_monospace" id="S3.F5.7.7.m3.2.2" xref="S3.F5.7.7.m3.2.2a.cmml">
          bottom
         </mtext>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.F5.7.7.m3.2c">
         <list id="S3.F5.7.7.m3.2.3.1.cmml" xref="S3.F5.7.7.m3.2.3.2">
          <ci id="S3.F5.7.7.m3.1.1a.cmml" xref="S3.F5.7.7.m3.1.1">
           <mtext class="ltx_mathvariant_monospace" id="S3.F5.7.7.m3.1.1.cmml" xref="S3.F5.7.7.m3.1.1">
            left
           </mtext>
          </ci>
          <ci id="S3.F5.7.7.m3.2.2a.cmml" xref="S3.F5.7.7.m3.2.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.F5.7.7.m3.2.2.cmml" xref="S3.F5.7.7.m3.2.2">
            bottom
           </mtext>
          </ci>
         </list>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.F5.7.7.m3.2d">
         \texttt{left},\texttt{bottom}
        </annotation>
       </semantics>
      </math>
      for the mask since the LLM is prompted to plan the object order from left to right, bottom to top.
     </figcaption>
    </figure>
   </section>
   <section class="ltx_paragraph" id="S3.SS4.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Single-Object Diffusion with Attention Guidance.
    </h4>
    <div class="ltx_para" id="S3.SS4.SSS0.Px2.p1">
     <p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.18">
      Given the rough mask
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.1.m1.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.1.m1.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.1.m1.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.1.m1.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      of
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.2.m2.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.2.m2.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.2.m2.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.2.m2.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      in the image, MuLan can precisely generate
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.3.m3.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.3.m3.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.3" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.3.m3.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.3.m3.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      in the image using the
backward guidance method
      <cite class="ltx_cite ltx_citemacro_citep">
       (Chen et al.,
       <a class="ltx_ref" href="#bib.bib4" title="">
        2024
       </a>
       )
      </cite>
      , which guides the attention masks of the object to be positioned correctly during generation.
Specifically, let
      <math alttext="B" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.4.m4.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.4.m4.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml">
         B
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.4.m4.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1">
          𝐵
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.4.m4.1c">
         B
        </annotation>
       </semantics>
      </math>
      be the set of the blocks containing cross-attentions layers in the diffusion model,
      <math alttext="\bm{A}^{(j)}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.5.m5.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.5.m5.1a">
        <msup id="S3.SS4.SSS0.Px2.p1.5.m5.1.2" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.5.m5.1.2.2" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2.2.cmml">
          𝑨
         </mi>
         <mrow id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2.cmml">
          <mo id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.3.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2.cmml">
           (
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.1.cmml">
           j
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.3.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2.cmml">
           )
          </mo>
         </mrow>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.5.m5.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.5.m5.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.5.m5.1.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2">
           superscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.5.m5.1.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.2.2">
           𝑨
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.1">
           𝑗
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.5.m5.1c">
         \bm{A}^{(j)}
        </annotation>
       </semantics>
      </math>
      be the cross-attention map in the
      <math alttext="j" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.6.m6.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.6.m6.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml">
         j
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.6.m6.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1">
          𝑗
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.6.m6.1c">
         j
        </annotation>
       </semantics>
      </math>
      -th block,
      <math alttext="j\in B" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.7.m7.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.7.m7.1a">
        <mrow id="S3.SS4.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml">
          j
         </mi>
         <mo id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1.cmml">
          ∈
         </mo>
         <mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml">
          B
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.7.m7.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1">
          <in id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1">
          </in>
          <ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2">
           𝑗
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3">
           𝐵
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.7.m7.1c">
         j\in B
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="\bm{A}^{(j)}_{m,k}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.8.m8.3">
       <semantics id="S3.SS4.SSS0.Px2.p1.8.m8.3a">
        <msubsup id="S3.SS4.SSS0.Px2.p1.8.m8.3.4" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.8.m8.3.4.2.2" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4.2.2.cmml">
          𝑨
         </mi>
         <mrow id="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.4" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.8.m8.2.2.1.1" xref="S3.SS4.SSS0.Px2.p1.8.m8.2.2.1.1.cmml">
           m
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.4.1" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.3.cmml">
           ,
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.2" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.2.cmml">
           k
          </mi>
         </mrow>
         <mrow id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4.cmml">
          <mo id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.3.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4.cmml">
           (
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.1.cmml">
           j
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.3.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4.cmml">
           )
          </mo>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.8.m8.3b">
         <apply id="S3.SS4.SSS0.Px2.p1.8.m8.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.8.m8.3.4.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4">
           subscript
          </csymbol>
          <apply id="S3.SS4.SSS0.Px2.p1.8.m8.3.4.2.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.8.m8.3.4.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4">
            superscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px2.p1.8.m8.3.4.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.4.2.2">
            𝑨
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.1">
            𝑗
           </ci>
          </apply>
          <list id="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.4">
           <ci id="S3.SS4.SSS0.Px2.p1.8.m8.2.2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.2.2.1.1">
            𝑚
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.3.3.2.2">
            𝑘
           </ci>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.8.m8.3c">
         \bm{A}^{(j)}_{m,k}
        </annotation>
       </semantics>
      </math>
      represents the relevance between the spatial location
      <math alttext="m" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.9.m9.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.9.m9.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml">
         m
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.9.m9.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1">
          𝑚
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.9.m9.1c">
         m
        </annotation>
       </semantics>
      </math>
      and token-
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.10.m10.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.10.m10.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.10.m10.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.10.m10.1c">
         k
        </annotation>
       </semantics>
      </math>
      that describes
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.11.m11.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.11.m11.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.11.m11.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.11.m11.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      in the prompt, and
      <math alttext="|\bm{A}^{(j)}_{(:,k)}|=W\cdot H" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.12.m12.4">
       <semantics id="S3.SS4.SSS0.Px2.p1.12.m12.4a">
        <mrow id="S3.SS4.SSS0.Px2.p1.12.m12.4.4" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.cmml">
         <mrow id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.2.cmml">
          <mo id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.2.1.cmml">
           |
          </mo>
          <msubsup id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.cmml">
           <mi id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.2.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.2.2.cmml">
            𝑨
           </mi>
           <mrow id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.4" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.3.cmml">
            <mo id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.4.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.3.cmml">
             (
            </mo>
            <mo id="S3.SS4.SSS0.Px2.p1.12.m12.2.2.1.1" rspace="0em" xref="S3.SS4.SSS0.Px2.p1.12.m12.2.2.1.1.cmml">
             :
            </mo>
            <mo id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.4.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.3.cmml">
             ,
            </mo>
            <mi id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.2.cmml">
             k
            </mi>
            <mo id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.4.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.3.cmml">
             )
            </mo>
           </mrow>
           <mrow id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.cmml">
            <mo id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.3.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.cmml">
             (
            </mo>
            <mi id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.1.cmml">
             j
            </mi>
            <mo id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.3.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.cmml">
             )
            </mo>
           </mrow>
          </msubsup>
          <mo id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.2.1.cmml">
           |
          </mo>
         </mrow>
         <mo id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.2.cmml">
          =
         </mo>
         <mrow id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.2.cmml">
           W
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.1.cmml">
           ⋅
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.3" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.3.cmml">
           H
          </mi>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.12.m12.4b">
         <apply id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4">
          <eq id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.2">
          </eq>
          <apply id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1">
           <abs id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.2">
           </abs>
           <apply id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1">
             subscript
            </csymbol>
            <apply id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1">
             <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1">
              superscript
             </csymbol>
             <ci id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.1.1.1.2.2">
              𝑨
             </ci>
             <ci id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.1">
              𝑗
             </ci>
            </apply>
            <interval closure="open" id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.4">
             <ci id="S3.SS4.SSS0.Px2.p1.12.m12.2.2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.2.2.1.1">
              :
             </ci>
             <ci id="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.3.3.2.2">
              𝑘
             </ci>
            </interval>
           </apply>
          </apply>
          <apply id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3">
           <ci id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.1">
            ⋅
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.2">
            𝑊
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.4.4.3.3">
            𝐻
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.12.m12.4c">
         |\bm{A}^{(j)}_{(:,k)}|=W\cdot H
        </annotation>
       </semantics>
      </math>
      is the cross-attention map of token
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.13.m13.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.13.m13.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.13.m13.1.1" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.13.m13.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.13.m13.1c">
         k
        </annotation>
       </semantics>
      </math>
      . Larger values in
      <math alttext="\bm{A}^{(j)}_{m,k}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.14.m14.3">
       <semantics id="S3.SS4.SSS0.Px2.p1.14.m14.3a">
        <msubsup id="S3.SS4.SSS0.Px2.p1.14.m14.3.4" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.14.m14.3.4.2.2" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4.2.2.cmml">
          𝑨
         </mi>
         <mrow id="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.4" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.14.m14.2.2.1.1" xref="S3.SS4.SSS0.Px2.p1.14.m14.2.2.1.1.cmml">
           m
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.4.1" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.3.cmml">
           ,
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.2" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.2.cmml">
           k
          </mi>
         </mrow>
         <mrow id="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4.cmml">
          <mo id="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.3.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4.cmml">
           (
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.1.cmml">
           j
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.3.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4.cmml">
           )
          </mo>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.14.m14.3b">
         <apply id="S3.SS4.SSS0.Px2.p1.14.m14.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.14.m14.3.4.1.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4">
           subscript
          </csymbol>
          <apply id="S3.SS4.SSS0.Px2.p1.14.m14.3.4.2.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.14.m14.3.4.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4">
            superscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px2.p1.14.m14.3.4.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.4.2.2">
            𝑨
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.1.1.1.1">
            𝑗
           </ci>
          </apply>
          <list id="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.4">
           <ci id="S3.SS4.SSS0.Px2.p1.14.m14.2.2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.2.2.1.1">
            𝑚
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.14.m14.3.3.2.2">
            𝑘
           </ci>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.14.m14.3c">
         \bm{A}^{(j)}_{m,k}
        </annotation>
       </semantics>
      </math>
      indicate that
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.15.m15.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.15.m15.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.15.m15.1.1" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.2" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.3" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.15.m15.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.15.m15.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.15.m15.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.15.m15.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      is more likely located at the spatial location of
      <math alttext="m" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.16.m16.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.16.m16.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.16.m16.1.1" xref="S3.SS4.SSS0.Px2.p1.16.m16.1.1.cmml">
         m
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.16.m16.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.16.m16.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.16.m16.1.1">
          𝑚
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.16.m16.1c">
         m
        </annotation>
       </semantics>
      </math>
      .
Hence, minimizing the following energy function encourages the cross-attention maps to the
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.17.m17.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.17.m17.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.17.m17.1.1" xref="S3.SS4.SSS0.Px2.p1.17.m17.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.17.m17.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.17.m17.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.17.m17.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.17.m17.1c">
         k
        </annotation>
       </semantics>
      </math>
      -th token (
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.18.m18.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.18.m18.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.18.m18.1.1" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.2" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.3" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.18.m18.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.18.m18.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.18.m18.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.18.m18.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      ) to have a larger value inside the mask:
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx5">
      <tbody id="S3.E5">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\scriptstyle E(\bm{A}^{(j)},\bm{M}_{n},k)=\left(1-\frac{\sum_{m=x_{n}+(y_{n}-1)W}^{x_{n}+w_{n}+(y_{n}+h_{n}-1)W}\bm{A}^{(j)}_{m,k}}{\sum_{m=1}^{W\cdot H}\bm{A}^{(j)}_{m,k}}\right)^{2}." class="ltx_Math" display="inline" id="S3.E5.m1.11">
          <semantics id="S3.E5.m1.11a">
           <mrow id="S3.E5.m1.11.11.1" xref="S3.E5.m1.11.11.1.1.cmml">
            <mrow id="S3.E5.m1.11.11.1.1" xref="S3.E5.m1.11.11.1.1.cmml">
             <mrow id="S3.E5.m1.11.11.1.1.2" xref="S3.E5.m1.11.11.1.1.2.cmml">
              <mi id="S3.E5.m1.11.11.1.1.2.4" mathsize="70%" xref="S3.E5.m1.11.11.1.1.2.4.cmml">
               E
              </mi>
              <mo id="S3.E5.m1.11.11.1.1.2.3" lspace="0em" rspace="0em" xref="S3.E5.m1.11.11.1.1.2.3.cmml">
               ​
              </mo>
              <mrow id="S3.E5.m1.11.11.1.1.2.2.2" xref="S3.E5.m1.11.11.1.1.2.2.3.cmml">
               <mo id="S3.E5.m1.11.11.1.1.2.2.2.3" maxsize="70%" minsize="70%" xref="S3.E5.m1.11.11.1.1.2.2.3.cmml">
                (
               </mo>
               <msup id="S3.E5.m1.11.11.1.1.1.1.1.1" xref="S3.E5.m1.11.11.1.1.1.1.1.1.cmml">
                <mi id="S3.E5.m1.11.11.1.1.1.1.1.1.2" mathsize="70%" xref="S3.E5.m1.11.11.1.1.1.1.1.1.2.cmml">
                 𝑨
                </mi>
                <mrow id="S3.E5.m1.1.1.1.3" xref="S3.E5.m1.11.11.1.1.1.1.1.1.cmml">
                 <mo id="S3.E5.m1.1.1.1.3.1" maxsize="71%" minsize="71%" xref="S3.E5.m1.11.11.1.1.1.1.1.1.cmml">
                  (
                 </mo>
                 <mi id="S3.E5.m1.1.1.1.1" mathsize="71%" xref="S3.E5.m1.1.1.1.1.cmml">
                  j
                 </mi>
                 <mo id="S3.E5.m1.1.1.1.3.2" maxsize="71%" minsize="71%" xref="S3.E5.m1.11.11.1.1.1.1.1.1.cmml">
                  )
                 </mo>
                </mrow>
               </msup>
               <mo id="S3.E5.m1.11.11.1.1.2.2.2.4" mathsize="70%" xref="S3.E5.m1.11.11.1.1.2.2.3.cmml">
                ,
               </mo>
               <msub id="S3.E5.m1.11.11.1.1.2.2.2.2" xref="S3.E5.m1.11.11.1.1.2.2.2.2.cmml">
                <mi id="S3.E5.m1.11.11.1.1.2.2.2.2.2" mathsize="70%" xref="S3.E5.m1.11.11.1.1.2.2.2.2.2.cmml">
                 𝑴
                </mi>
                <mi id="S3.E5.m1.11.11.1.1.2.2.2.2.3" mathsize="71%" xref="S3.E5.m1.11.11.1.1.2.2.2.2.3.cmml">
                 n
                </mi>
               </msub>
               <mo id="S3.E5.m1.11.11.1.1.2.2.2.5" mathsize="70%" xref="S3.E5.m1.11.11.1.1.2.2.3.cmml">
                ,
               </mo>
               <mi id="S3.E5.m1.10.10" mathsize="70%" xref="S3.E5.m1.10.10.cmml">
                k
               </mi>
               <mo id="S3.E5.m1.11.11.1.1.2.2.2.6" maxsize="70%" minsize="70%" xref="S3.E5.m1.11.11.1.1.2.2.3.cmml">
                )
               </mo>
              </mrow>
             </mrow>
             <mo id="S3.E5.m1.11.11.1.1.4" mathsize="70%" xref="S3.E5.m1.11.11.1.1.4.cmml">
              =
             </mo>
             <msup id="S3.E5.m1.11.11.1.1.3" xref="S3.E5.m1.11.11.1.1.3.cmml">
              <mrow id="S3.E5.m1.11.11.1.1.3.1.1" xref="S3.E5.m1.11.11.1.1.3.1.1.1.cmml">
               <mo id="S3.E5.m1.11.11.1.1.3.1.1.2" xref="S3.E5.m1.11.11.1.1.3.1.1.1.cmml">
                (
               </mo>
               <mrow id="S3.E5.m1.11.11.1.1.3.1.1.1" xref="S3.E5.m1.11.11.1.1.3.1.1.1.cmml">
                <mn id="S3.E5.m1.11.11.1.1.3.1.1.1.2" mathsize="70%" xref="S3.E5.m1.11.11.1.1.3.1.1.1.2.cmml">
                 1
                </mn>
                <mo id="S3.E5.m1.11.11.1.1.3.1.1.1.1" mathsize="70%" xref="S3.E5.m1.11.11.1.1.3.1.1.1.1.cmml">
                 −
                </mo>
                <mstyle id="S3.E5.m1.9.9" scriptlevel="+1" xref="S3.E5.m1.9.9.cmml">
                 <mfrac id="S3.E5.m1.9.9a" xref="S3.E5.m1.9.9.cmml">
                  <mrow id="S3.E5.m1.6.6.5" xref="S3.E5.m1.6.6.5.cmml">
                   <mstyle displaystyle="false" id="S3.E5.m1.6.6.5.6" xref="S3.E5.m1.6.6.5.6.cmml">
                    <msubsup id="S3.E5.m1.6.6.5.6a" xref="S3.E5.m1.6.6.5.6.cmml">
                     <mo id="S3.E5.m1.6.6.5.6.2.2" xref="S3.E5.m1.6.6.5.6.2.2.cmml">
                      ∑
                     </mo>
                     <mrow id="S3.E5.m1.2.2.1.1.1" xref="S3.E5.m1.2.2.1.1.1.cmml">
                      <mi id="S3.E5.m1.2.2.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.3.cmml">
                       m
                      </mi>
                      <mo id="S3.E5.m1.2.2.1.1.1.2" xref="S3.E5.m1.2.2.1.1.1.2.cmml">
                       =
                      </mo>
                      <mrow id="S3.E5.m1.2.2.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.cmml">
                       <msub id="S3.E5.m1.2.2.1.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.1.3.cmml">
                        <mi id="S3.E5.m1.2.2.1.1.1.1.3.2" xref="S3.E5.m1.2.2.1.1.1.1.3.2.cmml">
                         x
                        </mi>
                        <mi id="S3.E5.m1.2.2.1.1.1.1.3.3" xref="S3.E5.m1.2.2.1.1.1.1.3.3.cmml">
                         n
                        </mi>
                       </msub>
                       <mo id="S3.E5.m1.2.2.1.1.1.1.2" xref="S3.E5.m1.2.2.1.1.1.1.2.cmml">
                        +
                       </mo>
                       <mrow id="S3.E5.m1.2.2.1.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.1.cmml">
                        <mrow id="S3.E5.m1.2.2.1.1.1.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml">
                         <mo id="S3.E5.m1.2.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml">
                          (
                         </mo>
                         <mrow id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml">
                          <msub id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">
                           <mi id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2.cmml">
                            y
                           </mi>
                           <mi id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3.cmml">
                            n
                           </mi>
                          </msub>
                          <mo id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">
                           −
                          </mo>
                          <mn id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">
                           1
                          </mn>
                         </mrow>
                         <mo id="S3.E5.m1.2.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml">
                          )
                         </mo>
                        </mrow>
                        <mo id="S3.E5.m1.2.2.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E5.m1.2.2.1.1.1.1.1.2.cmml">
                         ​
                        </mo>
                        <mi id="S3.E5.m1.2.2.1.1.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.1.1.3.cmml">
                         W
                        </mi>
                       </mrow>
                      </mrow>
                     </mrow>
                     <mrow id="S3.E5.m1.3.3.2.2.1" xref="S3.E5.m1.3.3.2.2.1.cmml">
                      <msub id="S3.E5.m1.3.3.2.2.1.3" xref="S3.E5.m1.3.3.2.2.1.3.cmml">
                       <mi id="S3.E5.m1.3.3.2.2.1.3.2" xref="S3.E5.m1.3.3.2.2.1.3.2.cmml">
                        x
                       </mi>
                       <mi id="S3.E5.m1.3.3.2.2.1.3.3" xref="S3.E5.m1.3.3.2.2.1.3.3.cmml">
                        n
                       </mi>
                      </msub>
                      <mo id="S3.E5.m1.3.3.2.2.1.2" xref="S3.E5.m1.3.3.2.2.1.2.cmml">
                       +
                      </mo>
                      <msub id="S3.E5.m1.3.3.2.2.1.4" xref="S3.E5.m1.3.3.2.2.1.4.cmml">
                       <mi id="S3.E5.m1.3.3.2.2.1.4.2" xref="S3.E5.m1.3.3.2.2.1.4.2.cmml">
                        w
                       </mi>
                       <mi id="S3.E5.m1.3.3.2.2.1.4.3" xref="S3.E5.m1.3.3.2.2.1.4.3.cmml">
                        n
                       </mi>
                      </msub>
                      <mo id="S3.E5.m1.3.3.2.2.1.2a" xref="S3.E5.m1.3.3.2.2.1.2.cmml">
                       +
                      </mo>
                      <mrow id="S3.E5.m1.3.3.2.2.1.1" xref="S3.E5.m1.3.3.2.2.1.1.cmml">
                       <mrow id="S3.E5.m1.3.3.2.2.1.1.1.1" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.cmml">
                        <mo id="S3.E5.m1.3.3.2.2.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.cmml">
                         (
                        </mo>
                        <mrow id="S3.E5.m1.3.3.2.2.1.1.1.1.1" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.cmml">
                         <mrow id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.cmml">
                          <msub id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.cmml">
                           <mi id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.2" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.2.cmml">
                            y
                           </mi>
                           <mi id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.3" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.3.cmml">
                            n
                           </mi>
                          </msub>
                          <mo id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.1" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.1.cmml">
                           +
                          </mo>
                          <msub id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.cmml">
                           <mi id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.2" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.2.cmml">
                            h
                           </mi>
                           <mi id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.3" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.3.cmml">
                            n
                           </mi>
                          </msub>
                         </mrow>
                         <mo id="S3.E5.m1.3.3.2.2.1.1.1.1.1.1" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.1.cmml">
                          −
                         </mo>
                         <mn id="S3.E5.m1.3.3.2.2.1.1.1.1.1.3" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.3.cmml">
                          1
                         </mn>
                        </mrow>
                        <mo id="S3.E5.m1.3.3.2.2.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.cmml">
                         )
                        </mo>
                       </mrow>
                       <mo id="S3.E5.m1.3.3.2.2.1.1.2" lspace="0em" rspace="0em" xref="S3.E5.m1.3.3.2.2.1.1.2.cmml">
                        ​
                       </mo>
                       <mi id="S3.E5.m1.3.3.2.2.1.1.3" xref="S3.E5.m1.3.3.2.2.1.1.3.cmml">
                        W
                       </mi>
                      </mrow>
                     </mrow>
                    </msubsup>
                   </mstyle>
                   <msubsup id="S3.E5.m1.6.6.5.7" xref="S3.E5.m1.6.6.5.7.cmml">
                    <mi id="S3.E5.m1.6.6.5.7.2.2" xref="S3.E5.m1.6.6.5.7.2.2.cmml">
                     𝑨
                    </mi>
                    <mrow id="S3.E5.m1.6.6.5.5.2.4" xref="S3.E5.m1.6.6.5.5.2.3.cmml">
                     <mi id="S3.E5.m1.5.5.4.4.1.1" xref="S3.E5.m1.5.5.4.4.1.1.cmml">
                      m
                     </mi>
                     <mo id="S3.E5.m1.6.6.5.5.2.4.1" xref="S3.E5.m1.6.6.5.5.2.3.cmml">
                      ,
                     </mo>
                     <mi id="S3.E5.m1.6.6.5.5.2.2" xref="S3.E5.m1.6.6.5.5.2.2.cmml">
                      k
                     </mi>
                    </mrow>
                    <mrow id="S3.E5.m1.4.4.3.3.1.3" xref="S3.E5.m1.6.6.5.7.cmml">
                     <mo id="S3.E5.m1.4.4.3.3.1.3.1" stretchy="false" xref="S3.E5.m1.6.6.5.7.cmml">
                      (
                     </mo>
                     <mi id="S3.E5.m1.4.4.3.3.1.1" xref="S3.E5.m1.4.4.3.3.1.1.cmml">
                      j
                     </mi>
                     <mo id="S3.E5.m1.4.4.3.3.1.3.2" stretchy="false" xref="S3.E5.m1.6.6.5.7.cmml">
                      )
                     </mo>
                    </mrow>
                   </msubsup>
                  </mrow>
                  <mrow id="S3.E5.m1.9.9.8" xref="S3.E5.m1.9.9.8.cmml">
                   <mstyle displaystyle="false" id="S3.E5.m1.9.9.8.4" xref="S3.E5.m1.9.9.8.4.cmml">
                    <msubsup id="S3.E5.m1.9.9.8.4a" xref="S3.E5.m1.9.9.8.4.cmml">
                     <mo id="S3.E5.m1.9.9.8.4.2.2" xref="S3.E5.m1.9.9.8.4.2.2.cmml">
                      ∑
                     </mo>
                     <mrow id="S3.E5.m1.9.9.8.4.2.3" xref="S3.E5.m1.9.9.8.4.2.3.cmml">
                      <mi id="S3.E5.m1.9.9.8.4.2.3.2" xref="S3.E5.m1.9.9.8.4.2.3.2.cmml">
                       m
                      </mi>
                      <mo id="S3.E5.m1.9.9.8.4.2.3.1" xref="S3.E5.m1.9.9.8.4.2.3.1.cmml">
                       =
                      </mo>
                      <mn id="S3.E5.m1.9.9.8.4.2.3.3" xref="S3.E5.m1.9.9.8.4.2.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                     <mrow id="S3.E5.m1.9.9.8.4.3" xref="S3.E5.m1.9.9.8.4.3.cmml">
                      <mi id="S3.E5.m1.9.9.8.4.3.2" xref="S3.E5.m1.9.9.8.4.3.2.cmml">
                       W
                      </mi>
                      <mo id="S3.E5.m1.9.9.8.4.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E5.m1.9.9.8.4.3.1.cmml">
                       ⋅
                      </mo>
                      <mi id="S3.E5.m1.9.9.8.4.3.3" xref="S3.E5.m1.9.9.8.4.3.3.cmml">
                       H
                      </mi>
                     </mrow>
                    </msubsup>
                   </mstyle>
                   <msubsup id="S3.E5.m1.9.9.8.5" xref="S3.E5.m1.9.9.8.5.cmml">
                    <mi id="S3.E5.m1.9.9.8.5.2.2" xref="S3.E5.m1.9.9.8.5.2.2.cmml">
                     𝑨
                    </mi>
                    <mrow id="S3.E5.m1.9.9.8.3.2.4" xref="S3.E5.m1.9.9.8.3.2.3.cmml">
                     <mi id="S3.E5.m1.8.8.7.2.1.1" xref="S3.E5.m1.8.8.7.2.1.1.cmml">
                      m
                     </mi>
                     <mo id="S3.E5.m1.9.9.8.3.2.4.1" xref="S3.E5.m1.9.9.8.3.2.3.cmml">
                      ,
                     </mo>
                     <mi id="S3.E5.m1.9.9.8.3.2.2" xref="S3.E5.m1.9.9.8.3.2.2.cmml">
                      k
                     </mi>
                    </mrow>
                    <mrow id="S3.E5.m1.7.7.6.1.1.3" xref="S3.E5.m1.9.9.8.5.cmml">
                     <mo id="S3.E5.m1.7.7.6.1.1.3.1" stretchy="false" xref="S3.E5.m1.9.9.8.5.cmml">
                      (
                     </mo>
                     <mi id="S3.E5.m1.7.7.6.1.1.1" xref="S3.E5.m1.7.7.6.1.1.1.cmml">
                      j
                     </mi>
                     <mo id="S3.E5.m1.7.7.6.1.1.3.2" stretchy="false" xref="S3.E5.m1.9.9.8.5.cmml">
                      )
                     </mo>
                    </mrow>
                   </msubsup>
                  </mrow>
                 </mfrac>
                </mstyle>
               </mrow>
               <mo id="S3.E5.m1.11.11.1.1.3.1.1.3" xref="S3.E5.m1.11.11.1.1.3.1.1.1.cmml">
                )
               </mo>
              </mrow>
              <mn id="S3.E5.m1.11.11.1.1.3.3" mathsize="71%" xref="S3.E5.m1.11.11.1.1.3.3.cmml">
               2
              </mn>
             </msup>
            </mrow>
            <mo id="S3.E5.m1.11.11.1.2" lspace="0em" mathsize="70%" xref="S3.E5.m1.11.11.1.1.cmml">
             .
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E5.m1.11b">
            <apply id="S3.E5.m1.11.11.1.1.cmml" xref="S3.E5.m1.11.11.1">
             <eq id="S3.E5.m1.11.11.1.1.4.cmml" xref="S3.E5.m1.11.11.1.1.4">
             </eq>
             <apply id="S3.E5.m1.11.11.1.1.2.cmml" xref="S3.E5.m1.11.11.1.1.2">
              <times id="S3.E5.m1.11.11.1.1.2.3.cmml" xref="S3.E5.m1.11.11.1.1.2.3">
              </times>
              <ci id="S3.E5.m1.11.11.1.1.2.4.cmml" xref="S3.E5.m1.11.11.1.1.2.4">
               𝐸
              </ci>
              <vector id="S3.E5.m1.11.11.1.1.2.2.3.cmml" xref="S3.E5.m1.11.11.1.1.2.2.2">
               <apply id="S3.E5.m1.11.11.1.1.1.1.1.1.cmml" xref="S3.E5.m1.11.11.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E5.m1.11.11.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.11.11.1.1.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E5.m1.11.11.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.11.11.1.1.1.1.1.1.2">
                 𝑨
                </ci>
                <ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">
                 𝑗
                </ci>
               </apply>
               <apply id="S3.E5.m1.11.11.1.1.2.2.2.2.cmml" xref="S3.E5.m1.11.11.1.1.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.E5.m1.11.11.1.1.2.2.2.2.1.cmml" xref="S3.E5.m1.11.11.1.1.2.2.2.2">
                 subscript
                </csymbol>
                <ci id="S3.E5.m1.11.11.1.1.2.2.2.2.2.cmml" xref="S3.E5.m1.11.11.1.1.2.2.2.2.2">
                 𝑴
                </ci>
                <ci id="S3.E5.m1.11.11.1.1.2.2.2.2.3.cmml" xref="S3.E5.m1.11.11.1.1.2.2.2.2.3">
                 𝑛
                </ci>
               </apply>
               <ci id="S3.E5.m1.10.10.cmml" xref="S3.E5.m1.10.10">
                𝑘
               </ci>
              </vector>
             </apply>
             <apply id="S3.E5.m1.11.11.1.1.3.cmml" xref="S3.E5.m1.11.11.1.1.3">
              <csymbol cd="ambiguous" id="S3.E5.m1.11.11.1.1.3.2.cmml" xref="S3.E5.m1.11.11.1.1.3">
               superscript
              </csymbol>
              <apply id="S3.E5.m1.11.11.1.1.3.1.1.1.cmml" xref="S3.E5.m1.11.11.1.1.3.1.1">
               <minus id="S3.E5.m1.11.11.1.1.3.1.1.1.1.cmml" xref="S3.E5.m1.11.11.1.1.3.1.1.1.1">
               </minus>
               <cn id="S3.E5.m1.11.11.1.1.3.1.1.1.2.cmml" type="integer" xref="S3.E5.m1.11.11.1.1.3.1.1.1.2">
                1
               </cn>
               <apply id="S3.E5.m1.9.9.cmml" xref="S3.E5.m1.9.9">
                <divide id="S3.E5.m1.9.9.9.cmml" xref="S3.E5.m1.9.9">
                </divide>
                <apply id="S3.E5.m1.6.6.5.cmml" xref="S3.E5.m1.6.6.5">
                 <apply id="S3.E5.m1.6.6.5.6.cmml" xref="S3.E5.m1.6.6.5.6">
                  <csymbol cd="ambiguous" id="S3.E5.m1.6.6.5.6.1.cmml" xref="S3.E5.m1.6.6.5.6">
                   superscript
                  </csymbol>
                  <apply id="S3.E5.m1.6.6.5.6.2.cmml" xref="S3.E5.m1.6.6.5.6">
                   <csymbol cd="ambiguous" id="S3.E5.m1.6.6.5.6.2.1.cmml" xref="S3.E5.m1.6.6.5.6">
                    subscript
                   </csymbol>
                   <sum id="S3.E5.m1.6.6.5.6.2.2.cmml" xref="S3.E5.m1.6.6.5.6.2.2">
                   </sum>
                   <apply id="S3.E5.m1.2.2.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1">
                    <eq id="S3.E5.m1.2.2.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2">
                    </eq>
                    <ci id="S3.E5.m1.2.2.1.1.1.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3">
                     𝑚
                    </ci>
                    <apply id="S3.E5.m1.2.2.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1">
                     <plus id="S3.E5.m1.2.2.1.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.1.2">
                     </plus>
                     <apply id="S3.E5.m1.2.2.1.1.1.1.3.cmml" xref="S3.E5.m1.2.2.1.1.1.1.3">
                      <csymbol cd="ambiguous" id="S3.E5.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1.3">
                       subscript
                      </csymbol>
                      <ci id="S3.E5.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E5.m1.2.2.1.1.1.1.3.2">
                       𝑥
                      </ci>
                      <ci id="S3.E5.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E5.m1.2.2.1.1.1.1.3.3">
                       𝑛
                      </ci>
                     </apply>
                     <apply id="S3.E5.m1.2.2.1.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1">
                      <times id="S3.E5.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.2">
                      </times>
                      <apply id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1">
                       <minus id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.1">
                       </minus>
                       <apply id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2">
                        <csymbol cd="ambiguous" id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2">
                         subscript
                        </csymbol>
                        <ci id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2">
                         𝑦
                        </ci>
                        <ci id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3">
                         𝑛
                        </ci>
                       </apply>
                       <cn id="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E5.m1.2.2.1.1.1.1.1.1.1.1.3">
                        1
                       </cn>
                      </apply>
                      <ci id="S3.E5.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E5.m1.2.2.1.1.1.1.1.3">
                       𝑊
                      </ci>
                     </apply>
                    </apply>
                   </apply>
                  </apply>
                  <apply id="S3.E5.m1.3.3.2.2.1.cmml" xref="S3.E5.m1.3.3.2.2.1">
                   <plus id="S3.E5.m1.3.3.2.2.1.2.cmml" xref="S3.E5.m1.3.3.2.2.1.2">
                   </plus>
                   <apply id="S3.E5.m1.3.3.2.2.1.3.cmml" xref="S3.E5.m1.3.3.2.2.1.3">
                    <csymbol cd="ambiguous" id="S3.E5.m1.3.3.2.2.1.3.1.cmml" xref="S3.E5.m1.3.3.2.2.1.3">
                     subscript
                    </csymbol>
                    <ci id="S3.E5.m1.3.3.2.2.1.3.2.cmml" xref="S3.E5.m1.3.3.2.2.1.3.2">
                     𝑥
                    </ci>
                    <ci id="S3.E5.m1.3.3.2.2.1.3.3.cmml" xref="S3.E5.m1.3.3.2.2.1.3.3">
                     𝑛
                    </ci>
                   </apply>
                   <apply id="S3.E5.m1.3.3.2.2.1.4.cmml" xref="S3.E5.m1.3.3.2.2.1.4">
                    <csymbol cd="ambiguous" id="S3.E5.m1.3.3.2.2.1.4.1.cmml" xref="S3.E5.m1.3.3.2.2.1.4">
                     subscript
                    </csymbol>
                    <ci id="S3.E5.m1.3.3.2.2.1.4.2.cmml" xref="S3.E5.m1.3.3.2.2.1.4.2">
                     𝑤
                    </ci>
                    <ci id="S3.E5.m1.3.3.2.2.1.4.3.cmml" xref="S3.E5.m1.3.3.2.2.1.4.3">
                     𝑛
                    </ci>
                   </apply>
                   <apply id="S3.E5.m1.3.3.2.2.1.1.cmml" xref="S3.E5.m1.3.3.2.2.1.1">
                    <times id="S3.E5.m1.3.3.2.2.1.1.2.cmml" xref="S3.E5.m1.3.3.2.2.1.1.2">
                    </times>
                    <apply id="S3.E5.m1.3.3.2.2.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1">
                     <minus id="S3.E5.m1.3.3.2.2.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.1">
                     </minus>
                     <apply id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2">
                      <plus id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.1">
                      </plus>
                      <apply id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2">
                       <csymbol cd="ambiguous" id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2">
                        subscript
                       </csymbol>
                       <ci id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.2">
                        𝑦
                       </ci>
                       <ci id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.3.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.2.3">
                        𝑛
                       </ci>
                      </apply>
                      <apply id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3">
                       <csymbol cd="ambiguous" id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.1.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3">
                        subscript
                       </csymbol>
                       <ci id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.2.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.2">
                        ℎ
                       </ci>
                       <ci id="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.3.cmml" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.2.3.3">
                        𝑛
                       </ci>
                      </apply>
                     </apply>
                     <cn id="S3.E5.m1.3.3.2.2.1.1.1.1.1.3.cmml" type="integer" xref="S3.E5.m1.3.3.2.2.1.1.1.1.1.3">
                      1
                     </cn>
                    </apply>
                    <ci id="S3.E5.m1.3.3.2.2.1.1.3.cmml" xref="S3.E5.m1.3.3.2.2.1.1.3">
                     𝑊
                    </ci>
                   </apply>
                  </apply>
                 </apply>
                 <apply id="S3.E5.m1.6.6.5.7.cmml" xref="S3.E5.m1.6.6.5.7">
                  <csymbol cd="ambiguous" id="S3.E5.m1.6.6.5.7.1.cmml" xref="S3.E5.m1.6.6.5.7">
                   subscript
                  </csymbol>
                  <apply id="S3.E5.m1.6.6.5.7.2.cmml" xref="S3.E5.m1.6.6.5.7">
                   <csymbol cd="ambiguous" id="S3.E5.m1.6.6.5.7.2.1.cmml" xref="S3.E5.m1.6.6.5.7">
                    superscript
                   </csymbol>
                   <ci id="S3.E5.m1.6.6.5.7.2.2.cmml" xref="S3.E5.m1.6.6.5.7.2.2">
                    𝑨
                   </ci>
                   <ci id="S3.E5.m1.4.4.3.3.1.1.cmml" xref="S3.E5.m1.4.4.3.3.1.1">
                    𝑗
                   </ci>
                  </apply>
                  <list id="S3.E5.m1.6.6.5.5.2.3.cmml" xref="S3.E5.m1.6.6.5.5.2.4">
                   <ci id="S3.E5.m1.5.5.4.4.1.1.cmml" xref="S3.E5.m1.5.5.4.4.1.1">
                    𝑚
                   </ci>
                   <ci id="S3.E5.m1.6.6.5.5.2.2.cmml" xref="S3.E5.m1.6.6.5.5.2.2">
                    𝑘
                   </ci>
                  </list>
                 </apply>
                </apply>
                <apply id="S3.E5.m1.9.9.8.cmml" xref="S3.E5.m1.9.9.8">
                 <apply id="S3.E5.m1.9.9.8.4.cmml" xref="S3.E5.m1.9.9.8.4">
                  <csymbol cd="ambiguous" id="S3.E5.m1.9.9.8.4.1.cmml" xref="S3.E5.m1.9.9.8.4">
                   superscript
                  </csymbol>
                  <apply id="S3.E5.m1.9.9.8.4.2.cmml" xref="S3.E5.m1.9.9.8.4">
                   <csymbol cd="ambiguous" id="S3.E5.m1.9.9.8.4.2.1.cmml" xref="S3.E5.m1.9.9.8.4">
                    subscript
                   </csymbol>
                   <sum id="S3.E5.m1.9.9.8.4.2.2.cmml" xref="S3.E5.m1.9.9.8.4.2.2">
                   </sum>
                   <apply id="S3.E5.m1.9.9.8.4.2.3.cmml" xref="S3.E5.m1.9.9.8.4.2.3">
                    <eq id="S3.E5.m1.9.9.8.4.2.3.1.cmml" xref="S3.E5.m1.9.9.8.4.2.3.1">
                    </eq>
                    <ci id="S3.E5.m1.9.9.8.4.2.3.2.cmml" xref="S3.E5.m1.9.9.8.4.2.3.2">
                     𝑚
                    </ci>
                    <cn id="S3.E5.m1.9.9.8.4.2.3.3.cmml" type="integer" xref="S3.E5.m1.9.9.8.4.2.3.3">
                     1
                    </cn>
                   </apply>
                  </apply>
                  <apply id="S3.E5.m1.9.9.8.4.3.cmml" xref="S3.E5.m1.9.9.8.4.3">
                   <ci id="S3.E5.m1.9.9.8.4.3.1.cmml" xref="S3.E5.m1.9.9.8.4.3.1">
                    ⋅
                   </ci>
                   <ci id="S3.E5.m1.9.9.8.4.3.2.cmml" xref="S3.E5.m1.9.9.8.4.3.2">
                    𝑊
                   </ci>
                   <ci id="S3.E5.m1.9.9.8.4.3.3.cmml" xref="S3.E5.m1.9.9.8.4.3.3">
                    𝐻
                   </ci>
                  </apply>
                 </apply>
                 <apply id="S3.E5.m1.9.9.8.5.cmml" xref="S3.E5.m1.9.9.8.5">
                  <csymbol cd="ambiguous" id="S3.E5.m1.9.9.8.5.1.cmml" xref="S3.E5.m1.9.9.8.5">
                   subscript
                  </csymbol>
                  <apply id="S3.E5.m1.9.9.8.5.2.cmml" xref="S3.E5.m1.9.9.8.5">
                   <csymbol cd="ambiguous" id="S3.E5.m1.9.9.8.5.2.1.cmml" xref="S3.E5.m1.9.9.8.5">
                    superscript
                   </csymbol>
                   <ci id="S3.E5.m1.9.9.8.5.2.2.cmml" xref="S3.E5.m1.9.9.8.5.2.2">
                    𝑨
                   </ci>
                   <ci id="S3.E5.m1.7.7.6.1.1.1.cmml" xref="S3.E5.m1.7.7.6.1.1.1">
                    𝑗
                   </ci>
                  </apply>
                  <list id="S3.E5.m1.9.9.8.3.2.3.cmml" xref="S3.E5.m1.9.9.8.3.2.4">
                   <ci id="S3.E5.m1.8.8.7.2.1.1.cmml" xref="S3.E5.m1.8.8.7.2.1.1">
                    𝑚
                   </ci>
                   <ci id="S3.E5.m1.9.9.8.3.2.2.cmml" xref="S3.E5.m1.9.9.8.3.2.2">
                    𝑘
                   </ci>
                  </list>
                 </apply>
                </apply>
               </apply>
              </apply>
              <cn id="S3.E5.m1.11.11.1.1.3.3.cmml" type="integer" xref="S3.E5.m1.11.11.1.1.3.3">
               2
              </cn>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E5.m1.11c">
            \displaystyle\scriptstyle E(\bm{A}^{(j)},\bm{M}_{n},k)=\left(1-\frac{\sum_{m=x_{n}+(y_{n}-1)W}^{x_{n}+w_{n}+(y_{n}+h_{n}-1)W}\bm{A}^{(j)}_{m,k}}{\sum_{m=1}^{W\cdot H}\bm{A}^{(j)}_{m,k}}\right)^{2}.
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (5)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.22">
      Then, in every step-
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.19.m1.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.19.m1.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.19.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.19.m1.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.19.m1.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.19.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.19.m1.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.19.m1.1c">
         t
        </annotation>
       </semantics>
      </math>
      of the earlier generation process (
      <math alttext="t&gt;T^{\prime}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.20.m2.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.20.m2.1a">
        <mrow id="S3.SS4.SSS0.Px2.p1.20.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.2.cmml">
          t
         </mi>
         <mo id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.1" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.1.cmml">
          &gt;
         </mo>
         <msup id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.2.cmml">
           T
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.3.cmml">
           ′
          </mo>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.20.m2.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1">
          <gt id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.1">
          </gt>
          <ci id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.2">
           𝑡
          </ci>
          <apply id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3">
            superscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.2">
            𝑇
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.20.m2.1.1.3.3">
            ′
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.20.m2.1c">
         t&gt;T^{\prime}
        </annotation>
       </semantics>
      </math>
      ), MuLan applies gradient descent to minimize the energy and updates the input latent
      <math alttext="\bm{z}_{n,t}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.21.m3.2">
       <semantics id="S3.SS4.SSS0.Px2.p1.21.m3.2a">
        <msub id="S3.SS4.SSS0.Px2.p1.21.m3.2.3" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.3.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.21.m3.2.3.2" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.3.2.cmml">
          𝒛
         </mi>
         <mrow id="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.4" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.21.m3.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.21.m3.1.1.1.1.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.4.1" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.3.cmml">
           ,
          </mo>
          <mi id="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.2.cmml">
           t
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.21.m3.2b">
         <apply id="S3.SS4.SSS0.Px2.p1.21.m3.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.3">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.21.m3.2.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.3">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.21.m3.2.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.3.2">
           𝒛
          </ci>
          <list id="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.4">
           <ci id="S3.SS4.SSS0.Px2.p1.21.m3.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.21.m3.1.1.1.1">
            𝑛
           </ci>
           <ci id="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.21.m3.2.2.2.2">
            𝑡
           </ci>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.21.m3.2c">
         \bm{z}_{n,t}
        </annotation>
       </semantics>
      </math>
      for object
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.22.m4.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.22.m4.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.22.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.2" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.3" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.22.m4.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.22.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.22.m4.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.22.m4.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      by
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx6">
      <tbody id="S3.E6">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\bm{z}_{n,t}=\bm{z}_{n,t}-\eta\cdot\nabla_{\bm{z}_{n,t}}\sum_{j\in B}E(\bm{A}^{(j)},\bm{M}_{n},k)," class="ltx_Math" display="inline" id="S3.E6.m1.9">
          <semantics id="S3.E6.m1.9a">
           <mrow id="S3.E6.m1.9.9.1" xref="S3.E6.m1.9.9.1.1.cmml">
            <mrow id="S3.E6.m1.9.9.1.1" xref="S3.E6.m1.9.9.1.1.cmml">
             <msub id="S3.E6.m1.9.9.1.1.4" xref="S3.E6.m1.9.9.1.1.4.cmml">
              <mi id="S3.E6.m1.9.9.1.1.4.2" xref="S3.E6.m1.9.9.1.1.4.2.cmml">
               𝒛
              </mi>
              <mrow id="S3.E6.m1.2.2.2.4" xref="S3.E6.m1.2.2.2.3.cmml">
               <mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">
                n
               </mi>
               <mo id="S3.E6.m1.2.2.2.4.1" xref="S3.E6.m1.2.2.2.3.cmml">
                ,
               </mo>
               <mi id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.2.cmml">
                t
               </mi>
              </mrow>
             </msub>
             <mo id="S3.E6.m1.9.9.1.1.3" xref="S3.E6.m1.9.9.1.1.3.cmml">
              =
             </mo>
             <mrow id="S3.E6.m1.9.9.1.1.2" xref="S3.E6.m1.9.9.1.1.2.cmml">
              <msub id="S3.E6.m1.9.9.1.1.2.4" xref="S3.E6.m1.9.9.1.1.2.4.cmml">
               <mi id="S3.E6.m1.9.9.1.1.2.4.2" xref="S3.E6.m1.9.9.1.1.2.4.2.cmml">
                𝒛
               </mi>
               <mrow id="S3.E6.m1.4.4.2.4" xref="S3.E6.m1.4.4.2.3.cmml">
                <mi id="S3.E6.m1.3.3.1.1" xref="S3.E6.m1.3.3.1.1.cmml">
                 n
                </mi>
                <mo id="S3.E6.m1.4.4.2.4.1" xref="S3.E6.m1.4.4.2.3.cmml">
                 ,
                </mo>
                <mi id="S3.E6.m1.4.4.2.2" xref="S3.E6.m1.4.4.2.2.cmml">
                 t
                </mi>
               </mrow>
              </msub>
              <mo id="S3.E6.m1.9.9.1.1.2.3" xref="S3.E6.m1.9.9.1.1.2.3.cmml">
               −
              </mo>
              <mrow id="S3.E6.m1.9.9.1.1.2.2" xref="S3.E6.m1.9.9.1.1.2.2.cmml">
               <mrow id="S3.E6.m1.9.9.1.1.2.2.4" xref="S3.E6.m1.9.9.1.1.2.2.4.cmml">
                <mi id="S3.E6.m1.9.9.1.1.2.2.4.2" xref="S3.E6.m1.9.9.1.1.2.2.4.2.cmml">
                 η
                </mi>
                <mo id="S3.E6.m1.9.9.1.1.2.2.4.1" lspace="0.222em" rspace="0.222em" xref="S3.E6.m1.9.9.1.1.2.2.4.1.cmml">
                 ⋅
                </mo>
                <msub id="S3.E6.m1.9.9.1.1.2.2.4.3" xref="S3.E6.m1.9.9.1.1.2.2.4.3.cmml">
                 <mo id="S3.E6.m1.9.9.1.1.2.2.4.3.2" xref="S3.E6.m1.9.9.1.1.2.2.4.3.2.cmml">
                  ∇
                 </mo>
                 <msub id="S3.E6.m1.6.6.2" xref="S3.E6.m1.6.6.2.cmml">
                  <mi id="S3.E6.m1.6.6.2.4" xref="S3.E6.m1.6.6.2.4.cmml">
                   𝒛
                  </mi>
                  <mrow id="S3.E6.m1.6.6.2.2.2.4" xref="S3.E6.m1.6.6.2.2.2.3.cmml">
                   <mi id="S3.E6.m1.5.5.1.1.1.1" xref="S3.E6.m1.5.5.1.1.1.1.cmml">
                    n
                   </mi>
                   <mo id="S3.E6.m1.6.6.2.2.2.4.1" xref="S3.E6.m1.6.6.2.2.2.3.cmml">
                    ,
                   </mo>
                   <mi id="S3.E6.m1.6.6.2.2.2.2" xref="S3.E6.m1.6.6.2.2.2.2.cmml">
                    t
                   </mi>
                  </mrow>
                 </msub>
                </msub>
               </mrow>
               <mo id="S3.E6.m1.9.9.1.1.2.2.3" lspace="0.167em" rspace="0em" xref="S3.E6.m1.9.9.1.1.2.2.3.cmml">
                ​
               </mo>
               <mrow id="S3.E6.m1.9.9.1.1.2.2.2" xref="S3.E6.m1.9.9.1.1.2.2.2.cmml">
                <mstyle displaystyle="true" id="S3.E6.m1.9.9.1.1.2.2.2.3" xref="S3.E6.m1.9.9.1.1.2.2.2.3.cmml">
                 <munder id="S3.E6.m1.9.9.1.1.2.2.2.3a" xref="S3.E6.m1.9.9.1.1.2.2.2.3.cmml">
                  <mo id="S3.E6.m1.9.9.1.1.2.2.2.3.2" movablelimits="false" xref="S3.E6.m1.9.9.1.1.2.2.2.3.2.cmml">
                   ∑
                  </mo>
                  <mrow id="S3.E6.m1.9.9.1.1.2.2.2.3.3" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.cmml">
                   <mi id="S3.E6.m1.9.9.1.1.2.2.2.3.3.2" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.2.cmml">
                    j
                   </mi>
                   <mo id="S3.E6.m1.9.9.1.1.2.2.2.3.3.1" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.1.cmml">
                    ∈
                   </mo>
                   <mi id="S3.E6.m1.9.9.1.1.2.2.2.3.3.3" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.3.cmml">
                    B
                   </mi>
                  </mrow>
                 </munder>
                </mstyle>
                <mrow id="S3.E6.m1.9.9.1.1.2.2.2.2" xref="S3.E6.m1.9.9.1.1.2.2.2.2.cmml">
                 <mi id="S3.E6.m1.9.9.1.1.2.2.2.2.4" xref="S3.E6.m1.9.9.1.1.2.2.2.2.4.cmml">
                  E
                 </mi>
                 <mo id="S3.E6.m1.9.9.1.1.2.2.2.2.3" lspace="0em" rspace="0em" xref="S3.E6.m1.9.9.1.1.2.2.2.2.3.cmml">
                  ​
                 </mo>
                 <mrow id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.3.cmml">
                  <mo id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.3" stretchy="false" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.3.cmml">
                   (
                  </mo>
                  <msup id="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.cmml">
                   <mi id="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.2.cmml">
                    𝑨
                   </mi>
                   <mrow id="S3.E6.m1.7.7.1.3" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.cmml">
                    <mo id="S3.E6.m1.7.7.1.3.1" stretchy="false" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.cmml">
                     (
                    </mo>
                    <mi id="S3.E6.m1.7.7.1.1" xref="S3.E6.m1.7.7.1.1.cmml">
                     j
                    </mi>
                    <mo id="S3.E6.m1.7.7.1.3.2" stretchy="false" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.cmml">
                     )
                    </mo>
                   </mrow>
                  </msup>
                  <mo id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.4" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.3.cmml">
                   ,
                  </mo>
                  <msub id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.cmml">
                   <mi id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.2" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.2.cmml">
                    𝑴
                   </mi>
                   <mi id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.3" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.3.cmml">
                    n
                   </mi>
                  </msub>
                  <mo id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.5" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.3.cmml">
                   ,
                  </mo>
                  <mi id="S3.E6.m1.8.8" xref="S3.E6.m1.8.8.cmml">
                   k
                  </mi>
                  <mo id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.6" stretchy="false" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.3.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mrow>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S3.E6.m1.9.9.1.2" xref="S3.E6.m1.9.9.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E6.m1.9b">
            <apply id="S3.E6.m1.9.9.1.1.cmml" xref="S3.E6.m1.9.9.1">
             <eq id="S3.E6.m1.9.9.1.1.3.cmml" xref="S3.E6.m1.9.9.1.1.3">
             </eq>
             <apply id="S3.E6.m1.9.9.1.1.4.cmml" xref="S3.E6.m1.9.9.1.1.4">
              <csymbol cd="ambiguous" id="S3.E6.m1.9.9.1.1.4.1.cmml" xref="S3.E6.m1.9.9.1.1.4">
               subscript
              </csymbol>
              <ci id="S3.E6.m1.9.9.1.1.4.2.cmml" xref="S3.E6.m1.9.9.1.1.4.2">
               𝒛
              </ci>
              <list id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.4">
               <ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">
                𝑛
               </ci>
               <ci id="S3.E6.m1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2">
                𝑡
               </ci>
              </list>
             </apply>
             <apply id="S3.E6.m1.9.9.1.1.2.cmml" xref="S3.E6.m1.9.9.1.1.2">
              <minus id="S3.E6.m1.9.9.1.1.2.3.cmml" xref="S3.E6.m1.9.9.1.1.2.3">
              </minus>
              <apply id="S3.E6.m1.9.9.1.1.2.4.cmml" xref="S3.E6.m1.9.9.1.1.2.4">
               <csymbol cd="ambiguous" id="S3.E6.m1.9.9.1.1.2.4.1.cmml" xref="S3.E6.m1.9.9.1.1.2.4">
                subscript
               </csymbol>
               <ci id="S3.E6.m1.9.9.1.1.2.4.2.cmml" xref="S3.E6.m1.9.9.1.1.2.4.2">
                𝒛
               </ci>
               <list id="S3.E6.m1.4.4.2.3.cmml" xref="S3.E6.m1.4.4.2.4">
                <ci id="S3.E6.m1.3.3.1.1.cmml" xref="S3.E6.m1.3.3.1.1">
                 𝑛
                </ci>
                <ci id="S3.E6.m1.4.4.2.2.cmml" xref="S3.E6.m1.4.4.2.2">
                 𝑡
                </ci>
               </list>
              </apply>
              <apply id="S3.E6.m1.9.9.1.1.2.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2">
               <times id="S3.E6.m1.9.9.1.1.2.2.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.3">
               </times>
               <apply id="S3.E6.m1.9.9.1.1.2.2.4.cmml" xref="S3.E6.m1.9.9.1.1.2.2.4">
                <ci id="S3.E6.m1.9.9.1.1.2.2.4.1.cmml" xref="S3.E6.m1.9.9.1.1.2.2.4.1">
                 ⋅
                </ci>
                <ci id="S3.E6.m1.9.9.1.1.2.2.4.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.4.2">
                 𝜂
                </ci>
                <apply id="S3.E6.m1.9.9.1.1.2.2.4.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.4.3">
                 <csymbol cd="ambiguous" id="S3.E6.m1.9.9.1.1.2.2.4.3.1.cmml" xref="S3.E6.m1.9.9.1.1.2.2.4.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E6.m1.9.9.1.1.2.2.4.3.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.4.3.2">
                  ∇
                 </ci>
                 <apply id="S3.E6.m1.6.6.2.cmml" xref="S3.E6.m1.6.6.2">
                  <csymbol cd="ambiguous" id="S3.E6.m1.6.6.2.3.cmml" xref="S3.E6.m1.6.6.2">
                   subscript
                  </csymbol>
                  <ci id="S3.E6.m1.6.6.2.4.cmml" xref="S3.E6.m1.6.6.2.4">
                   𝒛
                  </ci>
                  <list id="S3.E6.m1.6.6.2.2.2.3.cmml" xref="S3.E6.m1.6.6.2.2.2.4">
                   <ci id="S3.E6.m1.5.5.1.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1">
                    𝑛
                   </ci>
                   <ci id="S3.E6.m1.6.6.2.2.2.2.cmml" xref="S3.E6.m1.6.6.2.2.2.2">
                    𝑡
                   </ci>
                  </list>
                 </apply>
                </apply>
               </apply>
               <apply id="S3.E6.m1.9.9.1.1.2.2.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2">
                <apply id="S3.E6.m1.9.9.1.1.2.2.2.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3">
                 <csymbol cd="ambiguous" id="S3.E6.m1.9.9.1.1.2.2.2.3.1.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3">
                  subscript
                 </csymbol>
                 <sum id="S3.E6.m1.9.9.1.1.2.2.2.3.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3.2">
                 </sum>
                 <apply id="S3.E6.m1.9.9.1.1.2.2.2.3.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3">
                  <in id="S3.E6.m1.9.9.1.1.2.2.2.3.3.1.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.1">
                  </in>
                  <ci id="S3.E6.m1.9.9.1.1.2.2.2.3.3.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.2">
                   𝑗
                  </ci>
                  <ci id="S3.E6.m1.9.9.1.1.2.2.2.3.3.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.3.3.3">
                   𝐵
                  </ci>
                 </apply>
                </apply>
                <apply id="S3.E6.m1.9.9.1.1.2.2.2.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2">
                 <times id="S3.E6.m1.9.9.1.1.2.2.2.2.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.3">
                 </times>
                 <ci id="S3.E6.m1.9.9.1.1.2.2.2.2.4.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.4">
                  𝐸
                 </ci>
                 <vector id="S3.E6.m1.9.9.1.1.2.2.2.2.2.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2">
                  <apply id="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1">
                   <csymbol cd="ambiguous" id="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1">
                    superscript
                   </csymbol>
                   <ci id="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.9.9.1.1.1.1.1.1.1.1.1.2">
                    𝑨
                   </ci>
                   <ci id="S3.E6.m1.7.7.1.1.cmml" xref="S3.E6.m1.7.7.1.1">
                    𝑗
                   </ci>
                  </apply>
                  <apply id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2">
                   <csymbol cd="ambiguous" id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2">
                    subscript
                   </csymbol>
                   <ci id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.2">
                    𝑴
                   </ci>
                   <ci id="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.3.cmml" xref="S3.E6.m1.9.9.1.1.2.2.2.2.2.2.2.3">
                    𝑛
                   </ci>
                  </apply>
                  <ci id="S3.E6.m1.8.8.cmml" xref="S3.E6.m1.8.8">
                   𝑘
                  </ci>
                 </vector>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E6.m1.9c">
            \displaystyle\bm{z}_{n,t}=\bm{z}_{n,t}-\eta\cdot\nabla_{\bm{z}_{n,t}}\sum_{j\in B}E(\bm{A}^{(j)},\bm{M}_{n},k),
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (6)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.32">
      where
      <math alttext="\eta" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.23.m1.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.23.m1.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.23.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.23.m1.1.1.cmml">
         η
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.23.m1.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.23.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.23.m1.1.1">
          𝜂
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.23.m1.1c">
         \eta
        </annotation>
       </semantics>
      </math>
      is the learning rate. In practice, to take the previous objects and their constraints into account when generating
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.24.m2.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.24.m2.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.24.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.24.m2.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.24.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.24.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.24.m2.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      , during earlier steps of backward diffusion (i.e.,
      <math alttext="t&gt;T^{*}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.25.m3.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.25.m3.1a">
        <mrow id="S3.SS4.SSS0.Px2.p1.25.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.2" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.2.cmml">
          t
         </mi>
         <mo id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.1" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.1.cmml">
          &gt;
         </mo>
         <msup id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.2.cmml">
           T
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.3.cmml">
           ∗
          </mo>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.25.m3.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1">
          <gt id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.1">
          </gt>
          <ci id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.2">
           𝑡
          </ci>
          <apply id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3">
            superscript
           </csymbol>
           <ci id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.2">
            𝑇
           </ci>
           <times id="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.25.m3.1.1.3.3">
           </times>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.25.m3.1c">
         t&gt;T^{*}
        </annotation>
       </semantics>
      </math>
      ), we further combine the latent of
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.26.m4.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.26.m4.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.26.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.2" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.3" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.26.m4.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.26.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.26.m4.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.26.m4.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.27.m5.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.27.m5.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.27.m5.1.1" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.2" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.1" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.27.m5.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3">
           <minus id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.27.m5.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.27.m5.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      . Specifically, after step-
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.28.m6.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.28.m6.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.28.m6.1.1" xref="S3.SS4.SSS0.Px2.p1.28.m6.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.28.m6.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.28.m6.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.28.m6.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.28.m6.1c">
         t
        </annotation>
       </semantics>
      </math>
      of backward diffusion (
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.29.m7.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.29.m7.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.29.m7.1.1" xref="S3.SS4.SSS0.Px2.p1.29.m7.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.29.m7.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.29.m7.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.29.m7.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.29.m7.1c">
         t
        </annotation>
       </semantics>
      </math>
      varies from
      <math alttext="T" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.30.m8.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.30.m8.1a">
        <mi id="S3.SS4.SSS0.Px2.p1.30.m8.1.1" xref="S3.SS4.SSS0.Px2.p1.30.m8.1.1.cmml">
         T
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.30.m8.1b">
         <ci id="S3.SS4.SSS0.Px2.p1.30.m8.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.30.m8.1.1">
          𝑇
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.30.m8.1c">
         T
        </annotation>
       </semantics>
      </math>
      to
      <math alttext="0" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.31.m9.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.31.m9.1a">
        <mn id="S3.SS4.SSS0.Px2.p1.31.m9.1.1" xref="S3.SS4.SSS0.Px2.p1.31.m9.1.1.cmml">
         0
        </mn>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.31.m9.1b">
         <cn id="S3.SS4.SSS0.Px2.p1.31.m9.1.1.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.31.m9.1.1">
          0
         </cn>
        </annotation-xml>
       </semantics>
      </math>
      ), we update the latent
      <math alttext="\bm{z}_{n,(t-1)}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.32.m10.2">
       <semantics id="S3.SS4.SSS0.Px2.p1.32.m10.2a">
        <msub id="S3.SS4.SSS0.Px2.p1.32.m10.2.3" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.3.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.32.m10.2.3.2" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.3.2.cmml">
          𝒛
         </mi>
         <mrow id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px2.p1.32.m10.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.32.m10.1.1.1.1.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.3.cmml">
           ,
          </mo>
          <mrow id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.cmml">
           <mo id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.cmml">
            (
           </mo>
           <mrow id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.cmml">
            <mi id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.2.cmml">
             t
            </mi>
            <mo id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.1.cmml">
             −
            </mo>
            <mn id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.3.cmml">
             1
            </mn>
           </mrow>
           <mo id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.32.m10.2b">
         <apply id="S3.SS4.SSS0.Px2.p1.32.m10.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.3">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.32.m10.2.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.3">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.32.m10.2.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.3.2">
           𝒛
          </ci>
          <list id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2">
           <ci id="S3.SS4.SSS0.Px2.p1.32.m10.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.1.1.1.1">
            𝑛
           </ci>
           <apply id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1">
            <minus id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.1">
            </minus>
            <ci id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.2">
             𝑡
            </ci>
            <cn id="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.32.m10.2.2.2.2.1.1.1.3">
             1
            </cn>
           </apply>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.32.m10.2c">
         \bm{z}_{n,(t-1)}
        </annotation>
       </semantics>
      </math>
      by
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx7">
      <tbody id="S3.E7">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\bm{z}_{n,(t-1)}=\bm{M}^{\prime}_{n}\odot\bm{z}_{n,(t-1)}+(1-\bm{M}^{\prime}_{n})\odot\bm{z}_{(n-1),(t-1)}," class="ltx_Math" display="inline" id="S3.E7.m1.7">
          <semantics id="S3.E7.m1.7a">
           <mrow id="S3.E7.m1.7.7.1" xref="S3.E7.m1.7.7.1.1.cmml">
            <mrow id="S3.E7.m1.7.7.1.1" xref="S3.E7.m1.7.7.1.1.cmml">
             <msub id="S3.E7.m1.7.7.1.1.3" xref="S3.E7.m1.7.7.1.1.3.cmml">
              <mi id="S3.E7.m1.7.7.1.1.3.2" xref="S3.E7.m1.7.7.1.1.3.2.cmml">
               𝒛
              </mi>
              <mrow id="S3.E7.m1.2.2.2.2" xref="S3.E7.m1.2.2.2.3.cmml">
               <mi id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml">
                n
               </mi>
               <mo id="S3.E7.m1.2.2.2.2.2" xref="S3.E7.m1.2.2.2.3.cmml">
                ,
               </mo>
               <mrow id="S3.E7.m1.2.2.2.2.1.1" xref="S3.E7.m1.2.2.2.2.1.1.1.cmml">
                <mo id="S3.E7.m1.2.2.2.2.1.1.2" stretchy="false" xref="S3.E7.m1.2.2.2.2.1.1.1.cmml">
                 (
                </mo>
                <mrow id="S3.E7.m1.2.2.2.2.1.1.1" xref="S3.E7.m1.2.2.2.2.1.1.1.cmml">
                 <mi id="S3.E7.m1.2.2.2.2.1.1.1.2" xref="S3.E7.m1.2.2.2.2.1.1.1.2.cmml">
                  t
                 </mi>
                 <mo id="S3.E7.m1.2.2.2.2.1.1.1.1" xref="S3.E7.m1.2.2.2.2.1.1.1.1.cmml">
                  −
                 </mo>
                 <mn id="S3.E7.m1.2.2.2.2.1.1.1.3" xref="S3.E7.m1.2.2.2.2.1.1.1.3.cmml">
                  1
                 </mn>
                </mrow>
                <mo id="S3.E7.m1.2.2.2.2.1.1.3" stretchy="false" xref="S3.E7.m1.2.2.2.2.1.1.1.cmml">
                 )
                </mo>
               </mrow>
              </mrow>
             </msub>
             <mo id="S3.E7.m1.7.7.1.1.2" xref="S3.E7.m1.7.7.1.1.2.cmml">
              =
             </mo>
             <mrow id="S3.E7.m1.7.7.1.1.1" xref="S3.E7.m1.7.7.1.1.1.cmml">
              <mrow id="S3.E7.m1.7.7.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.3.cmml">
               <msubsup id="S3.E7.m1.7.7.1.1.1.3.2" xref="S3.E7.m1.7.7.1.1.1.3.2.cmml">
                <mi id="S3.E7.m1.7.7.1.1.1.3.2.2.2" xref="S3.E7.m1.7.7.1.1.1.3.2.2.2.cmml">
                 𝑴
                </mi>
                <mi id="S3.E7.m1.7.7.1.1.1.3.2.3" xref="S3.E7.m1.7.7.1.1.1.3.2.3.cmml">
                 n
                </mi>
                <mo id="S3.E7.m1.7.7.1.1.1.3.2.2.3" xref="S3.E7.m1.7.7.1.1.1.3.2.2.3.cmml">
                 ′
                </mo>
               </msubsup>
               <mo id="S3.E7.m1.7.7.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E7.m1.7.7.1.1.1.3.1.cmml">
                ⊙
               </mo>
               <msub id="S3.E7.m1.7.7.1.1.1.3.3" xref="S3.E7.m1.7.7.1.1.1.3.3.cmml">
                <mi id="S3.E7.m1.7.7.1.1.1.3.3.2" xref="S3.E7.m1.7.7.1.1.1.3.3.2.cmml">
                 𝒛
                </mi>
                <mrow id="S3.E7.m1.4.4.2.2" xref="S3.E7.m1.4.4.2.3.cmml">
                 <mi id="S3.E7.m1.3.3.1.1" xref="S3.E7.m1.3.3.1.1.cmml">
                  n
                 </mi>
                 <mo id="S3.E7.m1.4.4.2.2.2" xref="S3.E7.m1.4.4.2.3.cmml">
                  ,
                 </mo>
                 <mrow id="S3.E7.m1.4.4.2.2.1.1" xref="S3.E7.m1.4.4.2.2.1.1.1.cmml">
                  <mo id="S3.E7.m1.4.4.2.2.1.1.2" stretchy="false" xref="S3.E7.m1.4.4.2.2.1.1.1.cmml">
                   (
                  </mo>
                  <mrow id="S3.E7.m1.4.4.2.2.1.1.1" xref="S3.E7.m1.4.4.2.2.1.1.1.cmml">
                   <mi id="S3.E7.m1.4.4.2.2.1.1.1.2" xref="S3.E7.m1.4.4.2.2.1.1.1.2.cmml">
                    t
                   </mi>
                   <mo id="S3.E7.m1.4.4.2.2.1.1.1.1" xref="S3.E7.m1.4.4.2.2.1.1.1.1.cmml">
                    −
                   </mo>
                   <mn id="S3.E7.m1.4.4.2.2.1.1.1.3" xref="S3.E7.m1.4.4.2.2.1.1.1.3.cmml">
                    1
                   </mn>
                  </mrow>
                  <mo id="S3.E7.m1.4.4.2.2.1.1.3" stretchy="false" xref="S3.E7.m1.4.4.2.2.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </msub>
              </mrow>
              <mo id="S3.E7.m1.7.7.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.2.cmml">
               +
              </mo>
              <mrow id="S3.E7.m1.7.7.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.cmml">
               <mrow id="S3.E7.m1.7.7.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.cmml">
                <mo id="S3.E7.m1.7.7.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.cmml">
                 (
                </mo>
                <mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.cmml">
                 <mn id="S3.E7.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.2.cmml">
                  1
                 </mn>
                 <mo id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.cmml">
                  −
                 </mo>
                 <msubsup id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.cmml">
                  <mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.2.cmml">
                   𝑴
                  </mi>
                  <mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.3.cmml">
                   n
                  </mi>
                  <mo id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.3.cmml">
                   ′
                  </mo>
                 </msubsup>
                </mrow>
                <mo id="S3.E7.m1.7.7.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.cmml">
                 )
                </mo>
               </mrow>
               <mo id="S3.E7.m1.7.7.1.1.1.1.2" rspace="0.222em" xref="S3.E7.m1.7.7.1.1.1.1.2.cmml">
                ⊙
               </mo>
               <msub id="S3.E7.m1.7.7.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.3.cmml">
                <mi id="S3.E7.m1.7.7.1.1.1.1.3.2" xref="S3.E7.m1.7.7.1.1.1.1.3.2.cmml">
                 𝒛
                </mi>
                <mrow id="S3.E7.m1.6.6.2.2" xref="S3.E7.m1.6.6.2.3.cmml">
                 <mrow id="S3.E7.m1.5.5.1.1.1.1" xref="S3.E7.m1.5.5.1.1.1.1.1.cmml">
                  <mo id="S3.E7.m1.5.5.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.5.5.1.1.1.1.1.cmml">
                   (
                  </mo>
                  <mrow id="S3.E7.m1.5.5.1.1.1.1.1" xref="S3.E7.m1.5.5.1.1.1.1.1.cmml">
                   <mi id="S3.E7.m1.5.5.1.1.1.1.1.2" xref="S3.E7.m1.5.5.1.1.1.1.1.2.cmml">
                    n
                   </mi>
                   <mo id="S3.E7.m1.5.5.1.1.1.1.1.1" xref="S3.E7.m1.5.5.1.1.1.1.1.1.cmml">
                    −
                   </mo>
                   <mn id="S3.E7.m1.5.5.1.1.1.1.1.3" xref="S3.E7.m1.5.5.1.1.1.1.1.3.cmml">
                    1
                   </mn>
                  </mrow>
                  <mo id="S3.E7.m1.5.5.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.5.5.1.1.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="S3.E7.m1.6.6.2.2.3" xref="S3.E7.m1.6.6.2.3.cmml">
                  ,
                 </mo>
                 <mrow id="S3.E7.m1.6.6.2.2.2.1" xref="S3.E7.m1.6.6.2.2.2.1.1.cmml">
                  <mo id="S3.E7.m1.6.6.2.2.2.1.2" stretchy="false" xref="S3.E7.m1.6.6.2.2.2.1.1.cmml">
                   (
                  </mo>
                  <mrow id="S3.E7.m1.6.6.2.2.2.1.1" xref="S3.E7.m1.6.6.2.2.2.1.1.cmml">
                   <mi id="S3.E7.m1.6.6.2.2.2.1.1.2" xref="S3.E7.m1.6.6.2.2.2.1.1.2.cmml">
                    t
                   </mi>
                   <mo id="S3.E7.m1.6.6.2.2.2.1.1.1" xref="S3.E7.m1.6.6.2.2.2.1.1.1.cmml">
                    −
                   </mo>
                   <mn id="S3.E7.m1.6.6.2.2.2.1.1.3" xref="S3.E7.m1.6.6.2.2.2.1.1.3.cmml">
                    1
                   </mn>
                  </mrow>
                  <mo id="S3.E7.m1.6.6.2.2.2.1.3" stretchy="false" xref="S3.E7.m1.6.6.2.2.2.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </msub>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S3.E7.m1.7.7.1.2" xref="S3.E7.m1.7.7.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E7.m1.7b">
            <apply id="S3.E7.m1.7.7.1.1.cmml" xref="S3.E7.m1.7.7.1">
             <eq id="S3.E7.m1.7.7.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2">
             </eq>
             <apply id="S3.E7.m1.7.7.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.3">
              <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.3">
               subscript
              </csymbol>
              <ci id="S3.E7.m1.7.7.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.3.2">
               𝒛
              </ci>
              <list id="S3.E7.m1.2.2.2.3.cmml" xref="S3.E7.m1.2.2.2.2">
               <ci id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1">
                𝑛
               </ci>
               <apply id="S3.E7.m1.2.2.2.2.1.1.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1">
                <minus id="S3.E7.m1.2.2.2.2.1.1.1.1.cmml" xref="S3.E7.m1.2.2.2.2.1.1.1.1">
                </minus>
                <ci id="S3.E7.m1.2.2.2.2.1.1.1.2.cmml" xref="S3.E7.m1.2.2.2.2.1.1.1.2">
                 𝑡
                </ci>
                <cn id="S3.E7.m1.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S3.E7.m1.2.2.2.2.1.1.1.3">
                 1
                </cn>
               </apply>
              </list>
             </apply>
             <apply id="S3.E7.m1.7.7.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1">
              <plus id="S3.E7.m1.7.7.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.2">
              </plus>
              <apply id="S3.E7.m1.7.7.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3">
               <csymbol cd="latexml" id="S3.E7.m1.7.7.1.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.1.3.1">
                direct-product
               </csymbol>
               <apply id="S3.E7.m1.7.7.1.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2">
                <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.3.2.1.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2">
                 subscript
                </csymbol>
                <apply id="S3.E7.m1.7.7.1.1.1.3.2.2.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2">
                 <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.3.2.2.1.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2">
                  superscript
                 </csymbol>
                 <ci id="S3.E7.m1.7.7.1.1.1.3.2.2.2.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2.2.2">
                  𝑴
                 </ci>
                 <ci id="S3.E7.m1.7.7.1.1.1.3.2.2.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2.2.3">
                  ′
                 </ci>
                </apply>
                <ci id="S3.E7.m1.7.7.1.1.1.3.2.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2.3">
                 𝑛
                </ci>
               </apply>
               <apply id="S3.E7.m1.7.7.1.1.1.3.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3.3">
                <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.3.3.1.cmml" xref="S3.E7.m1.7.7.1.1.1.3.3">
                 subscript
                </csymbol>
                <ci id="S3.E7.m1.7.7.1.1.1.3.3.2.cmml" xref="S3.E7.m1.7.7.1.1.1.3.3.2">
                 𝒛
                </ci>
                <list id="S3.E7.m1.4.4.2.3.cmml" xref="S3.E7.m1.4.4.2.2">
                 <ci id="S3.E7.m1.3.3.1.1.cmml" xref="S3.E7.m1.3.3.1.1">
                  𝑛
                 </ci>
                 <apply id="S3.E7.m1.4.4.2.2.1.1.1.cmml" xref="S3.E7.m1.4.4.2.2.1.1">
                  <minus id="S3.E7.m1.4.4.2.2.1.1.1.1.cmml" xref="S3.E7.m1.4.4.2.2.1.1.1.1">
                  </minus>
                  <ci id="S3.E7.m1.4.4.2.2.1.1.1.2.cmml" xref="S3.E7.m1.4.4.2.2.1.1.1.2">
                   𝑡
                  </ci>
                  <cn id="S3.E7.m1.4.4.2.2.1.1.1.3.cmml" type="integer" xref="S3.E7.m1.4.4.2.2.1.1.1.3">
                   1
                  </cn>
                 </apply>
                </list>
               </apply>
              </apply>
              <apply id="S3.E7.m1.7.7.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1">
               <csymbol cd="latexml" id="S3.E7.m1.7.7.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.2">
                direct-product
               </csymbol>
               <apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1">
                <minus id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1">
                </minus>
                <cn id="S3.E7.m1.7.7.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.2">
                 1
                </cn>
                <apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3">
                  subscript
                 </csymbol>
                 <apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3">
                   superscript
                  </csymbol>
                  <ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.2">
                   𝑴
                  </ci>
                  <ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.2.3">
                   ′
                  </ci>
                 </apply>
                 <ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.3.3">
                  𝑛
                 </ci>
                </apply>
               </apply>
               <apply id="S3.E7.m1.7.7.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.3">
                <csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.3">
                 subscript
                </csymbol>
                <ci id="S3.E7.m1.7.7.1.1.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.3.2">
                 𝒛
                </ci>
                <list id="S3.E7.m1.6.6.2.3.cmml" xref="S3.E7.m1.6.6.2.2">
                 <apply id="S3.E7.m1.5.5.1.1.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1">
                  <minus id="S3.E7.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.1.1">
                  </minus>
                  <ci id="S3.E7.m1.5.5.1.1.1.1.1.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.1.2">
                   𝑛
                  </ci>
                  <cn id="S3.E7.m1.5.5.1.1.1.1.1.3.cmml" type="integer" xref="S3.E7.m1.5.5.1.1.1.1.1.3">
                   1
                  </cn>
                 </apply>
                 <apply id="S3.E7.m1.6.6.2.2.2.1.1.cmml" xref="S3.E7.m1.6.6.2.2.2.1">
                  <minus id="S3.E7.m1.6.6.2.2.2.1.1.1.cmml" xref="S3.E7.m1.6.6.2.2.2.1.1.1">
                  </minus>
                  <ci id="S3.E7.m1.6.6.2.2.2.1.1.2.cmml" xref="S3.E7.m1.6.6.2.2.2.1.1.2">
                   𝑡
                  </ci>
                  <cn id="S3.E7.m1.6.6.2.2.2.1.1.3.cmml" type="integer" xref="S3.E7.m1.6.6.2.2.2.1.1.3">
                   1
                  </cn>
                 </apply>
                </list>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E7.m1.7c">
            \displaystyle\bm{z}_{n,(t-1)}=\bm{M}^{\prime}_{n}\odot\bm{z}_{n,(t-1)}+(1-\bm{M}^{\prime}_{n})\odot\bm{z}_{(n-1),(t-1)},
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (7)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.36">
      where
      <math alttext="\odot" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.33.m1.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.33.m1.1a">
        <mo id="S3.SS4.SSS0.Px2.p1.33.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.33.m1.1.1.cmml">
         ⊙
        </mo>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.33.m1.1b">
         <csymbol cd="latexml" id="S3.SS4.SSS0.Px2.p1.33.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.33.m1.1.1">
          direct-product
         </csymbol>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.33.m1.1c">
         \odot
        </annotation>
       </semantics>
      </math>
      computes element-wise product and
      <math alttext="[\bm{M}^{\prime}_{n}]_{uv}=\mathbbm{1}_{u\in[x_{n},x_{n}+w_{n}],v\in[y_{n},y_{n}+h_{n}]}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.34.m2.3">
       <semantics id="S3.SS4.SSS0.Px2.p1.34.m2.3a">
        <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.3.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.cmml">
         <msub id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.cmml">
          <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.2.cmml">
           <mo id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.2.1.cmml">
            [
           </mo>
           <msubsup id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.cmml">
            <mi id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.2.cmml">
             𝑴
            </mi>
            <mi id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.3.cmml">
             n
            </mi>
            <mo id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.3.cmml">
             ′
            </mo>
           </msubsup>
           <mo id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.2.1.cmml">
            ]
           </mo>
          </mrow>
          <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.cmml">
           <mi id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.2.cmml">
            u
           </mi>
           <mo id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.1" lspace="0em" rspace="0em" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.1.cmml">
            ​
           </mo>
           <mi id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.3.cmml">
            v
           </mi>
          </mrow>
         </msub>
         <mo id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.2.cmml">
          =
         </mo>
         <msub id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.cmml">
          <mn id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.2.cmml">
           𝟙
          </mn>
          <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.3.cmml">
           <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.cmml">
            <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.4" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.4.cmml">
             u
            </mi>
            <mo id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.3.cmml">
             ∈
            </mo>
            <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.3.cmml">
             <mo id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.3.cmml">
              [
             </mo>
             <msub id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.cmml">
              <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.2.cmml">
               x
              </mi>
              <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.3.cmml">
               n
              </mi>
             </msub>
             <mo id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.4" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.3.cmml">
              ,
             </mo>
             <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.cmml">
              <msub id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.cmml">
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.2.cmml">
                x
               </mi>
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.3.cmml">
                n
               </mi>
              </msub>
              <mo id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.1.cmml">
               +
              </mo>
              <msub id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.cmml">
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.2.cmml">
                w
               </mi>
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.3.cmml">
                n
               </mi>
              </msub>
             </mrow>
             <mo id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.5" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.3.cmml">
              ]
             </mo>
            </mrow>
           </mrow>
           <mo id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.3a.cmml">
            ,
           </mo>
           <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.cmml">
            <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.4" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.4.cmml">
             v
            </mi>
            <mo id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.3.cmml">
             ∈
            </mo>
            <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.3.cmml">
             <mo id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.3.cmml">
              [
             </mo>
             <msub id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.cmml">
              <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.2.cmml">
               y
              </mi>
              <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.3.cmml">
               n
              </mi>
             </msub>
             <mo id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.4" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.3.cmml">
              ,
             </mo>
             <mrow id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.cmml">
              <msub id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.cmml">
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.2.cmml">
                y
               </mi>
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.3.cmml">
                n
               </mi>
              </msub>
              <mo id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.1" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.1.cmml">
               +
              </mo>
              <msub id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.cmml">
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.2" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.2.cmml">
                h
               </mi>
               <mi id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.3" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.3.cmml">
                n
               </mi>
              </msub>
             </mrow>
             <mo id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.5" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.3.cmml">
              ]
             </mo>
            </mrow>
           </mrow>
          </mrow>
         </msub>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.34.m2.3b">
         <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3">
          <eq id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.2">
          </eq>
          <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1">
            subscript
           </csymbol>
           <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1">
            <csymbol cd="latexml" id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.2">
             delimited-[]
            </csymbol>
            <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1">
             <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1">
              subscript
             </csymbol>
             <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1">
              <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1">
               superscript
              </csymbol>
              <ci id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.2">
               𝑴
              </ci>
              <ci id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.2.3">
               ′
              </ci>
             </apply>
             <ci id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.1.1.1.3">
              𝑛
             </ci>
            </apply>
           </apply>
           <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3">
            <times id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.1">
            </times>
            <ci id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.2">
             𝑢
            </ci>
            <ci id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.1.3.3">
             𝑣
            </ci>
           </apply>
          </apply>
          <apply id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3">
            subscript
           </csymbol>
           <cn id="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.2.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.34.m2.3.3.3.2">
            1
           </cn>
           <apply id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.3a.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.3">
             formulae-sequence
            </csymbol>
            <apply id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1">
             <in id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.3">
             </in>
             <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.4.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.4">
              𝑢
             </ci>
             <interval closure="closed" id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2">
              <apply id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1">
                subscript
               </csymbol>
               <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.2">
                𝑥
               </ci>
               <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.1.1.1.3">
                𝑛
               </ci>
              </apply>
              <apply id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2">
               <plus id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.1">
               </plus>
               <apply id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2">
                 subscript
                </csymbol>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.2">
                 𝑥
                </ci>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.2.3">
                 𝑛
                </ci>
               </apply>
               <apply id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3">
                <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3">
                 subscript
                </csymbol>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.2">
                 𝑤
                </ci>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.1.1.1.1.1.2.2.2.3.3">
                 𝑛
                </ci>
               </apply>
              </apply>
             </interval>
            </apply>
            <apply id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2">
             <in id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.3">
             </in>
             <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.4.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.4">
              𝑣
             </ci>
             <interval closure="closed" id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2">
              <apply id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1">
               <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1">
                subscript
               </csymbol>
               <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.2">
                𝑦
               </ci>
               <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.1.1.1.3">
                𝑛
               </ci>
              </apply>
              <apply id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2">
               <plus id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.1">
               </plus>
               <apply id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2">
                 subscript
                </csymbol>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.2">
                 𝑦
                </ci>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.2.3">
                 𝑛
                </ci>
               </apply>
               <apply id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3">
                <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3">
                 subscript
                </csymbol>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.2">
                 ℎ
                </ci>
                <ci id="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.34.m2.2.2.2.2.2.2.2.2.3.3">
                 𝑛
                </ci>
               </apply>
              </apply>
             </interval>
            </apply>
           </apply>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.34.m2.3c">
         [\bm{M}^{\prime}_{n}]_{uv}=\mathbbm{1}_{u\in[x_{n},x_{n}+w_{n}],v\in[y_{n},y_{n}+h_{n}]}
        </annotation>
       </semantics>
      </math>
      is the 0-1 indicator of whether coordinates
      <math alttext="(u,v)" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.35.m3.2">
       <semantics id="S3.SS4.SSS0.Px2.p1.35.m3.2a">
        <mrow id="S3.SS4.SSS0.Px2.p1.35.m3.2.3.2" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.3.1.cmml">
         <mo id="S3.SS4.SSS0.Px2.p1.35.m3.2.3.2.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.3.1.cmml">
          (
         </mo>
         <mi id="S3.SS4.SSS0.Px2.p1.35.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.35.m3.1.1.cmml">
          u
         </mi>
         <mo id="S3.SS4.SSS0.Px2.p1.35.m3.2.3.2.2" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.3.1.cmml">
          ,
         </mo>
         <mi id="S3.SS4.SSS0.Px2.p1.35.m3.2.2" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.2.cmml">
          v
         </mi>
         <mo id="S3.SS4.SSS0.Px2.p1.35.m3.2.3.2.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.3.1.cmml">
          )
         </mo>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.35.m3.2b">
         <interval closure="open" id="S3.SS4.SSS0.Px2.p1.35.m3.2.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.3.2">
          <ci id="S3.SS4.SSS0.Px2.p1.35.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.35.m3.1.1">
           𝑢
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.35.m3.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.35.m3.2.2">
           𝑣
          </ci>
         </interval>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.35.m3.2c">
         (u,v)
        </annotation>
       </semantics>
      </math>
      is included in the bounding box of
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.36.m4.1">
       <semantics id="S3.SS4.SSS0.Px2.p1.36.m4.1a">
        <msub id="S3.SS4.SSS0.Px2.p1.36.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p1.36.m4.1.1.2" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px2.p1.36.m4.1.1.3" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.36.m4.1b">
         <apply id="S3.SS4.SSS0.Px2.p1.36.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.36.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p1.36.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p1.36.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.36.m4.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.36.m4.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      .
     </p>
    </div>
    <div class="ltx_para" id="S3.SS4.SSS0.Px2.p2">
     <p class="ltx_p" id="S3.SS4.SSS0.Px2.p2.14">
      MuLan applies the above single-object diffusion to each object one after another from
      <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.1.m1.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.1.m1.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.1.m1.1.1" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.2" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.3" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.1.m1.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="S3.SS4.SSS0.Px2.p2.1.m1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p2.1.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.1.m1.1c">
         \texttt{obj}_{1}
        </annotation>
       </semantics>
      </math>
      to
      <math alttext="\texttt{obj}_{N}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.2.m2.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.2.m2.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.2.m2.1.1" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1.3.cmml">
          N
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.2.m2.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.2.m2.1.1.3">
           𝑁
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.2.m2.1c">
         \texttt{obj}_{N}
        </annotation>
       </semantics>
      </math>
      , as planned by the LLM at the very beginning.
The procedure of generating
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.3.m3.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.3.m3.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.3.m3.1.1" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.2" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.3" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.3.m3.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.3.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.3.m3.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.3.m3.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      is detailed in Algorithm
      <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        1
       </span>
      </a>
      . In each stage-
      <math alttext="n" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.4.m4.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.4.m4.1a">
        <mi id="S3.SS4.SSS0.Px2.p2.4.m4.1.1" xref="S3.SS4.SSS0.Px2.p2.4.m4.1.1.cmml">
         n
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.4.m4.1b">
         <ci id="S3.SS4.SSS0.Px2.p2.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.4.m4.1.1">
          𝑛
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.4.m4.1c">
         n
        </annotation>
       </semantics>
      </math>
      , MuLan applies an LLM planner to determine the location
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.5.m5.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.5.m5.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.5.m5.1.1" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.2" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.3" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.5.m5.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.5.m5.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.5.m5.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.5.m5.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      of
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.6.m6.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.6.m6.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.6.m6.1.1" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.2" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.3" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.6.m6.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.6.m6.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.6.m6.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      and object count
      <math alttext="\texttt{Num}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.7.m7.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.7.m7.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.7.m7.1.1" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.2" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1.2a.cmml">
          Num
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.3" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.7.m7.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1.2">
            Num
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.7.m7.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.7.m7.1c">
         \texttt{Num}_{n}
        </annotation>
       </semantics>
      </math>
      at
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.8.m8.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.8.m8.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.8.m8.1.1" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.2" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.3" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.8.m8.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.8.m8.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.8.m8.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.8.m8.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      . MuLan then derives a rough mask
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.9.m9.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.9.m9.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.9.m9.1.1" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p2.9.m9.1.1.2" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px2.p2.9.m9.1.1.3" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.9.m9.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.9.m9.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.9.m9.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.9.m9.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.9.m9.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.9.m9.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      from
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.10.m10.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.10.m10.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.10.m10.1.1" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.2" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.3" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.10.m10.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.10.m10.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.10.m10.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.10.m10.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="\texttt{Num}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.11.m11.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.11.m11.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.11.m11.1.1" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.2" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1.2a.cmml">
          Num
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.3" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.11.m11.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1.2">
            Num
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.11.m11.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.11.m11.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.11.m11.1c">
         \texttt{Num}_{n}
        </annotation>
       </semantics>
      </math>
      , and previously generated object’s precise mask. Given
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.12.m12.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.12.m12.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.12.m12.1.1" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p2.12.m12.1.1.2" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px2.p2.12.m12.1.1.3" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.12.m12.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.12.m12.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.12.m12.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      , MuLan applies a diffusion model to generate
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.13.m13.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.13.m13.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.13.m13.1.1" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.2" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.3" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.13.m13.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.2a.cmml" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.13.m13.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.13.m13.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.13.m13.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      in the
      <math alttext="\bm{M}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p2.14.m14.1">
       <semantics id="S3.SS4.SSS0.Px2.p2.14.m14.1a">
        <msub id="S3.SS4.SSS0.Px2.p2.14.m14.1.1" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1.cmml">
         <mi id="S3.SS4.SSS0.Px2.p2.14.m14.1.1.2" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1.2.cmml">
          𝑴
         </mi>
         <mi id="S3.SS4.SSS0.Px2.p2.14.m14.1.1.3" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p2.14.m14.1b">
         <apply id="S3.SS4.SSS0.Px2.p2.14.m14.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p2.14.m14.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px2.p2.14.m14.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1.2">
           𝑴
          </ci>
          <ci id="S3.SS4.SSS0.Px2.p2.14.m14.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p2.14.m14.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p2.14.m14.1c">
         \bm{M}_{n}
        </annotation>
       </semantics>
      </math>
      -defined bounding box via attention guidance.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS4.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Overlapping between Objects
    </h4>
    <div class="ltx_para" id="S3.SS4.SSS0.Px3.p1">
     <p class="ltx_p" id="S3.SS4.SSS0.Px3.p1.7">
      Overlapping between objects is a key challenge when generating one object conditioned on the previous one(s). However, it lacks attention in previous methods
      <cite class="ltx_cite ltx_citemacro_citep">
       (Lian et al.,
       <a class="ltx_ref" href="#bib.bib12" title="">
        2023
       </a>
       ; Feng et al.,
       <a class="ltx_ref" href="#bib.bib6" title="">
        2023
       </a>
       )
      </cite>
      . Instead, we propose an effective strategy that can be merged into the procedure above. Specifically, at the generation of object
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.1.m1.1">
       <semantics id="S3.SS4.SSS0.Px3.p1.1.m1.1a">
        <msub id="S3.SS4.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.1.m1.1b">
         <apply id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.1.m1.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      , we prompt the LLM to judge if there is overlapping between
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.2.m2.1">
       <semantics id="S3.SS4.SSS0.Px3.p1.2.m2.1a">
        <msub id="S3.SS4.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.2.m2.1b">
         <apply id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.2.m2.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.3.m3.1">
       <semantics id="S3.SS4.SSS0.Px3.p1.3.m3.1a">
        <msub id="S3.SS4.SSS0.Px3.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.2" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.2" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.1" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.3" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.3.m3.1b">
         <apply id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3">
           <minus id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.3.m3.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.3.m3.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      . If there is no overlapping, the generation is the same as described above. If there is overlapping, we first compute three candidates for the rough mask
      <math alttext="\{\bm{M}_{n,i}\}_{i=1}^{3}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.4.m4.3">
       <semantics id="S3.SS4.SSS0.Px3.p1.4.m4.3a">
        <msubsup id="S3.SS4.SSS0.Px3.p1.4.m4.3.3" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.cmml">
         <mrow id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.2.cmml">
          <mo id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.2.cmml">
           {
          </mo>
          <msub id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.cmml">
           <mi id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.2" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.2.cmml">
            𝑴
           </mi>
           <mrow id="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.4" xref="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.3.cmml">
            <mi id="S3.SS4.SSS0.Px3.p1.4.m4.1.1.1.1" xref="S3.SS4.SSS0.Px3.p1.4.m4.1.1.1.1.cmml">
             n
            </mi>
            <mo id="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.4.1" xref="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.3.cmml">
             ,
            </mo>
            <mi id="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.2" xref="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.2.cmml">
             i
            </mi>
           </mrow>
          </msub>
          <mo id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.2.cmml">
           }
          </mo>
         </mrow>
         <mrow id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.2" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.2.cmml">
           i
          </mi>
          <mo id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.1" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.1.cmml">
           =
          </mo>
          <mn id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.3" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.3.cmml">
           1
          </mn>
         </mrow>
         <mn id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.3" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.3.cmml">
          3
         </mn>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.4.m4.3b">
         <apply id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.2.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3">
           superscript
          </csymbol>
          <apply id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3">
            subscript
           </csymbol>
           <set id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1">
            <apply id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1">
             <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1">
              subscript
             </csymbol>
             <ci id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.1.1.1.2">
              𝑴
             </ci>
             <list id="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.4">
              <ci id="S3.SS4.SSS0.Px3.p1.4.m4.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.1.1.1.1">
               𝑛
              </ci>
              <ci id="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.2.2.2.2">
               𝑖
              </ci>
             </list>
            </apply>
           </set>
           <apply id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3">
            <eq id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.1.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.1">
            </eq>
            <ci id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.2.cmml" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.2">
             𝑖
            </ci>
            <cn id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.1.3.3">
             1
            </cn>
           </apply>
          </apply>
          <cn id="S3.SS4.SSS0.Px3.p1.4.m4.3.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.4.m4.3.3.3">
           3
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.4.m4.3c">
         \{\bm{M}_{n,i}\}_{i=1}^{3}
        </annotation>
       </semantics>
      </math>
      , associated with three overlapping ratios
      <math alttext="\{r_{i}\}_{i=1}^{3}=\{10\%,30\%,50\%\}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.5.m5.4">
       <semantics id="S3.SS4.SSS0.Px3.p1.5.m5.4a">
        <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.4.4" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.cmml">
         <msubsup id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.cmml">
          <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.2.cmml">
           <mo id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.2.cmml">
            {
           </mo>
           <msub id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.cmml">
            <mi id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.2" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.2.cmml">
             r
            </mi>
            <mi id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.3" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.3.cmml">
             i
            </mi>
           </msub>
           <mo id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.2.cmml">
            }
           </mo>
          </mrow>
          <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.cmml">
           <mi id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.2" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.2.cmml">
            i
           </mi>
           <mo id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.1.cmml">
            =
           </mo>
           <mn id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.3" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.3.cmml">
            1
           </mn>
          </mrow>
          <mn id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.3" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.3.cmml">
           3
          </mn>
         </msubsup>
         <mo id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.5" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.5.cmml">
          =
         </mo>
         <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.4.cmml">
          <mo id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.4" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.4.cmml">
           {
          </mo>
          <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.cmml">
           <mn id="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.2" xref="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.2.cmml">
            10
           </mn>
           <mo id="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.1.cmml">
            %
           </mo>
          </mrow>
          <mo id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.5" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.4.cmml">
           ,
          </mo>
          <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2" xref="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.cmml">
           <mn id="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.2" xref="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.2.cmml">
            30
           </mn>
           <mo id="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.1.cmml">
            %
           </mo>
          </mrow>
          <mo id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.6" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.4.cmml">
           ,
          </mo>
          <mrow id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.cmml">
           <mn id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.2" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.2.cmml">
            50
           </mn>
           <mo id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.1" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.1.cmml">
            %
           </mo>
          </mrow>
          <mo id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.7" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.4.cmml">
           }
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.5.m5.4b">
         <apply id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4">
          <eq id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.5.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.5">
          </eq>
          <apply id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1">
            superscript
           </csymbol>
           <apply id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1">
             subscript
            </csymbol>
            <set id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1">
             <apply id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1">
              <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1">
               subscript
              </csymbol>
              <ci id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.2">
               𝑟
              </ci>
              <ci id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.1.1.1.3">
               𝑖
              </ci>
             </apply>
            </set>
            <apply id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3">
             <eq id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.1">
             </eq>
             <ci id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.2">
              𝑖
             </ci>
             <cn id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.1.3.3">
              1
             </cn>
            </apply>
           </apply>
           <cn id="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.5.m5.1.1.1.3">
            3
           </cn>
          </apply>
          <set id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.4.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3">
           <apply id="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1">
            <csymbol cd="latexml" id="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.1">
             percent
            </csymbol>
            <cn id="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.2.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.5.m5.2.2.2.1.1.2">
             10
            </cn>
           </apply>
           <apply id="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2">
            <csymbol cd="latexml" id="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.1">
             percent
            </csymbol>
            <cn id="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.2.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.5.m5.3.3.3.2.2.2">
             30
            </cn>
           </apply>
           <apply id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3">
            <csymbol cd="latexml" id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.1.cmml" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.1">
             percent
            </csymbol>
            <cn id="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.2.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.5.m5.4.4.4.3.3.2">
             50
            </cn>
           </apply>
          </set>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.5.m5.4c">
         \{r_{i}\}_{i=1}^{3}=\{10\%,30\%,50\%\}
        </annotation>
       </semantics>
      </math>
      between
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.6.m6.1">
       <semantics id="S3.SS4.SSS0.Px3.p1.6.m6.1a">
        <msub id="S3.SS4.SSS0.Px3.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.cmml">
          <mi id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.2" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.2.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.1" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.3" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.6.m6.1b">
         <apply id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3">
           <minus id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.1">
           </minus>
           <ci id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.2">
            𝑛
           </ci>
           <cn id="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS0.Px3.p1.6.m6.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.6.m6.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\texttt{obj}^{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.7.m7.1">
       <semantics id="S3.SS4.SSS0.Px3.p1.7.m7.1a">
        <msup id="S3.SS4.SSS0.Px3.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.3" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1.3.cmml">
          n
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.7.m7.1b">
         <apply id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px3.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p1.7.m7.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.7.m7.1c">
         \texttt{obj}^{n}
        </annotation>
       </semantics>
      </math>
      .
An illustration is given in Figure
      <a class="ltx_ref" href="#A3.F7" title="Figure 7 ‣ Appendix C More details on the overlapping processing ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        7
       </span>
      </a>
      with more details of candidate masks in Appendix
      <a class="ltx_ref" href="#A3" title="Appendix C More details on the overlapping processing ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        C
       </span>
      </a>
      .
     </p>
    </div>
    <div class="ltx_para" id="S3.SS4.SSS0.Px3.p2">
     <p class="ltx_p" id="S3.SS4.SSS0.Px3.p2.3">
      Given the three masks
      <math alttext="\bm{M}_{n,i}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p2.1.m1.2">
       <semantics id="S3.SS4.SSS0.Px3.p2.1.m1.2a">
        <msub id="S3.SS4.SSS0.Px3.p2.1.m1.2.3" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.3.cmml">
         <mi id="S3.SS4.SSS0.Px3.p2.1.m1.2.3.2" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.3.2.cmml">
          𝑴
         </mi>
         <mrow id="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.4" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.3.cmml">
          <mi id="S3.SS4.SSS0.Px3.p2.1.m1.1.1.1.1" xref="S3.SS4.SSS0.Px3.p2.1.m1.1.1.1.1.cmml">
           n
          </mi>
          <mo id="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.4.1" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.3.cmml">
           ,
          </mo>
          <mi id="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.2" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.2.cmml">
           i
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p2.1.m1.2b">
         <apply id="S3.SS4.SSS0.Px3.p2.1.m1.2.3.cmml" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.3">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p2.1.m1.2.3.1.cmml" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.3">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p2.1.m1.2.3.2.cmml" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.3.2">
           𝑴
          </ci>
          <list id="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.3.cmml" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.4">
           <ci id="S3.SS4.SSS0.Px3.p2.1.m1.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p2.1.m1.1.1.1.1">
            𝑛
           </ci>
           <ci id="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.2.cmml" xref="S3.SS4.SSS0.Px3.p2.1.m1.2.2.2.2">
            𝑖
           </ci>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p2.1.m1.2c">
         \bm{M}_{n,i}
        </annotation>
       </semantics>
      </math>
      , we generate three candidate images using Algoirthm
      <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        1
       </span>
      </a>
      . Then the CLIP scores
      <cite class="ltx_cite ltx_citemacro_citep">
       (Hessel et al.,
       <a class="ltx_ref" href="#bib.bib8" title="">
        2021
       </a>
       )
      </cite>
      between the generated images and the input prompt
      <math alttext="\texttt{p}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p2.2.m2.1">
       <semantics id="S3.SS4.SSS0.Px3.p2.2.m2.1a">
        <msub id="S3.SS4.SSS0.Px3.p2.2.m2.1.1" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.2" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1.2a.cmml">
          p
         </mtext>
         <mi id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.3" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p2.2.m2.1b">
         <apply id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1.2">
            p
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px3.p2.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p2.2.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p2.2.m2.1c">
         \texttt{p}_{n}
        </annotation>
       </semantics>
      </math>
      are computed and the image with the maximal CLIP score is selected as the generated image for
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p2.3.m3.1">
       <semantics id="S3.SS4.SSS0.Px3.p2.3.m3.1a">
        <msub id="S3.SS4.SSS0.Px3.p2.3.m3.1.1" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.2" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.3" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p2.3.m3.1b">
         <apply id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.2a.cmml" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="S3.SS4.SSS0.Px3.p2.3.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px3.p2.3.m3.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p2.3.m3.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      .
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S3.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.5
    </span>
    Adaptive Feedback Control by VLM
   </h3>
   <div class="ltx_para" id="S3.SS5.p1">
    <p class="ltx_p" id="S3.SS5.p1.1">
     To correct the possible mistakes made in the sequential generation process, MuLan builds a feedback-loop control by a vision-language model (VLM).
After each generation stage, MuLan queries the VLM to inspect the generated object(s)and its consistency with the input prompt. If they do not align well, MuLan will adjust the backward guidance and
     <math alttext="T^{*}" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1">
      <semantics id="S3.SS5.p1.1.m1.1a">
       <msup id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml">
        <mi id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">
         T
        </mi>
        <mo id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3.cmml">
         ∗
        </mo>
       </msup>
       <annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b">
        <apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">
          superscript
         </csymbol>
         <ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">
          𝑇
         </ci>
         <times id="S3.SS5.p1.1.m1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3">
         </times>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">
        T^{*}
       </annotation>
      </semantics>
     </math>
     of the current stage to re-generate the object.
Such a close-loop control involves LLM, diffusion, and VLM and significantly automates the T2I generation for complicated prompts, leading to a more accurate generation in practice.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    4
   </span>
   Experiments
  </h2>
  <figure class="ltx_table" id="S4.T1">
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_table">
     Table 1:
    </span>
    <span class="ltx_text ltx_font_bold" id="S4.T1.3.1">
     GPT-4V evaluation
     <span class="ltx_text" id="S4.T1.3.1.1" style="font-size:120%;">
      /
     </span>
     human evaluation
    </span>
    of images generated by different methods for complicated prompts.
   </figcaption>
   <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.1" style="width:629.0pt;height:149pt;vertical-align:-0.0pt;">
    <span class="ltx_transformed_inner" style="transform:translate(-27.3pt,6.5pt) scale(0.92,0.92) ;">
     <table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.1.1">
      <tbody class="ltx_tbody">
       <tr class="ltx_tr" id="S4.T1.1.1.2.1">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T1.1.1.2.1.1">
         Method
        </th>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.2.1.2">
         Object completeness
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.2.1.3">
         Attribute bindings
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.2.1.4">
         Spatial relationships
        </td>
        <td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.2.1.5">
         Overall
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.3.2">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.1.1.3.2.1">
         Structure Diffusion
         <cite class="ltx_cite ltx_citemacro_citep">
          (Feng et al.,
          <a class="ltx_ref" href="#bib.bib5" title="">
           2022
          </a>
          )
         </cite>
        </th>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.2.2">
         88.97%
         <span class="ltx_text" id="S4.T1.1.1.3.2.2.1" style="font-size:120%;">
          /
         </span>
         87.37%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.2.3">
         54.62%
         <span class="ltx_text" id="S4.T1.1.1.3.2.3.1" style="font-size:120%;">
          /
         </span>
         62.63%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.2.4">
         34.36%
         <span class="ltx_text" id="S4.T1.1.1.3.2.4.1" style="font-size:120%;">
          /
         </span>
         24.24%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3.2.5">
         64.31%
         <span class="ltx_text" id="S4.T1.1.1.3.2.5.1" style="font-size:120%;">
          /
         </span>
         64.85%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.4.3">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.4.3.1">
         Promptist-SD v1.4
         <cite class="ltx_cite ltx_citemacro_citep">
          (Hao et al.,
          <a class="ltx_ref" href="#bib.bib7" title="">
           2022
          </a>
          )
         </cite>
        </th>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.3.2">
         80.36%
         <span class="ltx_text" id="S4.T1.1.1.4.3.2.1" style="font-size:120%;">
          /
         </span>
         70.71%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.3.3">
         49.23%
         <span class="ltx_text" id="S4.T1.1.1.4.3.3.1" style="font-size:120%;">
          /
         </span>
         52.02%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.3.4">
         24.49%
         <span class="ltx_text" id="S4.T1.1.1.4.3.4.1" style="font-size:120%;">
          /
         </span>
         13.13%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.4.3.5">
         56.73%
         <span class="ltx_text" id="S4.T1.1.1.4.3.5.1" style="font-size:120%;">
          /
         </span>
         51.72%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.5.4">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.5.4.1">
         Promptist-SDXL
         <cite class="ltx_cite ltx_citemacro_citep">
          (Hao et al.,
          <a class="ltx_ref" href="#bib.bib7" title="">
           2022
          </a>
          )
         </cite>
        </th>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.4.2">
         94.36%
         <span class="ltx_text" id="S4.T1.1.1.5.4.2.1" style="font-size:120%;">
          /
         </span>
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.4.2.2">
          93.94%
         </span>
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.4.3">
         70.00%
         <span class="ltx_text" id="S4.T1.1.1.5.4.3.1" style="font-size:120%;">
          /
         </span>
         78.28%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.4.4">
         35.89%
         <span class="ltx_text" id="S4.T1.1.1.5.4.4.1" style="font-size:120%;">
          /
         </span>
         33.33%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.4.5">
         72.92%
         <span class="ltx_text" id="S4.T1.1.1.5.4.5.1" style="font-size:120%;">
          /
         </span>
         75.56%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.6.5">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.6.5.1">
         SD v1.4
         <cite class="ltx_cite ltx_citemacro_citep">
          (Rombach et al.,
          <a class="ltx_ref" href="#bib.bib17" title="">
           2022
          </a>
          )
         </cite>
        </th>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.5.2">
         90.31%
         <span class="ltx_text" id="S4.T1.1.1.6.5.2.1" style="font-size:120%;">
          /
         </span>
         74.49%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.5.3">
         57.14%
         <span class="ltx_text" id="S4.T1.1.1.6.5.3.1" style="font-size:120%;">
          /
         </span>
         51.02%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.5.4">
         37.24%
         <span class="ltx_text" id="S4.T1.1.1.6.5.4.1" style="font-size:120%;">
          /
         </span>
         32.65%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.6.5.5">
         66.43%
         <span class="ltx_text" id="S4.T1.1.1.6.5.5.1" style="font-size:120%;">
          /
         </span>
         56.73%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.7.6">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.7.6.1">
         SDXL
         <cite class="ltx_cite ltx_citemacro_citep">
          (Podell et al.,
          <a class="ltx_ref" href="#bib.bib16" title="">
           2023
          </a>
          )
         </cite>
        </th>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.6.2">
         94.64%
         <span class="ltx_text" id="S4.T1.1.1.7.6.2.1" style="font-size:120%;">
          /
         </span>
         78.57%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.6.3">
         66.07%
         <span class="ltx_text" id="S4.T1.1.1.7.6.3.1" style="font-size:120%;">
          /
         </span>
         53.06%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.6.4">
         41.14%
         <span class="ltx_text" id="S4.T1.1.1.7.6.4.1" style="font-size:120%;">
          /
         </span>
         24.49%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.6.5">
         72.34%
         <span class="ltx_text" id="S4.T1.1.1.7.6.5.1" style="font-size:120%;">
          /
         </span>
         57.55%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.1">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.1.1">
         PixArt-
         <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1">
          <semantics id="S4.T1.1.1.1.1.m1.1a">
           <mi id="S4.T1.1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.1.m1.1.1.cmml">
            α
           </mi>
           <annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b">
            <ci id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1">
             𝛼
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">
            \alpha
           </annotation>
          </semantics>
         </math>
         <cite class="ltx_cite ltx_citemacro_citep">
          (Chen et al.,
          <a class="ltx_ref" href="#bib.bib3" title="">
           2023
          </a>
          )
         </cite>
        </th>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.1.2">
         92.09%
         <span class="ltx_text" id="S4.T1.1.1.1.2.1" style="font-size:120%;">
          /
         </span>
         76.53%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.1.3">
         66.58%
         <span class="ltx_text" id="S4.T1.1.1.1.3.1" style="font-size:120%;">
          /
         </span>
         61.22%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.1.4">
         34.69%
         <span class="ltx_text" id="S4.T1.1.1.1.4.1" style="font-size:120%;">
          /
         </span>
         32.65%
        </td>
        <td class="ltx_td ltx_align_center" id="S4.T1.1.1.1.5">
         70.41%
         <span class="ltx_text" id="S4.T1.1.1.1.5.1" style="font-size:120%;">
          /
         </span>
         61.63%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.8.7">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.1.1.8.7.1">
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.8.7.1.1">
          MuLan-SD v1.4 (Ours)
         </span>
        </th>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.7.2">
         93.11%
         <span class="ltx_text" id="S4.T1.1.1.8.7.2.1" style="font-size:120%;">
          /
         </span>
         86.36%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.7.3">
         74.23%
         <span class="ltx_text" id="S4.T1.1.1.8.7.3.1" style="font-size:120%;">
          /
         </span>
         74.24%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.7.4">
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.8.7.4.1">
          51.53%
         </span>
         <span class="ltx_text" id="S4.T1.1.1.8.7.4.2" style="font-size:120%;">
          /
         </span>
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.8.7.4.3">
          54.54%
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.7.5">
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.8.7.5.1">
          77.24%
         </span>
         <span class="ltx_text" id="S4.T1.1.1.8.7.5.2" style="font-size:120%;">
          /
         </span>
         75.15%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T1.1.1.9.8">
        <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T1.1.1.9.8.1">
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.8.1.1">
          MuLan-SDXL (Ours)
         </span>
        </th>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.9.8.2">
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.8.2.1">
          96.17%
         </span>
         <span class="ltx_text" id="S4.T1.1.1.9.8.2.2" style="font-size:120%;">
          /
         </span>
         90.40%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.9.8.3">
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.8.3.1">
          75.00%
         </span>
         <span class="ltx_text" id="S4.T1.1.1.9.8.3.2" style="font-size:120%;">
          /
         </span>
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.8.3.3">
          79.29%
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.9.8.4">
         39.29%
         <span class="ltx_text" id="S4.T1.1.1.9.8.4.1" style="font-size:120%;">
          /
         </span>
         49.49%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.9.8.5">
         76.33%
         <span class="ltx_text" id="S4.T1.1.1.9.8.5.1" style="font-size:120%;">
          /
         </span>
         <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.8.5.2">
          77.78%
         </span>
        </td>
       </tr>
      </tbody>
     </table>
    </span>
   </div>
  </figure>
  <section class="ltx_paragraph" id="S4.SS0.SSS0.Px1">
   <h4 class="ltx_title ltx_title_paragraph">
    Dataset
   </h4>
   <div class="ltx_para" id="S4.SS0.SSS0.Px1.p1">
    <p class="ltx_p" id="S4.SS0.SSS0.Px1.p1.1">
     To evaluate our framework, we construct a prompt dataset from different benchmarks. Specifically, since our focus is to achieve better generation for complex prompts containing multi-objects with both spatial relationships and attribute bindings, we first collect all complex spatial prompts from T2I-CompBench
     <cite class="ltx_cite ltx_citemacro_citep">
      (Huang et al.,
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      )
     </cite>
     . To make the experiments more comprehensive, we let ChatGPT generate about 400 prompts with different objects, spatial relationships, and attribute bindings so that the prompt sets consists of about 600 prompts. To further evaluate the capability of our framework on extremely complex and hard prompts, we manually add prompts that SDXL fails to generate, leading to a hard prompt dataset containing 200 prompts. Similar to the complex spatial prompts in T2I-CompBench
     <cite class="ltx_cite ltx_citemacro_citep">
      (Huang et al.,
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      )
     </cite>
     , each prompt in our curated dataset typically contains two objects with various spatial relationships, with each object containing attribute bindings randomly selected from
     <span class="ltx_text ltx_font_typewriter" id="S4.SS0.SSS0.Px1.p1.1.1">
      {color,shape,texture}
     </span>
     .
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S4.SS0.SSS0.Px2">
   <h4 class="ltx_title ltx_title_paragraph">
    Models &amp; Baseline
   </h4>
   <div class="ltx_para" id="S4.SS0.SSS0.Px2.p1">
    <p class="ltx_p" id="S4.SS0.SSS0.Px2.p1.1">
     As a training-free framework, MuLan can be incorporated into any existing diffusion models. We evaluate two stable diffusion models with our framework, Stable Diffusion v1.4
     <cite class="ltx_cite ltx_citemacro_citep">
      (Rombach et al.,
      <a class="ltx_ref" href="#bib.bib17" title="">
       2022
      </a>
      )
     </cite>
     and the SOTA Stable Diffusion XL
     <cite class="ltx_cite ltx_citemacro_citep">
      (Podell et al.,
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      )
     </cite>
     . To verify the superiority of MuLan, we compare it with previous controllable generation methods and general T2I generation methods. Specifically, we evaluate Structure Diffusion
     <cite class="ltx_cite ltx_citemacro_citep">
      (Feng et al.,
      <a class="ltx_ref" href="#bib.bib5" title="">
       2022
      </a>
      )
     </cite>
     , Promptist
     <cite class="ltx_cite ltx_citemacro_citep">
      (Hao et al.,
      <a class="ltx_ref" href="#bib.bib7" title="">
       2022
      </a>
      )
     </cite>
     , the original Stable Diffusion v1.4, the original SDXL, and the recent SOTA diffusion model PixArt-
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px2.p1.1.m1.1">
      <semantics id="S4.SS0.SSS0.Px2.p1.1.m1.1a">
       <mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px2.p1.1.m1.1b">
        <ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px2.p1.1.m1.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     <cite class="ltx_cite ltx_citemacro_citep">
      (Chen et al.,
      <a class="ltx_ref" href="#bib.bib3" title="">
       2023
      </a>
      )
     </cite>
     .
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S4.SS0.SSS0.Px3">
   <h4 class="ltx_title ltx_title_paragraph">
    Implementation Details
   </h4>
   <div class="ltx_para" id="S4.SS0.SSS0.Px3.p1">
    <p class="ltx_p" id="S4.SS0.SSS0.Px3.p1.1">
     MuLan use GPT-4
     <cite class="ltx_cite ltx_citemacro_citep">
      (Achiam et al.,
      <a class="ltx_ref" href="#bib.bib1" title="">
       2023
      </a>
      )
     </cite>
     as the LLM planner, and LLaVA-1.5
     <cite class="ltx_cite ltx_citemacro_citep">
      (Liu et al.,
      <a class="ltx_ref" href="#bib.bib13" title="">
       2023
      </a>
      )
     </cite>
     as the VLM checker to provide the feedback. We also conducted an ablation study to show the importance of the feedback control provided by the VLM and the effect of different VLMs. Moreover, we found the attention blocks utilized during the attention guidance are vital, which can be classified as near-input blocks, near-middle blocks, and near-output blocks. We utilize the near-middle blocks in our main experiments and also show the ablation results of different blocks.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S4.SS0.SSS0.Px4">
   <h4 class="ltx_title ltx_title_paragraph">
    Evaluation
   </h4>
   <div class="ltx_para" id="S4.SS0.SSS0.Px4.p1">
    <p class="ltx_p" id="S4.SS0.SSS0.Px4.p1.1">
     Since the prompt dataset contains texts with complex compositions, we design a questionnaire to comprehensively investigate the alignment between the generated image and the corresponding input text.
The questionnaire is composed of three aspects - object completeness, correctness of attribute bindings, and correctness of spatial relationships. We only set two options for each question (Yes or No), without any ambiguity. For detailed questions and examples of the evaluation, please refer to Appendix
     <a class="ltx_ref" href="#A4" title="Appendix D More details on the evaluation questionnaire ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
      <span class="ltx_text ltx_ref_tag">
       D
      </span>
     </a>
     . For each aspect of the evaluation, we compute the percentage of answers with “Yes”.
Given the generated image, we assess the image’s quality using a questionnaire asking both the state-of-the-art multi-modal large language model (GPT-4V
     <cite class="ltx_cite ltx_citemacro_citep">
      (OpenAI,
      <a class="ltx_ref" href="#bib.bib15" title="">
       2023
      </a>
      )
     </cite>
     ) and the human evaluator.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.1
    </span>
    Main Results and Analysis
   </h3>
   <section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Results with GPT Evaluation
    </h4>
    <div class="ltx_para" id="S4.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="S4.SS1.SSS0.Px1.p1.1">
      Given the generated image, we prompt GPT-4V to answer the questions about the image in the questionnaire, where each only focuses on one of the three aspects. The results for different methods and different base models are shown in Table
      <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        1
       </span>
      </a>
      . The results show that our framework can achieve the best performance compared to different controllable generation methods and T2I generation methods. In particular, in the two ‘harder’ aspects - attribute bindings and spatial relationships, MuLan can surpass other methods by a large margin. More qualitative results can be found in Figure
      <a class="ltx_ref" href="#S4.F6" title="Figure 6 ‣ Results with GPT Evaluation ‣ 4.1 Main Results and Analysis ‣ 4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        6
       </span>
      </a>
      and Appendix
      <a class="ltx_ref" href="#A5" title="Appendix E More qualitative results ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        E
       </span>
      </a>
      .
     </p>
    </div>
    <figure class="ltx_figure" id="S4.F6">
     <br class="ltx_break"/>
     <p class="ltx_p ltx_align_center ltx_align_center" id="S4.F6.1.1">
      <span class="ltx_text" id="S4.F6.1.1.1">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="318" id="S4.F6.1.1.1.g1" src="/html/2402.12741/assets/qualitative.png" width="598"/>
      </span>
     </p>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 6:
      </span>
      More qualitative examples of images generated by different methods on intricate prompts.
     </figcaption>
    </figure>
   </section>
   <section class="ltx_paragraph" id="S4.SS1.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Results with Human evaluation
    </h4>
    <div class="ltx_para" id="S4.SS1.SSS0.Px2.p1">
     <p class="ltx_p" id="S4.SS1.SSS0.Px2.p1.1">
      To further accurately evaluate the generated images about the alignments with human preferences, we further conduct a human evaluation by randomly sampling 100 prompts from the prompt dataset. Similarly, we ask human evaluators to finish the questionnaire used in GPT evaluation. The results are shown in Table
      <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        1
       </span>
      </a>
      , which indicates that our method can still achieve the best performance and is consistent with the GPT-4V evaluation results.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.2
    </span>
    Ablation study
   </h3>
   <div class="ltx_para" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.1">
     In this section, we show ablation results on the effect of the attention blocks during diffusion generation and the importance of the VLM feedback control in the proposed framework. 50 prompts are randomly sampled from the prompt dataset for all experiments in the ablation study.
    </p>
   </div>
   <section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Ablation on the attention blocks
    </h4>
    <div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
     <p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.1">
      As we mentioned at the beginning of Section
      <a class="ltx_ref" href="#S4" title="4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      , there are three options for the attention blocks used for backward guidance, i.e., near-input blocks, near-middle blocks, and near-output blocks. We empirically found the near-middle blocks can achieve the best control and performance for the generation, which generally contains the richest semantics. Hence here we show the ablation results on different choices of the attention blocks. We utilize SD-v1.4 as the base model, and evaluate the performance of different attention blocks under our framework by GPT-4V. The results are shown in Table
      <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ Ablation on the attention blocks ‣ 4.2 Ablation study ‣ 4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        2
       </span>
      </a>
      , which indicates the diffusion generation with near-middle blocks can achieve much better results compared to the other two options.
     </p>
    </div>
    <figure class="ltx_table" id="S4.T2">
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 2:
      </span>
      <span class="ltx_text ltx_font_bold" id="S4.T2.2.1">
       Ablation study on attention blocks
      </span>
      with SD-v1.4 as the base model. “Objects”, “Attributes”, and “Spatial” denote Object completeness, Attribute bindings, and Spatial relationships. The results (evaluated by GPT-4V
      <cite class="ltx_cite ltx_citemacro_citep">
       (OpenAI,
       <a class="ltx_ref" href="#bib.bib15" title="">
        2023
       </a>
       )
      </cite>
      ) show that near-middle attention blocks perform the best for attention guidance.
     </figcaption>
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.3" style="width:227.9pt;height:64.8pt;vertical-align:-0.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(-12.7pt,3.6pt) scale(0.9,0.9) ;">
       <table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.3.1">
        <thead class="ltx_thead">
         <tr class="ltx_tr" id="S4.T2.3.1.1.1">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.3.1.1.1.1">
           Guidance
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T2.3.1.1.1.2">
           Objects
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T2.3.1.1.1.3">
           Attributes
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T2.3.1.1.1.4">
           Spatial
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.3.1.1.1.5">
           Overall
          </th>
         </tr>
        </thead>
        <tbody class="ltx_tbody">
         <tr class="ltx_tr" id="S4.T2.3.1.2.1">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.3.1.2.1.1">
           near-input
          </th>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.3.1.2.1.2">
           83.67%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.3.1.2.1.3">
           55.10%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.3.1.2.1.4">
           14.29%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.3.1.2.1.5">
           58.37%
          </td>
         </tr>
         <tr class="ltx_tr" id="S4.T2.3.1.3.2">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.3.1.3.2.1">
           near-middle
          </th>
          <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.3.1.3.2.2">
           <span class="ltx_text ltx_font_bold" id="S4.T2.3.1.3.2.2.1">
            97.96%
           </span>
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.3.1.3.2.3">
           <span class="ltx_text ltx_font_bold" id="S4.T2.3.1.3.2.3.1">
            80.61%
           </span>
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.3.1.3.2.4">
           <span class="ltx_text ltx_font_bold" id="S4.T2.3.1.3.2.4.1">
            30.61%
           </span>
          </td>
          <td class="ltx_td ltx_align_center" id="S4.T2.3.1.3.2.5">
           <span class="ltx_text ltx_font_bold" id="S4.T2.3.1.3.2.5.1">
            77.55%
           </span>
          </td>
         </tr>
         <tr class="ltx_tr" id="S4.T2.3.1.4.3">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T2.3.1.4.3.1">
           near-output
          </th>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T2.3.1.4.3.2">
           72.45%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T2.3.1.4.3.3">
           45.92%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T2.3.1.4.3.4">
           22.45%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.3.1.4.3.5">
           51.84%
          </td>
         </tr>
        </tbody>
       </table>
      </span>
     </div>
    </figure>
   </section>
   <section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Ablation on the VLM feedback control
    </h4>
    <div class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
     <p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.1">
      The VLM feedback control is a key componenet in MuLan to provide feedback and adjust the generation process to ensure the every stage’s correct generation. Here, we show the importance of the feedback by removing feedback control from the whole framework. As shown in Table
      <a class="ltx_ref" href="#S4.T3" title="Table 3 ‣ Ablation on the VLM feedback control ‣ 4.2 Ablation study ‣ 4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        3
       </span>
      </a>
      , after removing the VLM, the results would be much worse. It is because there is no guarantee or adaptive adjustment for each generation stage, which verifies that the feedback control provided by the VLM is essential to handle complex prompts. Moreover, we also test MuLan’s compatibility with different VLMs. As shown in Table
      <a class="ltx_ref" href="#S4.T4" title="Table 4 ‣ Ablation on the VLM feedback control ‣ 4.2 Ablation study ‣ 4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      , we compare the Mulan’s performance using different VLMs including LLaVA-1.5
      <cite class="ltx_cite ltx_citemacro_citep">
       (Liu et al.,
       <a class="ltx_ref" href="#bib.bib13" title="">
        2023
       </a>
       )
      </cite>
      , GPT-4V
      <cite class="ltx_cite ltx_citemacro_citep">
       (OpenAI,
       <a class="ltx_ref" href="#bib.bib15" title="">
        2023
       </a>
       )
      </cite>
      , and Gemini-Pro
      <cite class="ltx_cite ltx_citemacro_citep">
       (Team et al.,
       <a class="ltx_ref" href="#bib.bib21" title="">
        2023
       </a>
       )
      </cite>
      . The results show that MuLan could still maintain a good performance with different choices of the VLM and achieve good compatibility.
     </p>
    </div>
    <figure class="ltx_table" id="S4.T3">
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 3:
      </span>
      <span class="ltx_text ltx_font_bold" id="S4.T3.3.1">
       Ablation study
      </span>
      comparing
      <span class="ltx_text ltx_font_bold" id="S4.T3.4.2">
       MuLan with vs. without VLM feedback
      </span>
      control, using SD-v1.4 as the diffusion model and GPT-4 as the judge in evaluations. It indicates that feedback control can significantly improve the performance.
     </figcaption>
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.5" style="width:236.0pt;height:48.6pt;vertical-align:-0.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(-13.1pt,2.7pt) scale(0.9,0.9) ;">
       <table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.5.1">
        <thead class="ltx_thead">
         <tr class="ltx_tr" id="S4.T3.5.1.1.1">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.5.1.1.1.1">
           MuLan
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T3.5.1.1.1.2">
           Objects
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T3.5.1.1.1.3">
           Attributes
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T3.5.1.1.1.4">
           Spatial
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.5.1.1.1.5">
           Overall
          </th>
         </tr>
        </thead>
        <tbody class="ltx_tbody">
         <tr class="ltx_tr" id="S4.T3.5.1.2.1">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.5.1.2.1.1">
           w/ Feedback
          </th>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.5.1.2.1.2">
           <span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.1.2.1">
            97.96%
           </span>
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.5.1.2.1.3">
           <span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.1.3.1">
            80.61%
           </span>
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.5.1.2.1.4">
           <span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.1.4.1">
            30.61%
           </span>
          </td>
          <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.2.1.5">
           <span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.1.5.1">
            77.55%
           </span>
          </td>
         </tr>
         <tr class="ltx_tr" id="S4.T3.5.1.3.2">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T3.5.1.3.2.1">
           w/o Feedback
          </th>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T3.5.1.3.2.2">
           81.63%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T3.5.1.3.2.3">
           59.18%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T3.5.1.3.2.4">
           18.37%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.5.1.3.2.5">
           60.00%
          </td>
         </tr>
        </tbody>
       </table>
      </span>
     </div>
    </figure>
    <figure class="ltx_table" id="S4.T4">
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 4:
      </span>
      <span class="ltx_text ltx_font_bold" id="S4.T4.2.1">
       Ablation study of the VLM
      </span>
      used in MuLan, using SD-v1.4 as the diffusion model and GPT-4 as the judge in evaluations. The results show that the choice of the VLM would not affect the overall performance too much.
     </figcaption>
     <div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.3" style="width:329.4pt;height:52.6pt;vertical-align:-0.0pt;">
      <span class="ltx_transformed_inner" style="transform:translate(-60.9pt,9.7pt) scale(0.73,0.73) ;">
       <table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T4.3.1">
        <thead class="ltx_thead">
         <tr class="ltx_tr" id="S4.T4.3.1.1.1">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.3.1.1.1.1">
           VLM in MuLan
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T4.3.1.1.1.2">
           Objects
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T4.3.1.1.1.3">
           Attributes
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T4.3.1.1.1.4">
           Spatial
          </th>
          <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.3.1.1.1.5">
           Overall
          </th>
         </tr>
        </thead>
        <tbody class="ltx_tbody">
         <tr class="ltx_tr" id="S4.T4.3.1.2.1">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.3.1.2.1.1">
           LLaVA-1.5
           <cite class="ltx_cite ltx_citemacro_citep">
            (Liu et al.,
            <a class="ltx_ref" href="#bib.bib13" title="">
             2023
            </a>
            )
           </cite>
          </th>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.3.1.2.1.2">
           97.96%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.3.1.2.1.3">
           80.61%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.3.1.2.1.4">
           30.61%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.3.1.2.1.5">
           77.55%
          </td>
         </tr>
         <tr class="ltx_tr" id="S4.T4.3.1.3.2">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.3.1.3.2.1">
           GPT-4V
           <cite class="ltx_cite ltx_citemacro_citep">
            (OpenAI,
            <a class="ltx_ref" href="#bib.bib15" title="">
             2023
            </a>
            )
           </cite>
          </th>
          <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.3.1.3.2.2">
           95.92%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.3.1.3.2.3">
           80.61%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.3.1.3.2.4">
           28.57%
          </td>
          <td class="ltx_td ltx_align_center" id="S4.T4.3.1.3.2.5">
           76.33%
          </td>
         </tr>
         <tr class="ltx_tr" id="S4.T4.3.1.4.3">
          <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T4.3.1.4.3.1">
           Gemini-Pro
           <cite class="ltx_cite ltx_citemacro_citep">
            (Team et al.,
            <a class="ltx_ref" href="#bib.bib21" title="">
             2023
            </a>
            )
           </cite>
          </th>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T4.3.1.4.3.2">
           95.92%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T4.3.1.4.3.3">
           83.67%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T4.3.1.4.3.4">
           38.78%
          </td>
          <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.3.1.4.3.5">
           79.59%
          </td>
         </tr>
        </tbody>
       </table>
      </span>
     </div>
    </figure>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    5
   </span>
   Conclusions and Limitations
  </h2>
  <div class="ltx_para" id="S5.p1">
   <p class="ltx_p" id="S5.p1.1">
    In this paper, we propose a training-free multimodal-LLM agent (MuLan) to progressively generate objects contained in the complicated input prompt with closed-loop feedback control, achieving better and more precise control on the whole generation process. By first decomposing the complicated prompt into easier sub-tasks, our method takes turns to deal with each object, conditioned on the previous one. The VLM checker further provides a guarantee with feedback control and adaptive adjustment for correct generation at each stage. Extensive experiments demonstrate the superiority of MuLan over previous methods, showing the potential of MuLan as a new paradigm of controllable diffusion generation.
However, there are still limitations to be further addressed in the future work. Since the whole generation contains multiple stages, depending on the number of objects, it will take a longer time than a one-stage generation approach. On the other hand, the LLM planner may mistakenly parse the input prompt which results in incorrect decomposition. This could be addressed by first re-writing the input prompt by the LLM to facilitate later processing.
   </p>
  </div>
 </section>
 <section class="ltx_section" id="Sx1">
  <h2 class="ltx_title ltx_title_section">
   Broader Impact
  </h2>
  <div class="ltx_para" id="Sx1.p1">
   <p class="ltx_p" id="Sx1.p1.1">
    Our work will bring significant advantages to both the research community focused on diffusion models and the practical application of T2I generation.
   </p>
  </div>
  <div class="ltx_para" id="Sx1.p2">
   <p class="ltx_p" id="Sx1.p2.1">
    In terms of the research community, we present a new and novel controllable image generation paradigm that demonstrates exceptional controllability and produces remarkable results even when tackling challenging tasks. This pioneering approach can offer valuable insights for future investigations into diffusion models.
   </p>
  </div>
  <div class="ltx_para" id="Sx1.p3">
   <p class="ltx_p" id="Sx1.p3.1">
    Regarding industrial applications, our method can be readily employed by T2I generation service providers to enhance the performance of their models. Moreover, the diffusion models operating within our framework are less likely to generate harmful content due to the meticulous control exerted at each generation stage.
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Achiam et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Achiam, J., Adler, S., Agarwal, S., Ahmad, L., Akkaya, I., Aleman, F. L., Almeida, D., Altenschmidt, J., Altman, S., Anadkat, S., et al.
    </span>
    <span class="ltx_bibblock">
     Gpt-4 technical report.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">
      arXiv preprint arXiv:2303.08774
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Betker et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Betker, J., Goh, G., Jing, L., Brooks, T., Wang, J., Li, L., Ouyang, L., Zhuang, J., Lee, J., Guo, Y., et al.
    </span>
    <span class="ltx_bibblock">
     Improving image generation with better captions.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">
      Computer Science. https://cdn. openai. com/papers/dall-e-3. pdf
     </em>
     , 2(3), 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Chen, J., Yu, J., Ge, C., Yao, L., Xie, E., Wu, Y., Wang, Z., Kwok, J., Luo, P., Lu, H., et al.
    </span>
    <span class="ltx_bibblock">
     Pixart-
     <math alttext="alpha" class="ltx_Math" display="inline" id="bib.bib3.1.m1.1">
      <semantics id="bib.bib3.1.m1.1a">
       <mrow id="bib.bib3.1.m1.1.1" xref="bib.bib3.1.m1.1.1.cmml">
        <mi id="bib.bib3.1.m1.1.1.2" xref="bib.bib3.1.m1.1.1.2.cmml">
         a
        </mi>
        <mo id="bib.bib3.1.m1.1.1.1" lspace="0em" rspace="0em" xref="bib.bib3.1.m1.1.1.1.cmml">
         ​
        </mo>
        <mi id="bib.bib3.1.m1.1.1.3" xref="bib.bib3.1.m1.1.1.3.cmml">
         l
        </mi>
        <mo id="bib.bib3.1.m1.1.1.1a" lspace="0em" rspace="0em" xref="bib.bib3.1.m1.1.1.1.cmml">
         ​
        </mo>
        <mi id="bib.bib3.1.m1.1.1.4" xref="bib.bib3.1.m1.1.1.4.cmml">
         p
        </mi>
        <mo id="bib.bib3.1.m1.1.1.1b" lspace="0em" rspace="0em" xref="bib.bib3.1.m1.1.1.1.cmml">
         ​
        </mo>
        <mi id="bib.bib3.1.m1.1.1.5" xref="bib.bib3.1.m1.1.1.5.cmml">
         h
        </mi>
        <mo id="bib.bib3.1.m1.1.1.1c" lspace="0em" rspace="0em" xref="bib.bib3.1.m1.1.1.1.cmml">
         ​
        </mo>
        <mi id="bib.bib3.1.m1.1.1.6" xref="bib.bib3.1.m1.1.1.6.cmml">
         a
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="bib.bib3.1.m1.1b">
        <apply id="bib.bib3.1.m1.1.1.cmml" xref="bib.bib3.1.m1.1.1">
         <times id="bib.bib3.1.m1.1.1.1.cmml" xref="bib.bib3.1.m1.1.1.1">
         </times>
         <ci id="bib.bib3.1.m1.1.1.2.cmml" xref="bib.bib3.1.m1.1.1.2">
          𝑎
         </ci>
         <ci id="bib.bib3.1.m1.1.1.3.cmml" xref="bib.bib3.1.m1.1.1.3">
          𝑙
         </ci>
         <ci id="bib.bib3.1.m1.1.1.4.cmml" xref="bib.bib3.1.m1.1.1.4">
          𝑝
         </ci>
         <ci id="bib.bib3.1.m1.1.1.5.cmml" xref="bib.bib3.1.m1.1.1.5">
          ℎ
         </ci>
         <ci id="bib.bib3.1.m1.1.1.6.cmml" xref="bib.bib3.1.m1.1.1.6">
          𝑎
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="bib.bib3.1.m1.1c">
        alpha
       </annotation>
      </semantics>
     </math>
     : Fast training of diffusion transformer for photorealistic text-to-image synthesis.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.2.1">
      arXiv preprint arXiv:2310.00426
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Chen, M., Laina, I., and Vedaldi, A.
    </span>
    <span class="ltx_bibblock">
     Training-free layout control with cross-attention guidance.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">
      Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision
     </em>
     , pp.  5343–5353, 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Feng et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Feng, W., He, X., Fu, T.-J., Jampani, V., Akula, A., Narayana, P., Basu, S., Wang, X. E., and Wang, W. Y.
    </span>
    <span class="ltx_bibblock">
     Training-free structured diffusion guidance for compositional text-to-image synthesis.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">
      arXiv preprint arXiv:2212.05032
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Feng et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Feng, W., Zhu, W., Fu, T.-j., Jampani, V., Akula, A., He, X., Basu, S., Wang, X. E., and Wang, W. Y.
    </span>
    <span class="ltx_bibblock">
     Layoutgpt: Compositional visual planning and generation with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">
      arXiv preprint arXiv:2305.15393
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hao et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Hao, Y., Chi, Z., Dong, L., and Wei, F.
    </span>
    <span class="ltx_bibblock">
     Optimizing prompts for text-to-image generation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">
      arXiv preprint arXiv:2212.09611
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hessel et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Hessel, J., Holtzman, A., Forbes, M., Bras, R. L., and Choi, Y.
    </span>
    <span class="ltx_bibblock">
     Clipscore: A reference-free evaluation metric for image captioning.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">
      arXiv preprint arXiv:2104.08718
     </em>
     , 2021.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ho et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Ho, J., Jain, A., and Abbeel, P.
    </span>
    <span class="ltx_bibblock">
     Denoising diffusion probabilistic models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      Advances in neural information processing systems
     </em>
     , 33:6840–6851, 2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Huang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Huang, K., Sun, K., Xie, E., Li, Z., and Liu, X.
    </span>
    <span class="ltx_bibblock">
     T2i-compbench: A comprehensive benchmark for open-world compositional text-to-image generation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">
      arXiv preprint arXiv:2307.06350
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Li, Y., Liu, H., Wu, Q., Mu, F., Yang, J., Gao, J., Li, C., and Lee, Y. J.
    </span>
    <span class="ltx_bibblock">
     Gligen: Open-set grounded text-to-image generation.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">
      Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition
     </em>
     , pp.  22511–22521, 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lian et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Lian, L., Li, B., Yala, A., and Darrell, T.
    </span>
    <span class="ltx_bibblock">
     Llm-grounded diffusion: Enhancing prompt understanding of text-to-image diffusion models with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">
      arXiv preprint arXiv:2305.13655
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Liu, H., Li, C., Li, Y., and Lee, Y. J.
    </span>
    <span class="ltx_bibblock">
     Improved baselines with visual instruction tuning.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">
      arXiv preprint arXiv:2310.03744
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Nichol et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Nichol, A., Dhariwal, P., Ramesh, A., Shyam, P., Mishkin, P., McGrew, B., Sutskever, I., and Chen, M.
    </span>
    <span class="ltx_bibblock">
     Glide: Towards photorealistic image generation and editing with text-guided diffusion models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">
      arXiv preprint arXiv:2112.10741
     </em>
     , 2021.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     OpenAI (2023)
    </span>
    <span class="ltx_bibblock">
     OpenAI.
    </span>
    <span class="ltx_bibblock">
     Gpt-4v(ision) system card.
    </span>
    <span class="ltx_bibblock">
     2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Podell et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Podell, D., English, Z., Lacey, K., Blattmann, A., Dockhorn, T., Müller, J., Penna, J., and Rombach, R.
    </span>
    <span class="ltx_bibblock">
     Sdxl: Improving latent diffusion models for high-resolution image synthesis.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">
      arXiv preprint arXiv:2307.01952
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Rombach et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Rombach, R., Blattmann, A., Lorenz, D., Esser, P., and Ommer, B.
    </span>
    <span class="ltx_bibblock">
     High-resolution image synthesis with latent diffusion models.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">
      Proceedings of the IEEE/CVF conference on computer vision and pattern recognition
     </em>
     , pp.  10684–10695, 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Saharia et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Saharia, C., Chan, W., Saxena, S., Li, L., Whang, J., Denton, E. L., Ghasemipour, K., Gontijo Lopes, R., Karagol Ayan, B., Salimans, T., et al.
    </span>
    <span class="ltx_bibblock">
     Photorealistic text-to-image diffusion models with deep language understanding.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 35:36479–36494, 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Sohl-Dickstein et al. (2015)
    </span>
    <span class="ltx_bibblock">
     Sohl-Dickstein, J., Weiss, E., Maheswaranathan, N., and Ganguli, S.
    </span>
    <span class="ltx_bibblock">
     Deep unsupervised learning using nonequilibrium thermodynamics.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">
      International conference on machine learning
     </em>
     , pp.  2256–2265. PMLR, 2015.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Song et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Song, Y., Sohl-Dickstein, J., Kingma, D. P., Kumar, A., Ermon, S., and Poole, B.
    </span>
    <span class="ltx_bibblock">
     Score-based generative modeling through stochastic differential equations.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">
      arXiv preprint arXiv:2011.13456
     </em>
     , 2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Team et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Team, G., Anil, R., Borgeaud, S., Wu, Y., Alayrac, J.-B., Yu, J., Soricut, R., Schalkwyk, J., Dai, A. M., Hauth, A., et al.
    </span>
    <span class="ltx_bibblock">
     Gemini: a family of highly capable multimodal models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">
      arXiv preprint arXiv:2312.11805
     </em>
     , 2023.
    </span>
   </li>
  </ul>
 </section>
 <div class="ltx_pagination ltx_role_newpage">
 </div>
 <section class="ltx_appendix" id="A1">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix A
   </span>
   Detailed prompt template of the global planning by the LLM
  </h2>
  <div class="ltx_para" id="A1.p1">
   <p class="ltx_p" id="A1.p1.1">
    As stated in Section
    <a class="ltx_ref" href="#S3.SS3" title="3.3 Prompt Decomposition by LLM Planning ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      3.3
     </span>
    </a>
    , MuLan first conduct the global planning to decompose the input prompts into
    <math alttext="N" class="ltx_Math" display="inline" id="A1.p1.1.m1.1">
     <semantics id="A1.p1.1.m1.1a">
      <mi id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">
       N
      </mi>
      <annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b">
       <ci id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1">
        𝑁
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">
       N
      </annotation>
     </semantics>
    </math>
    objects before the whole generation process. To this end, given the input prompt
    <span class="ltx_text ltx_font_typewriter" id="A1.p1.1.1">
     p
    </span>
    , we prompt the LLM using the following template:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A1.p2">
   <p class="ltx_p" id="A1.p2.1">
    <span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="A1.p2.1.1" style="width:433.6pt;">
     <span class="ltx_p" id="A1.p2.1.1.1">
      You are an excellent painter. I will give you some descriptions. Your task is to turn the description into a painting. You only need to list the objects in the description by painting order, from left to right, from down to top. Do not list additional information other than the objects mentioned in the description. Description: {
      <span class="ltx_text ltx_font_typewriter" id="A1.p2.1.1.1.1">
       p
      </span>
      }.
     </span>
    </span>
   </p>
  </div>
  <div class="ltx_para" id="A1.p3">
   <p class="ltx_p" id="A1.p3.1">
    In this way, the LLM will decompose the input prompt
    <span class="ltx_text ltx_font_typewriter" id="A1.p3.1.1">
     p
    </span>
    following the pre-defined order.
   </p>
  </div>
 </section>
 <section class="ltx_appendix" id="A2">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix B
   </span>
   Detailed prompt template of the local planning by the LLM
  </h2>
  <div class="ltx_para" id="A2.p1">
   <p class="ltx_p" id="A2.p1.1">
    As stated in Section
    <a class="ltx_ref" href="#S3.SS4" title="3.4 Conditional Single-Object Diffusion with LLM Planning and Attention Guidance ‣ 3 Multimodal-LLM Agent (MuLan) ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      3.4
     </span>
    </a>
    , the LLM is also utilized during the generation stage for local planning of the object’s rough position and the object counting.
   </p>
  </div>
  <div class="ltx_para" id="A2.p2">
   <p class="ltx_p" id="A2.p2.1">
    For the rough position
    <math alttext="\texttt{opt}_{1}" class="ltx_Math" display="inline" id="A2.p2.1.m1.1">
     <semantics id="A2.p2.1.m1.1a">
      <msub id="A2.p2.1.m1.1.1" xref="A2.p2.1.m1.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A2.p2.1.m1.1.1.2" xref="A2.p2.1.m1.1.1.2a.cmml">
        opt
       </mtext>
       <mn id="A2.p2.1.m1.1.1.3" xref="A2.p2.1.m1.1.1.3.cmml">
        1
       </mn>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A2.p2.1.m1.1b">
       <apply id="A2.p2.1.m1.1.1.cmml" xref="A2.p2.1.m1.1.1">
        <csymbol cd="ambiguous" id="A2.p2.1.m1.1.1.1.cmml" xref="A2.p2.1.m1.1.1">
         subscript
        </csymbol>
        <ci id="A2.p2.1.m1.1.1.2a.cmml" xref="A2.p2.1.m1.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A2.p2.1.m1.1.1.2.cmml" xref="A2.p2.1.m1.1.1.2">
          opt
         </mtext>
        </ci>
        <cn id="A2.p2.1.m1.1.1.3.cmml" type="integer" xref="A2.p2.1.m1.1.1.3">
         1
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A2.p2.1.m1.1c">
       \texttt{opt}_{1}
      </annotation>
     </semantics>
    </math>
    planning of the first object, we utilize the following template:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p3">
   <p class="ltx_p" id="A2.p3.2">
    <span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="A2.p3.2.2.2" style="width:433.6pt;">
     <span class="ltx_p" id="A2.p3.2.2.2.2">
      You are an excellent painter. I will give you some descriptions. Your task is to turn the description into a painting. Now given the description: {
      <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.2.2.2.1">
       p
      </span>
      }. If I want to paint the {
      <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="A2.p3.1.1.1.1.m1.1">
       <semantics id="A2.p3.1.1.1.1.m1.1a">
        <msub id="A2.p3.1.1.1.1.m1.1.1" xref="A2.p3.1.1.1.1.m1.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="A2.p3.1.1.1.1.m1.1.1.2" xref="A2.p3.1.1.1.1.m1.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="A2.p3.1.1.1.1.m1.1.1.3" xref="A2.p3.1.1.1.1.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A2.p3.1.1.1.1.m1.1b">
         <apply id="A2.p3.1.1.1.1.m1.1.1.cmml" xref="A2.p3.1.1.1.1.m1.1.1">
          <csymbol cd="ambiguous" id="A2.p3.1.1.1.1.m1.1.1.1.cmml" xref="A2.p3.1.1.1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="A2.p3.1.1.1.1.m1.1.1.2a.cmml" xref="A2.p3.1.1.1.1.m1.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="A2.p3.1.1.1.1.m1.1.1.2.cmml" xref="A2.p3.1.1.1.1.m1.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="A2.p3.1.1.1.1.m1.1.1.3.cmml" type="integer" xref="A2.p3.1.1.1.1.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p3.1.1.1.1.m1.1c">
         \texttt{obj}_{1}
        </annotation>
       </semantics>
      </math>
      } in the painting firstly, where to put the {
      <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="A2.p3.2.2.2.2.m2.1">
       <semantics id="A2.p3.2.2.2.2.m2.1a">
        <msub id="A2.p3.2.2.2.2.m2.1.1" xref="A2.p3.2.2.2.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="A2.p3.2.2.2.2.m2.1.1.2" xref="A2.p3.2.2.2.2.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mn id="A2.p3.2.2.2.2.m2.1.1.3" xref="A2.p3.2.2.2.2.m2.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A2.p3.2.2.2.2.m2.1b">
         <apply id="A2.p3.2.2.2.2.m2.1.1.cmml" xref="A2.p3.2.2.2.2.m2.1.1">
          <csymbol cd="ambiguous" id="A2.p3.2.2.2.2.m2.1.1.1.cmml" xref="A2.p3.2.2.2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="A2.p3.2.2.2.2.m2.1.1.2a.cmml" xref="A2.p3.2.2.2.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="A2.p3.2.2.2.2.m2.1.1.2.cmml" xref="A2.p3.2.2.2.2.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <cn id="A2.p3.2.2.2.2.m2.1.1.3.cmml" type="integer" xref="A2.p3.2.2.2.2.m2.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p3.2.2.2.2.m2.1c">
         \texttt{obj}_{1}
        </annotation>
       </semantics>
      </math>
      }? Choose from left, right, top, and bottom. You can make reasonable guesses. Give one answer.
     </span>
    </span>
   </p>
  </div>
  <div class="ltx_para" id="A2.p4">
   <p class="ltx_p" id="A2.p4.1">
    Then the LLM is prompted to figure out the object number based on
    <math alttext="\texttt{opt}_{1}" class="ltx_Math" display="inline" id="A2.p4.1.m1.1">
     <semantics id="A2.p4.1.m1.1a">
      <msub id="A2.p4.1.m1.1.1" xref="A2.p4.1.m1.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A2.p4.1.m1.1.1.2" xref="A2.p4.1.m1.1.1.2a.cmml">
        opt
       </mtext>
       <mn id="A2.p4.1.m1.1.1.3" xref="A2.p4.1.m1.1.1.3.cmml">
        1
       </mn>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A2.p4.1.m1.1b">
       <apply id="A2.p4.1.m1.1.1.cmml" xref="A2.p4.1.m1.1.1">
        <csymbol cd="ambiguous" id="A2.p4.1.m1.1.1.1.cmml" xref="A2.p4.1.m1.1.1">
         subscript
        </csymbol>
        <ci id="A2.p4.1.m1.1.1.2a.cmml" xref="A2.p4.1.m1.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A2.p4.1.m1.1.1.2.cmml" xref="A2.p4.1.m1.1.1.2">
          opt
         </mtext>
        </ci>
        <cn id="A2.p4.1.m1.1.1.3.cmml" type="integer" xref="A2.p4.1.m1.1.1.3">
         1
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A2.p4.1.m1.1c">
       \texttt{opt}_{1}
      </annotation>
     </semantics>
    </math>
    .
   </p>
  </div>
  <div class="ltx_para" id="A2.p5">
   <p class="ltx_p" id="A2.p5.2">
    If
    <math alttext="\texttt{opt}_{1}=\texttt{left}" class="ltx_Math" display="inline" id="A2.p5.1.m1.1">
     <semantics id="A2.p5.1.m1.1a">
      <mrow id="A2.p5.1.m1.1.1" xref="A2.p5.1.m1.1.1.cmml">
       <msub id="A2.p5.1.m1.1.1.2" xref="A2.p5.1.m1.1.1.2.cmml">
        <mtext class="ltx_mathvariant_monospace" id="A2.p5.1.m1.1.1.2.2" xref="A2.p5.1.m1.1.1.2.2a.cmml">
         opt
        </mtext>
        <mn id="A2.p5.1.m1.1.1.2.3" xref="A2.p5.1.m1.1.1.2.3.cmml">
         1
        </mn>
       </msub>
       <mo id="A2.p5.1.m1.1.1.1" xref="A2.p5.1.m1.1.1.1.cmml">
        =
       </mo>
       <mtext class="ltx_mathvariant_monospace" id="A2.p5.1.m1.1.1.3" xref="A2.p5.1.m1.1.1.3a.cmml">
        left
       </mtext>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="A2.p5.1.m1.1b">
       <apply id="A2.p5.1.m1.1.1.cmml" xref="A2.p5.1.m1.1.1">
        <eq id="A2.p5.1.m1.1.1.1.cmml" xref="A2.p5.1.m1.1.1.1">
        </eq>
        <apply id="A2.p5.1.m1.1.1.2.cmml" xref="A2.p5.1.m1.1.1.2">
         <csymbol cd="ambiguous" id="A2.p5.1.m1.1.1.2.1.cmml" xref="A2.p5.1.m1.1.1.2">
          subscript
         </csymbol>
         <ci id="A2.p5.1.m1.1.1.2.2a.cmml" xref="A2.p5.1.m1.1.1.2.2">
          <mtext class="ltx_mathvariant_monospace" id="A2.p5.1.m1.1.1.2.2.cmml" xref="A2.p5.1.m1.1.1.2.2">
           opt
          </mtext>
         </ci>
         <cn id="A2.p5.1.m1.1.1.2.3.cmml" type="integer" xref="A2.p5.1.m1.1.1.2.3">
          1
         </cn>
        </apply>
        <ci id="A2.p5.1.m1.1.1.3a.cmml" xref="A2.p5.1.m1.1.1.3">
         <mtext class="ltx_mathvariant_monospace" id="A2.p5.1.m1.1.1.3.cmml" xref="A2.p5.1.m1.1.1.3">
          left
         </mtext>
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A2.p5.1.m1.1c">
       \texttt{opt}_{1}=\texttt{left}
      </annotation>
     </semantics>
    </math>
    , the prompt template for
    <math alttext="\texttt{obj}_{1}" class="ltx_Math" display="inline" id="A2.p5.2.m2.1">
     <semantics id="A2.p5.2.m2.1a">
      <msub id="A2.p5.2.m2.1.1" xref="A2.p5.2.m2.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A2.p5.2.m2.1.1.2" xref="A2.p5.2.m2.1.1.2a.cmml">
        obj
       </mtext>
       <mn id="A2.p5.2.m2.1.1.3" xref="A2.p5.2.m2.1.1.3.cmml">
        1
       </mn>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A2.p5.2.m2.1b">
       <apply id="A2.p5.2.m2.1.1.cmml" xref="A2.p5.2.m2.1.1">
        <csymbol cd="ambiguous" id="A2.p5.2.m2.1.1.1.cmml" xref="A2.p5.2.m2.1.1">
         subscript
        </csymbol>
        <ci id="A2.p5.2.m2.1.1.2a.cmml" xref="A2.p5.2.m2.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A2.p5.2.m2.1.1.2.cmml" xref="A2.p5.2.m2.1.1.2">
          obj
         </mtext>
        </ci>
        <cn id="A2.p5.2.m2.1.1.3.cmml" type="integer" xref="A2.p5.2.m2.1.1.3">
         1
        </cn>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A2.p5.2.m2.1c">
       \texttt{obj}_{1}
      </annotation>
     </semantics>
    </math>
    is:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p6">
   <p class="ltx_p" id="A2.p6.1">
    <span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="A2.p6.1.1" style="width:433.6pt;">
     <span class="ltx_p" id="A2.p6.1.1.1">
      You are an excellent painter. I will give you some descriptions. Your task is to turn the description into a painting. Now given the description: {
      <span class="ltx_text ltx_font_typewriter" id="A2.p6.1.1.1.1">
       p
      </span>
      }. How many non-overlapping objects are there in the horizontal direction? ONLY give the final number.
     </span>
    </span>
   </p>
  </div>
  <div class="ltx_para" id="A2.p7">
   <p class="ltx_p" id="A2.p7.1">
    If
    <math alttext="\texttt{opt}_{1}=\texttt{bottom}" class="ltx_Math" display="inline" id="A2.p7.1.m1.1">
     <semantics id="A2.p7.1.m1.1a">
      <mrow id="A2.p7.1.m1.1.1" xref="A2.p7.1.m1.1.1.cmml">
       <msub id="A2.p7.1.m1.1.1.2" xref="A2.p7.1.m1.1.1.2.cmml">
        <mtext class="ltx_mathvariant_monospace" id="A2.p7.1.m1.1.1.2.2" xref="A2.p7.1.m1.1.1.2.2a.cmml">
         opt
        </mtext>
        <mn id="A2.p7.1.m1.1.1.2.3" xref="A2.p7.1.m1.1.1.2.3.cmml">
         1
        </mn>
       </msub>
       <mo id="A2.p7.1.m1.1.1.1" xref="A2.p7.1.m1.1.1.1.cmml">
        =
       </mo>
       <mtext class="ltx_mathvariant_monospace" id="A2.p7.1.m1.1.1.3" xref="A2.p7.1.m1.1.1.3a.cmml">
        bottom
       </mtext>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="A2.p7.1.m1.1b">
       <apply id="A2.p7.1.m1.1.1.cmml" xref="A2.p7.1.m1.1.1">
        <eq id="A2.p7.1.m1.1.1.1.cmml" xref="A2.p7.1.m1.1.1.1">
        </eq>
        <apply id="A2.p7.1.m1.1.1.2.cmml" xref="A2.p7.1.m1.1.1.2">
         <csymbol cd="ambiguous" id="A2.p7.1.m1.1.1.2.1.cmml" xref="A2.p7.1.m1.1.1.2">
          subscript
         </csymbol>
         <ci id="A2.p7.1.m1.1.1.2.2a.cmml" xref="A2.p7.1.m1.1.1.2.2">
          <mtext class="ltx_mathvariant_monospace" id="A2.p7.1.m1.1.1.2.2.cmml" xref="A2.p7.1.m1.1.1.2.2">
           opt
          </mtext>
         </ci>
         <cn id="A2.p7.1.m1.1.1.2.3.cmml" type="integer" xref="A2.p7.1.m1.1.1.2.3">
          1
         </cn>
        </apply>
        <ci id="A2.p7.1.m1.1.1.3a.cmml" xref="A2.p7.1.m1.1.1.3">
         <mtext class="ltx_mathvariant_monospace" id="A2.p7.1.m1.1.1.3.cmml" xref="A2.p7.1.m1.1.1.3">
          bottom
         </mtext>
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A2.p7.1.m1.1c">
       \texttt{opt}_{1}=\texttt{bottom}
      </annotation>
     </semantics>
    </math>
    , the prompt template would be:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p8">
   <p class="ltx_p" id="A2.p8.1">
    <span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="A2.p8.1.1" style="width:433.6pt;">
     <span class="ltx_p" id="A2.p8.1.1.1">
      You are an excellent painter. I will give you some descriptions. Your task is to turn the description into a painting. Now given the description: {
      <span class="ltx_text ltx_font_typewriter" id="A2.p8.1.1.1.1">
       p
      </span>
      }. How many non-overlapping objects are there in the vertical direction? ONLY give the final number.
     </span>
    </span>
   </p>
  </div>
  <div class="ltx_para" id="A2.p9">
   <p class="ltx_p" id="A2.p9.1">
    For the rough position
    <math alttext="\texttt{opt}_{n}(n\geq 2)" class="ltx_Math" display="inline" id="A2.p9.1.m1.1">
     <semantics id="A2.p9.1.m1.1a">
      <mrow id="A2.p9.1.m1.1.1" xref="A2.p9.1.m1.1.1.cmml">
       <msub id="A2.p9.1.m1.1.1.3" xref="A2.p9.1.m1.1.1.3.cmml">
        <mtext class="ltx_mathvariant_monospace" id="A2.p9.1.m1.1.1.3.2" xref="A2.p9.1.m1.1.1.3.2a.cmml">
         opt
        </mtext>
        <mi id="A2.p9.1.m1.1.1.3.3" xref="A2.p9.1.m1.1.1.3.3.cmml">
         n
        </mi>
       </msub>
       <mo id="A2.p9.1.m1.1.1.2" lspace="0em" rspace="0em" xref="A2.p9.1.m1.1.1.2.cmml">
        ​
       </mo>
       <mrow id="A2.p9.1.m1.1.1.1.1" xref="A2.p9.1.m1.1.1.1.1.1.cmml">
        <mo id="A2.p9.1.m1.1.1.1.1.2" stretchy="false" xref="A2.p9.1.m1.1.1.1.1.1.cmml">
         (
        </mo>
        <mrow id="A2.p9.1.m1.1.1.1.1.1" xref="A2.p9.1.m1.1.1.1.1.1.cmml">
         <mi id="A2.p9.1.m1.1.1.1.1.1.2" xref="A2.p9.1.m1.1.1.1.1.1.2.cmml">
          n
         </mi>
         <mo id="A2.p9.1.m1.1.1.1.1.1.1" xref="A2.p9.1.m1.1.1.1.1.1.1.cmml">
          ≥
         </mo>
         <mn id="A2.p9.1.m1.1.1.1.1.1.3" xref="A2.p9.1.m1.1.1.1.1.1.3.cmml">
          2
         </mn>
        </mrow>
        <mo id="A2.p9.1.m1.1.1.1.1.3" stretchy="false" xref="A2.p9.1.m1.1.1.1.1.1.cmml">
         )
        </mo>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="A2.p9.1.m1.1b">
       <apply id="A2.p9.1.m1.1.1.cmml" xref="A2.p9.1.m1.1.1">
        <times id="A2.p9.1.m1.1.1.2.cmml" xref="A2.p9.1.m1.1.1.2">
        </times>
        <apply id="A2.p9.1.m1.1.1.3.cmml" xref="A2.p9.1.m1.1.1.3">
         <csymbol cd="ambiguous" id="A2.p9.1.m1.1.1.3.1.cmml" xref="A2.p9.1.m1.1.1.3">
          subscript
         </csymbol>
         <ci id="A2.p9.1.m1.1.1.3.2a.cmml" xref="A2.p9.1.m1.1.1.3.2">
          <mtext class="ltx_mathvariant_monospace" id="A2.p9.1.m1.1.1.3.2.cmml" xref="A2.p9.1.m1.1.1.3.2">
           opt
          </mtext>
         </ci>
         <ci id="A2.p9.1.m1.1.1.3.3.cmml" xref="A2.p9.1.m1.1.1.3.3">
          𝑛
         </ci>
        </apply>
        <apply id="A2.p9.1.m1.1.1.1.1.1.cmml" xref="A2.p9.1.m1.1.1.1.1">
         <geq id="A2.p9.1.m1.1.1.1.1.1.1.cmml" xref="A2.p9.1.m1.1.1.1.1.1.1">
         </geq>
         <ci id="A2.p9.1.m1.1.1.1.1.1.2.cmml" xref="A2.p9.1.m1.1.1.1.1.1.2">
          𝑛
         </ci>
         <cn id="A2.p9.1.m1.1.1.1.1.1.3.cmml" type="integer" xref="A2.p9.1.m1.1.1.1.1.1.3">
          2
         </cn>
        </apply>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A2.p9.1.m1.1c">
       \texttt{opt}_{n}(n\geq 2)
      </annotation>
     </semantics>
    </math>
    , we utilize the following template:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p10">
   <p class="ltx_p" id="A2.p10.3">
    <span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="A2.p10.3.3.3" style="width:433.6pt;">
     <span class="ltx_p" id="A2.p10.3.3.3.3">
      You are an excellent painter. I will give you some descriptions. Your task is to turn the description into a painting. Now given the description: {
      <span class="ltx_text ltx_font_typewriter" id="A2.p10.3.3.3.3.1">
       p
      </span>
      }. If I already have a painting that contains {
      <math alttext="\{\texttt{obj}_{i}\}_{i=1}^{n-1}" class="ltx_Math" display="inline" id="A2.p10.1.1.1.1.m1.1">
       <semantics id="A2.p10.1.1.1.1.m1.1a">
        <msubsup id="A2.p10.1.1.1.1.m1.1.1" xref="A2.p10.1.1.1.1.m1.1.1.cmml">
         <mrow id="A2.p10.1.1.1.1.m1.1.1.1.1.1" xref="A2.p10.1.1.1.1.m1.1.1.1.1.2.cmml">
          <mo id="A2.p10.1.1.1.1.m1.1.1.1.1.1.2" stretchy="false" xref="A2.p10.1.1.1.1.m1.1.1.1.1.2.cmml">
           {
          </mo>
          <msub id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.cmml">
           <mtext class="ltx_mathvariant_monospace" id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.2" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.2a.cmml">
            obj
           </mtext>
           <mi id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.3" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.3.cmml">
            i
           </mi>
          </msub>
          <mo id="A2.p10.1.1.1.1.m1.1.1.1.1.1.3" stretchy="false" xref="A2.p10.1.1.1.1.m1.1.1.1.1.2.cmml">
           }
          </mo>
         </mrow>
         <mrow id="A2.p10.1.1.1.1.m1.1.1.1.3" xref="A2.p10.1.1.1.1.m1.1.1.1.3.cmml">
          <mi id="A2.p10.1.1.1.1.m1.1.1.1.3.2" xref="A2.p10.1.1.1.1.m1.1.1.1.3.2.cmml">
           i
          </mi>
          <mo id="A2.p10.1.1.1.1.m1.1.1.1.3.1" xref="A2.p10.1.1.1.1.m1.1.1.1.3.1.cmml">
           =
          </mo>
          <mn id="A2.p10.1.1.1.1.m1.1.1.1.3.3" xref="A2.p10.1.1.1.1.m1.1.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
         <mrow id="A2.p10.1.1.1.1.m1.1.1.3" xref="A2.p10.1.1.1.1.m1.1.1.3.cmml">
          <mi id="A2.p10.1.1.1.1.m1.1.1.3.2" xref="A2.p10.1.1.1.1.m1.1.1.3.2.cmml">
           n
          </mi>
          <mo id="A2.p10.1.1.1.1.m1.1.1.3.1" xref="A2.p10.1.1.1.1.m1.1.1.3.1.cmml">
           −
          </mo>
          <mn id="A2.p10.1.1.1.1.m1.1.1.3.3" xref="A2.p10.1.1.1.1.m1.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="A2.p10.1.1.1.1.m1.1b">
         <apply id="A2.p10.1.1.1.1.m1.1.1.cmml" xref="A2.p10.1.1.1.1.m1.1.1">
          <csymbol cd="ambiguous" id="A2.p10.1.1.1.1.m1.1.1.2.cmml" xref="A2.p10.1.1.1.1.m1.1.1">
           superscript
          </csymbol>
          <apply id="A2.p10.1.1.1.1.m1.1.1.1.cmml" xref="A2.p10.1.1.1.1.m1.1.1">
           <csymbol cd="ambiguous" id="A2.p10.1.1.1.1.m1.1.1.1.2.cmml" xref="A2.p10.1.1.1.1.m1.1.1">
            subscript
           </csymbol>
           <set id="A2.p10.1.1.1.1.m1.1.1.1.1.2.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1">
            <apply id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1">
             <csymbol cd="ambiguous" id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.1.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1">
              subscript
             </csymbol>
             <ci id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.2a.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.2">
              <mtext class="ltx_mathvariant_monospace" id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.2.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.2">
               obj
              </mtext>
             </ci>
             <ci id="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.3.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.1.1.1.3">
              𝑖
             </ci>
            </apply>
           </set>
           <apply id="A2.p10.1.1.1.1.m1.1.1.1.3.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.3">
            <eq id="A2.p10.1.1.1.1.m1.1.1.1.3.1.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.3.1">
            </eq>
            <ci id="A2.p10.1.1.1.1.m1.1.1.1.3.2.cmml" xref="A2.p10.1.1.1.1.m1.1.1.1.3.2">
             𝑖
            </ci>
            <cn id="A2.p10.1.1.1.1.m1.1.1.1.3.3.cmml" type="integer" xref="A2.p10.1.1.1.1.m1.1.1.1.3.3">
             1
            </cn>
           </apply>
          </apply>
          <apply id="A2.p10.1.1.1.1.m1.1.1.3.cmml" xref="A2.p10.1.1.1.1.m1.1.1.3">
           <minus id="A2.p10.1.1.1.1.m1.1.1.3.1.cmml" xref="A2.p10.1.1.1.1.m1.1.1.3.1">
           </minus>
           <ci id="A2.p10.1.1.1.1.m1.1.1.3.2.cmml" xref="A2.p10.1.1.1.1.m1.1.1.3.2">
            𝑛
           </ci>
           <cn id="A2.p10.1.1.1.1.m1.1.1.3.3.cmml" type="integer" xref="A2.p10.1.1.1.1.m1.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p10.1.1.1.1.m1.1c">
         \{\texttt{obj}_{i}\}_{i=1}^{n-1}
        </annotation>
       </semantics>
      </math>
      }, what is the position of the {
      <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="A2.p10.2.2.2.2.m2.1">
       <semantics id="A2.p10.2.2.2.2.m2.1a">
        <msub id="A2.p10.2.2.2.2.m2.1.1" xref="A2.p10.2.2.2.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="A2.p10.2.2.2.2.m2.1.1.2" xref="A2.p10.2.2.2.2.m2.1.1.2a.cmml">
          obj
         </mtext>
         <mi id="A2.p10.2.2.2.2.m2.1.1.3" xref="A2.p10.2.2.2.2.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A2.p10.2.2.2.2.m2.1b">
         <apply id="A2.p10.2.2.2.2.m2.1.1.cmml" xref="A2.p10.2.2.2.2.m2.1.1">
          <csymbol cd="ambiguous" id="A2.p10.2.2.2.2.m2.1.1.1.cmml" xref="A2.p10.2.2.2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="A2.p10.2.2.2.2.m2.1.1.2a.cmml" xref="A2.p10.2.2.2.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="A2.p10.2.2.2.2.m2.1.1.2.cmml" xref="A2.p10.2.2.2.2.m2.1.1.2">
            obj
           </mtext>
          </ci>
          <ci id="A2.p10.2.2.2.2.m2.1.1.3.cmml" xref="A2.p10.2.2.2.2.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p10.2.2.2.2.m2.1c">
         \texttt{obj}_{n}
        </annotation>
       </semantics>
      </math>
      } relative to the {
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="A2.p10.3.3.3.3.m3.1">
       <semantics id="A2.p10.3.3.3.3.m3.1a">
        <msub id="A2.p10.3.3.3.3.m3.1.1" xref="A2.p10.3.3.3.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="A2.p10.3.3.3.3.m3.1.1.2" xref="A2.p10.3.3.3.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="A2.p10.3.3.3.3.m3.1.1.3" xref="A2.p10.3.3.3.3.m3.1.1.3.cmml">
          <mi id="A2.p10.3.3.3.3.m3.1.1.3.2" xref="A2.p10.3.3.3.3.m3.1.1.3.2.cmml">
           n
          </mi>
          <mo id="A2.p10.3.3.3.3.m3.1.1.3.1" xref="A2.p10.3.3.3.3.m3.1.1.3.1.cmml">
           −
          </mo>
          <mn id="A2.p10.3.3.3.3.m3.1.1.3.3" xref="A2.p10.3.3.3.3.m3.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A2.p10.3.3.3.3.m3.1b">
         <apply id="A2.p10.3.3.3.3.m3.1.1.cmml" xref="A2.p10.3.3.3.3.m3.1.1">
          <csymbol cd="ambiguous" id="A2.p10.3.3.3.3.m3.1.1.1.cmml" xref="A2.p10.3.3.3.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="A2.p10.3.3.3.3.m3.1.1.2a.cmml" xref="A2.p10.3.3.3.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="A2.p10.3.3.3.3.m3.1.1.2.cmml" xref="A2.p10.3.3.3.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="A2.p10.3.3.3.3.m3.1.1.3.cmml" xref="A2.p10.3.3.3.3.m3.1.1.3">
           <minus id="A2.p10.3.3.3.3.m3.1.1.3.1.cmml" xref="A2.p10.3.3.3.3.m3.1.1.3.1">
           </minus>
           <ci id="A2.p10.3.3.3.3.m3.1.1.3.2.cmml" xref="A2.p10.3.3.3.3.m3.1.1.3.2">
            𝑛
           </ci>
           <cn id="A2.p10.3.3.3.3.m3.1.1.3.3.cmml" type="integer" xref="A2.p10.3.3.3.3.m3.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p10.3.3.3.3.m3.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      }? Choose from left, right, above, bottom, and none of above. You can make reasonable guesses. Give one answer.
     </span>
    </span>
   </p>
  </div>
  <div class="ltx_para" id="A2.p11">
   <p class="ltx_p" id="A2.p11.1">
    Then we prompt the LLM to figure out the object number by:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p12">
   <p class="ltx_p" id="A2.p12.3">
    <span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="A2.p12.3.3.3" style="width:433.6pt;">
     <span class="ltx_p" id="A2.p12.3.3.3.3">
      You are an excellent painter. I will give you some descriptions. Your task is to turn the description into a painting. Now given the description: {
      <span class="ltx_text ltx_font_typewriter" id="A2.p12.3.3.3.3.1">
       p
      </span>
      }. If I already have a painting that contains {
      <math alttext="\{\texttt{obj}_{i}\}_{i=1}^{n-1}" class="ltx_Math" display="inline" id="A2.p12.1.1.1.1.m1.1">
       <semantics id="A2.p12.1.1.1.1.m1.1a">
        <msubsup id="A2.p12.1.1.1.1.m1.1.1" xref="A2.p12.1.1.1.1.m1.1.1.cmml">
         <mrow id="A2.p12.1.1.1.1.m1.1.1.1.1.1" xref="A2.p12.1.1.1.1.m1.1.1.1.1.2.cmml">
          <mo id="A2.p12.1.1.1.1.m1.1.1.1.1.1.2" stretchy="false" xref="A2.p12.1.1.1.1.m1.1.1.1.1.2.cmml">
           {
          </mo>
          <msub id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.cmml">
           <mtext class="ltx_mathvariant_monospace" id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.2" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.2a.cmml">
            obj
           </mtext>
           <mi id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.3" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.3.cmml">
            i
           </mi>
          </msub>
          <mo id="A2.p12.1.1.1.1.m1.1.1.1.1.1.3" stretchy="false" xref="A2.p12.1.1.1.1.m1.1.1.1.1.2.cmml">
           }
          </mo>
         </mrow>
         <mrow id="A2.p12.1.1.1.1.m1.1.1.1.3" xref="A2.p12.1.1.1.1.m1.1.1.1.3.cmml">
          <mi id="A2.p12.1.1.1.1.m1.1.1.1.3.2" xref="A2.p12.1.1.1.1.m1.1.1.1.3.2.cmml">
           i
          </mi>
          <mo id="A2.p12.1.1.1.1.m1.1.1.1.3.1" xref="A2.p12.1.1.1.1.m1.1.1.1.3.1.cmml">
           =
          </mo>
          <mn id="A2.p12.1.1.1.1.m1.1.1.1.3.3" xref="A2.p12.1.1.1.1.m1.1.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
         <mrow id="A2.p12.1.1.1.1.m1.1.1.3" xref="A2.p12.1.1.1.1.m1.1.1.3.cmml">
          <mi id="A2.p12.1.1.1.1.m1.1.1.3.2" xref="A2.p12.1.1.1.1.m1.1.1.3.2.cmml">
           n
          </mi>
          <mo id="A2.p12.1.1.1.1.m1.1.1.3.1" xref="A2.p12.1.1.1.1.m1.1.1.3.1.cmml">
           −
          </mo>
          <mn id="A2.p12.1.1.1.1.m1.1.1.3.3" xref="A2.p12.1.1.1.1.m1.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="A2.p12.1.1.1.1.m1.1b">
         <apply id="A2.p12.1.1.1.1.m1.1.1.cmml" xref="A2.p12.1.1.1.1.m1.1.1">
          <csymbol cd="ambiguous" id="A2.p12.1.1.1.1.m1.1.1.2.cmml" xref="A2.p12.1.1.1.1.m1.1.1">
           superscript
          </csymbol>
          <apply id="A2.p12.1.1.1.1.m1.1.1.1.cmml" xref="A2.p12.1.1.1.1.m1.1.1">
           <csymbol cd="ambiguous" id="A2.p12.1.1.1.1.m1.1.1.1.2.cmml" xref="A2.p12.1.1.1.1.m1.1.1">
            subscript
           </csymbol>
           <set id="A2.p12.1.1.1.1.m1.1.1.1.1.2.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1">
            <apply id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1">
             <csymbol cd="ambiguous" id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.1.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1">
              subscript
             </csymbol>
             <ci id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.2a.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.2">
              <mtext class="ltx_mathvariant_monospace" id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.2.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.2">
               obj
              </mtext>
             </ci>
             <ci id="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.3.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.1.1.1.3">
              𝑖
             </ci>
            </apply>
           </set>
           <apply id="A2.p12.1.1.1.1.m1.1.1.1.3.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.3">
            <eq id="A2.p12.1.1.1.1.m1.1.1.1.3.1.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.3.1">
            </eq>
            <ci id="A2.p12.1.1.1.1.m1.1.1.1.3.2.cmml" xref="A2.p12.1.1.1.1.m1.1.1.1.3.2">
             𝑖
            </ci>
            <cn id="A2.p12.1.1.1.1.m1.1.1.1.3.3.cmml" type="integer" xref="A2.p12.1.1.1.1.m1.1.1.1.3.3">
             1
            </cn>
           </apply>
          </apply>
          <apply id="A2.p12.1.1.1.1.m1.1.1.3.cmml" xref="A2.p12.1.1.1.1.m1.1.1.3">
           <minus id="A2.p12.1.1.1.1.m1.1.1.3.1.cmml" xref="A2.p12.1.1.1.1.m1.1.1.3.1">
           </minus>
           <ci id="A2.p12.1.1.1.1.m1.1.1.3.2.cmml" xref="A2.p12.1.1.1.1.m1.1.1.3.2">
            𝑛
           </ci>
           <cn id="A2.p12.1.1.1.1.m1.1.1.3.3.cmml" type="integer" xref="A2.p12.1.1.1.1.m1.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p12.1.1.1.1.m1.1c">
         \{\texttt{obj}_{i}\}_{i=1}^{n-1}
        </annotation>
       </semantics>
      </math>
      }, how many objects are there in/on the {
      <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="A2.p12.2.2.2.2.m2.1">
       <semantics id="A2.p12.2.2.2.2.m2.1a">
        <msub id="A2.p12.2.2.2.2.m2.1.1" xref="A2.p12.2.2.2.2.m2.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="A2.p12.2.2.2.2.m2.1.1.2" xref="A2.p12.2.2.2.2.m2.1.1.2a.cmml">
          opt
         </mtext>
         <mi id="A2.p12.2.2.2.2.m2.1.1.3" xref="A2.p12.2.2.2.2.m2.1.1.3.cmml">
          n
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A2.p12.2.2.2.2.m2.1b">
         <apply id="A2.p12.2.2.2.2.m2.1.1.cmml" xref="A2.p12.2.2.2.2.m2.1.1">
          <csymbol cd="ambiguous" id="A2.p12.2.2.2.2.m2.1.1.1.cmml" xref="A2.p12.2.2.2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="A2.p12.2.2.2.2.m2.1.1.2a.cmml" xref="A2.p12.2.2.2.2.m2.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="A2.p12.2.2.2.2.m2.1.1.2.cmml" xref="A2.p12.2.2.2.2.m2.1.1.2">
            opt
           </mtext>
          </ci>
          <ci id="A2.p12.2.2.2.2.m2.1.1.3.cmml" xref="A2.p12.2.2.2.2.m2.1.1.3">
           𝑛
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p12.2.2.2.2.m2.1c">
         \texttt{opt}_{n}
        </annotation>
       </semantics>
      </math>
      } of {
      <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="A2.p12.3.3.3.3.m3.1">
       <semantics id="A2.p12.3.3.3.3.m3.1a">
        <msub id="A2.p12.3.3.3.3.m3.1.1" xref="A2.p12.3.3.3.3.m3.1.1.cmml">
         <mtext class="ltx_mathvariant_monospace" id="A2.p12.3.3.3.3.m3.1.1.2" xref="A2.p12.3.3.3.3.m3.1.1.2a.cmml">
          obj
         </mtext>
         <mrow id="A2.p12.3.3.3.3.m3.1.1.3" xref="A2.p12.3.3.3.3.m3.1.1.3.cmml">
          <mi id="A2.p12.3.3.3.3.m3.1.1.3.2" xref="A2.p12.3.3.3.3.m3.1.1.3.2.cmml">
           n
          </mi>
          <mo id="A2.p12.3.3.3.3.m3.1.1.3.1" xref="A2.p12.3.3.3.3.m3.1.1.3.1.cmml">
           −
          </mo>
          <mn id="A2.p12.3.3.3.3.m3.1.1.3.3" xref="A2.p12.3.3.3.3.m3.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="A2.p12.3.3.3.3.m3.1b">
         <apply id="A2.p12.3.3.3.3.m3.1.1.cmml" xref="A2.p12.3.3.3.3.m3.1.1">
          <csymbol cd="ambiguous" id="A2.p12.3.3.3.3.m3.1.1.1.cmml" xref="A2.p12.3.3.3.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="A2.p12.3.3.3.3.m3.1.1.2a.cmml" xref="A2.p12.3.3.3.3.m3.1.1.2">
           <mtext class="ltx_mathvariant_monospace" id="A2.p12.3.3.3.3.m3.1.1.2.cmml" xref="A2.p12.3.3.3.3.m3.1.1.2">
            obj
           </mtext>
          </ci>
          <apply id="A2.p12.3.3.3.3.m3.1.1.3.cmml" xref="A2.p12.3.3.3.3.m3.1.1.3">
           <minus id="A2.p12.3.3.3.3.m3.1.1.3.1.cmml" xref="A2.p12.3.3.3.3.m3.1.1.3.1">
           </minus>
           <ci id="A2.p12.3.3.3.3.m3.1.1.3.2.cmml" xref="A2.p12.3.3.3.3.m3.1.1.3.2">
            𝑛
           </ci>
           <cn id="A2.p12.3.3.3.3.m3.1.1.3.3.cmml" type="integer" xref="A2.p12.3.3.3.3.m3.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="A2.p12.3.3.3.3.m3.1c">
         \texttt{obj}_{n-1}
        </annotation>
       </semantics>
      </math>
      }? Only give the final number.
     </span>
    </span>
   </p>
  </div>
 </section>
 <section class="ltx_appendix" id="A3">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix C
   </span>
   More details on the overlapping processing
  </h2>
  <div class="ltx_para" id="A3.p1">
   <p class="ltx_p" id="A3.p1.3">
    Given
    <math alttext="\texttt{opt}_{n}" class="ltx_Math" display="inline" id="A3.p1.1.m1.1">
     <semantics id="A3.p1.1.m1.1a">
      <msub id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A3.p1.1.m1.1.1.2" xref="A3.p1.1.m1.1.1.2a.cmml">
        opt
       </mtext>
       <mi id="A3.p1.1.m1.1.1.3" xref="A3.p1.1.m1.1.1.3.cmml">
        n
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b">
       <apply id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1">
        <csymbol cd="ambiguous" id="A3.p1.1.m1.1.1.1.cmml" xref="A3.p1.1.m1.1.1">
         subscript
        </csymbol>
        <ci id="A3.p1.1.m1.1.1.2a.cmml" xref="A3.p1.1.m1.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A3.p1.1.m1.1.1.2.cmml" xref="A3.p1.1.m1.1.1.2">
          opt
         </mtext>
        </ci>
        <ci id="A3.p1.1.m1.1.1.3.cmml" xref="A3.p1.1.m1.1.1.3">
         𝑛
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">
       \texttt{opt}_{n}
      </annotation>
     </semantics>
    </math>
    and
    <math alttext="\bm{\tilde{M}}_{n-1}" class="ltx_Math" display="inline" id="A3.p1.2.m2.1">
     <semantics id="A3.p1.2.m2.1a">
      <msub id="A3.p1.2.m2.1.1" xref="A3.p1.2.m2.1.1.cmml">
       <mover accent="true" id="A3.p1.2.m2.1.1.2" xref="A3.p1.2.m2.1.1.2.cmml">
        <mi id="A3.p1.2.m2.1.1.2.2" xref="A3.p1.2.m2.1.1.2.2.cmml">
         𝑴
        </mi>
        <mo class="ltx_mathvariant_bold" id="A3.p1.2.m2.1.1.2.1" mathvariant="bold" xref="A3.p1.2.m2.1.1.2.1.cmml">
         ~
        </mo>
       </mover>
       <mrow id="A3.p1.2.m2.1.1.3" xref="A3.p1.2.m2.1.1.3.cmml">
        <mi id="A3.p1.2.m2.1.1.3.2" xref="A3.p1.2.m2.1.1.3.2.cmml">
         n
        </mi>
        <mo id="A3.p1.2.m2.1.1.3.1" xref="A3.p1.2.m2.1.1.3.1.cmml">
         −
        </mo>
        <mn id="A3.p1.2.m2.1.1.3.3" xref="A3.p1.2.m2.1.1.3.3.cmml">
         1
        </mn>
       </mrow>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.p1.2.m2.1b">
       <apply id="A3.p1.2.m2.1.1.cmml" xref="A3.p1.2.m2.1.1">
        <csymbol cd="ambiguous" id="A3.p1.2.m2.1.1.1.cmml" xref="A3.p1.2.m2.1.1">
         subscript
        </csymbol>
        <apply id="A3.p1.2.m2.1.1.2.cmml" xref="A3.p1.2.m2.1.1.2">
         <ci id="A3.p1.2.m2.1.1.2.1.cmml" xref="A3.p1.2.m2.1.1.2.1">
          bold-~
         </ci>
         <ci id="A3.p1.2.m2.1.1.2.2.cmml" xref="A3.p1.2.m2.1.1.2.2">
          𝑴
         </ci>
        </apply>
        <apply id="A3.p1.2.m2.1.1.3.cmml" xref="A3.p1.2.m2.1.1.3">
         <minus id="A3.p1.2.m2.1.1.3.1.cmml" xref="A3.p1.2.m2.1.1.3.1">
         </minus>
         <ci id="A3.p1.2.m2.1.1.3.2.cmml" xref="A3.p1.2.m2.1.1.3.2">
          𝑛
         </ci>
         <cn id="A3.p1.2.m2.1.1.3.3.cmml" type="integer" xref="A3.p1.2.m2.1.1.3.3">
          1
         </cn>
        </apply>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.p1.2.m2.1c">
       \bm{\tilde{M}}_{n-1}
      </annotation>
     </semantics>
    </math>
    , the rough mask
    <math alttext="\bm{M}_{n,i}" class="ltx_Math" display="inline" id="A3.p1.3.m3.2">
     <semantics id="A3.p1.3.m3.2a">
      <msub id="A3.p1.3.m3.2.3" xref="A3.p1.3.m3.2.3.cmml">
       <mi id="A3.p1.3.m3.2.3.2" xref="A3.p1.3.m3.2.3.2.cmml">
        𝑴
       </mi>
       <mrow id="A3.p1.3.m3.2.2.2.4" xref="A3.p1.3.m3.2.2.2.3.cmml">
        <mi id="A3.p1.3.m3.1.1.1.1" xref="A3.p1.3.m3.1.1.1.1.cmml">
         n
        </mi>
        <mo id="A3.p1.3.m3.2.2.2.4.1" xref="A3.p1.3.m3.2.2.2.3.cmml">
         ,
        </mo>
        <mi id="A3.p1.3.m3.2.2.2.2" xref="A3.p1.3.m3.2.2.2.2.cmml">
         i
        </mi>
       </mrow>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.p1.3.m3.2b">
       <apply id="A3.p1.3.m3.2.3.cmml" xref="A3.p1.3.m3.2.3">
        <csymbol cd="ambiguous" id="A3.p1.3.m3.2.3.1.cmml" xref="A3.p1.3.m3.2.3">
         subscript
        </csymbol>
        <ci id="A3.p1.3.m3.2.3.2.cmml" xref="A3.p1.3.m3.2.3.2">
         𝑴
        </ci>
        <list id="A3.p1.3.m3.2.2.2.3.cmml" xref="A3.p1.3.m3.2.2.2.4">
         <ci id="A3.p1.3.m3.1.1.1.1.cmml" xref="A3.p1.3.m3.1.1.1.1">
          𝑛
         </ci>
         <ci id="A3.p1.3.m3.2.2.2.2.cmml" xref="A3.p1.3.m3.2.2.2.2">
          𝑖
         </ci>
        </list>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.p1.3.m3.2c">
       \bm{M}_{n,i}
      </annotation>
     </semantics>
    </math>
    can be computed as
   </p>
   <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx8">
    <tbody id="A3.E8">
     <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
      <td class="ltx_eqn_cell ltx_eqn_center_padleft">
      </td>
      <td class="ltx_td ltx_align_right ltx_eqn_cell">
       <math alttext="\displaystyle\bm{M}_{n,i}=\begin{cases}\Big{(}\tilde{x}_{n-1}\cdot r_{i}+(\tilde{x}_{n-1}+\tilde{w}_{n-1})\cdot(1-r_{i}),\tilde{y}_{n-1},\tilde{w}_{n-1}\cdot r_{i}+\frac{W-\tilde{x}_{n-1}-\tilde{w}_{n-1}}{\texttt{Num}^{n}},\tilde{h}_{n-1}\Big{)},\text{if }\texttt{opt}^{n}=\texttt{right},\\
\\
\Big{(}\tilde{x}_{n-1},\frac{(\texttt{Num}^{n}-1)\cdot\tilde{y}_{n-1}}{\texttt{Num}^{n}},\tilde{w}_{n-1},\tilde{h}_{n-1}\cdot r_{i}+\frac{\tilde{y}_{n-1}}{\texttt{Num}^{n}}\Big{)},\text{if }\texttt{opt}^{n}=\texttt{top}.\end{cases}" class="ltx_Math" display="inline" id="A3.E8.m1.4">
        <semantics id="A3.E8.m1.4a">
         <mrow id="A3.E8.m1.4.5" xref="A3.E8.m1.4.5.cmml">
          <msub id="A3.E8.m1.4.5.2" xref="A3.E8.m1.4.5.2.cmml">
           <mi id="A3.E8.m1.4.5.2.2" xref="A3.E8.m1.4.5.2.2.cmml">
            𝑴
           </mi>
           <mrow id="A3.E8.m1.4.4.2.4" xref="A3.E8.m1.4.4.2.3.cmml">
            <mi id="A3.E8.m1.3.3.1.1" xref="A3.E8.m1.3.3.1.1.cmml">
             n
            </mi>
            <mo id="A3.E8.m1.4.4.2.4.1" xref="A3.E8.m1.4.4.2.3.cmml">
             ,
            </mo>
            <mi id="A3.E8.m1.4.4.2.2" xref="A3.E8.m1.4.4.2.2.cmml">
             i
            </mi>
           </mrow>
          </msub>
          <mo id="A3.E8.m1.4.5.1" xref="A3.E8.m1.4.5.1.cmml">
           =
          </mo>
          <mrow id="A3.E8.m1.2.2a" xref="A3.E8.m1.4.5.3.1.cmml">
           <mo id="A3.E8.m1.2.2a.3" xref="A3.E8.m1.4.5.3.1.1.cmml">
            {
           </mo>
           <mtable columnspacing="5pt" id="A3.E8.m1.2.2.2a" rowspacing="0pt" xref="A3.E8.m1.4.5.3.1.cmml">
            <mtr id="A3.E8.m1.2.2.2aa" xref="A3.E8.m1.4.5.3.1.cmml">
             <mtd class="ltx_align_left" columnalign="left" id="A3.E8.m1.2.2.2ab" xref="A3.E8.m1.4.5.3.1.cmml">
              <mrow id="A3.E8.m1.1.1.1.1.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.cmml">
               <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.cmml">
                <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml">
                 <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">
                  <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.5" maxsize="160%" minsize="160%" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">
                   (
                  </mo>
                  <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                   <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml">
                    <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.cmml">
                     <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.cmml">
                      <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.2.cmml">
                       x
                      </mi>
                      <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.cmml">
                      <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.2.cmml">
                       n
                      </mi>
                      <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.1.cmml">
                       −
                      </mo>
                      <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.1" lspace="0.222em" rspace="0.222em" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.1.cmml">
                     ⋅
                    </mo>
                    <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.cmml">
                     <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.2.cmml">
                      r
                     </mi>
                     <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.3.cmml">
                      i
                     </mi>
                    </msub>
                   </mrow>
                   <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                    +
                   </mo>
                   <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                    <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                     <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                      (
                     </mo>
                     <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                      <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                       <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">
                        <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">
                         x
                        </mi>
                        <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">
                         ~
                        </mo>
                       </mover>
                       <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">
                        <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml">
                         n
                        </mi>
                        <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">
                         −
                        </mo>
                        <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml">
                         1
                        </mn>
                       </mrow>
                      </msub>
                      <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                       +
                      </mo>
                      <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                       <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">
                        <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">
                         w
                        </mi>
                        <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml">
                         ~
                        </mo>
                       </mover>
                       <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">
                        <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">
                         n
                        </mi>
                        <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">
                         −
                        </mo>
                        <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">
                         1
                        </mn>
                       </mrow>
                      </msub>
                     </mrow>
                     <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                      )
                     </mo>
                    </mrow>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" rspace="0.222em" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">
                     ⋅
                    </mo>
                    <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml">
                     <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.2" stretchy="false" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml">
                      (
                     </mo>
                     <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml">
                      <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.2.cmml">
                       1
                      </mn>
                      <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml">
                       −
                      </mo>
                      <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.cmml">
                       <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.2.cmml">
                        r
                       </mi>
                       <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.3.cmml">
                        i
                       </mi>
                      </msub>
                     </mrow>
                     <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.3" stretchy="false" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml">
                      )
                     </mo>
                    </mrow>
                   </mrow>
                  </mrow>
                  <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.6" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">
                   ,
                  </mo>
                  <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">
                   <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">
                    <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">
                     y
                    </mi>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml">
                     ~
                    </mo>
                   </mover>
                   <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">
                    <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2.cmml">
                     n
                    </mi>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml">
                     −
                    </mo>
                    <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3.cmml">
                     1
                    </mn>
                   </mrow>
                  </msub>
                  <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.7" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">
                   ,
                  </mo>
                  <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">
                   <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">
                    <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.cmml">
                     <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.cmml">
                      <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.2.cmml">
                       w
                      </mi>
                      <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.cmml">
                      <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.2.cmml">
                       n
                      </mi>
                      <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.1.cmml">
                       −
                      </mo>
                      <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.1" lspace="0.222em" rspace="0.222em" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.1.cmml">
                     ⋅
                    </mo>
                    <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.cmml">
                     <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.2.cmml">
                      r
                     </mi>
                     <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.3.cmml">
                      i
                     </mi>
                    </msub>
                   </mrow>
                   <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">
                    +
                   </mo>
                   <mfrac id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">
                    <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">
                     <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.2.cmml">
                      W
                     </mi>
                     <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.1.cmml">
                      −
                     </mo>
                     <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.cmml">
                      <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.cmml">
                       <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.2.cmml">
                        x
                       </mi>
                       <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.1.cmml">
                        ~
                       </mo>
                      </mover>
                      <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.cmml">
                       <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.2.cmml">
                        n
                       </mi>
                       <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.1.cmml">
                        −
                       </mo>
                       <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.3.cmml">
                        1
                       </mn>
                      </mrow>
                     </msub>
                     <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.1a" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.1.cmml">
                      −
                     </mo>
                     <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.cmml">
                      <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.cmml">
                       <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.2.cmml">
                        w
                       </mi>
                       <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.1.cmml">
                        ~
                       </mo>
                      </mover>
                      <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.cmml">
                       <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.2.cmml">
                        n
                       </mi>
                       <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.1.cmml">
                        −
                       </mo>
                       <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.3.cmml">
                        1
                       </mn>
                      </mrow>
                     </msub>
                    </mrow>
                    <msup id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">
                     <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.2a.cmml">
                      Num
                     </mtext>
                     <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.3.cmml">
                      n
                     </mi>
                    </msup>
                   </mfrac>
                  </mrow>
                  <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.8" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">
                   ,
                  </mo>
                  <msub id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.cmml">
                   <mover accent="true" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.cmml">
                    <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.2.cmml">
                     h
                    </mi>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.1.cmml">
                     ~
                    </mo>
                   </mover>
                   <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.cmml">
                    <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.2.cmml">
                     n
                    </mi>
                    <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.1" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.1.cmml">
                     −
                    </mo>
                    <mn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.3.cmml">
                     1
                    </mn>
                   </mrow>
                  </msub>
                  <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.9" maxsize="160%" minsize="160%" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml">
                  ,
                 </mo>
                 <msup id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.cmml">
                  <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2c.cmml">
                   <mtext id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2a" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2c.cmml">
                    if
                   </mtext>
                   <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2b" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2c.cmml">
                    opt
                   </mtext>
                  </mrow>
                  <mi id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">
                   n
                  </mi>
                 </msup>
                </mrow>
                <mo id="A3.E8.m1.1.1.1.1.1.1.1.1.3" xref="A3.E8.m1.1.1.1.1.1.1.1.1.3.cmml">
                 =
                </mo>
                <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.1.1.1.1.1.1.1.1.4" xref="A3.E8.m1.1.1.1.1.1.1.1.1.4a.cmml">
                 right
                </mtext>
               </mrow>
               <mo id="A3.E8.m1.1.1.1.1.1.1.1.2" xref="A3.E8.m1.1.1.1.1.1.1.1.1.cmml">
                ,
               </mo>
              </mrow>
             </mtd>
             <mtd id="A3.E8.m1.2.2.2ac" xref="A3.E8.m1.4.5.3.1.1.cmml">
             </mtd>
            </mtr>
            <mtr id="A3.E8.m1.2.2.2ad" xref="A3.E8.m1.4.5.3.1.cmml">
             <mtd id="A3.E8.m1.2.2.2ae" xref="A3.E8.m1.4.5.3.1.1.cmml">
             </mtd>
             <mtd id="A3.E8.m1.2.2.2af" xref="A3.E8.m1.4.5.3.1.1.cmml">
             </mtd>
            </mtr>
            <mtr id="A3.E8.m1.2.2.2ag" xref="A3.E8.m1.4.5.3.1.cmml">
             <mtd class="ltx_align_left" columnalign="left" id="A3.E8.m1.2.2.2ah" xref="A3.E8.m1.4.5.3.1.cmml">
              <mrow id="A3.E8.m1.2.2.2.2.1.1.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.cmml">
               <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.cmml">
                <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.3.cmml">
                 <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml">
                  <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.4" maxsize="160%" minsize="160%" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml">
                   (
                  </mo>
                  <msub id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.cmml">
                   <mover accent="true" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.cmml">
                    <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.2.cmml">
                     x
                    </mi>
                    <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.1.cmml">
                     ~
                    </mo>
                   </mover>
                   <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.cmml">
                    <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.2.cmml">
                     n
                    </mi>
                    <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.1.cmml">
                     −
                    </mo>
                    <mn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.3.cmml">
                     1
                    </mn>
                   </mrow>
                  </msub>
                  <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.5" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml">
                   ,
                  </mo>
                  <mfrac id="A3.E8.m1.2.2.2.2.1.1.1" xref="A3.E8.m1.2.2.2.2.1.1.1.cmml">
                   <mrow id="A3.E8.m1.2.2.2.2.1.1.1.1" xref="A3.E8.m1.2.2.2.2.1.1.1.1.cmml">
                    <mrow id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.cmml">
                     <mo id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.2" stretchy="false" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.cmml">
                      (
                     </mo>
                     <mrow id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.cmml">
                      <msup id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.cmml">
                       <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.2" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.2a.cmml">
                        Num
                       </mtext>
                       <mi id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.3" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.3.cmml">
                        n
                       </mi>
                      </msup>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.1" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.1.cmml">
                       −
                      </mo>
                      <mn id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.3" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.3.cmml">
                       1
                      </mn>
                     </mrow>
                     <mo id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.cmml">
                      )
                     </mo>
                    </mrow>
                    <mo id="A3.E8.m1.2.2.2.2.1.1.1.1.2" rspace="0.222em" xref="A3.E8.m1.2.2.2.2.1.1.1.1.2.cmml">
                     ⋅
                    </mo>
                    <msub id="A3.E8.m1.2.2.2.2.1.1.1.1.3" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.cmml">
                     <mover accent="true" id="A3.E8.m1.2.2.2.2.1.1.1.1.3.2" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.cmml">
                      <mi id="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.2" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.2.cmml">
                       y
                      </mi>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.1" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.cmml">
                      <mi id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.2" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.2.cmml">
                       n
                      </mi>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.1" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.1.cmml">
                       −
                      </mo>
                      <mn id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.3" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                   </mrow>
                   <msup id="A3.E8.m1.2.2.2.2.1.1.1.3" xref="A3.E8.m1.2.2.2.2.1.1.1.3.cmml">
                    <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.1.3.2" xref="A3.E8.m1.2.2.2.2.1.1.1.3.2a.cmml">
                     Num
                    </mtext>
                    <mi id="A3.E8.m1.2.2.2.2.1.1.1.3.3" xref="A3.E8.m1.2.2.2.2.1.1.1.3.3.cmml">
                     n
                    </mi>
                   </msup>
                  </mfrac>
                  <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.6" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml">
                   ,
                  </mo>
                  <msub id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.cmml">
                   <mover accent="true" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.cmml">
                    <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.2.cmml">
                     w
                    </mi>
                    <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.1.cmml">
                     ~
                    </mo>
                   </mover>
                   <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.cmml">
                    <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.2.cmml">
                     n
                    </mi>
                    <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.1.cmml">
                     −
                    </mo>
                    <mn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.3.cmml">
                     1
                    </mn>
                   </mrow>
                  </msub>
                  <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.7" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml">
                   ,
                  </mo>
                  <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.cmml">
                   <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.cmml">
                    <msub id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.cmml">
                     <mover accent="true" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.cmml">
                      <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.2.cmml">
                       h
                      </mi>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.cmml">
                      <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.2.cmml">
                       n
                      </mi>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.1.cmml">
                       −
                      </mo>
                      <mn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                    <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.1" lspace="0.222em" rspace="0.222em" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.1.cmml">
                     ⋅
                    </mo>
                    <msub id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.cmml">
                     <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.2.cmml">
                      r
                     </mi>
                     <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.3.cmml">
                      i
                     </mi>
                    </msub>
                   </mrow>
                   <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.1.cmml">
                    +
                   </mo>
                   <mfrac id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.cmml">
                    <msub id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.cmml">
                     <mover accent="true" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.cmml">
                      <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.2.cmml">
                       y
                      </mi>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.1.cmml">
                       ~
                      </mo>
                     </mover>
                     <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.cmml">
                      <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.2.cmml">
                       n
                      </mi>
                      <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.1" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.1.cmml">
                       −
                      </mo>
                      <mn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.3.cmml">
                       1
                      </mn>
                     </mrow>
                    </msub>
                    <msup id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.cmml">
                     <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.2a.cmml">
                      Num
                     </mtext>
                     <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.3.cmml">
                      n
                     </mi>
                    </msup>
                   </mfrac>
                  </mrow>
                  <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.8" maxsize="160%" minsize="160%" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml">
                   )
                  </mo>
                 </mrow>
                 <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.3.cmml">
                  ,
                 </mo>
                 <msup id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.cmml">
                  <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2c.cmml">
                   <mtext id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2a" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2c.cmml">
                    if
                   </mtext>
                   <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2b" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2c.cmml">
                    opt
                   </mtext>
                  </mrow>
                  <mi id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.3.cmml">
                   n
                  </mi>
                 </msup>
                </mrow>
                <mo id="A3.E8.m1.2.2.2.2.1.1.2.1.3" xref="A3.E8.m1.2.2.2.2.1.1.2.1.3.cmml">
                 =
                </mo>
                <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.2.1.4" xref="A3.E8.m1.2.2.2.2.1.1.2.1.4a.cmml">
                 top
                </mtext>
               </mrow>
               <mo id="A3.E8.m1.2.2.2.2.1.1.2.2" lspace="0em" xref="A3.E8.m1.2.2.2.2.1.1.2.1.cmml">
                .
               </mo>
              </mrow>
             </mtd>
             <mtd id="A3.E8.m1.2.2.2ai" xref="A3.E8.m1.4.5.3.1.1.cmml">
             </mtd>
            </mtr>
           </mtable>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="A3.E8.m1.4b">
          <apply id="A3.E8.m1.4.5.cmml" xref="A3.E8.m1.4.5">
           <eq id="A3.E8.m1.4.5.1.cmml" xref="A3.E8.m1.4.5.1">
           </eq>
           <apply id="A3.E8.m1.4.5.2.cmml" xref="A3.E8.m1.4.5.2">
            <csymbol cd="ambiguous" id="A3.E8.m1.4.5.2.1.cmml" xref="A3.E8.m1.4.5.2">
             subscript
            </csymbol>
            <ci id="A3.E8.m1.4.5.2.2.cmml" xref="A3.E8.m1.4.5.2.2">
             𝑴
            </ci>
            <list id="A3.E8.m1.4.4.2.3.cmml" xref="A3.E8.m1.4.4.2.4">
             <ci id="A3.E8.m1.3.3.1.1.cmml" xref="A3.E8.m1.3.3.1.1">
              𝑛
             </ci>
             <ci id="A3.E8.m1.4.4.2.2.cmml" xref="A3.E8.m1.4.4.2.2">
              𝑖
             </ci>
            </list>
           </apply>
           <apply id="A3.E8.m1.4.5.3.1.cmml" xref="A3.E8.m1.2.2a">
            <csymbol cd="latexml" id="A3.E8.m1.4.5.3.1.1.cmml" xref="A3.E8.m1.2.2a.3">
             cases
            </csymbol>
            <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1">
             <eq id="A3.E8.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.3">
             </eq>
             <list id="A3.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2">
              <vector id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.5.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4">
               <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1">
                <plus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">
                </plus>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4">
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.1">
                  ⋅
                 </ci>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2">
                  <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2">
                   subscript
                  </csymbol>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2">
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.1">
                    ~
                   </ci>
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.2.2">
                    𝑥
                   </ci>
                  </apply>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3">
                   <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.1">
                   </minus>
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.2">
                    𝑛
                   </ci>
                   <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.2.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3">
                  <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3">
                   subscript
                  </csymbol>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.2">
                   𝑟
                  </ci>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.3.3">
                   𝑖
                  </ci>
                 </apply>
                </apply>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">
                  ⋅
                 </ci>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">
                  <plus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">
                  </plus>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">
                   <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">
                    subscript
                   </csymbol>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1">
                     ~
                    </ci>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">
                     𝑥
                    </ci>
                   </apply>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">
                    <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1">
                    </minus>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2">
                     𝑛
                    </ci>
                    <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3">
                     1
                    </cn>
                   </apply>
                  </apply>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">
                   <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">
                    subscript
                   </csymbol>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1">
                     ~
                    </ci>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2">
                     𝑤
                    </ci>
                   </apply>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">
                    <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.1">
                    </minus>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.2">
                     𝑛
                    </ci>
                    <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3">
                     1
                    </cn>
                   </apply>
                  </apply>
                 </apply>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1">
                  <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1">
                  </minus>
                  <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.2.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.2">
                   1
                  </cn>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3">
                   <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3">
                    subscript
                   </csymbol>
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.2">
                    𝑟
                   </ci>
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3.3">
                    𝑖
                   </ci>
                  </apply>
                 </apply>
                </apply>
               </apply>
               <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2">
                <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2">
                 subscript
                </csymbol>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1">
                  ~
                 </ci>
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2">
                  𝑦
                 </ci>
                </apply>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3">
                 <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.1">
                 </minus>
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2">
                  𝑛
                 </ci>
                 <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3">
                <plus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1">
                </plus>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2">
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.1">
                  ⋅
                 </ci>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2">
                  <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2">
                   subscript
                  </csymbol>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2">
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.1">
                    ~
                   </ci>
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.2.2">
                    𝑤
                   </ci>
                  </apply>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3">
                   <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.1">
                   </minus>
                   <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.2">
                    𝑛
                   </ci>
                   <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.2.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3">
                  <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3">
                   subscript
                  </csymbol>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.2">
                   𝑟
                  </ci>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.3.3">
                   𝑖
                  </ci>
                 </apply>
                </apply>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3">
                 <divide id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3">
                 </divide>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2">
                  <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.1">
                  </minus>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.2">
                   𝑊
                  </ci>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3">
                   <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3">
                    subscript
                   </csymbol>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2">
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.1">
                     ~
                    </ci>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.2.2">
                     𝑥
                    </ci>
                   </apply>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3">
                    <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.1">
                    </minus>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.2">
                     𝑛
                    </ci>
                    <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.3.3.3">
                     1
                    </cn>
                   </apply>
                  </apply>
                  <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4">
                   <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4">
                    subscript
                   </csymbol>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2">
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.1">
                     ~
                    </ci>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.2.2">
                     𝑤
                    </ci>
                   </apply>
                   <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3">
                    <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.1">
                    </minus>
                    <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.2">
                     𝑛
                    </ci>
                    <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.4.3.3">
                     1
                    </cn>
                   </apply>
                  </apply>
                 </apply>
                 <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3">
                  <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3">
                   superscript
                  </csymbol>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.2a.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.2">
                   <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.2.cmml" mathsize="70%" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.2">
                    Num
                   </mtext>
                  </ci>
                  <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.3">
                   𝑛
                  </ci>
                 </apply>
                </apply>
               </apply>
               <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4">
                <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4">
                 subscript
                </csymbol>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2">
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.1">
                  ~
                 </ci>
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.2.2">
                  ℎ
                 </ci>
                </apply>
                <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3">
                 <minus id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.1">
                 </minus>
                 <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.2">
                  𝑛
                 </ci>
                 <cn id="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.3.cmml" type="integer" xref="A3.E8.m1.1.1.1.1.1.1.1.1.1.1.1.4.4.3.3">
                  1
                 </cn>
                </apply>
               </apply>
              </vector>
              <apply id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2">
               <csymbol cd="ambiguous" id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2">
                superscript
               </csymbol>
               <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2c.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2">
                <mrow id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2">
                 <mtext id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2a.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2">
                  if
                 </mtext>
                 <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2b.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.2">
                  opt
                 </mtext>
                </mrow>
               </ci>
               <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.2.2.2.3">
                𝑛
               </ci>
              </apply>
             </list>
             <ci id="A3.E8.m1.1.1.1.1.1.1.1.1.4a.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.4">
              <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.1.1.1.1.1.1.1.1.4.cmml" xref="A3.E8.m1.1.1.1.1.1.1.1.1.4">
               right
              </mtext>
             </ci>
            </apply>
            <ci id="A3.E8.m1.4.5.3.1.3a.cmml" xref="A3.E8.m1.2.2a">
             <mtext class="ltx_mathvariant_italic" id="A3.E8.m1.4.5.3.1.3.cmml" xref="A3.E8.m1.2.2a.3">
              otherwise
             </mtext>
            </ci>
            <ci id="A3.E8.m1.4.5.3.1.4a.cmml" xref="A3.E8.m1.2.2a">
             <mtext class="ltx_mathvariant_italic" id="A3.E8.m1.4.5.3.1.4.cmml" xref="A3.E8.m1.2.2a.3">
              otherwise
             </mtext>
            </ci>
            <ci id="A3.E8.m1.4.5.3.1.5a.cmml" xref="A3.E8.m1.2.2a">
             <mtext class="ltx_mathvariant_italic" id="A3.E8.m1.4.5.3.1.5.cmml" xref="A3.E8.m1.2.2a.3">
              otherwise
             </mtext>
            </ci>
            <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2">
             <eq id="A3.E8.m1.2.2.2.2.1.1.2.1.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.3">
             </eq>
             <list id="A3.E8.m1.2.2.2.2.1.1.2.1.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2">
              <vector id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.4.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3">
               <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1">
                 subscript
                </csymbol>
                <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2">
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.1">
                  ~
                 </ci>
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.2.2">
                  𝑥
                 </ci>
                </apply>
                <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3">
                 <minus id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.1">
                 </minus>
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.2">
                  𝑛
                 </ci>
                 <cn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.1.1.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <apply id="A3.E8.m1.2.2.2.2.1.1.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1">
                <divide id="A3.E8.m1.2.2.2.2.1.1.1.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1">
                </divide>
                <apply id="A3.E8.m1.2.2.2.2.1.1.1.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1">
                 <ci id="A3.E8.m1.2.2.2.2.1.1.1.1.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.2">
                  ⋅
                 </ci>
                 <apply id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1">
                  <minus id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.1">
                  </minus>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2">
                   <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2">
                    superscript
                   </csymbol>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.2a.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.2">
                    <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.2.cmml" mathsize="70%" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.2">
                     Num
                    </mtext>
                   </ci>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.2.3">
                    𝑛
                   </ci>
                  </apply>
                  <cn id="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.3.cmml" type="integer" xref="A3.E8.m1.2.2.2.2.1.1.1.1.1.1.1.3">
                   1
                  </cn>
                 </apply>
                 <apply id="A3.E8.m1.2.2.2.2.1.1.1.1.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.1.1.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3">
                   subscript
                  </csymbol>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.2">
                   <ci id="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.1">
                    ~
                   </ci>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.2.2">
                    𝑦
                   </ci>
                  </apply>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3">
                   <minus id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.1">
                   </minus>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.2">
                    𝑛
                   </ci>
                   <cn id="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.3.cmml" type="integer" xref="A3.E8.m1.2.2.2.2.1.1.1.1.3.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                </apply>
                <apply id="A3.E8.m1.2.2.2.2.1.1.1.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.3">
                 <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.1.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.3">
                  superscript
                 </csymbol>
                 <ci id="A3.E8.m1.2.2.2.2.1.1.1.3.2a.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.3.2">
                  <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.1.3.2.cmml" mathsize="70%" xref="A3.E8.m1.2.2.2.2.1.1.1.3.2">
                   Num
                  </mtext>
                 </ci>
                 <ci id="A3.E8.m1.2.2.2.2.1.1.1.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.1.3.3">
                  𝑛
                 </ci>
                </apply>
               </apply>
               <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2">
                <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2">
                 subscript
                </csymbol>
                <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2">
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.1">
                  ~
                 </ci>
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.2.2">
                  𝑤
                 </ci>
                </apply>
                <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3">
                 <minus id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.1">
                 </minus>
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.2">
                  𝑛
                 </ci>
                 <cn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.3.cmml" type="integer" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.2.2.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3">
                <plus id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.1">
                </plus>
                <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2">
                 <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.1">
                  ⋅
                 </ci>
                 <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2">
                  <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2">
                   subscript
                  </csymbol>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2">
                   <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.1">
                    ~
                   </ci>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.2.2">
                    ℎ
                   </ci>
                  </apply>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3">
                   <minus id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.1">
                   </minus>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.2">
                    𝑛
                   </ci>
                   <cn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.3.cmml" type="integer" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.2.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                 <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3">
                  <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3">
                   subscript
                  </csymbol>
                  <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.2">
                   𝑟
                  </ci>
                  <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.2.3.3">
                   𝑖
                  </ci>
                 </apply>
                </apply>
                <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3">
                 <divide id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3">
                 </divide>
                 <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2">
                  <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2">
                   subscript
                  </csymbol>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2">
                   <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.1">
                    ~
                   </ci>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.2.2">
                    𝑦
                   </ci>
                  </apply>
                  <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3">
                   <minus id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.1">
                   </minus>
                   <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.2">
                    𝑛
                   </ci>
                   <cn id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.3.cmml" type="integer" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.2.3.3">
                    1
                   </cn>
                  </apply>
                 </apply>
                 <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3">
                  <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3">
                   superscript
                  </csymbol>
                  <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.2a.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.2">
                   <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.2.cmml" mathsize="70%" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.2">
                    Num
                   </mtext>
                  </ci>
                  <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.1.1.1.3.3.3.3.3">
                   𝑛
                  </ci>
                 </apply>
                </apply>
               </apply>
              </vector>
              <apply id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2">
               <csymbol cd="ambiguous" id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.1.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2">
                superscript
               </csymbol>
               <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2c.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2">
                <mrow id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2">
                 <mtext id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2a.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2">
                  if
                 </mtext>
                 <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2b.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.2">
                  opt
                 </mtext>
                </mrow>
               </ci>
               <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.3.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.2.2.2.3">
                𝑛
               </ci>
              </apply>
             </list>
             <ci id="A3.E8.m1.2.2.2.2.1.1.2.1.4a.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.4">
              <mtext class="ltx_mathvariant_monospace" id="A3.E8.m1.2.2.2.2.1.1.2.1.4.cmml" xref="A3.E8.m1.2.2.2.2.1.1.2.1.4">
               top
              </mtext>
             </ci>
            </apply>
            <ci id="A3.E8.m1.4.5.3.1.7a.cmml" xref="A3.E8.m1.2.2a">
             <mtext class="ltx_mathvariant_italic" id="A3.E8.m1.4.5.3.1.7.cmml" xref="A3.E8.m1.2.2a.3">
              otherwise
             </mtext>
            </ci>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="A3.E8.m1.4c">
          \displaystyle\bm{M}_{n,i}=\begin{cases}\Big{(}\tilde{x}_{n-1}\cdot r_{i}+(\tilde{x}_{n-1}+\tilde{w}_{n-1})\cdot(1-r_{i}),\tilde{y}_{n-1},\tilde{w}_{n-1}\cdot r_{i}+\frac{W-\tilde{x}_{n-1}-\tilde{w}_{n-1}}{\texttt{Num}^{n}},\tilde{h}_{n-1}\Big{)},\text{if }\texttt{opt}^{n}=\texttt{right},\\
\\
\Big{(}\tilde{x}_{n-1},\frac{(\texttt{Num}^{n}-1)\cdot\tilde{y}_{n-1}}{\texttt{Num}^{n}},\tilde{w}_{n-1},\tilde{h}_{n-1}\cdot r_{i}+\frac{\tilde{y}_{n-1}}{\texttt{Num}^{n}}\Big{)},\text{if }\texttt{opt}^{n}=\texttt{top}.\end{cases}
         </annotation>
        </semantics>
       </math>
      </td>
      <td class="ltx_eqn_cell ltx_eqn_center_padright">
      </td>
      <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
       <span class="ltx_tag ltx_tag_equation ltx_align_right">
        (8)
       </span>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="ltx_para" id="A3.p2">
   <p class="ltx_p" id="A3.p2.1">
    The illustration for different overlapping ratios is shown in Figure
    <a class="ltx_ref" href="#A3.F7" title="Figure 7 ‣ Appendix C More details on the overlapping processing ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      7
     </span>
    </a>
    .
   </p>
  </div>
  <figure class="ltx_figure" id="A3.F7">
   <p class="ltx_p ltx_align_center ltx_align_center" id="A3.F7.1.1">
    <span class="ltx_text" id="A3.F7.1.1.1">
     <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="187" id="A3.F7.1.1.1.g1" src="/html/2402.12741/assets/overlapping.png" width="598"/>
    </span>
   </p>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 7:
    </span>
    Three candidate masks
    <math alttext="\bm{M}_{n,i}" class="ltx_Math" display="inline" id="A3.F7.7.7.m1.2">
     <semantics id="A3.F7.7.7.m1.2b">
      <msub id="A3.F7.7.7.m1.2.3" xref="A3.F7.7.7.m1.2.3.cmml">
       <mi id="A3.F7.7.7.m1.2.3.2" xref="A3.F7.7.7.m1.2.3.2.cmml">
        𝑴
       </mi>
       <mrow id="A3.F7.7.7.m1.2.2.2.4" xref="A3.F7.7.7.m1.2.2.2.3.cmml">
        <mi id="A3.F7.7.7.m1.1.1.1.1" xref="A3.F7.7.7.m1.1.1.1.1.cmml">
         n
        </mi>
        <mo id="A3.F7.7.7.m1.2.2.2.4.1" xref="A3.F7.7.7.m1.2.2.2.3.cmml">
         ,
        </mo>
        <mi id="A3.F7.7.7.m1.2.2.2.2" xref="A3.F7.7.7.m1.2.2.2.2.cmml">
         i
        </mi>
       </mrow>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.F7.7.7.m1.2c">
       <apply id="A3.F7.7.7.m1.2.3.cmml" xref="A3.F7.7.7.m1.2.3">
        <csymbol cd="ambiguous" id="A3.F7.7.7.m1.2.3.1.cmml" xref="A3.F7.7.7.m1.2.3">
         subscript
        </csymbol>
        <ci id="A3.F7.7.7.m1.2.3.2.cmml" xref="A3.F7.7.7.m1.2.3.2">
         𝑴
        </ci>
        <list id="A3.F7.7.7.m1.2.2.2.3.cmml" xref="A3.F7.7.7.m1.2.2.2.4">
         <ci id="A3.F7.7.7.m1.1.1.1.1.cmml" xref="A3.F7.7.7.m1.1.1.1.1">
          𝑛
         </ci>
         <ci id="A3.F7.7.7.m1.2.2.2.2.cmml" xref="A3.F7.7.7.m1.2.2.2.2">
          𝑖
         </ci>
        </list>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.F7.7.7.m1.2d">
       \bm{M}_{n,i}
      </annotation>
     </semantics>
    </math>
    of
    <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="A3.F7.8.8.m2.1">
     <semantics id="A3.F7.8.8.m2.1b">
      <msub id="A3.F7.8.8.m2.1.1" xref="A3.F7.8.8.m2.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A3.F7.8.8.m2.1.1.2" xref="A3.F7.8.8.m2.1.1.2a.cmml">
        obj
       </mtext>
       <mi id="A3.F7.8.8.m2.1.1.3" xref="A3.F7.8.8.m2.1.1.3.cmml">
        n
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.F7.8.8.m2.1c">
       <apply id="A3.F7.8.8.m2.1.1.cmml" xref="A3.F7.8.8.m2.1.1">
        <csymbol cd="ambiguous" id="A3.F7.8.8.m2.1.1.1.cmml" xref="A3.F7.8.8.m2.1.1">
         subscript
        </csymbol>
        <ci id="A3.F7.8.8.m2.1.1.2a.cmml" xref="A3.F7.8.8.m2.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A3.F7.8.8.m2.1.1.2.cmml" xref="A3.F7.8.8.m2.1.1.2">
          obj
         </mtext>
        </ci>
        <ci id="A3.F7.8.8.m2.1.1.3.cmml" xref="A3.F7.8.8.m2.1.1.3">
         𝑛
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.F7.8.8.m2.1d">
       \texttt{obj}_{n}
      </annotation>
     </semantics>
    </math>
    at position
    <math alttext="\texttt{opt}_{n}=\texttt{top}" class="ltx_Math" display="inline" id="A3.F7.9.9.m3.1">
     <semantics id="A3.F7.9.9.m3.1b">
      <mrow id="A3.F7.9.9.m3.1.1" xref="A3.F7.9.9.m3.1.1.cmml">
       <msub id="A3.F7.9.9.m3.1.1.2" xref="A3.F7.9.9.m3.1.1.2.cmml">
        <mtext class="ltx_mathvariant_monospace" id="A3.F7.9.9.m3.1.1.2.2" xref="A3.F7.9.9.m3.1.1.2.2a.cmml">
         opt
        </mtext>
        <mi id="A3.F7.9.9.m3.1.1.2.3" xref="A3.F7.9.9.m3.1.1.2.3.cmml">
         n
        </mi>
       </msub>
       <mo id="A3.F7.9.9.m3.1.1.1" xref="A3.F7.9.9.m3.1.1.1.cmml">
        =
       </mo>
       <mtext class="ltx_mathvariant_monospace" id="A3.F7.9.9.m3.1.1.3" xref="A3.F7.9.9.m3.1.1.3a.cmml">
        top
       </mtext>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="A3.F7.9.9.m3.1c">
       <apply id="A3.F7.9.9.m3.1.1.cmml" xref="A3.F7.9.9.m3.1.1">
        <eq id="A3.F7.9.9.m3.1.1.1.cmml" xref="A3.F7.9.9.m3.1.1.1">
        </eq>
        <apply id="A3.F7.9.9.m3.1.1.2.cmml" xref="A3.F7.9.9.m3.1.1.2">
         <csymbol cd="ambiguous" id="A3.F7.9.9.m3.1.1.2.1.cmml" xref="A3.F7.9.9.m3.1.1.2">
          subscript
         </csymbol>
         <ci id="A3.F7.9.9.m3.1.1.2.2a.cmml" xref="A3.F7.9.9.m3.1.1.2.2">
          <mtext class="ltx_mathvariant_monospace" id="A3.F7.9.9.m3.1.1.2.2.cmml" xref="A3.F7.9.9.m3.1.1.2.2">
           opt
          </mtext>
         </ci>
         <ci id="A3.F7.9.9.m3.1.1.2.3.cmml" xref="A3.F7.9.9.m3.1.1.2.3">
          𝑛
         </ci>
        </apply>
        <ci id="A3.F7.9.9.m3.1.1.3a.cmml" xref="A3.F7.9.9.m3.1.1.3">
         <mtext class="ltx_mathvariant_monospace" id="A3.F7.9.9.m3.1.1.3.cmml" xref="A3.F7.9.9.m3.1.1.3">
          top
         </mtext>
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.F7.9.9.m3.1d">
       \texttt{opt}_{n}=\texttt{top}
      </annotation>
     </semantics>
    </math>
    . They correspond to
    <math alttext="\texttt{obj}_{n}" class="ltx_Math" display="inline" id="A3.F7.10.10.m4.1">
     <semantics id="A3.F7.10.10.m4.1b">
      <msub id="A3.F7.10.10.m4.1.1" xref="A3.F7.10.10.m4.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A3.F7.10.10.m4.1.1.2" xref="A3.F7.10.10.m4.1.1.2a.cmml">
        obj
       </mtext>
       <mi id="A3.F7.10.10.m4.1.1.3" xref="A3.F7.10.10.m4.1.1.3.cmml">
        n
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.F7.10.10.m4.1c">
       <apply id="A3.F7.10.10.m4.1.1.cmml" xref="A3.F7.10.10.m4.1.1">
        <csymbol cd="ambiguous" id="A3.F7.10.10.m4.1.1.1.cmml" xref="A3.F7.10.10.m4.1.1">
         subscript
        </csymbol>
        <ci id="A3.F7.10.10.m4.1.1.2a.cmml" xref="A3.F7.10.10.m4.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A3.F7.10.10.m4.1.1.2.cmml" xref="A3.F7.10.10.m4.1.1.2">
          obj
         </mtext>
        </ci>
        <ci id="A3.F7.10.10.m4.1.1.3.cmml" xref="A3.F7.10.10.m4.1.1.3">
         𝑛
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.F7.10.10.m4.1d">
       \texttt{obj}_{n}
      </annotation>
     </semantics>
    </math>
    overlapping with 10%, 30%, and 50% of
    <math alttext="\texttt{obj}_{n-1}" class="ltx_Math" display="inline" id="A3.F7.11.11.m5.1">
     <semantics id="A3.F7.11.11.m5.1b">
      <msub id="A3.F7.11.11.m5.1.1" xref="A3.F7.11.11.m5.1.1.cmml">
       <mtext class="ltx_mathvariant_monospace" id="A3.F7.11.11.m5.1.1.2" xref="A3.F7.11.11.m5.1.1.2a.cmml">
        obj
       </mtext>
       <mrow id="A3.F7.11.11.m5.1.1.3" xref="A3.F7.11.11.m5.1.1.3.cmml">
        <mi id="A3.F7.11.11.m5.1.1.3.2" xref="A3.F7.11.11.m5.1.1.3.2.cmml">
         n
        </mi>
        <mo id="A3.F7.11.11.m5.1.1.3.1" xref="A3.F7.11.11.m5.1.1.3.1.cmml">
         −
        </mo>
        <mn id="A3.F7.11.11.m5.1.1.3.3" xref="A3.F7.11.11.m5.1.1.3.3.cmml">
         1
        </mn>
       </mrow>
      </msub>
      <annotation-xml encoding="MathML-Content" id="A3.F7.11.11.m5.1c">
       <apply id="A3.F7.11.11.m5.1.1.cmml" xref="A3.F7.11.11.m5.1.1">
        <csymbol cd="ambiguous" id="A3.F7.11.11.m5.1.1.1.cmml" xref="A3.F7.11.11.m5.1.1">
         subscript
        </csymbol>
        <ci id="A3.F7.11.11.m5.1.1.2a.cmml" xref="A3.F7.11.11.m5.1.1.2">
         <mtext class="ltx_mathvariant_monospace" id="A3.F7.11.11.m5.1.1.2.cmml" xref="A3.F7.11.11.m5.1.1.2">
          obj
         </mtext>
        </ci>
        <apply id="A3.F7.11.11.m5.1.1.3.cmml" xref="A3.F7.11.11.m5.1.1.3">
         <minus id="A3.F7.11.11.m5.1.1.3.1.cmml" xref="A3.F7.11.11.m5.1.1.3.1">
         </minus>
         <ci id="A3.F7.11.11.m5.1.1.3.2.cmml" xref="A3.F7.11.11.m5.1.1.3.2">
          𝑛
         </ci>
         <cn id="A3.F7.11.11.m5.1.1.3.3.cmml" type="integer" xref="A3.F7.11.11.m5.1.1.3.3">
          1
         </cn>
        </apply>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="A3.F7.11.11.m5.1d">
       \texttt{obj}_{n-1}
      </annotation>
     </semantics>
    </math>
    .
   </figcaption>
  </figure>
 </section>
 <section class="ltx_appendix" id="A4">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix D
   </span>
   More details on the evaluation questionnaire
  </h2>
  <div class="ltx_para" id="A4.p1">
   <p class="ltx_p" id="A4.p1.1">
    As shown in Section
    <a class="ltx_ref" href="#S4" title="4 Experiments ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      4
     </span>
    </a>
    , we design a questionnaire to comprehensively evaluate the alignment between the generated image and the text by GPT-4V
    <cite class="ltx_cite ltx_citemacro_citep">
     (OpenAI,
     <a class="ltx_ref" href="#bib.bib15" title="">
      2023
     </a>
     )
    </cite>
    and human, from three aspects - object completeness, correctness of attribute bindings, and correctness of spatial relationships. Specifically, given an image and a text prompt, for object completeness, we will evaluate if the image contains each single object in the prompt. If the object appears in the image, we will then judge if the attribute bindings of the object in the image align with the corresponding attribute bindings in the text prompt, to evaluate the correctness of attribute bindings. We will also ask GPT-4V or human to judge if the spatial relationships are correct and match the text, as the evaluation of the spatial relationships.
   </p>
  </div>
  <div class="ltx_para" id="A4.p2">
   <p class="ltx_p" id="A4.p2.1">
    Examples of the questionnaire for different images and text prompts are shown in Figure
    <a class="ltx_ref" href="#A4.F8" title="Figure 8 ‣ Appendix D More details on the evaluation questionnaire ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      8
     </span>
    </a>
    .
   </p>
  </div>
  <figure class="ltx_figure" id="A4.F8">
   <div class="ltx_flex_figure">
    <div class="ltx_flex_cell ltx_flex_size_1">
     <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A4.F8.1.1">
      <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="299" id="A4.F8.1.1.g1" src="/html/2402.12741/assets/1_.png" width="598"/>
     </figure>
    </div>
    <div class="ltx_flex_break">
    </div>
    <div class="ltx_flex_cell ltx_flex_size_1">
     <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A4.F8.2.2">
      <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="299" id="A4.F8.2.2.g1" src="/html/2402.12741/assets/1.png" width="598"/>
     </figure>
    </div>
   </div>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 8:
    </span>
    Illustration of the questionnaire for the evaluation of generated images
   </figcaption>
  </figure>
 </section>
 <section class="ltx_appendix" id="A5">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix E
   </span>
   More qualitative results
  </h2>
  <div class="ltx_para" id="A5.p1">
   <p class="ltx_p" id="A5.p1.1">
    We show more examples of different methods in Figure
    <a class="ltx_ref" href="#A5.F9" title="Figure 9 ‣ Appendix E More qualitative results ‣ MuLan: Multimodal-LLM Agent for Progressive Multi-Object Diffusion">
     <span class="ltx_text ltx_ref_tag">
      9
     </span>
    </a>
    .
   </p>
  </div>
  <figure class="ltx_figure" id="A5.F9">
   <p class="ltx_p ltx_align_center ltx_align_center" id="A5.F9.1.1">
    <span class="ltx_text" id="A5.F9.1.1.1">
     <img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="738" id="A5.F9.1.1.1.g1" src="/html/2402.12741/assets/more.png" width="598"/>
    </span>
   </p>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 9:
    </span>
    More qualitative examples of images generated by different methods on intricate prompts.
   </figcaption>
  </figure>
  <div class="ltx_pagination ltx_role_newpage">
  </div>
 </section>
</article>
