{
    "S2.E1": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S2.E2": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S2.E3": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S2.E4": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S3.E5": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S3.E6": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S3.T1.1": {
        "caption": "Statistics of datasets in different domains.  : Due to limited memory, we randomly sampled 5M samples from a total of 65.7M samples in NC+Euro for training.",
        "table": "<table class=\"ltx_tabular ltx_centering ltx_align_middle\" id=\"S3.T1.1\">\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S3.T1.1.2.1\">\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.1.1\">Dataset</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.2\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.2.1\">Medical</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.3\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.3.1\">Law</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.4\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.4.1\">IT</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.5\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.5.1\">Koran</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.6\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.6.1\">Subtitle</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T1.1.2.1.7\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.2.1.7.1\">NC+Euro</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.3.2\">\n<td class=\"ltx_td ltx_align_left ltx_border_t\" id=\"S3.T1.1.3.2.1\">Train</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.3.2.2\">248K</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.3.2.3\">467K</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.3.2.4\">222K</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.3.2.5\">52K</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.3.2.6\">500K</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T1.1.3.2.7\">2M</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.4.3\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.4.3.1\">Valid</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.2\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.3\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.4\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.5\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.6\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3.7\">-</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.5.4\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.5.4.1\">Test</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4.2\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4.3\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4.4\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4.5\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4.6\">2000</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4.7\">-</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.1\">\n<td class=\"ltx_td ltx_align_left ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.2\">Datastore</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.3\">6.9M</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.4\">19.0M</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.5\">3.6M</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.6\">0.5M</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.7\">6.2M</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_t\" id=\"S3.T1.1.1.1\">5M<math alttext=\"{}^{\\dagger}\" class=\"ltx_Math\" display=\"inline\" id=\"S3.T1.1.1.1.m1.1\"><semantics id=\"S3.T1.1.1.1.m1.1a\"><msup id=\"S3.T1.1.1.1.m1.1.1\" xref=\"S3.T1.1.1.1.m1.1.1.cmml\"><mi id=\"S3.T1.1.1.1.m1.1.1a\" xref=\"S3.T1.1.1.1.m1.1.1.cmml\"/><mo id=\"S3.T1.1.1.1.m1.1.1.1\" xref=\"S3.T1.1.1.1.m1.1.1.1.cmml\">&#8224;</mo></msup><annotation-xml encoding=\"MathML-Content\" id=\"S3.T1.1.1.1.m1.1b\"><apply id=\"S3.T1.1.1.1.m1.1.1.cmml\" xref=\"S3.T1.1.1.1.m1.1.1\"><ci id=\"S3.T1.1.1.1.m1.1.1.1.cmml\" xref=\"S3.T1.1.1.1.m1.1.1.1\">&#8224;</ci></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S3.T1.1.1.1.m1.1c\">{}^{\\dagger}</annotation><annotation encoding=\"application/x-llamapun\" id=\"S3.T1.1.1.1.m1.1d\">start_FLOATSUPERSCRIPT &#8224; end_FLOATSUPERSCRIPT</annotation></semantics></math>\n</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "To fairly compared with previous work Khandelwal et al. (2021),\nwe use WMT’19 German-English news translation task winner Ng et al. (2019) as our strong general domain baseline.\nWe use the same German-English multi-domain datasets, consisting of five domains, including Medical, Law, IT, Koran and Subtitles 444We use the provided 500K sentence pairs version subtitle data rather than full size 12.4M due to memory limitation.. Besides, to test the proposed training approach robust in out-domain scenery, we also use a 2M subset of the baseline’s training data, including News Commentary v14 and Europarl v9, and randomly sample 5M samples out of 65.7M samples from its datastore. See Table 1 for detailed data statistics.\n\n"
        ]
    },
    "S3.T2.3.3": {
        "caption": "The SacreBLEU scores of our proposed   and the baseline methods in five domains.   denotes using retrieval confidence aware interpolation coefficient.   denotes the number is not comparable because   use full-size subtitle data than ours.\nAll the   results are significantly better (p 0.01) than our re-implemented  NN-MT, measured by paired bootstrap resampling  .",
        "table": "<table class=\"ltx_tabular ltx_guessed_headers ltx_align_middle\" id=\"S3.T2.3.3\">\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.4.1\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_tt\" id=\"S3.T2.3.3.4.1.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.1.1\">Method</span></th>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T2.3.3.4.1.2\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.2.1\">Medical</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T2.3.3.4.1.3\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.3.1\">Law</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T2.3.3.4.1.4\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.4.1\">IT</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T2.3.3.4.1.5\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.5.1\">Koran</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T2.3.3.4.1.6\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.6.1\">Subtitle</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt\" id=\"S3.T2.3.3.4.1.7\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.4.1.7.1\">Avg.</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.5.2\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t\" id=\"S3.T2.3.3.5.2.1\">Baseline (WMT19 winner, <cite class=\"ltx_cite ltx_citemacro_citet\">Ng et&#160;al. (<a class=\"ltx_ref\" href=\"#bib.bib9\" title=\"\">2019</a>)</cite>)</th>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.5.2.2\">39.91</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.5.2.3\">45.71</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.5.2.4\">37.98</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.5.2.5\">16.3</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.5.2.6\">29.21</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.5.2.7\">33.82</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.1.1.1\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row\" id=\"S3.T2.1.1.1.2\">\n<span class=\"ltx_text ltx_font_italic\" id=\"S3.T2.1.1.1.2.1\">k</span>NN-MT <cite class=\"ltx_cite ltx_citemacro_cite\">Khandelwal et&#160;al. (<a class=\"ltx_ref\" href=\"#bib.bib6\" title=\"\">2021</a>)</cite>\n</th>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.1.1.1.3\">54.35</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.1.1.1.4\">61.78</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.1.1.1.5\">45.82</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.1.1.1.6\">19.45</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.1.1.1.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.1.1.1.1.1\">31.73<math alttext=\"{}^{\\dagger}\" class=\"ltx_Math\" display=\"inline\" id=\"S3.T2.1.1.1.1.1.m1.1\"><semantics id=\"S3.T2.1.1.1.1.1.m1.1a\"><msup id=\"S3.T2.1.1.1.1.1.m1.1.1\" xref=\"S3.T2.1.1.1.1.1.m1.1.1.cmml\"><mi id=\"S3.T2.1.1.1.1.1.m1.1.1a\" xref=\"S3.T2.1.1.1.1.1.m1.1.1.cmml\"/><mo id=\"S3.T2.1.1.1.1.1.m1.1.1.1\" mathvariant=\"normal\" xref=\"S3.T2.1.1.1.1.1.m1.1.1.1.cmml\">&#8224;</mo></msup><annotation-xml encoding=\"MathML-Content\" id=\"S3.T2.1.1.1.1.1.m1.1b\"><apply id=\"S3.T2.1.1.1.1.1.m1.1.1.cmml\" xref=\"S3.T2.1.1.1.1.1.m1.1.1\"><ci id=\"S3.T2.1.1.1.1.1.m1.1.1.1.cmml\" xref=\"S3.T2.1.1.1.1.1.m1.1.1.1\">normal-&#8224;</ci></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S3.T2.1.1.1.1.1.m1.1c\">{}^{\\dagger}</annotation><annotation encoding=\"application/x-llamapun\" id=\"S3.T2.1.1.1.1.1.m1.1d\">start_FLOATSUPERSCRIPT &#8224; end_FLOATSUPERSCRIPT</annotation></semantics></math></span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.1.1.1.7\">42.63</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.6.3\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row\" id=\"S3.T2.3.3.6.3.1\">\n<span class=\"ltx_text ltx_font_italic\" id=\"S3.T2.3.3.6.3.1.1\">k</span>NN-MT (our implementation)</th>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.3.3.6.3.2\">54.41</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.3.3.6.3.3\">61.01</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.3.3.6.3.4\">45.20</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.3.3.6.3.5\">21.07</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.3.3.6.3.6\">29.67</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.3.3.6.3.7\">42.27</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.7.4\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t\" colspan=\"7\" id=\"S3.T2.3.3.7.4.1\">\n<span class=\"ltx_text ltx_font_italic\" id=\"S3.T2.3.3.7.4.1.1\">train by out-domain data</span></th>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.8.5\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t\" id=\"S3.T2.3.3.8.5.1\"><span class=\"ltx_text ltx_font_smallcaps\" id=\"S3.T2.3.3.8.5.1.1\">Clknn</span></th>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.8.5.2\">56.37</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.8.5.3\">61.54</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.8.5.4\">46.50</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.8.5.5\">21.52</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.8.5.6\">30.81</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.8.5.7\">43.35</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.2.2.2\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row\" id=\"S3.T2.2.2.2.1\">\n<span class=\"ltx_text ltx_font_smallcaps\" id=\"S3.T2.2.2.2.1.1\">Clknn</span> + <math alttext=\"\\lambda^{*}\" class=\"ltx_Math\" display=\"inline\" id=\"S3.T2.2.2.2.1.m1.1\"><semantics id=\"S3.T2.2.2.2.1.m1.1a\"><msup id=\"S3.T2.2.2.2.1.m1.1.1\" xref=\"S3.T2.2.2.2.1.m1.1.1.cmml\"><mi id=\"S3.T2.2.2.2.1.m1.1.1.2\" xref=\"S3.T2.2.2.2.1.m1.1.1.2.cmml\">&#955;</mi><mo id=\"S3.T2.2.2.2.1.m1.1.1.3\" xref=\"S3.T2.2.2.2.1.m1.1.1.3.cmml\">*</mo></msup><annotation-xml encoding=\"MathML-Content\" id=\"S3.T2.2.2.2.1.m1.1b\"><apply id=\"S3.T2.2.2.2.1.m1.1.1.cmml\" xref=\"S3.T2.2.2.2.1.m1.1.1\"><csymbol cd=\"ambiguous\" id=\"S3.T2.2.2.2.1.m1.1.1.1.cmml\" xref=\"S3.T2.2.2.2.1.m1.1.1\">superscript</csymbol><ci id=\"S3.T2.2.2.2.1.m1.1.1.2.cmml\" xref=\"S3.T2.2.2.2.1.m1.1.1.2\">&#120582;</ci><times id=\"S3.T2.2.2.2.1.m1.1.1.3.cmml\" xref=\"S3.T2.2.2.2.1.m1.1.1.3\"/></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S3.T2.2.2.2.1.m1.1c\">\\lambda^{*}</annotation><annotation encoding=\"application/x-llamapun\" id=\"S3.T2.2.2.2.1.m1.1d\">italic_&#955; start_POSTSUPERSCRIPT * end_POSTSUPERSCRIPT</annotation></semantics></math>\n</th>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.2.2.2.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.2.2.2.2.1\">56.52</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.2.2.2.3\">61.63</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.2.2.2.4\">46.68</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.2.2.2.5\">21.60</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.2.2.2.6\">30.86</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T2.2.2.2.7\">43.46</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.9.6\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t\" colspan=\"7\" id=\"S3.T2.3.3.9.6.1\">\n<span class=\"ltx_text ltx_font_italic\" id=\"S3.T2.3.3.9.6.1.1\">train by in-domain data</span></th>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.10.7\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t\" id=\"S3.T2.3.3.10.7.1\"><span class=\"ltx_text ltx_font_smallcaps\" id=\"S3.T2.3.3.10.7.1.1\">Clknn</span></th>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.10.7.2\">55.86</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.10.7.3\">61.92</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.10.7.4\">47.77</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.10.7.5\">21.46</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.10.7.6\">31.02</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S3.T2.3.3.10.7.7\">43.61</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T2.3.3.3\">\n<th class=\"ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb\" id=\"S3.T2.3.3.3.1\">\n<span class=\"ltx_text ltx_font_smallcaps\" id=\"S3.T2.3.3.3.1.1\">Clknn</span> + <math alttext=\"\\lambda^{*}\" class=\"ltx_Math\" display=\"inline\" id=\"S3.T2.3.3.3.1.m1.1\"><semantics id=\"S3.T2.3.3.3.1.m1.1a\"><msup id=\"S3.T2.3.3.3.1.m1.1.1\" xref=\"S3.T2.3.3.3.1.m1.1.1.cmml\"><mi id=\"S3.T2.3.3.3.1.m1.1.1.2\" xref=\"S3.T2.3.3.3.1.m1.1.1.2.cmml\">&#955;</mi><mo id=\"S3.T2.3.3.3.1.m1.1.1.3\" xref=\"S3.T2.3.3.3.1.m1.1.1.3.cmml\">*</mo></msup><annotation-xml encoding=\"MathML-Content\" id=\"S3.T2.3.3.3.1.m1.1b\"><apply id=\"S3.T2.3.3.3.1.m1.1.1.cmml\" xref=\"S3.T2.3.3.3.1.m1.1.1\"><csymbol cd=\"ambiguous\" id=\"S3.T2.3.3.3.1.m1.1.1.1.cmml\" xref=\"S3.T2.3.3.3.1.m1.1.1\">superscript</csymbol><ci id=\"S3.T2.3.3.3.1.m1.1.1.2.cmml\" xref=\"S3.T2.3.3.3.1.m1.1.1.2\">&#120582;</ci><times id=\"S3.T2.3.3.3.1.m1.1.1.3.cmml\" xref=\"S3.T2.3.3.3.1.m1.1.1.3\"/></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S3.T2.3.3.3.1.m1.1c\">\\lambda^{*}</annotation><annotation encoding=\"application/x-llamapun\" id=\"S3.T2.3.3.3.1.m1.1d\">italic_&#955; start_POSTSUPERSCRIPT * end_POSTSUPERSCRIPT</annotation></semantics></math>\n</th>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T2.3.3.3.2\">55.87</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T2.3.3.3.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.3.3.1\">62.01</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T2.3.3.3.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.3.4.1\">47.84</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T2.3.3.3.5\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.3.5.1\">21.81</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T2.3.3.3.6\">31.05</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S3.T2.3.3.3.7\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T2.3.3.3.7.1\">43.72</span></td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [
            [
                "Ng et al. (2019)",
                "\nNathan Ng, Kyra Yee, Alexei Baevski, Myle Ott, Michael Auli, and Sergey Edunov.\n2019.\n\n",
                ".\n\n",
                "In ",
                ", pages 314–319, Florence, Italy.\nAssociation for Computational Linguistics.\n\n"
            ],
            [
                "Khandelwal et al. (2021)",
                "\nUrvashi Khandelwal, Angela Fan, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis.\n2021.\n\n",
                ".\n\n",
                "In ",
                ".\n\n"
            ],
            [
                "Khandelwal et al. (2021)",
                "\nUrvashi Khandelwal, Angela Fan, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis.\n2021.\n\n",
                ".\n\n",
                "In ",
                ".\n\n"
            ],
            [
                "Koehn (2004)",
                "\nPhilipp Koehn. 2004.\n\n",
                ".\n\n",
                "In ",
                ", pages 388–395, Barcelona, Spain. Association\nfor Computational Linguistics.\n\n"
            ]
        ],
        "references": [
            "Table 2 reports the SacreBLEU scores in five domains. We can see that: (1) Clknn is robust about training data: using out-domain or in-domain average improves 1+ points than our kNN-MT; (2) The gap between in-domain and out-domain is small (about 0.3 points), meaning that our approach does not rely on in-domain data and is more practical than Zheng et al. (2021); Jiang et al. (2021); (3) using proposed λ*superscript𝜆\\lambda^{*}italic_λ start_POSTSUPERSCRIPT * end_POSTSUPERSCRIPT slightly improve the performance across the board. These results show that learning independent retrieval representation is helpful for vanilla kNN-MT. Besides, we also compare the inference speed between Clknn and kNN-MT through running five times on IT test set. The results show that Clknn has a comparable speed (97%±plus-or-minus\\pm±2%) to that of kNN-MT because the adapter in Clknn is very lightweight.\n"
        ]
    },
    "S3.E7": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S3.E8": {
        "caption": null,
        "table": null,
        "footnotes": [],
        "references": []
    },
    "S4.F2.1.1": {
        "caption": "High Middle\n Low\n Visualization of retrieval vector on different frequency words by t-SNE. We uniformly sample 10 classes in each category, and each class contains ten random representations. The same color denotes the same class. ",
        "table": "<table class=\"ltx_tabular ltx_align_middle\" id=\"S4.F2.1.1\">\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S4.F2.1.1.1.1\">\n<td class=\"ltx_td ltx_align_justify\" id=\"S4.F2.1.1.1.1.1\" style=\"width:130.1pt;\">\n<p class=\"ltx_p ltx_align_top\" id=\"S4.F2.1.1.1.1.1.1\"/>\n</td>\n<td class=\"ltx_td ltx_align_justify\" id=\"S4.F2.1.1.1.1.2\" style=\"width:130.1pt;\">\n<p class=\"ltx_p ltx_align_top\" id=\"S4.F2.1.1.1.1.2.1\"/>\n</td>\n<td class=\"ltx_td ltx_align_justify\" id=\"S4.F2.1.1.1.1.3\" style=\"width:130.1pt;\">\n<p class=\"ltx_p ltx_align_top\" id=\"S4.F2.1.1.1.1.3.1\"/>\n</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "We visually present the differences between baseline and Clknn on embedding space. Specifically, we split three categories according to the word frequency in IT training set: HIGH(the first 1%), Middle(40%-60%) and LOW(the last 1%) 666We filter words whose frequency is less than 10.. We uniformly sample 10 unique words in each category and randomly sample 10 unique vector representations from the training datastore. We use t-SNE to plot these representations, as illustrated in Figure 2. We can see that: (1) high-frequency words’ representations are prone to distinguish for both baseline and Clknn; (2) Clknn has more close distances in the same vocabulary than baseline; (3) Clknn has more robust accuracy for low-frequency words. \n"
        ]
    },
    "S5.T3.1.1": {
        "caption": "The BLEU scores on   test set against the number of the positive (M) and negative (N) samples.",
        "table": "<table class=\"ltx_tabular ltx_guessed_headers ltx_align_middle\" id=\"S5.T3.1.1\">\n<thead class=\"ltx_thead\">\n<tr class=\"ltx_tr\" id=\"S5.T3.1.1.1.1\">\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S5.T3.1.1.1.1.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S5.T3.1.1.1.1.1.1\">M</span></th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S5.T3.1.1.1.1.2\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S5.T3.1.1.1.1.2.1\">N</span></th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt\" id=\"S5.T3.1.1.1.1.3\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S5.T3.1.1.1.1.3.1\">BLEU</span></th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S5.T3.1.1.1.1.4\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S5.T3.1.1.1.1.4.1\">M</span></th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S5.T3.1.1.1.1.5\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S5.T3.1.1.1.1.5.1\">N</span></th>\n<th class=\"ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt\" id=\"S5.T3.1.1.1.1.6\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S5.T3.1.1.1.1.6.1\">BLEU</span></th>\n</tr>\n</thead>\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S5.T3.1.1.2.1\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S5.T3.1.1.2.1.1\">1</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S5.T3.1.1.2.1.2\">1</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S5.T3.1.1.2.1.3\">45.54</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S5.T3.1.1.2.1.4\">2</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S5.T3.1.1.2.1.5\">16</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S5.T3.1.1.2.1.6\">46.37</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S5.T3.1.1.3.2\">\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.3.2.1\">1</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.3.2.2\">16</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S5.T3.1.1.3.2.3\">45.91</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.3.2.4\">2</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.3.2.5\">32</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.3.2.6\">46.68</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S5.T3.1.1.4.3\">\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.4.3.1\">1</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.4.3.2\">32</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S5.T3.1.1.4.3.3\">46.13</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.4.3.4\">2</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.4.3.5\">64</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S5.T3.1.1.4.3.6\">46.55</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S5.T3.1.1.5.4\">\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S5.T3.1.1.5.4.1\">1</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S5.T3.1.1.5.4.2\">64</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_r\" id=\"S5.T3.1.1.5.4.3\">45.88</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S5.T3.1.1.5.4.4\">4</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S5.T3.1.1.5.4.5\">32</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb\" id=\"S5.T3.1.1.5.4.6\">46.29</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "One of the main differences between Wang et al. (2022) and us is that we use multiple positive and negative samples in our training objective. We vary the number of M and N and report the BLEU scores in Table 3. As we can see, increasing M and N is helpful for our method. However, large M cannot befit more than increasing N. We attribute it to positive samples that are too easy to learn because most are close in embedding space.\nOn the contrary, negative samples from different clusters can provide a stronger learning signal. To further validate the effectiveness of multiple samples, we also conduct experiments on Medical. The results are similar to that of IT: using M=2, N=32 is 1.64 BLEU points higher than using M=1, N=1 (56.52 vs. 54.88). It indicates that using multiple positive and negative samples is necessary to achieve good performance for contrastive learning.\n"
        ]
    },
    "S5.F3.1": {
        "caption": "Retrieval accuracy curve against top-k.",
        "table": "<table class=\"ltx_tabular ltx_centering ltx_align_middle\" id=\"S5.F3.1\">\n<tbody class=\"ltx_tbody\">\n<tr class=\"ltx_tr\" id=\"S5.F3.1.1.1\">\n<td class=\"ltx_td ltx_align_center\" id=\"S5.F3.1.1.1.1\" style=\"padding:-5pt 1.0pt;\">\n<span class=\"ltx_ERROR undefined\" id=\"S5.F3.1.1.1.1.1\">{tikzpicture}</span>baseline\n\n<span class=\"ltx_ERROR undefined\" id=\"S5.F3.1.1.1.1.2\">{axis}</span>[\nxmajorgrids,\nylabel near ticks,\nwidth=.4height=.2legend style=at=(0.62,0.7), anchor=south west,\nxlabel=top-k,\nylabel=Acc.,\nylabel style=yshift=-0em,xlabel style=yshift=0.0em,\nymin=0.2,ymax=0.6,legend style=yshift=-12pt, legend plot pos=left,font=,cells=anchor=west\n]\n\n<span class=\"ltx_ERROR undefined\" id=\"S5.F3.1.1.1.1.3\">\\addplot</span>[red,mark=otimes*,line width=0.5pt] coordinates (1, 0.5076) (2, 0.4931) (4, 0.4687) (8, 0.4305) (16,0.3822) (32,0.3301) (64,0.2792);\n<span class=\"ltx_ERROR undefined\" id=\"S5.F3.1.1.1.1.4\">\\addlegendentry</span>KNN-MT\n<span class=\"ltx_ERROR undefined\" id=\"S5.F3.1.1.1.1.5\">\\addplot</span>[blue,mark=square,line width=0.5pt] coordinates (1, 0.5657) (2, 0.5494) (4, 0.5247) (8, 0.4888) (16,0.4420) (32,0.3884) (64,0.3343);\n<span class=\"ltx_ERROR undefined\" id=\"S5.F3.1.1.1.1.6\">\\addlegendentry</span>CLKNN\n</td>\n</tr>\n</tbody>\n</table>\n\n",
        "footnotes": [],
        "references": [
            "Intuitively, our approach can learn more accurate retrieval representation than vanilla kNN-MT. To validate this hypothesis, we use IT validation as the datastore and plot the retrieval accuracy on top-k in Figure 3. We can see that Clknn has more robust retrieval accuracy than kNN-MT no matter how k changes. It indicates that the performance improvement comes from our better retrieval representation.\n"
        ]
    }
}